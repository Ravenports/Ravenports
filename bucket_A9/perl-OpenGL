# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		perl-OpenGL
VERSION=		0.70
KEYWORDS=		perl
VARIANTS=		524 522
SDESC[522]=		Perl bindings to the OpenGL API, GLU, and G (v522)
SDESC[524]=		Perl bindings to the OpenGL API, GLU, and G (v524)
HOMEPAGE=		none
CONTACT=		Perl_Automaton[perl@ironwolf.systems]

DOWNLOAD_GROUPS=	main
SITES[main]=		CPAN/ID:C/CH/CHM
DISTFILE[1]=		OpenGL-0.70.tar.gz:main
DF_INDEX=		1
SPKGS[522]=		single
SPKGS[524]=		single

OPTIONS_AVAILABLE=	PERL_524 PERL_522
OPTIONS_STANDARD=	none
VOPTS[522]=		PERL_524=OFF PERL_522=ON
VOPTS[524]=		PERL_524=ON PERL_522=OFF

BUILDRUN_DEPENDS=	freeglut:primary:standard

XORG_COMPONENTS=	x11 xext xmu xi ice

DISTNAME=		OpenGL-0.70

GENERATED=		yes

CONFIGURE_ARGS=		interface=FREEGLUT
			verbose

SINGLE_JOB=		yes

[PERL_522].USES_ON=			perl:522,configure

[PERL_524].USES_ON=			perl:524,configure

post-patch:
	@${REINPLACE_CMD} -e 's|/usr/local|${LOCALBASE}|g' ${WRKSRC}/Makefile.PL
	@${REINPLACE_CMD} -e 's|LDFLAGS=|LDFLAGS=-L${LOCALBASE}/lib -Wl,-rpath,${LOCALBASE}/lib |' \
		${WRKSRC}/utils/Makefile

[FILE:56:descriptions/desc.single]
Perl bindings to the OpenGL API, GLU, and GLUT/FreeGLUT


[FILE:97:distinfo]
b20e2af4404b4901ab35bba6ad5e3a8aa60bff72413c99288f01018c4cf874e0       783810 OpenGL-0.70.tar.gz


[FILE:372:patches/patch-gl_util.c]
--- gl_util.c.orig	2011-07-07 08:39:22.000000000 -0500
+++ gl_util.c	2011-10-12 22:09:31.520959086 -0500
@@ -756,6 +756,12 @@ int gl_component_count(GLenum format, GL
 
 /* 18 */
 #ifdef GL_EXT_cmyka
+# ifndef GL_CMYK
+#  define GL_CMYK GL_CMYK_EXT
+# endif
+# ifndef GL_CMYKA
+#  define GL_CMYKA GL_CMYKA_EXT
+# endif
 		case GL_CMYK:
 			n = 4; break;
 		case GL_CMYKA:

