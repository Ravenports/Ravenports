# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		hiredis
VERSION=		1.3.0
KEYWORDS=		databases
VARIANTS=		std
SDESC[std]=		Minimalistic C client for Redis >= 1.2
HOMEPAGE=		https://redis.io/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/redis:hiredis:v1.3.0
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			cpe gmake

LICENSE=		BSD3CLAUSE:primary
LICENSE_FILE=		BSD3CLAUSE:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

CPE_VENDOR=		redis
FPC_EQUIVALENT=		databases/hiredis

SOVERSION=		1.3.0

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libhiredis.so

[FILE:849:descriptions/desc.primary]

Hiredis is a minimalistic C client library for the Redis database.

It is minimalistic because it just adds minimal support for the protocol,
but at the same time it uses a high level printf-alike API in order to make
it much higher level than otherwise suggested by its minimal code base and
the lack of explicit bindings for every Redis command.

Apart from supporting sending commands and receiving replies, it comes with
a reply parser that is decoupled from the I/O layer. It is a stream parser
designed for easy reusability, which can for instance be used in higher
level language bindings for efficient reply parsing.

Hiredis only supports the binary-safe Redis protocol, so you can use it
with any Redis version >= 1.2.0.

The library comes with multiple APIs. There is the synchronous API, the
asynchronous API and the reply parsing API.


[FILE:105:distinfo]
25cee4500f359cf5cad3b51ed62059aadfc0939b05150c1f19c7e2829123631c       124013 redis-hiredis-1.3.0.tar.gz


[FILE:61:manifests/plist.primary]
lib/
 libhiredis.so.%%SOMAJOR%%
 libhiredis.so.%%SOVERSION%%


[FILE:279:manifests/plist.dev]
include/hiredis/
 alloc.h
 async.h
 hiredis.h
 read.h
 sds.h
 sockcompat.h
include/hiredis/adapters/
 ae.h
 glib.h
 ivykis.h
 libev.h
 libevent.h
 libhv.h
 libsdevent.h
 libuv.h
 macosx.h
 poll.h
 qt.h
 redismoduleapi.h
lib/
 libhiredis.a
 libhiredis.so
lib/pkgconfig/hiredis.pc


[FILE:292:patches/patch-Makefile]
--- Makefile.orig	2025-04-23 11:10:29 UTC
+++ Makefile
@@ -127,6 +127,10 @@ else
   REAL_CFLAGS+=-pedantic
 endif
 
+ifeq ($(uname_S),MidnightBSD)
+  LDFLAGS+=-lm
+endif
+
 ifeq ($(uname_S),SunOS)
   IS_SUN_CC=$(shell sh -c '$(CC) -V 2>&1 |egrep -i -c "sun|studio"')
   ifeq ($(IS_SUN_CC),1)

