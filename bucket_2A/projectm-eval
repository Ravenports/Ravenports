# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		projectm-eval
VERSION=		1.0.2
KEYWORDS=		devel multimedia
VARIANTS=		std
SDESC[std]=		Portable expression evaluation library
HOMEPAGE=		https://github.com/projectM-visualizer/projectm-eval
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/projectM-visualizer:projectm-eval:v1.0.2
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			bison cmake

LICENSE=		MIT:single
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE.md
LICENSE_SCHEME=		solo

CMAKE_ARGS=		-DCMAKE_BUILD_TYPE=Release

post-install:
	${MKDIR} ${STAGEDIR}${PREFIX}/lib/pkgconfig
	${INSTALL_DATA} ${BUILD_WRKSRC}/pkgconfig/projectm-eval.pc \
		${STAGEDIR}${PREFIX}/lib/pkgconfig

[FILE:587:descriptions/desc.single]
The projectM Expression Evaluation Library, "projectm-eval" in short, is a 
cross-platform and cross-architecture reimplementation of Milkdrop's 
pendant, the NullSoft Expression Evaluation Library 2, or short "ns-eel2".

This library aims at being as portable as possible, sacrificing some 
performance over portability. The original ns-eel2 library directly 
assembles machine code from compiled assembler fragments. While this is 
super performant, the assembler code needs to be rewritten manually for 
every target platform and CPU architecture and is really hard to read or 
edit.


[FILE:125:distinfo]
4a241f1109dda24135c51c0d655402ff35fb6f3da93a9225702c0aa2dd0839f5        90200 projectM-visualizer-projectm-eval-1.0.2.tar.gz


[FILE:242:manifests/plist.single]
include/projectm-eval/projectm-eval.h
lib/libprojectM_eval.a
lib/cmake/projectM-Eval/
 projectM-EvalConfig.cmake
 projectM-EvalConfigVersion.cmake
 projectM-EvalTargets-release.cmake
 projectM-EvalTargets.cmake
lib/pkgconfig/projectm-eval.pc


[FILE:608:patches/patch-projectm-eval_install-pkgconfig.cmake.in]
--- projectm-eval/install-pkgconfig.cmake.in.orig	2025-07-01 10:10:04 UTC
+++ projectm-eval/install-pkgconfig.cmake.in
@@ -4,4 +4,4 @@ set(CMAKE_INSTALL_LIBDIR "@CMAKE_INSTALL
 set(CMAKE_INSTALL_INCLUDEDIR "@CMAKE_INSTALL_INCLUDEDIR@")
 set(PROJECT_VERSION "@PROJECT_VERSION@")
 set(PROJECTM_EVAL_FLOAT_SIZE "@PROJECTM_EVAL_FLOAT_SIZE@")
-configure_file(@CMAKE_CURRENT_SOURCE_DIR@/projectm-eval.pc.in ${CMAKE_INSTALL_PREFIX}/${CMAKE_INSTALL_LIBDIR}/pkgconfig/projectm-eval.pc @ONLY)
+configure_file(@CMAKE_CURRENT_SOURCE_DIR@/projectm-eval.pc.in ${CMAKE_CURRENT_BINARY_DIR}/pkgconfig/projectm-eval.pc @ONLY)

