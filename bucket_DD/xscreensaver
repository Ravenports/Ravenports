# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		xscreensaver
VERSION=		6.12
KEYWORDS=		x11
VARIANTS=		std
SDESC[std]=		Screen saver and locker for X11
HOMEPAGE=		https://www.jwz.org/xscreensaver/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://www.jwz.org/xscreensaver/
DISTFILE[1]=		xscreensaver-6.12.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			gl
			gtk
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		freeglut:dev:std
			freeglut:primary:std
			gle:dev:std
			openpam:dev:std
			tar:primary:std
			harfbuzz:dev:std
BUILDRUN_DEPENDS=	bc:primary:std
			openpam:primary:std
EXRUN[gtk]=		primary
EXRUN[gl]=		freeglut:primary:std
			gle:primary:std
			primary

USES=			cpe gmake jpeg perl:run png shebangfix
GNOME_COMPONENTS=	gdkpixbuf gtk3 intltool libxml2
XORG_COMPONENTS=	x11 xext xft xi xinerama xmu xrandr xt xxf86vm

DISTNAME=		xscreensaver-6.12
EXTRACT_HEAD[1]=	env LANG=en_US.UTF-8 {{TAR}} -xf
EXTRACT_TAIL[1]=	--no-same-owner --no-same-permissions || true

CPE_VENDOR=		xscreensaver_project
FPC_EQUIVALENT=		x11/xscreensaver
SHEBANG_GLOB=		*.pl

MUST_CONFIGURE=		yes
CONFIGURE_ARGS=		--with-configdir={{PREFIX}}/share/xscreensaver/config/
			--with-app-defaults={{PREFIX}}/lib/X11/app-defaults/
			--with-dpms-ext
			--with-gl
			--with-gle
			--with-gtk
			--with-login-manager
			--with-pixbuf
			--with-xdbe-ext
			--with-xf86gamma-ext
			--with-xf86vmode-ext
			--with-xinerama-ext
			--with-randr-ext
			--with-xshm-ext
			--enable-locking
			--prefix={{PREFIX}}

MAKE_ARGS=		install_prefix={{STAGEDIR}}

CFLAGS=			-I{{PREFIX}}/include/gdk-pixbuf-2.0
VAR_OPSYS[midnightbsd]=	CONFIGURE_ARGS=--build=x86_64-raven-midnightbsd3

post-install:
	${RM} -r ${STAGEDIR}/etc

[FILE:347:descriptions/desc.primary]
XScreenSaver is a collection of popular screen savers that has become a 
standard on Unix-like operating systems running X11. The various screen 
savers often allow parameters to be changed to allow playing with the 
effects displayed.

In addition to the actual screen savers the program also is a framework 
for blanking and locking the screen.


[FILE:46:descriptions/desc.gl]
Additional screen savers that require OpenGL.


[FILE:55:descriptions/desc.gtk]
Xscreensaver components that require the GTK+ toolkit.


[FILE:103:distinfo]
4ff6798217e3bbbc3c7336beeda7e83eafbf03301ac29b2236da66a0f1317643     25177935 xscreensaver-6.12.tar.gz


[FILE:3546:manifests/plist.primary]
%%ONLY-LINUX%%libexec/xscreensaver/xscreensaver-systemd
bin/
 xscreensaver
 xscreensaver-command
lib/X11/app-defaults/XScreenSaver
libexec/xscreensaver/
 abstractile
 anemone
 anemotaxis
 apollonian
 apple2
 attraction
 barcode
 binaryhorizon
 binaryring
 blaster
 blitspin
 bouboule
 boxfit
 braid
 bsod
 bumps
 ccurve
 celtic
 cloudlife
 compass
 coral
 crystal
 cubocteversion
 cwaves
 cynosure
 decayscreen
 deco
 deluxe
 demon
 discrete
 distort
 drift
 droste
 epicycle
 eruption
 euler2d
 fadeplot
 fiberlamp
 filmleader
 fireworkx
 flame
 flow
 fluidballs
 fontglide
 fuzzyflakes
 galaxy
 glitchpeg
 goop
 grav
 greynetic
 halftone
 halo
 helix
 hexadrop
 hopalong
 ifs
 imsmap
 interaggregate
 interference
 intermomentary
 julia
 kaleidescope
 klondike
 kumppa
 lcdscrub
 loop
 m6502
 marbling
 maze
 memscroller
 metaballs
 moire
 moire2
 mountain
 munch
 nerverot
 noseguy
 pacman
 papercube
 pedal
 penetrate
 penrose
 petri
 phosphor
 piecewise
 platonicfolding
 polyominoes
 pong
 popsquares
 pyro
 qix
 rdbomb
 ripples
 rocks
 rorschach
 rotzoomer
 scooter
 shadebobs
 sierpinski
 skulloop
 slidescreen
 slip
 speedmine
 spotlight
 squiral
 starfish
 strange
 substrate
 swirl
 tessellimage
 triangle
 truchet
 twang
 vermiculate
 vfeedback
 vidwhacker
 wander
 webcollage
 whirlwindwarp
 wormhole
 xanalogtv
 xflame
 xjack
 xlyap
 xmatrix
 xrayswarm
 xscreensaver-auth
 xscreensaver-getimage
 xscreensaver-getimage-file
 xscreensaver-getimage-video
 xscreensaver-gfx
 xscreensaver-text
 xspirograph
 zoom
share/applications/xscreensaver.desktop
share/fonts/xscreensaver/
 OCRA.ttf
 SpecialElite.ttf
 clacon.ttf
 gallant12x22.ttf
 luximr.ttf
share/pixmaps/xscreensaver.png
share/xscreensaver/xscreensaver.service
share/xscreensaver/config/
 README
 abstractile.xml
 anemone.xml
 anemotaxis.xml
 apollonian.xml
 apple2.xml
 attraction.xml
 barcode.xml
 binaryhorizon.xml
 binaryring.xml
 blaster.xml
 blitspin.xml
 bouboule.xml
 boxfit.xml
 braid.xml
 bsod.xml
 bumps.xml
 ccurve.xml
 celtic.xml
 cloudlife.xml
 compass.xml
 coral.xml
 crystal.xml
 cubocteversion.xml
 cwaves.xml
 cynosure.xml
 decayscreen.xml
 deco.xml
 deluxe.xml
 demon.xml
 discrete.xml
 distort.xml
 drift.xml
 droste.xml
 dumpsterfire.xml
 epicycle.xml
 eruption.xml
 euler2d.xml
 fadeplot.xml
 fiberlamp.xml
 filmleader.xml
 fireworkx.xml
 flame.xml
 flow.xml
 fluidballs.xml
 fontglide.xml
 fuzzyflakes.xml
 galaxy.xml
 glitchpeg.xml
 goop.xml
 grav.xml
 greynetic.xml
 halftone.xml
 halo.xml
 helix.xml
 hexadrop.xml
 hopalong.xml
 hopffibration.xml
 ifs.xml
 imsmap.xml
 interaggregate.xml
 interference.xml
 intermomentary.xml
 julia.xml
 kaleidescope.xml
 klondike.xml
 kumppa.xml
 lcdscrub.xml
 loop.xml
 m6502.xml
 marbling.xml
 maze.xml
 memscroller.xml
 metaballs.xml
 moire.xml
 moire2.xml
 mountain.xml
 munch.xml
 nerverot.xml
 noseguy.xml
 pacman.xml
 papercube.xml
 pedal.xml
 penetrate.xml
 penrose.xml
 petri.xml
 phosphor.xml
 piecewise.xml
 platonicfolding.xml
 polyominoes.xml
 pong.xml
 popsquares.xml
 pyro.xml
 qix.xml
 rdbomb.xml
 ripples.xml
 rocks.xml
 rorschach.xml
 rotzoomer.xml
 scooter.xml
 shadebobs.xml
 sierpinski.xml
 skulloop.xml
 slidescreen.xml
 slip.xml
 speedmine.xml
 spotlight.xml
 squiral.xml
 starfish.xml
 strange.xml
 substrate.xml
 swirl.xml
 tessellimage.xml
 triangle.xml
 truchet.xml
 twang.xml
 vermiculate.xml
 vfeedback.xml
 vidwhacker.xml
 wander.xml
 webcollage.xml
 whirlwindwarp.xml
 wormhole.xml
 xanalogtv.xml
 xflame.xml
 xjack.xml
 xlyap.xml
 xmatrix.xml
 xrayswarm.xml
 xspirograph.xml
 zoom.xml


[FILE:3306:manifests/plist.gl]
libexec/xscreensaver/
 antinspect
 antmaze
 antspotlight
 atlantis
 atunnel
 beats
 blinkbox
 blocktube
 boing
 bouncingcow
 boxed
 bubble3d
 cage
 carousel
 chompytower
 circuit
 cityflow
 companioncube
 covid19
 crackberg
 crumbler
 cube21
 cubenetic
 cubestack
 cubestorm
 cubetwist
 cubicgrid
 dangerball
 deepstars
 discoball
 dumpsterfire
 dymaxionmap
 endgame
 energystream
 engine
 esper
 etruscanvenus
 extrusion
 flipflop
 flipscreen3d
 fliptext
 flurry
 flyingtoasters
 gears
 geodesic
 geodesicgears
 gflux
 gibson
 glblur
 glcells
 gleidescope
 glhanoi
 glknots
 glmatrix
 glplanet
 glschool
 glslideshow
 glsnake
 gltext
 gravitywell
 handsy
 headroom
 hexstrut
 hextrail
 highvoltage
 hilbert
 hopffibration
 hydrostat
 hypertorus
 hypnowheel
 jigglypuff
 jigsaw
 juggler3d
 kaleidocycle
 kallisti
 klein
 lament
 lavalite
 lockward
 mapscroller
 mapscroller.pl
 maze3d
 menger
 mirrorblob
 moebius
 moebiusgears
 molecule
 morph3d
 nakagin
 noof
 peepers
 photopile
 pinion
 pipes
 polyhedra
 polytopes
 projectiveplane
 providence
 pulsar
 quasicrystal
 queens
 raverhoop
 razzledazzle
 romanboy
 rubik
 rubikblocks
 sballs
 sierpinski3d
 skytentacles
 sonar
 sphereeversion
 spheremonics
 splitflap
 splodesic
 sproingies
 squirtorus
 stairs
 starwars
 stonerview
 superquadrics
 surfaces
 tangram
 timetunnel
 topblock
 tronbit
 unicrud
 unknownpleasures
 vigilance
 voronoi
 winduprobot
 xscreensaver-gl-visual
share/xscreensaver/config/
 antinspect.xml
 antmaze.xml
 antspotlight.xml
 atlantis.xml
 atunnel.xml
 beats.xml
 blinkbox.xml
 blocktube.xml
 boing.xml
 bouncingcow.xml
 boxed.xml
 bubble3d.xml
 cage.xml
 carousel.xml
 chompytower.xml
 circuit.xml
 cityflow.xml
 companioncube.xml
 covid19.xml
 crackberg.xml
 crumbler.xml
 cube21.xml
 cubenetic.xml
 cubestack.xml
 cubestorm.xml
 cubetwist.xml
 cubicgrid.xml
 dangerball.xml
 deepstars.xml
 discoball.xml
 dymaxionmap.xml
 endgame.xml
 energystream.xml
 engine.xml
 esper.xml
 etruscanvenus.xml
 extrusion.xml
 flipflop.xml
 flipscreen3d.xml
 fliptext.xml
 flurry.xml
 flyingtoasters.xml
 gears.xml
 geodesic.xml
 geodesicgears.xml
 gflux.xml
 gibson.xml
 glblur.xml
 glcells.xml
 gleidescope.xml
 glhanoi.xml
 glknots.xml
 glmatrix.xml
 glplanet.xml
 glschool.xml
 glslideshow.xml
 glsnake.xml
 gltext.xml
 gravitywell.xml
 handsy.xml
 headroom.xml
 hexstrut.xml
 hextrail.xml
 highvoltage.xml
 hilbert.xml
 hydrostat.xml
 hypertorus.xml
 hypnowheel.xml
 jigglypuff.xml
 jigsaw.xml
 juggler3d.xml
 kaleidocycle.xml
 kallisti.xml
 klein.xml
 lament.xml
 lavalite.xml
 lockward.xml
 mapscroller.xml
 maze3d.xml
 menger.xml
 mirrorblob.xml
 moebius.xml
 moebiusgears.xml
 molecule.xml
 morph3d.xml
 nakagin.xml
 noof.xml
 peepers.xml
 photopile.xml
 pinion.xml
 pipes.xml
 polyhedra.xml
 polytopes.xml
 projectiveplane.xml
 providence.xml
 pulsar.xml
 quasicrystal.xml
 queens.xml
 raverhoop.xml
 razzledazzle.xml
 romanboy.xml
 rubik.xml
 rubikblocks.xml
 sballs.xml
 sierpinski3d.xml
 skytentacles.xml
 sonar.xml
 sphereeversion.xml
 spheremonics.xml
 splitflap.xml
 splodesic.xml
 sproingies.xml
 squirtorus.xml
 stairs.xml
 starwars.xml
 stonerview.xml
 superquadrics.xml
 surfaces.xml
 tangram.xml
 timetunnel.xml
 topblock.xml
 tronbit.xml
 unicrud.xml
 unknownpleasures.xml
 vigilance.xml
 voronoi.xml
 winduprobot.xml


[FILE:135:manifests/plist.gtk]
bin/
 xscreensaver-demo
 xscreensaver-settings
libexec/xscreensaver/webcollage-helper
share/applications/xscreensaver-settings.desktop


[FILE:3404:manifests/plist.man]
share/man/man1/
 xscreensaver-command.1
 xscreensaver-demo.1
 xscreensaver-settings.1
 xscreensaver.1
share/man/man6/
 abstractile.6
 anemone.6
 anemotaxis.6
 antinspect.6
 antmaze.6
 antspotlight.6
 apollonian.6
 apple2.6
 atlantis.6
 attraction.6
 atunnel.6
 barcode.6
 beats.6
 binaryhorizon.6
 binaryring.6
 blaster.6
 blinkbox.6
 blitspin.6
 blocktube.6
 boing.6
 bouboule.6
 bouncingcow.6
 boxed.6
 boxfit.6
 braid.6
 bsod.6
 bubble3d.6
 bumps.6
 cage.6
 carousel.6
 ccurve.6
 celtic.6
 chompytower.6
 circuit.6
 cityflow.6
 cloudlife.6
 companioncube.6
 compass.6
 coral.6
 covid19.6
 crackberg.6
 crumbler.6
 crystal.6
 cube21.6
 cubenetic.6
 cubestack.6
 cubestorm.6
 cubetwist.6
 cubicgrid.6
 cubocteversion.6
 cwaves.6
 cynosure.6
 dangerball.6
 decayscreen.6
 deco.6
 deepstars.6
 deluxe.6
 demon.6
 discoball.6
 discrete.6
 distort.6
 drift.6
 droste.6
 dymaxionmap.6
 endgame.6
 energystream.6
 engine.6
 epicycle.6
 eruption.6
 esper.6
 etruscanvenus.6
 euler2d.6
 extrusion.6
 fadeplot.6
 fiberlamp.6
 filmleader.6
 fireworkx.6
 flame.6
 flipflop.6
 flipscreen3d.6
 fliptext.6
 flow.6
 fluidballs.6
 flurry.6
 flyingtoasters.6
 fontglide.6
 fuzzyflakes.6
 galaxy.6
 gears.6
 geodesic.6
 geodesicgears.6
 gflux.6
 gibson.6
 glblur.6
 glcells.6
 gleidescope.6
 glhanoi.6
 glitchpeg.6
 glknots.6
 glmatrix.6
 glplanet.6
 glschool.6
 glslideshow.6
 glsnake.6
 gltext.6
 goop.6
 grav.6
 gravitywell.6
 greynetic.6
 halftone.6
 halo.6
 handsy.6
 headroom.6
 helix.6
 hexadrop.6
 hexstrut.6
 hextrail.6
 highvoltage.6
 hilbert.6
 hopalong.6
 hopffibration.6
 hydrostat.6
 hypertorus.6
 hypnowheel.6
 ifs.6
 imsmap.6
 interaggregate.6
 interference.6
 intermomentary.6
 jigglypuff.6
 jigsaw.6
 juggler3d.6
 julia.6
 kaleidescope.6
 kaleidocycle.6
 kallisti.6
 klein.6
 kumppa.6
 lament.6
 lavalite.6
 lcdscrub.6
 lockward.6
 loop.6
 m6502.6
 mapscroller.6
 marbling.6
 maze.6
 maze3d.6
 memscroller.6
 menger.6
 metaballs.6
 mirrorblob.6
 moebius.6
 moebiusgears.6
 moire.6
 moire2.6
 molecule.6
 morph3d.6
 mountain.6
 munch.6
 nakagin.6
 nerverot.6
 noof.6
 noseguy.6
 pacman.6
 papercube.6
 pedal.6
 peepers.6
 penetrate.6
 penrose.6
 petri.6
 phosphor.6
 photopile.6
 piecewise.6
 pinion.6
 pipes.6
 platonicfolding.6
 polyhedra.6
 polyominoes.6
 polytopes.6
 pong.6
 popsquares.6
 projectiveplane.6
 providence.6
 pulsar.6
 pyro.6
 qix.6
 quasicrystal.6
 queens.6
 raverhoop.6
 razzledazzle.6
 rdbomb.6
 ripples.6
 rocks.6
 romanboy.6
 rorschach.6
 rotzoomer.6
 rubik.6
 rubikblocks.6
 sballs.6
 scooter.6
 shadebobs.6
 sierpinski.6
 sierpinski3d.6
 skulloop.6
 skytentacles.6
 slidescreen.6
 slip.6
 sonar.6
 speedmine.6
 sphereeversion.6
 spheremonics.6
 splitflap.6
 splodesic.6
 spotlight.6
 sproingies.6
 squiral.6
 squirtorus.6
 stairs.6
 starfish.6
 starwars.6
 stonerview.6
 strange.6
 substrate.6
 superquadrics.6
 surfaces.6
 swirl.6
 tangram.6
 tessellimage.6
 timetunnel.6
 topblock.6
 triangle.6
 tronbit.6
 truchet.6
 twang.6
 unicrud.6
 unknownpleasures.6
 vermiculate.6
 vfeedback.6
 vidwhacker.6
 vigilance.6
 voronoi.6
 wander.6
 webcollage.6
 whirlwindwarp.6
 winduprobot.6
 wormhole.6
 xanalogtv.6
 xflame.6
 xjack.6
 xlyap.6
 xmatrix.6
 xrayswarm.6
 xscreensaver-auth.6
 xscreensaver-getimage-file.6
 xscreensaver-getimage-video.6
 xscreensaver-getimage.6
 xscreensaver-gfx.6
 xscreensaver-gl-visual.6
 xscreensaver-systemd.6
 xscreensaver-text.6
 xspirograph.6
 zoom.6


[FILE:438:patches/patch-utils_textclient.c]
--- utils/textclient.c.orig	2025-03-07 19:56:45 UTC
+++ utils/textclient.c
@@ -49,12 +49,14 @@
 # ifdef HAVE_PTY_H
 #  include <pty.h>
 # endif
-# ifdef HAVE_UTIL_H
-#  include <util.h>
-# endif
 # ifdef HAVE_SYS_TERMIOS_H
 #  include <sys/termios.h>
 # endif
+# if defined(__FreeBSD__) || defined(__DragonFly__)
+#  include <libutil.h>
+# elif defined(__NetBSD__)
+#  include <util.h>
+# endif
 #endif /* HAVE_FORKPTY */
 
 #undef DEBUG

