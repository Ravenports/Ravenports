# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		adabase
VERSION=		3.1
KEYWORDS=		databases ada
VARIANTS=		standard sqlite
SDESC[standard]=	Thick database bindings for Ada
SDESC[sqlite]=		Thick SQLite bindings for Ada
HOMEPAGE=		http://jrmarino.github.io/AdaBase/
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/jrmarino:AdaBase:v3.1
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single
SPKGS[sqlite]=		single

OPTIONS_AVAILABLE=	MYSQL SQLITE PGSQL DEBUG
OPTIONS_STANDARD=	MYSQL SQLITE PGSQL DEBUG
OPTGROUP_RESTRICTED=	DBASE
OPTDESCR[DBASE]=	Databases supported
OPTGROUP[DBASE]=	MYSQL SQLITE PGSQL
VOPTS[sqlite]=		MYSQL=OFF SQLITE=ON PGSQL=OFF DEBUG=OFF
OPT_ON[all]=		MYSQL SQLITE PGSQL

BROKEN[aarch64]=	fails to install: digits value out of range, maximum is 15

USES=			gprbuild

LICENSE=		ISCL:single
LICENSE_FILE=		ISCL:{{WRKSRC}}/License.txt
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		databases/adabase

INVALID_RPATH=		yes

MAKE_ENV=		OS_VERSION=unix

[DEBUG].MAKE_ENV_ON=			DEBUGSYM=yes

[SQLITE].MAKEFILE_OFF=			DRVSQLITE=no
[SQLITE].MAKEFILE_ON=			DRVSQLITE=yes
[SQLITE].MAKE_ENV_ON=			SQLITE=yes
[SQLITE].USES_ON=			sqlite

[MYSQL].MAKEFILE_OFF=			DRVMYSQL=no
[MYSQL].MAKEFILE_ON=			DRVMYSQL=yes
[MYSQL].MAKE_ENV_ON=			MYSQL=yes
[MYSQL].USES_ON=			mysql

[PGSQL].MAKEFILE_OFF=			DRVPGSQL=no
[PGSQL].MAKEFILE_ON=			DRVPGSQL=yes
[PGSQL].MAKE_ENV_ON=			POSTGRESQL=yes
[PGSQL].USES_ON=			pgsql

post-patch:
	${RM} ${WRKSRC}/src/drivers/adabase-driver-base-firebird.ad?
	${REINPLACE_CMD} -e '/Driver_MySQL/ s/yes/no/' \
		${WRKSRC}/adabase.gpr

do-build:
	(cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} gprbuild -p -P adabase)

do-install:
	${MKDIR} ${STAGEDIR}${PREFIX}/include/adabase \
		${STAGEDIR}${PREFIX}/lib/adabase \
		${STAGEDIR}${PREFIX}/lib/gnat
	${INSTALL_DATA} ${WRKSRC}/lib/* ${STAGEDIR}${PREFIX}/lib/adabase
	${INSTALL_DATA} ${WRKSRC}/src/*/*.ad[bs] ${WRKSRC}/src/adabase.ads \
		${STAGEDIR}${PREFIX}/include/adabase
	${SED} -e "s|@PREFIX@|${PREFIX}|" \
	       -e "s|@MYSQL@|${DRVMYSQL}|" \
	       -e "s|@PGSQL@|${DRVPGSQL}|" \
	       -e "s|@SQLITE@|${DRVSQLITE}|" ${WRKSRC}/adabase.gpr.in > \
		${STAGEDIR}${PREFIX}/lib/gnat/adabase.gpr

[FILE:1025:descriptions/desc.single]
Thick database bindings for MySQL, PostgreSQL and SQLite written in Ada.

This is the third release of AdaBase, an abstraction library that provides
a consistent interface to multiple database servers.  Currently three
drivers are provided, MySQL, PostgreSQL and SQLite.  It's extensible, so
support for other databases such as Firebird, Oracle and MSSQL would be
easily possible.

AdaBase offers unique features over similar frameworks.  For starters,
it's limited to database support rather than including many other unwanted
components in a "kitchen sink" fashion, and unneeded drivers can be
excluded from the library as desired.  It's got a developer and commerce
friend license (ICS), it comes with good documentation and working
examples, and the bindings are thick enough where database server backends
can be interchangeable.

AdaBase may seem familiar to some users as it was partially inspired by
PHP's PDO database framework and is a sequel of sorts to an earlier
project by the same author, Pascal Data Objects.


[FILE:106:distinfo]
115967a90abf94f102aa4916a2ed14fb7aac2382f56113b791f2fd08b909444a       163154 jrmarino-AdaBase-3.1.tar.gz


[FILE:3050:manifests/plist.single]
%%MYSQL-ON%%lib/adabase/
 adabase-bindings-mysql.ali
 adabase-connection-base-mysql.ali
 adabase-driver-base-mysql.ali
 adabase-statement-base-mysql.ali
%%PGSQL-ON%%lib/adabase/
 adabase-bindings-postgresql.ali
 adabase-connection-base-postgresql.ali
 adabase-driver-base-postgresql.ali
 adabase-statement-base-postgresql.ali
%%SQLITE-ON%%lib/adabase/
 adabase-bindings-sqlite.ali
 adabase-connection-base-sqlite.ali
 adabase-driver-base-sqlite.ali
 adabase-statement-base-sqlite.ali
include/adabase/
 adabase-bindings-mysql.ads
 adabase-bindings-postgresql.ads
 adabase-bindings-sqlite.ads
 adabase-bindings.ads
 adabase-connection-base-mysql.adb
 adabase-connection-base-mysql.ads
 adabase-connection-base-postgresql.adb
 adabase-connection-base-postgresql.ads
 adabase-connection-base-sqlite.adb
 adabase-connection-base-sqlite.ads
 adabase-connection-base.adb
 adabase-connection-base.ads
 adabase-connection.ads
 adabase-driver-base-mysql.adb
 adabase-driver-base-mysql.ads
 adabase-driver-base-postgresql.adb
 adabase-driver-base-postgresql.ads
 adabase-driver-base-sqlite.adb
 adabase-driver-base-sqlite.ads
 adabase-driver-base.adb
 adabase-driver-base.ads
 adabase-driver.ads
 adabase-interfaces-connection.ads
 adabase-interfaces-driver.ads
 adabase-interfaces-logger.ads
 adabase-interfaces-statement.ads
 adabase-interfaces.ads
 adabase-logger-base-file.adb
 adabase-logger-base-file.ads
 adabase-logger-base-screen.adb
 adabase-logger-base-screen.ads
 adabase-logger-base.adb
 adabase-logger-base.ads
 adabase-logger-facility.adb
 adabase-logger-facility.ads
 adabase-logger.ads
 adabase-results-converters.adb
 adabase-results-converters.ads
 adabase-results-field.adb
 adabase-results-field.ads
 adabase-results-generic_converters.adb
 adabase-results-generic_converters.ads
 adabase-results-sets.adb
 adabase-results-sets.ads
 adabase-results.ads
 adabase-statement-base-mysql.adb
 adabase-statement-base-mysql.ads
 adabase-statement-base-postgresql.adb
 adabase-statement-base-postgresql.ads
 adabase-statement-base-sqlite.adb
 adabase-statement-base-sqlite.ads
 adabase-statement-base.adb
 adabase-statement-base.ads
 adabase-statement.ads
 adabase.ads
 commontext.adb
 commontext.ads
 spatial_data-well_known_binary.adb
 spatial_data-well_known_binary.ads
 spatial_data.adb
 spatial_data.ads
lib/adabase/
 adabase-bindings.ali
 adabase-connection-base.ali
 adabase-connection.ali
 adabase-driver-base.ali
 adabase-driver.ali
 adabase-interfaces-connection.ali
 adabase-interfaces-driver.ali
 adabase-interfaces-logger.ali
 adabase-interfaces-statement.ali
 adabase-interfaces.ali
 adabase-logger-base-file.ali
 adabase-logger-base-screen.ali
 adabase-logger-base.ali
 adabase-logger-facility.ali
 adabase-logger.ali
 adabase-results-converters.ali
 adabase-results-field.ali
 adabase-results-generic_converters.ali
 adabase-results-sets.ali
 adabase-results.ali
 adabase-statement-base.ali
 adabase-statement.ali
 adabase.ali
 commontext.ali
 libadabase.a
 spatial_data-well_known_binary.ali
 spatial_data.ali
lib/gnat/adabase.gpr

