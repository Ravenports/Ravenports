# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		parole
VERSION=		4.20.0
KEYWORDS=		multimedia
VARIANTS=		std
SDESC[std]=		Gstreamer-based media player for Xfce
HOMEPAGE=		https://docs.xfce.org/apps/parole/start
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://archive.xfce.org/src/apps/parole/4.20/
DISTFILE[1]=		parole-4.20.0.tar.xz:main
DIST_SUBDIR=		xfce
DF_INDEX=		1
SPKGS[std]=		set
			primary
			nls

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		gstreamer1:dev:std
			gstreamer1-plugins-base:dev:std
			harfbuzz:dev:std
			libnotify:dev:std
			garcon:dev:std
			xfconf:dev:std
			taglib:dev:std
			dbus-glib:dev:std
			appstream-glib:dev:std
BUILDRUN_DEPENDS=	dbus-glib:primary:std
			libnotify:primary:std
			xfce4-panel:primary:std
			xfconf:primary:std
			garcon:primary:std
			taglib:primary:std
			gstreamer1-plugins:single:std
			appstream-glib:primary:std
RUN_DEPENDS=		xdg-utils:set:std

USES=			meson pkgconfig gnome-icons:primary
			desktop-utils:primary
GNOME_COMPONENTS=	gtk3 intltool
XORG_COMPONENTS=	ice sm x11

LICENSE=		GPLv2+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/main.c
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		multimedia/xfce4-parole
MESON_ARGS=		-Dnotify-plugin=enabled
			-Dtray-plugin=enabled
			-Dmpris2-plugin=enabled
			-Dtaglib=enabled
			-Dx11=enabled
			-Dgtk-doc=false

pre-configure:
	# Fix .rc files path
	${REINPLACE_CMD} -e 's|xfce4/src/misc|${PORTNAME}|g' \
		${WRKSRC}/src/common/parole-rc-utils.h

[FILE:209:descriptions/desc.primary]
Parole is a modern and simple media player based on the GStreamer 
framework. It is designed to fit well into the Xfce desktop experience. 
Parole is written with simplicity, speed and resource usage in mind.


[FILE:71:descriptions/desc.nls]
This is the localization data subpackage for the parole-standard port.


[FILE:104:distinfo]
5cf753e670d6518701133eb860d8bceb3a08a496af6a2b7cc67b93320230c983       481288 xfce/parole-4.20.0.tar.xz


[FILE:950:manifests/plist.primary]
bin/parole
include/parole/
 parole-debug.h
 parole-file.h
 parole-filters.h
 parole-pl-parser.h
 parole-provider-player.h
 parole-provider-plugin.h
 parole-stream.h
 parole.h
lib/parole-0/
 parole-mpris2.so
 parole-notify.so
 tray-icon.so
share/applications/org.xfce.Parole.desktop
share/icons/hicolor/128x128/apps/org.xfce.parole.png
share/icons/hicolor/16x16/apps/
 org.xfce.parole.png
 parole-extension-symbolic.svg
 parole-extension.png
share/icons/hicolor/24x24/apps/org.xfce.parole.png
share/icons/hicolor/32x32/apps/org.xfce.parole.png
share/icons/hicolor/48x48/apps/
 org.xfce.parole.png
 parole-extension.png
share/icons/hicolor/64x64/apps/org.xfce.parole.png
share/icons/hicolor/96x96/apps/org.xfce.parole.png
share/icons/hicolor/scalable/apps/org.xfce.parole.svg
share/metainfo/parole.appdata.xml
share/parole/parole-plugins-0/
 mpris2.desktop
 notify.desktop
 system-tray.desktop
share/parole/pixmaps/
 no-cover.png
 play.png
 replay.png


[FILE:2034:manifests/plist.nls]
share/locale/ar/LC_MESSAGES/parole.mo
share/locale/ast/LC_MESSAGES/parole.mo
share/locale/be/LC_MESSAGES/parole.mo
share/locale/bg/LC_MESSAGES/parole.mo
share/locale/ca/LC_MESSAGES/parole.mo
share/locale/cs/LC_MESSAGES/parole.mo
share/locale/da/LC_MESSAGES/parole.mo
share/locale/de/LC_MESSAGES/parole.mo
share/locale/el/LC_MESSAGES/parole.mo
share/locale/en_AU/LC_MESSAGES/parole.mo
share/locale/en_GB/LC_MESSAGES/parole.mo
share/locale/es/LC_MESSAGES/parole.mo
share/locale/et/LC_MESSAGES/parole.mo
share/locale/eu/LC_MESSAGES/parole.mo
share/locale/fi/LC_MESSAGES/parole.mo
share/locale/fr/LC_MESSAGES/parole.mo
share/locale/gl/LC_MESSAGES/parole.mo
share/locale/he/LC_MESSAGES/parole.mo
share/locale/hr/LC_MESSAGES/parole.mo
share/locale/hu/LC_MESSAGES/parole.mo
share/locale/hy_AM/LC_MESSAGES/parole.mo
share/locale/hye/LC_MESSAGES/parole.mo
share/locale/id/LC_MESSAGES/parole.mo
share/locale/ie/LC_MESSAGES/parole.mo
share/locale/is/LC_MESSAGES/parole.mo
share/locale/it/LC_MESSAGES/parole.mo
share/locale/ja/LC_MESSAGES/parole.mo
share/locale/kk/LC_MESSAGES/parole.mo
share/locale/ko/LC_MESSAGES/parole.mo
share/locale/lt/LC_MESSAGES/parole.mo
share/locale/lv/LC_MESSAGES/parole.mo
share/locale/ms/LC_MESSAGES/parole.mo
share/locale/nb/LC_MESSAGES/parole.mo
share/locale/nl/LC_MESSAGES/parole.mo
share/locale/nn/LC_MESSAGES/parole.mo
share/locale/oc/LC_MESSAGES/parole.mo
share/locale/pl/LC_MESSAGES/parole.mo
share/locale/pt/LC_MESSAGES/parole.mo
share/locale/pt_BR/LC_MESSAGES/parole.mo
share/locale/ro/LC_MESSAGES/parole.mo
share/locale/ru/LC_MESSAGES/parole.mo
share/locale/sk/LC_MESSAGES/parole.mo
share/locale/sl/LC_MESSAGES/parole.mo
share/locale/sq/LC_MESSAGES/parole.mo
share/locale/sr/LC_MESSAGES/parole.mo
share/locale/sv/LC_MESSAGES/parole.mo
share/locale/te/LC_MESSAGES/parole.mo
share/locale/th/LC_MESSAGES/parole.mo
share/locale/tr/LC_MESSAGES/parole.mo
share/locale/ug/LC_MESSAGES/parole.mo
share/locale/uk/LC_MESSAGES/parole.mo
share/locale/zh_CN/LC_MESSAGES/parole.mo
share/locale/zh_TW/LC_MESSAGES/parole.mo


[FILE:623:patches/patch-src_plugins_mpris2_mpris2-provider.c]
--- src/plugins/mpris2/mpris2-provider.c.orig	2025-05-21 06:46:43 UTC
+++ src/plugins/mpris2/mpris2-provider.c
@@ -196,7 +196,7 @@ static GVariant* mpris_Root_get_DesktopE
 static GVariant* mpris_Root_get_SupportedUriSchemes(GError **error, Mpris2Provider *provider) {
     return g_variant_parse(G_VARIANT_TYPE("as"),
         "['cdda', 'dvd', 'file', 'icy', 'icyx', 'mms', 'mmsh', 'net', "
-        "'pnm', 'rtmp', 'rtp', 'rtsp', 'uvox']", NULL, NULL, NULL);
+        "'pnm', 'rtp', 'rtsp', 'uvox']", NULL, NULL, NULL);
 }
 
 static GVariant* mpris_Root_get_SupportedMimeTypes(GError **error, Mpris2Provider *provider) {

