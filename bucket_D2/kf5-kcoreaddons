# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		kf5-kcoreaddons
VERSION=		5.103.0
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	KF5 add-ons to QtCore
HOMEPAGE=		https://api.kde.org/frameworks/kcoreaddons/html/index.html
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://download.kde.org/stable/frameworks/5.103/
DISTFILE[1]=		kcoreaddons-5.103.0.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			nls

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		kf5-extra-cmake-modules:primary:standard
BUILDRUN_DEPENDS=	qt5-qtbase:primary:standard
BR_DEPS[freebsd]=	gamin:single:standard libinotify:single:standard
BR_DEPS[darwin]=	gamin:single:standard libinotify:single:standard
BR_DEPS[netbsd]=	gamin:single:standard libinotify:single:standard
BR_DEPS[openbsd]=	gamin:single:standard libinotify:single:standard
BR_DEPS[dragonfly]=	gamin:single:standard libinotify:single:standard

USES=			cmake mime-info:primary

DISTNAME=		kcoreaddons-5.103.0

LICENSE=		GPLv2+:primary LGPL20:primary LGPL20+:primary
			LGPL21:primary LGPL21+:primary LGPL3:primary
			MPL:primary CUSTOM1:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_NAME=		CUSTOM1:"The Qt Company Qt LGPL Exception version 1.1"
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/LICENSES/GPL-2.0-or-later.txt
			LGPL20:{{WRKSRC}}/LICENSES/LGPL-2.0-only.txt
			LGPL20+:{{WRKSRC}}/LICENSES/LGPL-2.0-or-later.txt
			LGPL21:{{WRKSRC}}/LICENSES/LGPL-2.1-only.txt
			LGPL21+:{{WRKSRC}}/LICENSES/LGPL-2.1-or-later.txt
			LGPL3:{{WRKSRC}}/LICENSES/LGPL-3.0-only.txt
			MPL:{{WRKSRC}}/LICENSES/MPL-1.1.txt
			CUSTOM1:{{WRKSRC}}/LICENSES/Qt-LGPL-exception-1.1.txt
LICENSE_SCHEME=		multi

FPC_EQUIVALENT=		devel/kf5-kcoreaddons

SOVERSION=		5.103.0

CMAKE_ARGS=		-DCMAKE_PREFIX_PATH:PATH={{PREFIX}}/lib/qt5/cmake

post-stage:
	(cd ${STAGEDIR}${PREFIX} && ${STRIP_CMD} bin/desktoptojson \
		lib/libKF5CoreAddons.so)

post-extract:
	${ECHO} "Terms extracted from 'src/lib/io/kdirwatch.h':" > ${WRKDIR}/TERMS
	${SED} -n '/ifndef/!p;//q' ${WRKSRC}/src/lib/io/kdirwatch.h >> ${WKRDIR}/TERMS
	${ECHO} "Terms extracted from 'src/lib/caching/posix_fallocate_mac.h':" >> \
		${WRKDIR}/TERMS
	${SED} -n '/ifndef/!p;//q' ${WRKSRC}/src/lib/caching/posix_fallocate_mac.h >> \
		${WRKDIR}/TERMS
	${ECHO} "Terms extracted from 'src/lib/util/klibexec.h':" >> ${WRKDIR}/TERMS
	${SED} -n '/ifndef/!p;//q' ${WRKSRC}/src/lib/util/klibexec.h >> \
		${WRKDIR}/TERMS
	${ECHO} "Terms extracted from 'src/lib/util/kprocesslist.h':" >> ${WRKDIR}/TERMS
	${SED} -n '/ifndef/!p;//q' ${WRKSRC}/src/lib/util/kprocesslist.h >> \
		${WRKDIR}/TERMS

[FILE:277:descriptions/desc.primary]
KCoreAddons provides classes built on top of QtCore to perform various 
tasks such as manipulating mime types, autosaving files, creating backup 
files, generating random sequences, performing text manipulations such as 
macro replacement, accessing user information and more.


[FILE:105:distinfo]
beb99d0274c2bffd8e6aa87199438393222a0317e2e1118d510b5b6abf772f6a      2606636 kcoreaddons-5.103.0.tar.xz


[FILE:1982:manifests/plist.primary]
bin/desktoptojson
include/KF5/KCoreAddons/
 KAboutData
 KAutoSaveFile
 KBackup
 KCompositeJob
 KCoreAddons
 KDirWatch
 KExportPlugin
 KFileSystemType
 KFileUtils
 KFormat
 KFuzzyMatcher
 KJob
 KJobTrackerInterface
 KJobUiDelegate
 KJsonUtils
 KLibexec
 KListOpenFilesJob
 KMacroExpander
 KMemoryInfo
 KMessage
 KNetworkMounts
 KOSRelease
 KPluginFactory
 KPluginLoader
 KPluginMetaData
 KProcess
 KProcessList
 KRandom
 KRandomSequence
 KRuntimePlatform
 KSandbox
 KSharedDataCache
 KShell
 KSignalHandler
 KStaticPluginHelpers
 KStringHandler
 KTextToHTML
 KTextToHTMLEmoticonsInterface
 KUrlMimeData
 KUser
 Kdelibs4ConfigMigrator
 Kdelibs4Migration
 kaboutdata.h
 kautosavefile.h
 kbackup.h
 kcompositejob.h
 kcoreaddons.h
 kcoreaddons_export.h
 kcoreaddons_version.h
 kdelibs4configmigrator.h
 kdelibs4migration.h
 kdirwatch.h
 kexportplugin.h
 kfilesystemtype.h
 kfileutils.h
 kformat.h
 kfuzzymatcher.h
 kjob.h
 kjobtrackerinterface.h
 kjobuidelegate.h
 kjsonutils.h
 klibexec.h
 klistopenfilesjob.h
 kmacroexpander.h
 kmemoryinfo.h
 kmessage.h
 knetworkmounts.h
 kosrelease.h
 kpluginfactory.h
 kpluginloader.h
 kpluginmetadata.h
 kprocess.h
 kprocesslist.h
 krandom.h
 krandomsequence.h
 kruntimeplatform.h
 ksandbox.h
 kshareddatacache.h
 kshell.h
 ksignalhandler.h
 kstaticpluginhelpers.h
 kstringhandler.h
 ktexttohtml.h
 ktexttohtmlemoticonsinterface.h
 kurlmimedata.h
 kuser.h
lib/
 libKF5CoreAddons.so
 libKF5CoreAddons.so.%%SOMAJOR%%
 libKF5CoreAddons.so.%%SOVERSION%%
lib/cmake/KF5CoreAddons/
 KF5CoreAddonsConfig.cmake
 KF5CoreAddonsConfigVersion.cmake
 KF5CoreAddonsMacros.cmake
 KF5CoreAddonsTargets-release.cmake
 KF5CoreAddonsTargets.cmake
 KF5CoreAddonsToolingTargets-release.cmake
 KF5CoreAddonsToolingTargets.cmake
lib/qt5/mkspecs/modules/qt_KCoreAddons.pri
share/kf5/licenses/
 ARTISTIC
 BSD
 GPL_V2
 GPL_V3
 LGPL_V2
 LGPL_V21
 LGPL_V3
 QPL_V1.0
share/mime/packages/kde5.xml
share/qlogging-categories5/
 kcoreaddons.categories
 kcoreaddons.renamecategories


[FILE:5064:manifests/plist.nls]
share/locale/af/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ar/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/as/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ast/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/az/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/be/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/be@latin/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/bg/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/bn/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/bn_IN/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/br/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/bs/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ca/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ca@valencia/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/crh/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/cs/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/csb/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/cy/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/da/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/de/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/el/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/en/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/en_GB/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/eo/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/es/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/et/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/eu/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/fa/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/fi/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/fr/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/fy/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ga/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/gd/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/gl/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/gu/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ha/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/he/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/hi/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/hne/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/hr/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/hsb/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/hu/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/hy/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ia/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/id/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ie/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/is/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/it/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ja/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ka/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/kab/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/kk/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/km/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/kn/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ko/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ku/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/lb/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/lt/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/lv/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/mai/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/mk/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ml/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/mr/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ms/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/my/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/nb/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/nds/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ne/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/nl/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/nn/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/oc/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/or/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/pa/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/pl/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ps/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/pt/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/pt_BR/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ro/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ru/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/se/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/si/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/sk/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/sl/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/sq/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/sr/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/sr@ijekavian/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/sr@ijekavianlatin/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/sr@latin/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/sv/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ta/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/te/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/tg/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/th/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/tok/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/tr/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/tt/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/ug/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/uk/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/uz/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/uz@cyrillic/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/vi/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/wa/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/xh/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/zh_CN/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/zh_HK/LC_MESSAGES/kcoreaddons5_qt.qm
share/locale/zh_TW/LC_MESSAGES/kcoreaddons5_qt.qm


[FILE:254:patches/patch-metainfo.yaml]
--- metainfo.yaml.orig	2023-01-07 00:25:22 UTC
+++ metainfo.yaml
@@ -5,6 +5,8 @@ type: functional
 platforms:
     - name: Linux
     - name: FreeBSD
+    - name: DragonFly
+    - name: NetBSD
     - name: Windows
     - name: macOS
     - name: Android


[FILE:354:patches/patch-src_lib_CMakeLists.txt]
--- src/lib/CMakeLists.txt.orig	2023-01-07 00:25:22 UTC
+++ src/lib/CMakeLists.txt
@@ -270,7 +270,7 @@ if(WIN32)
     target_link_libraries(KF5CoreAddons PRIVATE netapi32 userenv psapi)
 endif()
 
-if(CMAKE_SYSTEM_NAME MATCHES "FreeBSD")
+if(CMAKE_SYSTEM_NAME MATCHES "FreeBSD|DragonFly")
     target_link_libraries(KF5CoreAddons PRIVATE kvm)
 endif()
 


[FILE:480:patches/patch-src_lib_util_kprocesslist__unix.cpp]
--- src/lib/util/kprocesslist_unix.cpp.orig	2023-01-07 00:25:22 UTC
+++ src/lib/util/kprocesslist_unix.cpp
@@ -25,7 +25,12 @@
 #include <QDir>
 #include <QProcess>
 
-#ifdef Q_OS_FREEBSD
+/*
+ * XXX -
+ * This is probably wrong, but we don't have libprocstat(3), so
+ * what other choice do we have? We just reuse what's here.
+ */
+#if defined(Q_OS_FREEBSD) && !defined(__DragonFly__)
 #error This KProcessInfo implementation is not supported on FreeBSD (use procstat)
 #endif
 

