# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libasr
VERSION=		1.0.2
KEYWORDS=		dns
VARIANTS=		standard
SDESC[standard]=	Asynchronous DNS resolver library
HOMEPAGE=		https://github.com/OpenSMTPD/libasr
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://www.opensmtpd.org/archives/
DISTFILE[1]=		libasr-1.0.2.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		groff:primary:standard

USES=			libtool ssl:build

LICENSE=		ISCL:single BSD2CLAUSE:single BSD3CLAUSE:single
			CUSTOM1:single
LICENSE_TERMS=		single:{{WRKSRC}}/LICENCE
LICENSE_NAME=		CUSTOM1:"ISC License - OpenBSD Compat"
LICENSE_FILE=		ISCL:{{WRKDIR}}/ISCL_MAIN
			BSD2CLAUSE:{{WRKDIR}}/BSD2
			BSD3CLAUSE:{{WRKDIR}}/BSD3
			CUSTOM1:{{WRKDIR}}/ISCL_OPENBSD
LICENSE_AWK=		ISCL:"^$$"
LICENSE_SOURCE=		ISCL:{{WRKSRC}}/src/asr.h
LICENSE_SCHEME=		multi

FPC_EQUIVALENT=		dns/libasr

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-mantype="man"

INSTALL_TARGET=		install-strip
SOVERSION=		0.0.2

CFLAGS=			-I{{OPENSSLINC}}

post-extract:
	${AWK} '/Jakob Schlyter/,/POSSIBILITY OF SUCH DAMAGE/' \
		${WRKSRC}/LICENCE > ${WRKDIR}/BSD2
	${AWK} '/3-clause BSD license/,/\* SUCH DAMAGE/' \
		${WRKSRC}/LICENCE > ${WRKDIR}/BSD3
	${AWK} '/work by Damien Miller/,/\* OR IN CONNECTION/' \
		${WRKSRC}/LICENCE > ${WRKDIR}/ISCL_OPENBSD

[FILE:236:descriptions/desc.single]
libasr is a FREE asynchronous DNS resolver.

libasr runs on top of the OpenBSD operating system but also has a portable
version that can build and run on several systems, including:

 * Linux
 * FreeBSD
 * NetBSD
 * DragonFly
 * MacOSX


[FILE:98:distinfo]
a6f5d1c6306938156da3427525572b9b16c1e6be6c69845d390bb63f41a58b34       406428 libasr-1.0.2.tar.gz


[FILE:116:manifests/plist.single]
include/asr.h
lib/
 libasr.a
 libasr.so
 libasr.so.%%SOMAJOR%%
 libasr.so.%%SOVERSION%%
share/man/man3/asr_run.3.gz

