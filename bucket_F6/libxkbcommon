# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libxkbcommon
VERSION=		0.9.1
KEYWORDS=		x11
VARIANTS=		standard
SDESC[standard]=	Keymap handling library for toolkits and X windows
HOMEPAGE=		https://xkbcommon.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://xkbcommon.org/download/
DISTFILE[1]=		libxkbcommon-0.9.1.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			bison meson solaris-funcs
XORG_COMPONENTS=	xcb xorgproto

LICENSE=		MIT:single
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		x11/libxkbcommon
MESON_ARGS=		-Dx-locale-root={{PREFIX}}/lib/X11/locale
			-Ddefault-rules=xorg
			-Denable-wayland=false
			-Denable-docs=false
SOL_FUNCTIONS=		strndup:src/compose/paths.c
			strndup:src/atom.c
			strndup:src/x11/util.c
			asprintf:src/compose/paths.c
			asprintf:src/context.c
			asprintf:test/log.c
			asprintf:test/compose.c
			asprintf:bench/bench.c
			strnlen:src/x11/keymap.c

INSTALL_REQ_TOOLCHAIN=	yes

post-patch:
	${REINPLACE_CMD} -e '/version-script=/ s/script=/script,/' \
		${WRKSRC}/meson.build
	${REINPLACE_CMD} \
		-e 's|DFLT_XKB_CONFIG_ROOT|"${PREFIX}/share/X11/xkb"|' \
		${WRKSRC}/src/context.c
	${REINPLACE_CMD} \
		-e 's|= XLOCALEDIR|= "${PREFIX}/lib/X11/locale"|' \
		${WRKSRC}/src/compose/paths.c

[FILE:286:descriptions/desc.single]
xkbcommon is a library to handle keyboard descriptions, including loading
them from disk, parsing them and handling their state. It's mainly meant
for client toolkits, window systems, and other system applications.
 It is also used by some XCB applications for proper keyboard support.


[FILE:104:distinfo]
d4c6aabf0a5c1fc616f8a6a65c8a818c03773b9a87da9fbc434da5acd1199be0       376164 libxkbcommon-0.9.1.tar.xz


[FILE:312:manifests/plist.single]
include/xkbcommon/
 xkbcommon-compat.h
 xkbcommon-compose.h
 xkbcommon-keysyms.h
 xkbcommon-names.h
 xkbcommon-x11.h
 xkbcommon.h
lib/
 libxkbcommon-x11.so
 libxkbcommon-x11.so.0
 libxkbcommon-x11.so.0.0.0
 libxkbcommon.so
 libxkbcommon.so.0
 libxkbcommon.so.0.0.0
lib/pkgconfig/
 xkbcommon-x11.pc
 xkbcommon.pc

