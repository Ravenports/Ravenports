# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libxkbcommon
VERSION=		1.0.3
KEYWORDS=		x11
VARIANTS=		standard
SDESC[standard]=	Keymap handling library for toolkits and X windows
HOMEPAGE=		https://xkbcommon.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://xkbcommon.org/download/
DISTFILE[1]=		libxkbcommon-1.0.3.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			cpe bison meson solaris-funcs
XORG_COMPONENTS=	xcb xorgproto

LICENSE=		MIT:single
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

CPE_VENDOR=		xkbcommon
FPC_EQUIVALENT=		x11/libxkbcommon
MESON_ARGS=		-Dx-locale-root={{PREFIX}}/lib/X11/locale
			-Ddefault-rules=xorg
			-Denable-wayland=false
			-Denable-docs=false
SOL_FUNCTIONS=		strnlen:src/x11/keymap.c
			mkdtemp:test/context.c
			mkdtemp:test/registry.c
			asprintf:test/registry.c

INSTALL_REQ_TOOLCHAIN=	yes

VAR_OPSYS[sunos]=	CFLAGS=-D__EXTENSIONS__

post-patch:
	${REINPLACE_CMD} -e '/version-script=/ s/script=/script,/' \
		${WRKSRC}/meson.build
	${REINPLACE_CMD} \
		-e 's|DFLT_XKB_CONFIG_ROOT|"${PREFIX}/share/X11/xkb"|' \
		${WRKSRC}/src/context.c
	${REINPLACE_CMD} \
		-e 's|= XLOCALEDIR|= "${PREFIX}/lib/X11/locale"|' \
		${WRKSRC}/src/compose/paths.c

[FILE:286:descriptions/desc.single]
xkbcommon is a library to handle keyboard descriptions, including loading
them from disk, parsing them and handling their state. It's mainly meant
for client toolkits, window systems, and other system applications.
 It is also used by some XCB applications for proper keyboard support.


[FILE:104:distinfo]
a2202f851e072b84e64a395212cbd976ee18a8ee602008b0bad02a13247dbc52       432944 libxkbcommon-1.0.3.tar.xz


[FILE:647:manifests/plist.single]
bin/xkbcli
include/xkbcommon/
 xkbcommon-compat.h
 xkbcommon-compose.h
 xkbcommon-keysyms.h
 xkbcommon-names.h
 xkbcommon-x11.h
 xkbcommon.h
 xkbregistry.h
lib/
 libxkbcommon-x11.so
 libxkbcommon-x11.so.0
 libxkbcommon-x11.so.0.0.0
 libxkbcommon.so
 libxkbcommon.so.0
 libxkbcommon.so.0.0.0
 libxkbregistry.so
 libxkbregistry.so.0
 libxkbregistry.so.0.0.0
lib/pkgconfig/
 xkbcommon-x11.pc
 xkbcommon.pc
 xkbregistry.pc
libexec/xkbcommon/
 xkbcli-compile-keymap
 xkbcli-how-to-type
 xkbcli-interactive-x11
 xkbcli-list
share/man/man1/
 xkbcli-compile-keymap.1.gz
 xkbcli-how-to-type.1.gz
 xkbcli-interactive-x11.1.gz
 xkbcli-list.1.gz
 xkbcli.1.gz

