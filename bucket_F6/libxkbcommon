# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libxkbcommon
VERSION=		1.9.1
KEYWORDS=		x11
VARIANTS=		std
SDESC[std]=		Keymap handling library for toolkits and X windows
HOMEPAGE=		https://xkbcommon.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/xkbcommon:libxkbcommon:xkbcommon-1.9.1
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			tools
			dev
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

EXRUN[tools]=		primary

USES=			cpe bison meson solaris-funcs
GNOME_COMPONENTS=	libxml2
XORG_COMPONENTS=	xcb xorgproto

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

CPE_VENDOR=		xkbcommon
FPC_EQUIVALENT=		x11/libxkbcommon
MESON_ARGS=		-Dx-locale-root={{PREFIX}}/lib/X11/locale
			-Ddefault-rules=xorg
			-Denable-wayland=false
			-Denable-docs=false
SOL_FUNCTIONS=		strnlen:src/x11/keymap.c
			mkdtemp:test/context.c
			mkdtemp:test/registry.c
			asprintf:test/registry.c

INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		0.9.1

VAR_OPSYS[sunos]=	CFLAGS=-D__EXTENSIONS__

post-patch:
	${REINPLACE_CMD} -e '/version-script=/ s/script=/script,/' \
		${WRKSRC}/meson.build
	${REINPLACE_CMD} \
		-e 's|DFLT_XKB_CONFIG_ROOT|"${PREFIX}/share/X11/xkb"|' \
		${WRKSRC}/src/context.c
	${REINPLACE_CMD} \
		-e 's|= XLOCALEDIR|= "${PREFIX}/lib/X11/locale"|' \
		${WRKSRC}/src/compose/paths.c

[FILE:286:descriptions/desc.primary]
xkbcommon is a library to handle keyboard descriptions, including loading
them from disk, parsing them and handling their state. It's mainly meant
for client toolkits, window systems, and other system applications.
 It is also used by some XCB applications for proper keyboard support.


[FILE:40:descriptions/desc.tools]
This package contains the xkbcli tools.


[FILE:124:distinfo]
763b914c4779e9579ab4d06caffff39cc8f43a1c126ec3b7a2f920bf9817097b      1049295 xkbcommon-libxkbcommon-xkbcommon-1.9.1.tar.gz


[FILE:197:manifests/plist.primary]
lib/
 libxkbcommon-x11.so.%%SOMAJOR%%
 libxkbcommon-x11.so.%%SOVERSION%%
 libxkbcommon.so.%%SOMAJOR%%
 libxkbcommon.so.%%SOVERSION%%
 libxkbregistry.so.%%SOMAJOR%%
 libxkbregistry.so.%%SOVERSION%%


[FILE:256:manifests/plist.tools]
%%ONLY-LINUX%%libexec/xkbcommon/xkbcli-interactive-evdev
bin/xkbcli
libexec/xkbcommon/
 xkbcli-compile-compose
 xkbcli-compile-keymap
 xkbcli-dump-keymap-x11
 xkbcli-how-to-type
 xkbcli-interactive-x11
 xkbcli-list
share/bash-completion/completions/xkbcli


[FILE:270:manifests/plist.dev]
include/xkbcommon/
 xkbcommon-compat.h
 xkbcommon-compose.h
 xkbcommon-keysyms.h
 xkbcommon-names.h
 xkbcommon-x11.h
 xkbcommon.h
 xkbregistry.h
lib/
 libxkbcommon-x11.so
 libxkbcommon.so
 libxkbregistry.so
lib/pkgconfig/
 xkbcommon-x11.pc
 xkbcommon.pc
 xkbregistry.pc


[FILE:222:manifests/plist.man]
%%ONLY-LINUX%%share/man/man1/xkbcli-interactive-evdev.1
share/man/man1/
 xkbcli-compile-compose.1
 xkbcli-compile-keymap.1
 xkbcli-dump-keymap-x11.1
 xkbcli-how-to-type.1
 xkbcli-interactive-x11.1
 xkbcli-list.1
 xkbcli.1

