# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gargoyle
VERSION=		2023.1
KEYWORDS=		games
VARIANTS=		std
SDESC[std]=		Graphical player for Interactive Fiction games
HOMEPAGE=		http://ccxvii.net/gargoyle/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/garglk:garglk:2023.1
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		freetype:dev:std
			qt5-qtbase:dev:std
BUILDRUN_DEPENDS=	freetype:primary:std
			qt5-qtbase:primary:std

USES=			cmake jpeg png zlib pkgconfig fontconfig ninja
SDL_COMPONENTS=		mixer2 sdl2

LICENSE=		GPLv2+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2+:stock
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/garglk/garglk.h
LICENSE_SCHEME=		solo

INSTALL_REQ_TOOLCHAIN=	yes

CMAKE_ARGS=		-DCMAKE_PREFIX_PATH:PATH="{{PREFIX}}/lib/qt5/cmake/"

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/gargoyle
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libgarglk.so
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/libexec/gargoyle/*

do-install:
	(cd ${INSTALL_WRKSRC} && ${SETENV} ${MAKE_ENV} \
		${MAKE_CMD} ${MAKE_FLAGS} ${MAKEFILE} ${MAKE_ARGS} -dexplain \
		${INSTALL_TARGET})

[FILE:388:descriptions/desc.primary]
Gargoyle is an IF player that supports all the major interactive fiction
formats.

Most interactive fiction is distributed as portable game files. These
portable game files come in many formats. In the past, you used to have to
download a separate player (interpreter) for each format of IF you wanted
to play.

Gargoyle is based on the standard interpreters for the formats it supports.


[FILE:106:distinfo]
f766186558f8db24243cede878f38b8a2026bf2ebed5d9d4f0e690916d56827a     12351800 garglk-garglk-2023.1.tar.gz


[FILE:1198:manifests/plist.primary]
bin/gargoyle
lib/libgarglk.so
libexec/gargoyle/
 advsys
 agility
 alan2
 alan3
 bocfel
 git
 glulxe
 hugo
 jacl
 level9
 magnetic
 plus
 scare
 scott
 tadsr
 taylor
share/applications/
 io.github.garglk.Gargoyle.desktop
 io.github.garglk.GargoyleEditConfig.desktop
share/fonts/gargoyle/
 Gargoyle-Mono-Bold-Italic.ttf
 Gargoyle-Mono-Bold.ttf
 Gargoyle-Mono-Italic.ttf
 Gargoyle-Mono.ttf
 Gargoyle-Serif-Bold-Italic.ttf
 Gargoyle-Serif-Bold.ttf
 Gargoyle-Serif-Italic.ttf
 Gargoyle-Serif.ttf
share/icons/io.github.garglk.Gargoyle.png
share/icons/hicolor/32x32/mimetypes/
 application-x-adrift.png
 application-x-advsys.png
 application-x-agt.png
 application-x-alan.png
 application-x-blorb.png
 application-x-glulx.png
 application-x-hugo-image.png
 application-x-level9.png
 application-x-magscroll.png
 application-x-tads.png
 application-x-zmachine.png
share/io.github.garglk/Gargoyle/
 unifont.otf
 unifont_upper.otf
share/io.github.garglk/Gargoyle/themes/
 Blue.json
 Breeze Darker.json
 Lectrote Dark.json
 Lectrote Sepia.json
 Lectrote Slate.json
 Pencil.json
 Zoom.json
 dark.json
 light.json
share/metainfo/io.github.garglk.Gargoyle.appdata.xml
share/mime/packages/interactive-fiction.xml


[FILE:91:manifests/plist.dev]
include/garglk/
 gi_blorb.h
 glk.h
 glkstart.h
lib/libgarglkmain.a
lib/pkgconfig/garglk.pc


[FILE:26:manifests/plist.man]
share/man/man6/gargoyle.6


[FILE:224:patches/patch-garglk_garglk.h]
--- garglk/garglk.h.orig	2023-02-20 06:08:58 UTC
+++ garglk/garglk.h
@@ -29,6 +29,7 @@
 #include <algorithm>
 #include <array>
 #include <cmath>
+#include <cstdint>
 #include <cstddef>
 #include <cstdio>
 #include <cstring>

