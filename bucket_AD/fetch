# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		fetch
VERSION=		14.0.0
KEYWORDS=		ftp
VARIANTS=		std library
SDESC[std]=		Tool to retrieve file by Uniform Resource Locator
SDESC[library]=		Library to retrieve file by URL
HOMEPAGE=		https://www.freebsd.org/cgi/man.cgi?fetch(1)
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/jrmarino:fetch-freebsd:v14.0.0
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			man
SPKGS[library]=		set
			primary
			dev
			man

OPTIONS_AVAILABLE=	LIBRARY
OPTIONS_STANDARD=	none
VOPTS[library]=		LIBRARY=ON

USES=			cmake ssl

LICENSE=		BSD3CLAUSE:primary
LICENSE_FILE=		BSD3CLAUSE:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

SOVERSION=		1.0

[LIBRARY].DESCRIPTION=			Build library instead of executable
[LIBRARY].CMAKE_ARGS_ON=		-DFETCH_LIBRARY:BOOL=ON
					-DFETCH_PROGRAM:BOOL=OFF
[LIBRARY].USES_OFF=			rootca:primary

post-install-LIBRARY-ON:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libfetch.so

post-install-LIBRARY-OFF:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/fetch

pre-configure:
	# adjust cert.pem path
	${REINPLACE_CMD} -e 's|/usr/local/etc/ssl|${OPENSSLCERT}|' \
		${WRKSRC}/common.c \
		${WRKSRC}/fetch.[13]

[FILE:391:descriptions/desc.primary.std]
The fetch program is a command-line utility originating with FreeBSD.
Its purpose is to retrieve the file(s) pointed to by the URL(s) on the
command line.

The original implementation of fetch was done by Jean-Marc Zucconi It was
extensively re-worked for FreeBSD 2.2 by Garrett Wollman , and later
completely rewritten to use the fetch(3) library by Dag-Erling Smorgrav
and Michael Gmelin.


[FILE:163:descriptions/desc.primary.library]
The fetch library is the backbone of the fetch command-line utility
originating with FreeBSD.  Its purpose is to retrieve file(s) given
Uniform Resource Locators.


[FILE:115:distinfo]
4c5c604e8d948435fcc00beecd56d1d1c8450e8a5f749941d3db01d39b61abd8        94076 jrmarino-fetch-freebsd-14.0.0.tar.gz


[FILE:10:manifests/plist.primary.std]
bin/fetch


[FILE:23:manifests/plist.man.std]
share/man/man1/fetch.1


[FILE:57:manifests/plist.primary.library]
lib/
 libfetch.so.%%SOMAJOR%%
 libfetch.so.%%SOVERSION%%


[FILE:81:manifests/plist.dev.library]
include/
 fetch-estream.h
 fetch.h
lib/
 libfetch.a
 libfetch.so
 libfetch_pic.a


[FILE:23:manifests/plist.man.library]
share/man/man3/fetch.3

