# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gstreamer1-plugins-gl
VERSION=		1.14.1
KEYWORDS=		multimedia graphics
VARIANTS=		standard
SDESC[standard]=	GStreamer1 GL graphics plugin
HOMEPAGE=		https://gstreamer.freedesktop.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://gstreamer.freedesktop.org/src/gst-plugins-bad/
DISTFILE[1]=		gst-plugins-bad-1.14.1.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BROKEN[all]=		WIP

BUILD_DEPENDS=		gstreamer1-plugins-bad:single:standard
BUILDRUN_DEPENDS=	gstreamer1-plugins-base:single:standard
			gstreamer1:single:standard

USES=			gmake pkgconfig libtool mesa
GNOME_COMPONENTS=	glib introspection

DISTNAME=		gst-plugins-bad-1.14.1

FPC_EQUIVALENT=		graphics/gstreamer1-plugins-gl

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-assrender
			--disable-bs2b
			--disable-chromaprint
			--disable-curl
			--disable-dash
			--disable-dtls
			--disable-dts
			--disable-faac
			--disable-faad
			--disable-flite
			--disable-gme
			--disable-gsm
			--disable-gtk3
			--disable-hls
			--disable-kate
			--disable-kms
			--disable-ladspa
			--disable-libde265
			--disable-libmms
			--disable-modplug
			--disable-mpeg2enc
			--disable-mplex
			--disable-musepack
			--disable-neon
			--disable-ofa
			--disable-openal
			--disable-opencv
			--disable-openexr
			--disable-opengl
			--disable-openh264
			--disable-openjpeg
			--disable-resindvd
			--disable-rtmp
			--disable-rsvg
			--disable-schro
			--disable-smoothstreaming
			--disable-sndfile
			--disable-soundtouch
			--disable-spandsp
			--disable-spc
			--disable-srtp
			--disable-ttml
			--disable-vdpau
			--disable-wayland
			--disable-webp
			--disable-webrtcdsp
			--disable-x265
			--disable-zbar
			--enable-gles2
			--enable-egl
			--enable-gl
			--enable-glx
			--disable-bz2
			--disable-dvb
			--disable-shm
			--disable-acm
			--disable-android_media
			--disable-apple_media
			--disable-avc
			--disable-bluez
			--disable-directfb
			--disable-direct3d
			--disable-directsound
			--disable-msdk
			--disable-nvenc
			--disable-sbc
			--disable-tinyalsa
			--disable-uvch264
			--disable-vcd
			--disable-vulkan
			--disable-wasapi
			--disable-wgl
			--disable-winks
			--disable-winscreencap

BUILD_WRKSRC=		{{WRKSRC}}/ext/gl

INSTALL_WRKSRC=		{{WRKSRC}}/ext/gl
INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
PLIST_SUB=		GSTVER=1.0
			PLUGIN=gl

CFLAGS=			-Wno-format

post-patch:
	${REINPLACE_CMD} -e 's|FLAGS -Werror|FLAGS|' ${WRKSRC}/configure
	${FIND} ${WRKSRC}/ext ${WRKSRC}/sys -name Makefile.in |\
	${XARGS} ${REINPLACE_CMD} -E \
	-e '/la_DEPENDENCIES/,/am__DEPENDENCIES/s|[$$][(]top_builddir[)]/gst-libs/.*.la||' \
	-e 's|[@$$][(]?GST_API_VERSION[@)]\.la|$$\{VERSION\}|g'

post-install:
	(cd ${WRKSRC}/gst-libs/gst/gl && ${SETENV} ${MAKE_ENV} \
		${MAKE_CMD} ${MAKE_FLAGS} ${MAKEFILE} ${MAKE_ARGS} \
		${INSTALL_TARGET})

post-build:
	(cd ${WRKSRC}/gst-libs/gst/gl && ${DO_MAKE_BUILD} ${BUILD_TARGET})

post-configure:
	${REINPLACE_CMD} -e 's|HAVE_X11 = yes|HAVE_X11 = no|g' \
		-e 's|#ifdef HAVE_X11|#ifdef NO_X11|g' \
		-e 's|$$(X11_CFLAGS) \\|\\|g' \
		-e 's|$$(X11_LIBS) \\|\\|g' \
		${WRKSRC}/gst/librfb/Makefile \
		${WRKSRC}/gst/librfb/gstrfbsrc.c

[FILE:108:distinfo]
2a77c6908032aafdf2cd2e5823fec948f16a25c2d1497a953828d762dc20d61a      4651852 gst-plugins-bad-1.14.1.tar.xz


[FILE:1246:manifests/plist.single]
include/gstreamer-%%GSTVER%%/gst/gl/
 gl.h
 gstgl_enums.h
 gstgl_fwd.h
 gstglapi.h
 gstglbasefilter.h
 gstglbasememory.h
 gstglbuffer.h
 gstglbufferpool.h
 gstglcolorconvert.h
 gstglcontext.h
 gstgldebug.h
 gstgldisplay.h
 gstglfeature.h
 gstglfilter.h
 gstglformat.h
 gstglframebuffer.h
 gstglmemory.h
 gstglmemorypbo.h
 gstgloverlaycompositor.h
 gstglquery.h
 gstglrenderbuffer.h
 gstglshader.h
 gstglshaderstrings.h
 gstglsl.h
 gstglslstage.h
 gstglsyncmeta.h
 gstglupload.h
 gstglutils.h
 gstglviewconvert.h
 gstglwindow.h
include/gstreamer-%%GSTVER%%/gst/gl/egl/
 gstegl.h
 gsteglimage.h
 gstgldisplay_egl.h
 gstglmemoryegl.h
include/gstreamer-%%GSTVER%%/gst/gl/glprototypes/
 all_functions.h
 base.h
 blending.h
 buffers.h
 debug.h
 eglimage.h
 fbo.h
 fixedfunction.h
 gles.h
 gstgl_compat.h
 gstgl_gles2compat.h
 opengl.h
 query.h
 shaders.h
 sync.h
 vao.h
include/gstreamer-%%GSTVER%%/gst/gl/x11/gstgldisplay_x11.h
lib/
 libgstgl-%%GSTVER%%.so
 libgstgl-%%GSTVER%%.so.%%SOGSTVER%%
 libgstgl-%%GSTVER%%.so.0
lib/girepository-%%GSTVER%%/GstGL-%%GSTVER%%.typelib
lib/gstreamer-%%GSTVER%%/libgstopengl.so
lib/gstreamer-%%GSTVER%%/include/gst/gl/gstglconfig.h
lib/pkgconfig/gstreamer-gl-%%GSTVER%%.pc
share/gir-%%GSTVER%%/GstGL-%%GSTVER%%.gir

