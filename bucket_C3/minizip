# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		minizip
VERSION=		1.3
KEYWORDS=		archivers
VARIANTS=		standard
SDESC[standard]=	Simple zip utilities using zlib
HOMEPAGE=		https://zlib.net
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://www.zlib.net/
DISTFILE[1]=		zlib-1.3.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			library

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

EXRUN[primary]=		minizip:library:standard

USES=			autoreconf cpe libtool zlib

DISTNAME=		zlib-1.3/contrib/minizip

LICENSE=		ZLIB:primary
LICENSE_FILE=		ZLIB:{{WRKDIR}}/LICENSE
LICENSE_AWK=		ZLIB:"ifndef ZLIB_H"
LICENSE_SOURCE=		ZLIB:{{WRKSRC}}/../../zlib.h
LICENSE_SCHEME=		solo

CPE_PRODUCT=		zlib
CPE_VENDOR=		gnu
FPC_EQUIVALENT=		archivers/minizip

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-demos

SOVERSION=		1.0.0

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libminizip.so

[FILE:141:descriptions/desc.primary]
Minizip is a set of tools for creating and extracting ZIP archives. It 
uses zlib and is distributed as a contrib part of each zlib release.


[FILE:150:descriptions/desc.library]
This package contains libminizip, a library for handling ZIP archives. It 
uses the zlib library and is a contrib program distributed alongside zlib.


[FILE:97:distinfo]
b3a24de97a8fdbc835b9833169501030b8977031bcb54b3b3ac13740f846ab30      1497445 zlib-1.2.13.tar.gz


[FILE:25:manifests/plist.primary]
bin/
 miniunzip
 minizip


[FILE:177:manifests/plist.library]
include/minizip/
 crypt.h
 ioapi.h
 mztools.h
 unzip.h
 zip.h
lib/
 libminizip.a
 libminizip.so
 libminizip.so.%%SOMAJOR%%
 libminizip.so.%%SOVERSION%%
lib/pkgconfig/minizip.pc


[FILE:371:patches/patch-contrib_minizip_ioapi.h]
--- ioapi.h.orig	2022-10-10 09:39:33 UTC
+++ ioapi.h
@@ -50,7 +50,7 @@
 #define ftello64 ftell
 #define fseeko64 fseek
 #else
-#if defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__)
+#if defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__) || defined(__DragonFly__)
 #define fopen64 fopen
 #define ftello64 ftello
 #define fseeko64 fseeko

