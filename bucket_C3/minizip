# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		minizip
VERSION=		1.3.1
KEYWORDS=		archivers
VARIANTS=		std
SDESC[std]=		Simple zip utilities using zlib
HOMEPAGE=		https://zlib.net
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://www.zlib.net/
DISTFILE[1]=		zlib-1.3.1.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			tools
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

EXRUN[tools]=		primary

USES=			autoreconf cpe libtool zlib

DISTNAME=		zlib-1.3.1/contrib/minizip

LICENSE=		ZLIB:primary
LICENSE_FILE=		ZLIB:{{WRKDIR}}/LICENSE
LICENSE_AWK=		ZLIB:"ifndef ZLIB_H"
LICENSE_SOURCE=		ZLIB:{{WRKSRC}}/../../zlib.h
LICENSE_SCHEME=		solo

CPE_PRODUCT=		zlib
CPE_VENDOR=		zlib
FPC_EQUIVALENT=		archivers/minizip

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-demos

SOVERSION=		1.0.0

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libminizip.so

[FILE:141:descriptions/desc.primary]
Minizip is a set of tools for creating and extracting ZIP archives. It 
uses zlib and is distributed as a contrib part of each zlib release.


[FILE:71:descriptions/desc.tools]
This package contains libminizip, a library for handling ZIP archives.


[FILE:96:distinfo]
9a93b2b7dfdac77ceba5a558a580e74667dd6fede4585b91eefb60f03b72df23      1512791 zlib-1.3.1.tar.gz


[FILE:61:manifests/plist.primary]
lib/
 libminizip.so.%%SOMAJOR%%
 libminizip.so.%%SOVERSION%%


[FILE:25:manifests/plist.tools]
bin/
 miniunzip
 minizip


[FILE:121:manifests/plist.dev]
include/minizip/
 crypt.h
 ioapi.h
 mztools.h
 unzip.h
 zip.h
lib/
 libminizip.a
 libminizip.so
lib/pkgconfig/minizip.pc


[FILE:479:patches/patch-contrib_minizip_ioapi.h]
--- ioapi.h.orig	2023-08-03 18:17:07 UTC
+++ ioapi.h
@@ -50,7 +50,7 @@
 #define ftello64 ftell
 #define fseeko64 fseek
 #else
-#if defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__) || defined(__HAIKU__) || defined(MINIZIP_FOPEN_NO_64)
+#if defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__NetBSD__) || defined(__DragonFly__) || defined(__HAIKU__) || defined(MINIZIP_FOPEN_NO_64)
 #define fopen64 fopen
 #define ftello64 ftello
 #define fseeko64 fseeko

