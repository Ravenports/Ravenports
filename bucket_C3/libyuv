# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libyuv
VERSION=		1891.20240710
KEYWORDS=		graphics
VARIANTS=		standard
SDESC[standard]=	Library for freeswitch yuv graphics manipulation
HOMEPAGE=		https://chromium.googlesource.com/libyuv/libyuv/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://chromium.googlesource.com/libyuv/libyuv/+archive/
DISTFILE[1]=		c1fe5663f5c386d03892c9d9b82cbb169ddea171.tar.gz:main
DIST_SUBDIR=		libyuv
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

EXRUN[dev]=		jpeg-turbo:dev:standard

USES=			cmake pkgconfig jpeg c++:primary

EXTRACT_DIRTY=		1

LICENSE=		BSD3CLAUSE:primary
LICENSE_FILE=		BSD3CLAUSE:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		graphics/libyuv

SOVERSION=		1.0.0
SUB_FILES=		libyuv.pc
SUB_LIST=		VERSION=1891

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/yuvconvert
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libyuv.so
	${MKDIR} ${STAGEDIR}${PREFIX}/lib/pkgconfig
	${INSTALL_DATA} ${WRKDIR}/libyuv.pc ${STAGEDIR}${PREFIX}/lib/pkgconfig

[FILE:424:descriptions/desc.primary]
libyuv is an open source project that includes YUV scaling and conversion
functionality.

- Prepare content for compression, with point, bilinear or box filter.
- Convert to YUV from webcam formats.
- Convert from YUV to formats for rendering/effects.
- Rotate by 90/180/270 degrees to adjust for mobile devices in portrait mode.
- Optimized versions for SSE2/SSSE3/AVX2 on x86/x64,
  Neon on Arm, DSP R2 Mips are possible.


[FILE:133:distinfo]
5454fabb5cd829096c2e6b2c1ea22294d542bdd805b609ea466ebb880815cbc2       598592 libyuv/c1fe5663f5c386d03892c9d9b82cbb169ddea171.tar.gz


[FILE:68:manifests/plist.primary]
bin/yuvconvert
lib/
 libyuv.so.%%SOMAJOR%%
 libyuv.so.%%SOVERSION%%


[FILE:406:manifests/plist.dev]
include/libyuv.h
include/libyuv/
 basic_types.h
 compare.h
 compare_row.h
 convert.h
 convert_argb.h
 convert_from.h
 convert_from_argb.h
 cpu_id.h
 loongson_intrinsics.h
 macros_msa.h
 mjpeg_decoder.h
 planar_functions.h
 rotate.h
 rotate_argb.h
 rotate_row.h
 row.h
 scale.h
 scale_argb.h
 scale_rgb.h
 scale_row.h
 scale_uv.h
 version.h
 video_common.h
lib/
 libyuv.a
 libyuv.so
lib/pkgconfig/libyuv.pc


[FILE:508:patches/patch-CMakeLists.txt]
--- CMakeLists.txt.orig	2024-07-11 20:02:11 UTC
+++ CMakeLists.txt
@@ -126,6 +126,7 @@ ADD_LIBRARY( ${ly_lib_static} STATIC ${l
 ADD_LIBRARY( ${ly_lib_shared} SHARED ${ly_lib_parts})
 SET_TARGET_PROPERTIES( ${ly_lib_shared} PROPERTIES OUTPUT_NAME "${ly_lib_name}" )
 SET_TARGET_PROPERTIES( ${ly_lib_shared} PROPERTIES PREFIX "lib" )
+SET_TARGET_PROPERTIES( ${ly_lib_shared} PROPERTIES VERSION 1.0.0 SOVERSION 1)
 if(WIN32)
   SET_TARGET_PROPERTIES( ${ly_lib_shared} PROPERTIES IMPORT_PREFIX "lib" )
 endif()


[FILE:266:files/libyuv.pc.in]
prefix=%%PREFIX%%
exec_prefix=${prefix}
libdir=${exec_prefix}/lib
includedir=${exec_prefix}/include

Name: libyuv
Description: YUV conversion and scaling functionality library
Version: %%VERSION%%
Cflags: -I${includedir}
Libs: -L${libdir} -lyuv
Libs.private: -ljpeg

