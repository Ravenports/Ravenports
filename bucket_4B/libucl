# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libucl
VERSION=		0.9.2
KEYWORDS=		textproc
VARIANTS=		std ravensw
SDESC[std]=		Universal configuration library parser
SDESC[ravensw]=		Libucl without utils, curl, lua, or ssl support
HOMEPAGE=		https://github.com/vstakhov/libucl
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/vstakhov:libucl:0.9.2
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		single
SPKGS[ravensw]=		single

OPTIONS_AVAILABLE=	LUA RAVENSW
OPTIONS_STANDARD=	LUA
VOPTS[ravensw]=		LUA=OFF RAVENSW=ON

USES=			autoreconf gmake libtool pkgconfig

LICENSE=		BSD2CLAUSE:single
LICENSE_FILE=		BSD2CLAUSE:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		textproc/libucl

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-regex

INSTALL_TARGET=		install-strip
SOVERSION=		7.2.0

[RAVENSW].DESCRIPTION=			Minimal variant used by ravensw
[RAVENSW].CONFIGURE_ARGS_OFF=		--enable-signatures
					--enable-urls
					--enable-utils
[RAVENSW].CPPFLAGS_OFF=			-I{{OPENSSLINC}}
[RAVENSW].LDFLAGS_OFF=			-L{{OPENSSLLIB}}
[RAVENSW].USES_OFF=			ssl
					curl

[LUA].DESCRIPTION=			Enable support for LUA scripting language
[LUA].BROKEN_ON=			can't find lua.h and other headers
[LUA].CONFIGURE_ARGS_ON=		--enable-lua
[LUA].CONFIGURE_ENV_ON=			LUA={{LOCALBASE}}/bin/{{LUA_CMD}}
[LUA].LDFLAGS_ON=			-L{{LUA_LIBDIR}}
[LUA].USES_ON=				lua

post-install:
	# install our PIC library
	${INSTALL_DATA} ${WRKSRC}/src/.libs/libucl_pic.a \
		${STAGEDIR}${PREFIX}/lib/

post-build:
	# assemble PIC library
	(cd ${WRKSRC}/src/.libs &&\
	 ${AR} -cq libucl_pic.a *.o &&\
	 ranlib libucl_pic.a)

[FILE:271:descriptions/desc.single]
Libucl is a parser and C API to parse and generate ucl objects. Libucl
consists of several groups of functions:

 * Parser functions
 * Emitting functions
 * Conversion functions
 * Generation functions
 * Iteration functions
 * Validation functions
 * Utility functions


[FILE:107:distinfo]
f63ddee1d7f5217cac4f9cdf72b9c5e8fe43cfe5725db13f1414b0d8a369bbe0      2044512 vstakhov-libucl-0.9.2.tar.gz


[FILE:277:manifests/plist.single]
%%LUA-ON%%%%LUA_MODLIBDIR%%/
 ucl.a
 ucl.so
%%LUA-ON%%include/lua_ucl.h
bin/
 ucl_chargen
 ucl_objdump
 ucl_tool
include/
 ucl++.h
 ucl.h
lib/
 libucl.a
 libucl.so
 libucl.so.%%SOMAJOR%%
 libucl.so.%%SOVERSION%%
 libucl_pic.a
lib/pkgconfig/libucl.pc
share/man/man3/libucl.3.gz


[FILE:164:manifests/plist.single.ravensw]
include/
 ucl++.h
 ucl.h
lib/
 libucl.a
 libucl.so
 libucl.so.%%SOMAJOR%%
 libucl.so.%%SOVERSION%%
 libucl_pic.a
lib/pkgconfig/libucl.pc
share/man/man3/libucl.3.gz

