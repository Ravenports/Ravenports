# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		qt6-qtmultimedia
VERSION=		6.7.1
KEYWORDS=		multimedia devel
VARIANTS=		standard
SDESC[standard]=	Qt6 - QtMultimedia component
HOMEPAGE=		https://www.qt.io/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://qt.mirror.constant.com/official_releases/qt/6.7/6.7.1/submodules/
			https://download.qt.io/official_releases/qt/6.7/6.7.1/submodules/
DISTFILE[1]=		qtmultimedia-everywhere-src-6.7.1.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		qt6-qtbase:dev:standard
			qt6-qttools:complete:standard
			qt6-qtdeclarative:dev:standard
			qt6-qtshadertools:dev:standard
			ffmpeg:dev:standard
			libglvnd:dev:standard
			alsa-lib:dev:standard
BUILDRUN_DEPENDS=	qt6-qtdeclarative:primary:standard
			qt6-qtshadertools:primary:standard
			ffmpeg:primary:standard
			libglvnd:primary:standard
			alsa-lib:primary:standard

USES=			qt6 cmake pkgconfig perl:build gettext cpe
XORG_COMPONENTS=	x11 xext xrandr

DISTNAME=		qtmultimedia-everywhere-src-6.7.1

CPE_PRODUCT=		qt
CPE_VENDOR=		qt
FPC_EQUIVALENT=		multimedia/qt6-multimedia

SOVERSION=		6.7.1
PLIST_SUB=		QTVER=6.7.1
			SOMAJORMIN=6.7
			GSTREAMER="@comment "

CMAKE_ARGS=		-DFEATURE_ffmpeg:BOOL=ON
			-DFEATURE_alsa:BOOL=ON

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/qt6/qml/QtMultimedia/libquickmultimediaplugin.so

[FILE:271:descriptions/desc.primary]
Qt is a complete cross-platform software framework with ready-made UI
elements, C++ libraries, and a complete integrated development environment
with tools for everything one needs to develop software for any project.

This package contains the Qt5 multimedia submodule.


[FILE:119:distinfo]
656d1543727f5bf1bd39fe2548ac454860109dc8555df77d7940f21e3d65cd3e      8362120 qtmultimedia-everywhere-src-6.7.1.tar.xz


[FILE:480:manifests/plist.primary]
%%GSTREAMER%%lib/qt6/plugins/multimedia/libgstreamermediaplugin.so
lib/qt6/
 libQt6Multimedia.so.%%SOMAJOR%%
 libQt6Multimedia.so.%%SOVERSION%%
 libQt6MultimediaQuick.so.%%SOMAJOR%%
 libQt6MultimediaQuick.so.%%SOVERSION%%
 libQt6MultimediaWidgets.so.%%SOMAJOR%%
 libQt6MultimediaWidgets.so.%%SOVERSION%%
 libQt6SpatialAudio.so.%%SOMAJOR%%
 libQt6SpatialAudio.so.%%SOVERSION%%
lib/qt6/plugins/multimedia/libffmpegmediaplugin.so
lib/qt6/qml/QtMultimedia/libquickmultimediaplugin.so


[FILE:7520:manifests/plist.dev]
%%GSTREAMER%%lib/qt6/cmake/Qt6Multimedia/
 Qt6QGstreamerMediaPluginAdditionalTargetInfo.cmake
 Qt6QGstreamerMediaPluginConfig.cmake
 Qt6QGstreamerMediaPluginConfigVersion.cmake
 Qt6QGstreamerMediaPluginConfigVersionImpl.cmake
 Qt6QGstreamerMediaPluginTargets-release.cmake
 Qt6QGstreamerMediaPluginTargets.cmake
include/qt6/QtMultimedia/
 QAudio
 QAudioBuffer
 QAudioDecoder
 QAudioDevice
 QAudioFormat
 QAudioFrame
 QAudioInput
 QAudioOutput
 QAudioSink
 QAudioSource
 QCamera
 QCameraDevice
 QCameraFormat
 QCapturableWindow
 QImageCapture
 QMediaCaptureSession
 QMediaDevices
 QMediaFormat
 QMediaMetaData
 QMediaPlayer
 QMediaRecorder
 QMediaTimeRange
 QScreenCapture
 QSoundEffect
 QVideoFrame
 QVideoFrameFormat
 QVideoSink
 QWaveDecoder
 QWindowCapture
 QtAudio
 QtMultimedia
 QtMultimediaDepends
 QtMultimediaVersion
 qaudio.h
 qaudiobuffer.h
 qaudiodecoder.h
 qaudiodevice.h
 qaudioformat.h
 qaudioinput.h
 qaudiooutput.h
 qaudiosink.h
 qaudiosource.h
 qcamera.h
 qcameradevice.h
 qcapturablewindow.h
 qimagecapture.h
 qmediacapturesession.h
 qmediadevices.h
 qmediaenumdebug.h
 qmediaformat.h
 qmediametadata.h
 qmediaplayer.h
 qmediarecorder.h
 qmediatimerange.h
 qscreencapture.h
 qsoundeffect.h
 qtaudio.h
 qtmultimedia-config.h
 qtmultimediaexports.h
 qtmultimediaglobal.h
 qtmultimediaversion.h
 qtvideo.h
 qvideoframe.h
 qvideoframeformat.h
 qvideosink.h
 qwavedecoder.h
 qwindowcapture.h
include/qt6/QtMultimedia/%%QTVER%%/QtMultimedia/private/
 qabstractvideobuffer_p.h
 qalsaaudiodevice_p.h
 qalsaaudiosink_p.h
 qalsaaudiosource_p.h
 qalsamediadevices_p.h
 qaudiodecoder_p.h
 qaudiodevice_p.h
 qaudiohelpers_p.h
 qaudiostatemachine_p.h
 qaudiostatemachineutils_p.h
 qaudiosystem_p.h
 qcamera_p.h
 qcameradevice_p.h
 qcapturablewindow_p.h
 qerrorinfo_p.h
 qimagevideobuffer_p.h
 qmaybe_p.h
 qmediaplayer_p.h
 qmediarecorder_p.h
 qmediastoragelocation_p.h
 qmemoryvideobuffer_p.h
 qmultimediautils_p.h
 qplatformaudiodecoder_p.h
 qplatformaudioinput_p.h
 qplatformaudiooutput_p.h
 qplatformaudioresampler_p.h
 qplatformcamera_p.h
 qplatformcapturablewindows_p.h
 qplatformimagecapture_p.h
 qplatformmediacapture_p.h
 qplatformmediadevices_p.h
 qplatformmediaformatinfo_p.h
 qplatformmediaintegration_p.h
 qplatformmediaplayer_p.h
 qplatformmediaplugin_p.h
 qplatformmediarecorder_p.h
 qplatformsurfacecapture_p.h
 qplatformvideodevices_p.h
 qplatformvideosink_p.h
 qplatformvideosource_p.h
 qsamplecache_p.h
 qtmultimedia-config_p.h
 qtmultimediaglobal_p.h
 qvideoframe_p.h
 qvideoframeconversionhelper_p.h
 qvideoframeconverter_p.h
 qvideooutputorientationhandler_p.h
 qvideotexturehelper_p.h
 qvideowindow_p.h
include/qt6/QtMultimediaQuick/
 QtMultimediaQuick
 QtMultimediaQuickDepends
 QtMultimediaQuickVersion
 qtmultimediaquickexports.h
 qtmultimediaquickversion.h
include/qt6/QtMultimediaQuick/%%QTVER%%/QtMultimediaQuick/private/
 qquickimagecapture_p.h
 qquickimagepreviewprovider_p.h
 qquickmediaplayer_p.h
 qquickscreencapture_p.h
 qquicksoundeffect_p.h
 qquickvideooutput_p.h
 qsgvideonode_p.h
 qsgvideotexture_p.h
 qtmultimediaquickglobal_p.h
 qtmultimediaquicktypes_p.h
include/qt6/QtMultimediaWidgets/
 QGraphicsVideoItem
 QVideoWidget
 QtMultimediaWidgets
 QtMultimediaWidgetsDepends
 QtMultimediaWidgetsVersion
 qgraphicsvideoitem.h
 qtmultimediawidgetsexports.h
 qtmultimediawidgetsglobal.h
 qtmultimediawidgetsversion.h
 qvideowidget.h
include/qt6/QtMultimediaWidgets/%%QTVER%%/QtMultimediaWidgets/private/qvideowidget_p.h
include/qt6/QtSpatialAudio/
 QAmbientSound
 QAudioEngine
 QAudioListener
 QAudioRoom
 QSpatialSound
 QtSpatialAudio
 QtSpatialAudioDepends
 QtSpatialAudioVersion
 qambientsound.h
 qaudioengine.h
 qaudiolistener.h
 qaudioroom.h
 qspatialsound.h
 qtspatialaudioexports.h
 qtspatialaudioglobal.h
 qtspatialaudioversion.h
include/qt6/QtSpatialAudio/%%QTVER%%/QtSpatialAudio/private/
 qambisonicdecoder_p.h
 qambisonicdecoderdata_p.h
 qaudioengine_p.h
 qaudioroom_p.h
 qtspatialaudioglobal_p.h
lib/qt6/
 libQt6BundledResonanceAudio.a
 libQt6Multimedia.prl
 libQt6Multimedia.so
 libQt6MultimediaQuick.prl
 libQt6MultimediaQuick.so
 libQt6MultimediaWidgets.prl
 libQt6MultimediaWidgets.so
 libQt6SpatialAudio.prl
 libQt6SpatialAudio.so
lib/qt6/cmake/Qt6/
 FindAVFoundation.cmake
 FindFFmpeg.cmake
 FindGObject.cmake
 FindGStreamer.cmake
 FindMMRenderer.cmake
 FindMMRendererCore.cmake
 FindVAAPI.cmake
 FindWMF.cmake
 FindWrapBundledResonanceAudioConfigExtra.cmake
 FindWrapPulseAudio.cmake
lib/qt6/cmake/Qt6BuildInternals/StandaloneTests/QtMultimediaTestsConfig.cmake
lib/qt6/cmake/Qt6BundledResonanceAudio/
 Qt6BundledResonanceAudioAdditionalTargetInfo.cmake
 Qt6BundledResonanceAudioConfig.cmake
 Qt6BundledResonanceAudioConfigVersion.cmake
 Qt6BundledResonanceAudioConfigVersionImpl.cmake
 Qt6BundledResonanceAudioTargets-release.cmake
 Qt6BundledResonanceAudioTargets.cmake
 Qt6BundledResonanceAudioVersionlessTargets.cmake
lib/qt6/cmake/Qt6Multimedia/
 Qt6MultimediaAdditionalTargetInfo.cmake
 Qt6MultimediaConfig.cmake
 Qt6MultimediaConfigVersion.cmake
 Qt6MultimediaConfigVersionImpl.cmake
 Qt6MultimediaDependencies.cmake
 Qt6MultimediaPlugins.cmake
 Qt6MultimediaTargets-release.cmake
 Qt6MultimediaTargets.cmake
 Qt6MultimediaVersionlessTargets.cmake
 Qt6QFFmpegMediaPluginAdditionalTargetInfo.cmake
 Qt6QFFmpegMediaPluginConfig.cmake
 Qt6QFFmpegMediaPluginConfigVersion.cmake
 Qt6QFFmpegMediaPluginConfigVersionImpl.cmake
 Qt6QFFmpegMediaPluginTargets-release.cmake
 Qt6QFFmpegMediaPluginTargets.cmake
lib/qt6/cmake/Qt6MultimediaQuickPrivate/
 Qt6MultimediaQuickPrivateAdditionalTargetInfo.cmake
 Qt6MultimediaQuickPrivateConfig.cmake
 Qt6MultimediaQuickPrivateConfigVersion.cmake
 Qt6MultimediaQuickPrivateConfigVersionImpl.cmake
 Qt6MultimediaQuickPrivateDependencies.cmake
 Qt6MultimediaQuickPrivateTargets-release.cmake
 Qt6MultimediaQuickPrivateTargets.cmake
 Qt6MultimediaQuickPrivateVersionlessTargets.cmake
lib/qt6/cmake/Qt6MultimediaWidgets/
 Qt6MultimediaWidgetsAdditionalTargetInfo.cmake
 Qt6MultimediaWidgetsConfig.cmake
 Qt6MultimediaWidgetsConfigVersion.cmake
 Qt6MultimediaWidgetsConfigVersionImpl.cmake
 Qt6MultimediaWidgetsDependencies.cmake
 Qt6MultimediaWidgetsTargets-release.cmake
 Qt6MultimediaWidgetsTargets.cmake
 Qt6MultimediaWidgetsVersionlessTargets.cmake
lib/qt6/cmake/Qt6Qml/QmlPlugins/
 Qt6quickmultimediaAdditionalTargetInfo.cmake
 Qt6quickmultimediaConfig.cmake
 Qt6quickmultimediaConfigVersion.cmake
 Qt6quickmultimediaConfigVersionImpl.cmake
 Qt6quickmultimediaTargets-release.cmake
 Qt6quickmultimediaTargets.cmake
lib/qt6/cmake/Qt6SpatialAudio/
 Qt6SpatialAudioAdditionalTargetInfo.cmake
 Qt6SpatialAudioConfig.cmake
 Qt6SpatialAudioConfigVersion.cmake
 Qt6SpatialAudioConfigVersionImpl.cmake
 Qt6SpatialAudioDependencies.cmake
 Qt6SpatialAudioTargets-release.cmake
 Qt6SpatialAudioTargets.cmake
 Qt6SpatialAudioVersionlessTargets.cmake
lib/qt6/metatypes/
 qt6multimedia_release_metatypes.json
 qt6multimediaquickprivate_release_metatypes.json
 qt6multimediawidgets_release_metatypes.json
 qt6spatialaudio_release_metatypes.json
lib/qt6/mkspecs/modules/
 qt_lib_multimedia.pri
 qt_lib_multimedia_private.pri
 qt_lib_multimediaquick_private.pri
 qt_lib_multimediawidgets.pri
 qt_lib_multimediawidgets_private.pri
 qt_lib_spatialaudio.pri
 qt_lib_spatialaudio_private.pri
lib/qt6/modules/
 Multimedia.json
 MultimediaQuickPrivate.json
 MultimediaWidgets.json
 SpatialAudio.json
lib/qt6/pkgconfig/
 Qt6Multimedia.pc
 Qt6MultimediaWidgets.pc
 Qt6SpatialAudio.pc
lib/qt6/qml/QtMultimedia/
 Video.qml
 plugins.qmltypes
 qmldir


[FILE:518:patches/patch-src_multimedia_configure.cmake]
--- src/multimedia/configure.cmake.orig	2024-03-25 10:03:22 UTC
+++ src/multimedia/configure.cmake
@@ -76,7 +76,7 @@ qt_feature("ffmpeg" PRIVATE
     LABEL "FFmpeg"
     ENABLE INPUT_ffmpeg STREQUAL 'yes'
     DISABLE INPUT_ffmpeg STREQUAL 'no'
-    CONDITION FFmpeg_FOUND AND (APPLE OR WIN32 OR ANDROID OR QNX OR QT_FEATURE_pulseaudio)
+    CONDITION FFmpeg_FOUND AND (APPLE OR WIN32 OR ANDROID OR QNX OR QT_FEATURE_alsa OR QT_FEATURE_pulseaudio)
 )
 qt_feature("alsa" PUBLIC PRIVATE
     LABEL "ALSA (experimental)"

