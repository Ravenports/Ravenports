# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		xz
VERSION=		5.4.5
KEYWORDS=		archivers raven
VARIANTS=		standard
SDESC[standard]=	LZMA compression and decompression tools
HOMEPAGE=		https://tukaani.org/xz/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		SF/lzmautils
DISTFILE[1]=		xz-5.4.5.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			tools
			dev
			man
			docs
			examples

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			cpe libtool

LICENSE=		PUBDOM:primary GPLv2+:primary
LICENSE_TERMS=		primary:{{WRKSRC}}/COPYING
LICENSE_FILE=		PUBDOM:{{WRKDIR}}/LICENSE_PUBDOM
			GPLv2+:{{WRKSRC}}/COPYING.GPLv2
LICENSE_SCHEME=		multi

CPE_VENDOR=		tukaani

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-nls
			{{SYMVER:U--enable-symbol-versions}}
CONFIGURE_ENV=		gl_cv_posix_shell=/bin/sh

INSTALL_TARGET=		install-strip
SOVERSION=		5.4.5

VAR_OPSYS[sunos]=	MAKEFILE_LINE=SYMVER=

post-install:
	# install static version of xz
	${INSTALL_PROGRAM} ${WRKSRC}/src/xz/.libs/xz-static ${STAGEDIR}${PREFIX}/bin
	# remove redundant license
	${RM} ${STAGEDIR}${STD_DOCDIR}/COPYING*
	# mv examples to their place
	${MKDIR} ${STAGEDIR}${STD_EXAMPLESDIR}/new
	${MKDIR} ${STAGEDIR}${STD_EXAMPLESDIR}/old
	${MV} ${STAGEDIR}${STD_DOCDIR}/examples/* ${STAGEDIR}${STD_EXAMPLESDIR}/new
	${MV} ${STAGEDIR}${STD_DOCDIR}/examples_old/*  ${STAGEDIR}${STD_EXAMPLESDIR}/old
	${RMDIR} ${STAGEDIR}${STD_DOCDIR}/exam*

post-build:
	# create statically linked version of xz
	(cd ${WRKSRC}/src/xz && ${CC} -o .libs/xz-static \
	xz-args.o xz-coder.o xz-file_io.o xz-hardware.o xz-main.o xz-message.o xz-mytime.o \
	xz-options.o xz-signals.o xz-suffix.o xz-util.o xz-tuklib_open_stdxxx.o \
	xz-tuklib_progname.o xz-tuklib_exit.o xz-tuklib_mbstr_width.o xz-tuklib_mbstr_fw.o \
	xz-list.o ../liblzma/.libs/liblzma.a -lpthread)

do-test:
	(cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MAKE} check)

post-extract:
	${AWK} '/You can do whatever/,/lawyers/' \
		${WRKSRC}/COPYING > ${WRKDIR}/LICENSE_PUBDOM

[FILE:902:descriptions/desc.primary]
XZ Utils is free general-purpose data compression software with a
high compression ratio.  XZ Utils is the successor to LZMA Utils.

The core of the XZ Utils compression code is based on the LZMA SDK.
The primary compression algorithm is currently LZMA2, which is used
inside the .xz container format.  With typical files, XZ Utils
creates output 30% smaller than gzip and 15% smaller than bzip2.

The XZ Utils package consists of several components:

* liblzma is a compression library with an API similar to that of zlib.
* xz is a command line tool with syntax similar to that of gzip.
* xzdec is a decompression-only tool smaller than the full-featured xz one.
* A set of shell scripts (xzgrep, xzdiff, etc.) have been adapted
  from gzip to ease viewing, grepping, and comparing compressed files.
* Emulation of the command line tools of LZMA Utils eases transition
  from LZMA Utils to XZ Utils.


[FILE:67:descriptions/desc.tools]
This packages contains the command line tools of LZMA compression.


[FILE:94:distinfo]
135c90b934aee8fbc0d467de87a05cb70d627da36abe518c357a873709e5b7d6      2884510 xz-5.4.5.tar.gz


[FILE:55:manifests/plist.primary]
lib/
 liblzma.so.%%SOMAJOR%%
 liblzma.so.%%SOVERSION%%


[FILE:194:manifests/plist.tools]
bin/
 lzcat
 lzcmp
 lzdiff
 lzegrep
 lzfgrep
 lzgrep
 lzless
 lzma
 lzmadec
 lzmainfo
 lzmore
 unlzma
 unxz
 xz
 xz-static
 xzcat
 xzcmp
 xzdec
 xzdiff
 xzegrep
 xzfgrep
 xzgrep
 xzless
 xzmore


[FILE:226:manifests/plist.dev]
include/lzma.h
include/lzma/
 base.h
 bcj.h
 block.h
 check.h
 container.h
 delta.h
 filter.h
 hardware.h
 index.h
 index_hash.h
 lzma12.h
 stream_flags.h
 version.h
 vli.h
lib/
 liblzma.a
 liblzma.so
lib/pkgconfig/liblzma.pc


[FILE:309:manifests/plist.man]
share/man/man1/
 lzcat.1.gz
 lzcmp.1.gz
 lzdiff.1.gz
 lzegrep.1.gz
 lzfgrep.1.gz
 lzgrep.1.gz
 lzless.1.gz
 lzma.1.gz
 lzmadec.1.gz
 lzmainfo.1.gz
 lzmore.1.gz
 unlzma.1.gz
 unxz.1.gz
 xz.1.gz
 xzcat.1.gz
 xzcmp.1.gz
 xzdec.1.gz
 xzdiff.1.gz
 xzegrep.1.gz
 xzfgrep.1.gz
 xzgrep.1.gz
 xzless.1.gz
 xzmore.1.gz


[FILE:1274:manifests/plist.docs]
share/doc/xz/
 AUTHORS
 NEWS
 README
 THANKS
 TODO
 faq.txt
 history.txt
 lzma-file-format.txt
 xz-file-format.txt
share/doc/xz/api/
 annotated.html
 base_8h.html
 bc_s.png
 bc_sd.png
 bcj_8h.html
 block_8h.html
 check_8h.html
 classes.html
 closed.png
 container_8h.html
 delta_8h.html
 dir_b17a1d403082bd69a703ed987cf158fb.html
 doc.svg
 docd.svg
 doxygen.css
 doxygen.svg
 files.html
 filter_8h.html
 folderclosed.svg
 folderclosedd.svg
 folderopen.svg
 folderopend.svg
 functions.html
 functions_vars.html
 globals.html
 globals_defs.html
 globals_enum.html
 globals_eval.html
 globals_func.html
 globals_type.html
 hardware_8h.html
 index.html
 index_8h.html
 index__hash_8h.html
 lzma12_8h.html
 lzma_8h.html
 nav_f.png
 nav_fd.png
 nav_g.png
 nav_h.png
 nav_hd.png
 open.png
 splitbar.png
 splitbard.png
 stream__flags_8h.html
 structlzma__allocator.html
 structlzma__block.html
 structlzma__filter.html
 structlzma__index__iter.html
 structlzma__mt.html
 structlzma__options__bcj.html
 structlzma__options__delta.html
 structlzma__options__lzma.html
 structlzma__stream.html
 structlzma__stream__flags.html
 sync_off.png
 sync_on.png
 tab_a.png
 tab_ad.png
 tab_b.png
 tab_bd.png
 tab_h.png
 tab_hd.png
 tab_s.png
 tab_sd.png
 tabs.css
 version_8h.html
 vli_8h.html


[FILE:187:manifests/plist.examples]
share/examples/xz/new/
 00_README.txt
 01_compress_easy.c
 02_decompress.c
 03_compress_custom.c
 04_compress_easy_mt.c
 Makefile
share/examples/xz/old/
 xz_pipe_comp.c
 xz_pipe_decomp.c

