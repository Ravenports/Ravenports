# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		joe
VERSION=		4.6
REVISION=		4
KEYWORDS=		editors
VARIANTS=		std
SDESC[std]=		Joe's Own Editor
HOMEPAGE=		https://sourceforge.net/projects/joe-editor/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		SF/joe-editor/JOE%20sources/joe-4.6
DISTFILE[1]=		joe-4.6.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gmake iconv desktop-utils:primary ncurses

LICENSE=		GPLv2:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		editors/joe

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-termcap

BUILD_TARGET=		joe

INSTALL_REQ_TOOLCHAIN=	yes

post-install:
	${RM} -r ${STAGEDIR}${STD_DOCDIR}
	for rc in jmacsrc joerc jpicorc jstarrc rjoerc; do \
		${MV} ${STAGEDIR}${PREFIX}/etc/joe/$${rc} \
			${STAGEDIR}${PREFIX}/etc/joe/$${rc}.sample ; \
	done

pre-configure:
	${REINPLACE_CMD} -e 's|docs/README.old docs/man.md ||' \
		${WRKSRC}/Makefile.in

post-extract:
	${AWK} '/which is distributed/,/many Linux distrib/' \
		${WRKSRC}/README.md > ${WRKDIR}/TERMS

[FILE:670:descriptions/desc.primary]
JOE is the professional freeware ASCII text screen editor for UNIX.  It
makes full use of the power and versatility of UNIX, but lacks the steep
learning curve and basic nonsense you have to deal with in every other UNIX
editor. JOE has the feel of most IBM PC text editors: the key-sequences are
reminiscent of WordStar and Turbo-C.  JOE is much more powerful than those
editors, however. JOE has all of the features a UNIX user should expect:
full use of termcap/terminfo, excellent screen update optimizations (JOE
is fully usable at 2400 baud), simple installation, and all of the
UNIX-integration features of VI.

JOE now has UTF-8 support and Syntax Highlighting.


[FILE:93:distinfo]
495a0a61f26404070fe8a719d80406dc7f337623788e445b92a9f6de512ab9de      1895046 joe-4.6.tar.gz


[FILE:1443:manifests/plist.primary]
@sample etc/joe/jmacsrc.sample
@sample etc/joe/joerc.sample
@sample etc/joe/jpicorc.sample
@sample etc/joe/jstarrc.sample
@sample etc/joe/rjoerc.sample
bin/
 jmacs
 joe
 jpico
 jstar
 rjoe
etc/joe/
 ftyperc
 jicerc.ru
 joerc.zh_TW
 shell.csh
 shell.sh
share/applications/
 jmacs.desktop
 joe.desktop
 jpico.desktop
 jstar.desktop
share/joe/charmaps/klingon
share/joe/colors/
 default.jcf
 gruvbox.jcf
 ir_black.jcf
 molokai.jcf
 solarized.jcf
 wombat.jcf
 xoria.jcf
 zenburn-hc.jcf
 zenburn.jcf
share/joe/lang/
 de.po
 fr.po
 ru.po
 uk.po
 zh_TW.po
share/joe/syntax/
 4gl.jsf
 ada.jsf
 ant.jsf
 asm.jsf
 avr.jsf
 awk.jsf
 batch.jsf
 c.jsf
 clojure.jsf
 cobol.jsf
 coffee.jsf
 comment_todo.jsf
 conf.jsf
 context.jsf
 csh.jsf
 csharp.jsf
 css.jsf
 d.jsf
 debian.jsf
 diff.jsf
 dockerfile.jsf
 elixir.jsf
 erb.jsf
 erlang.jsf
 filename.jsf
 fortran.jsf
 git-commit.jsf
 go.jsf
 groovy.jsf
 haml.jsf
 haskell.jsf
 html.jsf
 htmlerb.jsf
 ini.jsf
 iptables.jsf
 java.jsf
 jcf.jsf
 joerc.jsf
 js.jsf
 jsf.jsf
 jsf_check.jsf
 json.jsf
 lisp.jsf
 lua.jsf
 m4.jsf
 mail.jsf
 mason.jsf
 matlab.jsf
 md.jsf
 ocaml.jsf
 pascal.jsf
 perl.jsf
 php.jsf
 powershell.jsf
 prolog.jsf
 properties.jsf
 ps.jsf
 puppet.jsf
 python.jsf
 r.jsf
 rexx.jsf
 ruby.jsf
 rust.jsf
 scala.jsf
 sed.jsf
 sh.jsf
 sieve.jsf
 skill.jsf
 sml.jsf
 spec.jsf
 sql.jsf
 swift.jsf
 tcl.jsf
 tex.jsf
 troff.jsf
 typescript.jsf
 verilog.jsf
 vhdl.jsf
 whitespace.jsf
 xml.jsf
 yaml.jsf


[FILE:45:manifests/plist.man]
share/man/man1/joe.1
share/man/ru/man1/joe.1


[FILE:195:patches/patch-joe_tty.c]
--- joe/tty.c.orig	2018-01-10 16:28:34 UTC
+++ joe/tty.c
@@ -31,6 +31,10 @@
 #include <libutil.h>
 #endif
 
+#if defined(__NetBSD__)
+#include <util.h>
+#endif
+
 #endif
 
 #ifdef HAVE_LOGIN_TTY

