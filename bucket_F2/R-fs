# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		R-fs
VERSION=		1.4.2
KEYWORDS=		cran
VARIANTS=		standard
SDESC[standard]=	Cross-platform File system operations
HOMEPAGE=		https://fs.r-lib.org
CONTACT=		CRAN_Automaton[cran@ironwolf.systems]

DOWNLOAD_GROUPS=	main
SITES[main]=		CRAN/src/contrib
DISTFILE[1]=		fs_1.4.2.tar.gz:main
DIST_SUBDIR=		CRAN
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			cran gmake

DISTNAME=		fs

GENERATED=		yes

INSTALL_REQ_TOOLCHAIN=	yes

[FILE:153:descriptions/desc.single]
fs: Cross-Platform File System Operations Based on 'libuv'

A cross-platform interface to file system operations, built on top of the
'libuv' C library.


[FILE:99:distinfo]
f9070f2ce8fe09911fbac8baf32cec63f3c15d4209672311215e26b5e4573727       819583 CRAN/fs_1.4.2.tar.gz


[FILE:786:patches/patch-src_Makevars]
--- src/Makevars.orig	2020-03-27 11:57:10 UTC
+++ src/Makevars
@@ -8,6 +8,7 @@ OBJECTS = $(SOURCES:.cc=.o)
 ifeq ($(UNAME), SunOS)
 PKG_LIBS += -lkstat -lsendfile -lsocket -lxnet
 OBJECTS +=  bsd/setmode.o bsd/strmode.o bsd/reallocarray.o
+CONFTGT = --build=i86-pc-solaris2.10
 endif
 ifeq ($(UNAME), FreeBSD)
 PKG_LIBS += -lkvm
@@ -27,7 +28,7 @@ $(SHLIB): libuv/.libs/libuv.a
 
 libuv/Makefile:
 	(cd libuv \
-	&& CC="$(CC)" CFLAGS="$(CFLAGS) $(CPPFLAGS) $(CPICFLAGS) $(C_VISIBILITY)" AR="$(AR)" RANLIB="$(RANLIB)" LDFLAGS="$(LDFLAGS)" ./configure --quiet)
+	&& CC="$(CC)" CFLAGS="$(CFLAGS) $(CPPFLAGS) $(CPICFLAGS) $(C_VISIBILITY)" AR="$(AR)" RANLIB="$(RANLIB)" LDFLAGS="$(LDFLAGS)" ./configure --quiet $(CONFTGT))
 
 libuv/.libs/libuv.a: libuv/Makefile
 	$(MAKE) --directory=libuv \


[FILE:367:patches/patch-src_unix_getmode.cc]
--- src/unix/getmode.cc.orig	2020-04-15 14:10:48 UTC
+++ src/unix/getmode.cc
@@ -2,6 +2,7 @@
 #include "utils.h"
 
 #if (defined(__APPLE__) && defined(__MACH__)) || defined(__OpenBSD__) ||       \
+    defined(__DragonFly__) || \
     defined(__FreeBSD__) || defined(__NetBSD__)
 #include <string.h> /* for strmode */
 #include <unistd.h> /* for getmode / setmode */

