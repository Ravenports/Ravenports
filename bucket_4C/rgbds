# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		rgbds
VERSION=		0.6.1
REVISION=		1
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Gameboy development system with assembler/linker
HOMEPAGE=		https://rgbds.gbdev.io
CONTACT=		Todd_Martin[warfox@sdf.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/gbdev:rgbds:v0.6.1
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			bison c++:primary gmake png pkgconfig

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/rgdbs

post-patch:
	${REINPLACE_CMD} 's!__PREFIX__!${PREFIX}!g' \
			 ${WRKSRC}/Makefile

[FILE:353:descriptions/desc.primary]
RGBDS (Rednex Game Boy Development System) is a free assembler/linker
package for the Game Boy and Game Boy Color. It consists of:

- rgbasm (assembler)
- rgblink (linker)
- rgbfix (checksum/header fixer)
- rgbgfx (PNG‐to‐Game Boy graphics converter)

This is a fork of the original RGBDS which aims to make the programs more
like other UNIX tools.


[FILE:21:descriptions/desc.man]
Man pages for rgbds.


[FILE:103:distinfo]
8ec1faa9cafe66e8cb0be8ca1aa98baf21d67a03dd7eac69cb43874dfd829dd0      8045378 gbdev-rgbds-0.6.1.tar.gz


[FILE:38:manifests/plist.primary]
bin/
 rgbasm
 rgbfix
 rgbgfx
 rgblink


[FILE:164:manifests/plist.man]
share/man/man1/
 rgbasm.1.gz
 rgbfix.1.gz
 rgbgfx.1.gz
 rgblink.1.gz
share/man/man5/
 rgbasm.5.gz
 rgbds.5.gz
 rgblink.5.gz
share/man/man7/
 gbz80.7.gz
 rgbds.7.gz


[FILE:769:patches/patch-Makefile]
--- Makefile	2023-01-26 21:14:18.312420991 +0000
+++ Makefile.new	2023-01-29 20:42:16.666453976 +0000
@@ -14,7 +14,7 @@
 # User-defined variables
 
 Q		:= @
-PREFIX		:= /usr/local
+PREFIX		:= __PREFIX__
 bindir		:= ${PREFIX}/bin
 mandir		:= ${PREFIX}/share/man
 STRIP		:= -s
@@ -40,9 +40,9 @@
 # Non-overridable CFLAGS
 # _ISOC11_SOURCE is required on certain platforms to get C11 on top of the C99-based POSIX 2008
 REALCFLAGS	:= ${CFLAGS} ${WARNFLAGS} -std=gnu11 -I include \
-		   -D_POSIX_C_SOURCE=200809L -D_ISOC11_SOURCE
+		   -D_ISOC11_SOURCE
 REALCXXFLAGS	:= ${CXXFLAGS} ${WARNFLAGS} -std=c++17 -I include \
-		   -D_POSIX_C_SOURCE=200809L -fno-exceptions -fno-rtti
+		   -fno-exceptions -fno-rtti
 # Overridable LDFLAGS
 LDFLAGS		?=
 # Non-overridable LDFLAGS

