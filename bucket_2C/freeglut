# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		freeglut
VERSION=		3.8.0
KEYWORDS=		graphics
VARIANTS=		std
SDESC[std]=		FOSS implementation of the GLUT library
HOMEPAGE=		https://freeglut.sourceforge.net/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		SF/freeglut/freeglut/3.8.0
DISTFILE[1]=		freeglut-3.8.0.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			examples
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libGLU:dev:std
			libglvnd:dev:std
BUILDRUN_DEPENDS=	libGLU:primary:std
			libglvnd:primary:std
EXRUN[dev]=		libGLU:dev:std

USES=			cmake:insource
XORG_COMPONENTS=	ice x11 xi xrandr xrender

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		graphics/freeglut

INSTALL_TARGET=		install/strip
INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		3.13.0

VAR_OPSYS[freebsd]=	LDFLAGS=-lusbhid
			LDFLAGS=-lm
VAR_OPSYS[sunos]=	LDFLAGS=-lrt

post-patch:
.for fract in Fractals/fractals.c Fractals_random/fractals_random.c
	${REINPLACE_CMD} -e "s|/usr/local|${PREFIX}|g"		\
		${WRKSRC}/progs/demos/${fract}
.endfor
	${REINPLACE_CMD} -e 's|__FreeBSD__|__NOPE__|g' \
		-e 's|__FreeBSD_kernel__|__NYET__|g' \
		${WRKSRC}/src/x11/fg_joystick_x11.c \
		${WRKSRC}/src/x11/fg_internal_x11.h

post-install:
	${MKDIR} ${STAGEDIR}${STD_EXAMPLESDIR}
	${INSTALL_DATA} ${WRKSRC}/progs/demos/Fractals/fractals.dat \
		${STAGEDIR}${STD_EXAMPLESDIR}
.for prog in CallbackMaker Fractals Fractals_random Lorenz One multi-touch shapes smooth_opengl3 spaceball subwin timer
	${INSTALL_PROGRAM} ${BUILD_WRKSRC}/bin/${prog} ${STAGEDIR}${STD_EXAMPLESDIR}
.endfor

[FILE:537:descriptions/desc.primary]
freeglut is a completely OpenSourced alternative to the OpenGL Utility
Toolkit (GLUT) library. GLUT was originally written by Mark Kilgard to
support the sample programs in the second edition OpenGL 'RedBook'.
Since then, GLUT has been used in a wide variety of practical applications
because it is simple, universally available and highly portable.

GLUT (and hence freeglut) allows the user to create and manage windows
containing OpenGL contexts on a wide range of platforms and also read the
mouse, keyboard and joystick functions.
 

[FILE:100:distinfo]
674dcaff25010e09e450aec458b8870d9e98c46f99538db457ab659b321d9989       538754 freeglut-3.8.0.tar.gz


[FILE:55:manifests/plist.primary]
lib/
 libglut.so.%%SOMAJOR%%
 libglut.so.%%SOVERSION%%


[FILE:257:manifests/plist.dev]
include/GL/
 freeglut.h
 freeglut_ext.h
 freeglut_std.h
 freeglut_ucall.h
 glut.h
lib/
 libglut.a
 libglut.so
lib/cmake/FreeGLUT/
 FreeGLUTConfig.cmake
 FreeGLUTConfigVersion.cmake
 FreeGLUTTargets-release.cmake
 FreeGLUTTargets.cmake
lib/pkgconfig/glut.pc


[FILE:157:manifests/plist.examples]
share/examples/freeglut/
 CallbackMaker
 Fractals
 Fractals_random
 Lorenz
 One
 fractals.dat
 multi-touch
 shapes
 smooth_opengl3
 spaceball
 subwin
 timer


[FILE:1777:manifests/plist.man]
share/man/man3/
 glut.3
 glutAddMenuEntry.3
 glutAddSubMenu.3
 glutAttachMenu.3
 glutBitmapCharacter.3
 glutBitmapWidth.3
 glutButtonBoxFunc.3
 glutChangeToMenuEntry.3
 glutChangeToSubMenu.3
 glutCopyColormap.3
 glutCreateMenu.3
 glutCreateSubWindow.3
 glutCreateWindow.3
 glutDestroyMenu.3
 glutDestroyWindow.3
 glutDeviceGet.3
 glutDialsFunc.3
 glutDisplayFunc.3
 glutEnterGameMode.3
 glutEntryFunc.3
 glutEstablishOverlay.3
 glutExtensionSupported.3
 glutForceJoystickFunc.3
 glutFullScreen.3
 glutGameModeGet.3
 glutGameModeString.3
 glutGet.3
 glutGetColor.3
 glutGetModifiers.3
 glutIdleFunc.3
 glutIgnoreKeyRepeat.3
 glutInit.3
 glutInitDisplayMode.3
 glutInitDisplayString.3
 glutInitWindowPosition.3
 glutJoystickFunc.3
 glutKeyboardFunc.3
 glutKeyboardUpFunc.3
 glutLayerGet.3
 glutMainLoop.3
 glutMenuStatusFunc.3
 glutMotionFunc.3
 glutMouseFunc.3
 glutOverlayDisplayFunc.3
 glutPopWindow.3
 glutPositionWindow.3
 glutPostOverlayRedisplay.3
 glutPostRedisplay.3
 glutRemoveMenuItem.3
 glutRemoveOverlay.3
 glutReportErrors.3
 glutReshapeFunc.3
 glutReshapeWindow.3
 glutSetColor.3
 glutSetCursor.3
 glutSetKeyRepeat.3
 glutSetMenu.3
 glutSetWindow.3
 glutSetWindowTitle.3
 glutShowOverlay.3
 glutShowWindow.3
 glutSolidCone.3
 glutSolidCube.3
 glutSolidDodecahedron.3
 glutSolidIcosahedron.3
 glutSolidOctahedron.3
 glutSolidSphere.3
 glutSolidTeapot.3
 glutSolidTetrahedron.3
 glutSolidTorus.3
 glutSpaceballButtonFunc.3
 glutSpaceballMotionFunc.3
 glutSpaceballRotateFunc.3
 glutSpecialFunc.3
 glutSpecialUpFunc.3
 glutStrokeCharacter.3
 glutStrokeWidth.3
 glutSwapBuffers.3
 glutSwapInterval.3
 glutTabletButtonFunc.3
 glutTabletMotionFunc.3
 glutTimerFunc.3
 glutUseLayer.3
 glutVideoResizeGet.3
 glutVisibilityFunc.3
 glutWarpPointer.3
 glutWindowStatusFunc.3


[FILE:390:patches/patch-src_fg__internal.h]
--- src/fg_internal.h.orig	2025-11-26 21:09:49.131780000 +0100
+++ src/fg_internal.h	2025-11-26 21:10:05.151605000 +0100
@@ -134,10 +134,6 @@
 #    include <time.h>
 #endif
 
-#if defined(__FreeBSD__) || defined(__NetBSD__)
-#    define HAVE_USB_JS 1
-#endif
-
 #if defined(_MSC_VER) || defined(__WATCOMC__)
 /* strdup() is non-standard, for all but POSIX-2001 */
 #define strdup   _strdup

