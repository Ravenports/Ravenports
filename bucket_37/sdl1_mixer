# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		sdl1_mixer
VERSION=		1.2.12
KEYWORDS=		audio
VARIANTS=		standard
SDESC[standard]=	SDL multi-channel audio mixer library
HOMEPAGE=		https://www.libsdl.org/projects/SDL_mixer
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://www.libsdl.org/projects/SDL_mixer/release/
DISTFILE[1]=		SDL_mixer-1.2.12.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	flac:primary:standard
			libmikmod:single:standard
			smpeg:single:standard
			timidity:single:standard

USES=			fbsd10fix gmake libtool pkgconfig
SDL_COMPONENTS=		sdl1

DISTNAME=		SDL_mixer-1.2.12

LICENSE=		ZLIB:single
LICENSE_FILE=		ZLIB:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		audio/sdl_mixer

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-music-flac
			--enable-music-mod
			--enable-music-mp3
			--enable-music-ogg

SOVERSION=		0.12.0
PLIST_SUB=		LIBVERSION=1.2

post-patch:
	${REINPLACE_CMD} -e 's|__PREFIX__|${PREFIX}|g' \
		${WRKSRC}/timidity/config.h

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libSDL_mixer-1.2.so.0.12.0

[FILE:323:descriptions/desc.single]
SDL_mixer is a sound mixing library that is used with the SDL library, and 
almost as portable. It allows a programmer to use multiple samples along 
with music without having to code a mixing algorithm themselves. It also 
simplyfies the handling of loading and playing samples and music from all 
sorts of file formats. 


[FILE:102:distinfo]
1644308279a975799049e4826af2cfc787cad2abb11aa14562e402521f86992a      3707781 SDL_mixer-1.2.12.tar.gz


[FILE:179:manifests/plist.single]
include/SDL/SDL_mixer.h
lib/
 libSDL_mixer-%%LIBVERSION%%.so.%%SOMAJOR%%
 libSDL_mixer-%%LIBVERSION%%.so.%%SOVERSION%%
 libSDL_mixer.a
 libSDL_mixer.so
lib/pkgconfig/SDL_mixer.pc


[FILE:498:patches/patch-timidity_config.h]
--- timidity/config.h.orig	2018-04-29 19:42:45.009410000 +0200
+++ timidity/config.h	2018-04-29 19:42:59.308223000 +0200
@@ -161,7 +161,7 @@
 /* You could specify a complete path, e.g. "/etc/timidity.cfg", and
    then specify the library directory in the configuration file. */
 #define CONFIG_FILE	"timidity.cfg"
-#define CONFIG_FILE_ETC "/etc/timidity.cfg"
+#define CONFIG_FILE_ETC "__PREFIX__/etc/timidity.cfg"
 
 #if defined(__WIN32__) || defined(__OS2__)
 #define DEFAULT_PATH	"C:\\TIMIDITY"

