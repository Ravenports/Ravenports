# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		python-aiohttp
VERSION=		3.9.1
KEYWORDS=		python
VARIANTS=		v11 v12
SDESC[v11]=		Async http client/server framework (3.11)
SDESC[v12]=		Async http client/server framework (3.12)
HOMEPAGE=		https://github.com/aio-libs/aiohttp
CONTACT=		Python_Automaton[python@ironwolf.systems]

DOWNLOAD_GROUPS=	main
SITES[main]=		PYPI/a/aiohttp
DISTFILE[1]=		aiohttp-3.9.1.tar.gz:main
DF_INDEX=		1
SPKGS[v11]=		single
SPKGS[v12]=		single

OPTIONS_AVAILABLE=	PY311 PY312
OPTIONS_STANDARD=	none
VOPTS[v11]=		PY311=ON PY312=OFF
VOPTS[v12]=		PY311=OFF PY312=ON

USES=			cpe

DISTNAME=		aiohttp-3.9.1

CPE_PRODUCT=		aiohttp
CPE_VENDOR=		aiohttp_project
GENERATED=		yes

[PY311].BUILDRUN_DEPENDS_ON=		python-attrs:single:v11
					python-multidict:single:v11
					python-yarl:single:v11
					python-frozenlist:single:v11
					python-aiosignal:single:v11
[PY311].USES_ON=			python:v11,sutools

[PY312].BROKEN_ON=			Will not build with python 3.12
[PY312].BUILDRUN_DEPENDS_ON=		python-attrs:single:v12
					python-multidict:single:v12
					python-yarl:single:v12
					python-frozenlist:single:v12
					python-aiosignal:single:v12
[PY312].USES_ON=			python:v12,sutools

[FILE:2288:descriptions/desc.single]
==================================
Async http client/server framework
==================================

   :alt: GitHub Actions status for master branch

   :alt: codecov.io status for master branch

   :alt: Latest PyPI package version

   :alt: Latest Read The Docs

   :alt: Matrix Room — #aio-libs:matrix.org

   :alt: Matrix Space — #aio-libs-space:matrix.org

Key Features
============

- Supports both client and server side of HTTP protocol.
- Supports both client and server Web-Sockets out-of-the-box and avoids
  Callback Hell.
- Provides Web-server with middleware and pluggable routing.

Getting started
===============

Client
------

To get something from the web:

.. code-block:: python

  import aiohttp
  import asyncio

  async def main():

      async with aiohttp.ClientSession() as session:
          async with session.get('http://python.org') as response:

              print("Status:", response.status)
              print("Content-type:", response.headers['content-type'])

              html = await response.text()
              print("Body:", html[:15], "...")

  asyncio.run(main())

This prints:

.. code-block::

    Status: 200
    Content-type: text/html; charset=utf-8
    Body: <!doctype html> ...

Coming from [requests] ? Read [why we need so many lines].

Server
------

An example using a simple server:

.. code-block:: python

    # examples/server_simple.py
    from aiohttp import web

    async def handle(request):
        name = request.match_info.get('name', "Anonymous")
        text = "Hello, " + name
        return web.Response(text=text)

    async def wshandle(request):
        ws = web.WebSocketResponse()
        await ws.prepare(request)

        async for msg in ws:
            if msg.type == web.WSMsgType.text:
                await ws.send_str("Hello, {}".format(msg.data))
            elif msg.type == web.WSMsgType.binary:
                await ws.send_bytes(msg.data)
            elif msg.type == web.WSMsgType.close:
                break

        return ws

    app = web.Application()
    app.add_routes([web.get('/', handle),
                    web.get('/echo', wshandle),
                    web.get('/{name}', handle)])

    if __name__ == '__main__':
        web.run_app(app)

Documentation
=============



[FILE:99:distinfo]
8fc49a87ac269d4529da45871e2ffb6874e87779c3d0e2ccd813c0899221239d      7482118 aiohttp-3.9.1.tar.gz

