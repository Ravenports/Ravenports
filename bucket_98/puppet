# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		puppet
VERSION=		5.5.2
REVISION=		1
KEYWORDS=		sysutils
VARIANTS=		standard
SDESC[standard]=	Server automation framework and application
HOMEPAGE=		https://puppet.com/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/puppetlabs:puppet:5.5.2
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			examples

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	facter:single:standard
			ruby-hiera:single:ruby_default
			ruby-json_pure:single:ruby_default
RUN_DEPENDS=		ruby-gettext-setup:single:ruby_default
			ruby-hocon:single:ruby_default
			ruby-ruby-augeas:single:ruby_default

USERS=			puppet
GROUPS=			puppet
USERGROUP_SPKG=		primary

USES=			cpe ruby

LICENSE=		APACHE20:primary
LICENSE_TERMS=		primary:{{WRKSRC}}/LICENSE
LICENSE_FILE=		APACHE20:stock
LICENSE_SCHEME=		solo

CPE_VENDOR=		puppetlabs
FPC_EQUIVALENT=		sysutils/puppet5

RC_SUBR=		puppet:primary
			puppetmaster:primary
SUB_FILES=		pkg-message-primary-freebsd
			pkg-message-primary-dragonfly
SUB_LIST=		RUBY={{RUBY}}

post-patch:
	${REINPLACE_CMD} -e "s|/etc/puppetlabs/puppet|${PREFIX}/etc/puppet|" \
		${WRKSRC}/install.rb \
		${WRKSRC}/lib/puppet/reference/configuration.rb \
		${WRKSRC}/lib/puppet/util/run_mode.rb
	${REINPLACE_CMD} -e "s|/etc/puppetlabs/code|${PREFIX}/etc/puppet|" \
		${WRKSRC}/install.rb \
		${WRKSRC}/lib/puppet/reference/configuration.rb \
		${WRKSRC}/lib/puppet/util/run_mode.rb
	${REINPLACE_CMD} -e "s|/opt/puppetlabs/puppet/cache|/var/puppet|" \
		${WRKSRC}/install.rb \
		${WRKSRC}/lib/puppet/reference/configuration.rb \
		${WRKSRC}/lib/puppet/util/run_mode.rb
	${REINPLACE_CMD} -e "s|/var/run/puppetlabs|/var/run/puppet|" \
		${WRKSRC}/install.rb \
		${WRKSRC}/lib/puppet/util/run_mode.rb
	${REINPLACE_CMD} -e "s|/var/log/puppetlabs/puppet|/var/log/puppet|" \
		${WRKSRC}/install.rb \
		${WRKSRC}/lib/puppet/util/run_mode.rb
	${REINPLACE_CMD} -e "s|/opt/puppetlabs/puppet/modules|${PREFIX}/etc/puppet/modules|" \
		${WRKSRC}/lib/puppet/defaults.rb
	${REINPLACE_CMD} -e "s|/opt/puppetlabs/puppet/bin/gem|${LOCALBASE}/bin/gem|" \
		${WRKSRC}/lib/puppet/provider/package/puppet_gem.rb
	${REINPLACE_CMD} -e "s|\$$confdir/ssl|/var/puppet/ssl|" \
		${WRKSRC}/lib/puppet/defaults.rb
	${REINPLACE_CMD} -e "s|\.\./\.\./\.\./locales|../locales|" \
		${WRKSRC}/lib/puppet/gettext/config.rb
	${REINPLACE_CMD} -e "s|%%PREFIX%%|${PREFIX}|" \
		${WRKSRC}/lib/puppet/provider/service/daemontools.rb \
		${WRKSRC}/ext/rack/config.ru

do-build:
	(cd ${WRKSRC} && ${SETENV} PREFIX=${PREFIX} LC_ALL=C.UTF-8 \
		${RUBY} ${WRKSRC}/install.rb --no-configs \
		--destdir=${STAGEDIR} \
		--localedir=${RUBY_SITELIBDIR}/puppet/locales)

do-install:
	${MKDIR} ${STAGEDIR}${STD_EXAMPLESDIR} \
		${STAGEDIR}${PREFIX}/etc/puppet/manifests \
		${STAGEDIR}${PREFIX}/etc/puppet/modules \
		${STAGEDIR}${PREFIX}/www/puppet \
		${STAGEDIR}/var/puppet
	${INSTALL_DATA} ${WRKSRC}/conf/auth.conf \
		${STAGEDIR}${PREFIX}/etc/puppet/auth.conf-dist
	${SETENV} LC_ALL=C.UTF-8 ${RUBY} \
		-I ${STAGEDIR}/${RUBY_SITELIBDIR} \
		${STAGEDIR}${PREFIX}/bin/puppet agent --genconfig \
		--confdir=${PREFIX}/etc/puppet \
		--rundir=/var/run/puppet \
		--vardir=/var/puppet \
		--logdir=/var/log/puppet \
		--codedir=${PREFIX}/etc/puppet \
		> ${STAGEDIR}${PREFIX}/etc/puppet/puppet.conf-dist
	${INSTALL_DATA} ${WRKSRC}/ext/rack/config.ru \
		${STAGEDIR}${PREFIX}/www/puppet/
	# handle examples
	(cd ${WRKSRC}/examples && \
		${COPYTREE_SHARE} . ${STAGEDIR}${STD_EXAMPLESDIR})
	${INSTALL_DATA} ${WRKSRC}/ext/rack/example-passenger-vhost.conf \
		${STAGEDIR}${STD_EXAMPLESDIR}

[FILE:305:descriptions/desc.primary]
Puppet lets you centrally manage every important aspect of your system
using a cross-platform specification language that manages all the separate
elements normally aggregated in different files, like users, cron jobs, and
hosts, along with obviously discrete elements like packages, services, and
files.


[FILE:109:distinfo]
5c46e00f89e7ee1fd8f547f2141e3f87f6cffcc7b05d0150c8e2e697720b63bd      3490721 puppetlabs-puppet-5.5.2.tar.gz


[FILE:24230:manifests/plist.primary]
%%RUBY_SITELIBDIR%%/
 hiera_puppet.rb
 puppet.rb
 puppet_pal.rb
 puppet_x.rb
%%RUBY_SITELIBDIR%%/hiera/
 puppet_function.rb
 scope.rb
%%RUBY_SITELIBDIR%%/puppet/
 agent.rb
 application.rb
 application_support.rb
 coercion.rb
 compilable_resource_type.rb
 configurer.rb
 confine.rb
 confine_collection.rb
 confiner.rb
 context.rb
 daemon.rb
 data_binding.rb
 datatypes.rb
 defaults.rb
 defaults.rb.bak
 environments.rb
 error.rb
 etc.rb
 face.rb
 file_bucket.rb
 file_serving.rb
 file_system.rb
 forge.rb
 functions.rb
 graph.rb
 indirector.rb
 info_service.rb
 interface.rb
 loaders.rb
 module.rb
 module_tool.rb
 network.rb
 node.rb
 parameter.rb
 parser.rb
 plugins.rb
 pops.rb
 property.rb
 provider.rb
 relationship.rb
 reports.rb
 resource.rb
 scheduler.rb
 settings.rb
 ssl.rb
 status.rb
 syntax_checkers.rb
 transaction.rb
 type.rb
 util.rb
 vendor.rb
 version.rb
%%RUBY_SITELIBDIR%%/puppet/agent/
 disabler.rb
 locker.rb
%%RUBY_SITELIBDIR%%/puppet/application/
 agent.rb
 apply.rb
 ca.rb
 catalog.rb
 cert.rb
 certificate.rb
 certificate_request.rb
 certificate_revocation_list.rb
 config.rb
 describe.rb
 device.rb
 doc.rb
 epp.rb
 face_base.rb
 facts.rb
 filebucket.rb
 generate.rb
 help.rb
 indirection_base.rb
 key.rb
 lookup.rb
 man.rb
 master.rb
 module.rb
 node.rb
 parser.rb
 plugin.rb
 report.rb
 resource.rb
 script.rb
 status.rb
%%RUBY_SITELIBDIR%%/puppet/configurer/
 downloader.rb
 fact_handler.rb
 plugin_handler.rb
%%RUBY_SITELIBDIR%%/puppet/confine/
 any.rb
 exists.rb
 false.rb
 feature.rb
 true.rb
 variable.rb
%%RUBY_SITELIBDIR%%/puppet/context/trusted_information.rb
%%RUBY_SITELIBDIR%%/puppet/datatypes/error.rb
%%RUBY_SITELIBDIR%%/puppet/datatypes/impl/error.rb
%%RUBY_SITELIBDIR%%/puppet/external/
 dot.rb
 nagios.rb
%%RUBY_SITELIBDIR%%/puppet/external/nagios/
 base.rb
 grammar.ry
 makefile
 parser.rb
%%RUBY_SITELIBDIR%%/puppet/external/pson/
 common.rb
 pure.rb
 version.rb
%%RUBY_SITELIBDIR%%/puppet/external/pson/pure/
 generator.rb
 parser.rb
%%RUBY_SITELIBDIR%%/puppet/face/
 ca.rb
 catalog.rb
 certificate.rb
 certificate_request.rb
 certificate_revocation_list.rb
 config.rb
 epp.rb
 facts.rb
 generate.rb
 help.rb
 key.rb
 man.rb
 module.rb
 node.rb
 parser.rb
 plugin.rb
 report.rb
 resource.rb
 status.rb
%%RUBY_SITELIBDIR%%/puppet/face/catalog/select.rb
%%RUBY_SITELIBDIR%%/puppet/face/help/
 action.erb
 face.erb
 global.erb
 man.erb
%%RUBY_SITELIBDIR%%/puppet/face/module/
 build.rb
 changes.rb
 generate.rb
 install.rb
 list.rb
 search.rb
 uninstall.rb
 upgrade.rb
%%RUBY_SITELIBDIR%%/puppet/face/node/clean.rb
%%RUBY_SITELIBDIR%%/puppet/feature/
 base.rb
 bolt.rb
 cfpropertylist.rb
 eventlog.rb
 hiera_eyaml.rb
 hocon.rb
 libuser.rb
 msgpack.rb
 pe_license.rb
 rack.rb
 selinux.rb
 ssh.rb
 telnet.rb
 zlib.rb
%%RUBY_SITELIBDIR%%/puppet/file_bucket/
 dipper.rb
 file.rb
%%RUBY_SITELIBDIR%%/puppet/file_serving/
 base.rb
 configuration.rb
 content.rb
 fileset.rb
 http_metadata.rb
 metadata.rb
 mount.rb
 terminus_helper.rb
 terminus_selector.rb
%%RUBY_SITELIBDIR%%/puppet/file_serving/configuration/parser.rb
%%RUBY_SITELIBDIR%%/puppet/file_serving/mount/
 file.rb
 locales.rb
 modules.rb
 pluginfacts.rb
 plugins.rb
 tasks.rb
%%RUBY_SITELIBDIR%%/puppet/file_system/
 file_impl.rb
 memory_file.rb
 memory_impl.rb
 path_pattern.rb
 posix.rb
 uniquefile.rb
 windows.rb
%%RUBY_SITELIBDIR%%/puppet/forge/
 cache.rb
 errors.rb
 repository.rb
%%RUBY_SITELIBDIR%%/puppet/functions/
 alert.rb
 all.rb
 annotate.rb
 any.rb
 assert_type.rb
 binary_file.rb
 break.rb
 call.rb
 contain.rb
 convert_to.rb
 crit.rb
 debug.rb
 defined.rb
 dig.rb
 each.rb
 emerg.rb
 empty.rb
 epp.rb
 err.rb
 eyaml_lookup_key.rb
 filter.rb
 find_file.rb
 flatten.rb
 hiera.rb
 hiera_array.rb
 hiera_hash.rb
 hiera_include.rb
 hocon_data.rb
 import.rb
 include.rb
 info.rb
 inline_epp.rb
 join.rb
 json_data.rb
 keys.rb
 length.rb
 lest.rb
 lookup.rb
 map.rb
 match.rb
 module_directory.rb
 new.rb
 next.rb
 notice.rb
 reduce.rb
 regsubst.rb
 require.rb
 return.rb
 reverse_each.rb
 scanf.rb
 slice.rb
 split.rb
 step.rb
 strftime.rb
 then.rb
 tree_each.rb
 type.rb
 unique.rb
 unwrap.rb
 values.rb
 versioncmp.rb
 warning.rb
 with.rb
 yaml_data.rb
%%RUBY_SITELIBDIR%%/puppet/generate/type.rb
%%RUBY_SITELIBDIR%%/puppet/generate/models/type/
 property.rb
 type.rb
%%RUBY_SITELIBDIR%%/puppet/generate/templates/type/pcore.erb
%%RUBY_SITELIBDIR%%/puppet/gettext/
 config.rb
 config.rb.bak
 module_translations.rb
 stubs.rb
%%RUBY_SITELIBDIR%%/puppet/graph/
 key.rb
 prioritizer.rb
 random_prioritizer.rb
 rb_tree_map.rb
 relationship_graph.rb
 sequential_prioritizer.rb
 simple_graph.rb
 title_hash_prioritizer.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/
 certificate_status.rb
 code.rb
 direct_file_server.rb
 envelope.rb
 errors.rb
 exec.rb
 face.rb
 file_content.rb
 file_metadata.rb
 file_server.rb
 generic_http.rb
 hiera.rb
 indirection.rb
 json.rb
 ldap.rb
 memory.rb
 msgpack.rb
 none.rb
 plain.rb
 request.rb
 rest.rb
 ssl_file.rb
 status.rb
 store_configs.rb
 terminus.rb
 yaml.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/catalog/
 compiler.rb
 json.rb
 msgpack.rb
 rest.rb
 store_configs.rb
 yaml.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/certificate/
 ca.rb
 disabled_ca.rb
 file.rb
 rest.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/certificate_request/
 ca.rb
 disabled_ca.rb
 file.rb
 memory.rb
 rest.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/certificate_revocation_list/
 ca.rb
 disabled_ca.rb
 file.rb
 rest.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/certificate_status/
 file.rb
 rest.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/data_binding/
 hiera.rb
 none.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/facts/
 facter.rb
 memory.rb
 network_device.rb
 rest.rb
 store_configs.rb
 yaml.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/file_bucket_file/
 file.rb
 rest.rb
 selector.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/file_content/
 file.rb
 file_server.rb
 http.rb
 rest.rb
 selector.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/file_metadata/
 file.rb
 file_server.rb
 http.rb
 rest.rb
 selector.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/key/
 ca.rb
 disabled_ca.rb
 file.rb
 memory.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/node/
 exec.rb
 ldap.rb
 memory.rb
 msgpack.rb
 plain.rb
 rest.rb
 store_configs.rb
 write_only_yaml.rb
 yaml.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/report/
 msgpack.rb
 processor.rb
 rest.rb
 yaml.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/resource/
 ral.rb
 store_configs.rb
 validator.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/status/
 local.rb
 rest.rb
%%RUBY_SITELIBDIR%%/puppet/info_service/
 class_information_service.rb
 task_information_service.rb
%%RUBY_SITELIBDIR%%/puppet/interface/
 action.rb
 action_builder.rb
 action_manager.rb
 documentation.rb
 face_collection.rb
 option.rb
 option_builder.rb
 option_manager.rb
%%RUBY_SITELIBDIR%%/puppet/locales/
 config.yaml
 puppet.pot
%%RUBY_SITELIBDIR%%/puppet/locales/en/puppet.po
%%RUBY_SITELIBDIR%%/puppet/locales/ja/puppet.po
%%RUBY_SITELIBDIR%%/puppet/metatype/manager.rb
%%RUBY_SITELIBDIR%%/puppet/module/task.rb
%%RUBY_SITELIBDIR%%/puppet/module_tool/
 applications.rb
 checksums.rb
 contents_description.rb
 dependency.rb
 errors.rb
 install_directory.rb
 installed_modules.rb
 local_tarball.rb
 metadata.rb
 shared_behaviors.rb
 tar.rb
%%RUBY_SITELIBDIR%%/puppet/module_tool/applications/
 application.rb
 builder.rb
 checksummer.rb
 installer.rb
 searcher.rb
 uninstaller.rb
 unpacker.rb
 upgrader.rb
%%RUBY_SITELIBDIR%%/puppet/module_tool/errors/
 base.rb
 installer.rb
 shared.rb
 uninstaller.rb
 upgrader.rb
%%RUBY_SITELIBDIR%%/puppet/module_tool/skeleton/templates/generator/
 Gemfile
 README.md.erb
 Rakefile
 metadata.json.erb
%%RUBY_SITELIBDIR%%/puppet/module_tool/skeleton/templates/generator/examples/init.pp.erb
%%RUBY_SITELIBDIR%%/puppet/module_tool/skeleton/templates/generator/manifests/init.pp.erb
%%RUBY_SITELIBDIR%%/puppet/module_tool/skeleton/templates/generator/spec/spec_helper.rb
%%RUBY_SITELIBDIR%%/puppet/module_tool/skeleton/templates/generator/spec/classes/init_spec.rb.erb
%%RUBY_SITELIBDIR%%/puppet/module_tool/tar/
 gnu.rb
 mini.rb
%%RUBY_SITELIBDIR%%/puppet/network/
 auth_config_parser.rb
 authconfig.rb
 authorization.rb
 authstore.rb
 client_request.rb
 format.rb
 format_handler.rb
 format_support.rb
 formats.rb
 http.rb
 http_pool.rb
 resolver.rb
 rest_controller.rb
 rights.rb
 server.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/
 api.rb
 compression.rb
 connection.rb
 error.rb
 factory.rb
 handler.rb
 issues.rb
 memory_response.rb
 nocache_pool.rb
 pool.rb
 rack.rb
 request.rb
 response.rb
 route.rb
 session.rb
 site.rb
 webrick.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/api/
 ca.rb
 indirected_routes.rb
 indirection_type.rb
 master.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/api/ca/v1.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/api/master/v3.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/api/master/v3/
 authorization.rb
 environment.rb
 environments.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/rack/rest.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/webrick/rest.rb
%%RUBY_SITELIBDIR%%/puppet/node/
 environment.rb
 facts.rb
%%RUBY_SITELIBDIR%%/puppet/parameter/
 boolean.rb
 package_options.rb
 path.rb
 value.rb
 value_collection.rb
%%RUBY_SITELIBDIR%%/puppet/parser/
 abstract_compiler.rb
 ast.rb
 compiler.rb
 e4_parser_adapter.rb
 environment_compiler.rb
 files.rb
 functions.rb
 parser_factory.rb
 relationship.rb
 resource.rb
 scope.rb
 script_compiler.rb
 templatewrapper.rb
 type_loader.rb
%%RUBY_SITELIBDIR%%/puppet/parser/ast/
 block_expression.rb
 branch.rb
 hostclass.rb
 leaf.rb
 node.rb
 pops_bridge.rb
 resource.rb
 resource_instance.rb
 resourceparam.rb
 top_level_construct.rb
%%RUBY_SITELIBDIR%%/puppet/parser/compiler/catalog_validator.rb
%%RUBY_SITELIBDIR%%/puppet/parser/compiler/catalog_validator/
 env_relationship_validator.rb
 relationship_validator.rb
 site_validator.rb
%%RUBY_SITELIBDIR%%/puppet/parser/functions/
 assert_type.rb
 binary_file.rb
 break.rb
 contain.rb
 create_resources.rb
 defined.rb
 dig.rb
 digest.rb
 each.rb
 epp.rb
 fail.rb
 file.rb
 filter.rb
 find_file.rb
 fqdn_rand.rb
 generate.rb
 hiera.rb
 hiera_array.rb
 hiera_hash.rb
 hiera_include.rb
 include.rb
 inline_epp.rb
 inline_template.rb
 lest.rb
 lookup.rb
 map.rb
 match.rb
 md5.rb
 new.rb
 next.rb
 realize.rb
 reduce.rb
 regsubst.rb
 require.rb
 return.rb
 reverse_each.rb
 scanf.rb
 sha1.rb
 sha256.rb
 shellquote.rb
 slice.rb
 split.rb
 sprintf.rb
 step.rb
 strftime.rb
 tag.rb
 tagged.rb
 template.rb
 then.rb
 type.rb
 versioncmp.rb
 with.rb
%%RUBY_SITELIBDIR%%/puppet/parser/resource/param.rb
%%RUBY_SITELIBDIR%%/puppet/plugins/
 configuration.rb
 syntax_checkers.rb
%%RUBY_SITELIBDIR%%/puppet/pops/
 adaptable.rb
 adapters.rb
 issue_reporter.rb
 issues.rb
 label_provider.rb
 loaders.rb
 lookup.rb
 merge_strategy.rb
 patterns.rb
 pcore.rb
 pn.rb
 puppet_stack.rb
 semantic_error.rb
 serialization.rb
 utils.rb
 validation.rb
 visitable.rb
 visitor.rb
%%RUBY_SITELIBDIR%%/puppet/pops/evaluator/
 access_operator.rb
 callable_signature.rb
 closure.rb
 collector_transformer.rb
 compare_operator.rb
 epp_evaluator.rb
 evaluator_impl.rb
 external_syntax_support.rb
 json_strict_literal_evaluator.rb
 literal_evaluator.rb
 puppet_proc.rb
 relationship_operator.rb
 runtime3_converter.rb
 runtime3_resource_support.rb
 runtime3_support.rb
%%RUBY_SITELIBDIR%%/puppet/pops/evaluator/collectors/
 abstract_collector.rb
 catalog_collector.rb
 exported_collector.rb
 fixed_set_collector.rb
%%RUBY_SITELIBDIR%%/puppet/pops/functions/
 dispatch.rb
 dispatcher.rb
 function.rb
%%RUBY_SITELIBDIR%%/puppet/pops/loader/
 base_loader.rb
 dependency_loader.rb
 gem_support.rb
 loader.rb
 loader_paths.rb
 module_loaders.rb
 null_loader.rb
 predefined_loader.rb
 puppet_function_instantiator.rb
 puppet_plan_instantiator.rb
 puppet_resource_type_impl_instantiator.rb
 ruby_data_type_instantiator.rb
 ruby_function_instantiator.rb
 runtime3_type_loader.rb
 simple_environment_loader.rb
 static_loader.rb
 task_instantiator.rb
 type_definition_instantiator.rb
 typed_name.rb
 uri_helper.rb
%%RUBY_SITELIBDIR%%/puppet/pops/lookup/
 configured_data_provider.rb
 context.rb
 data_adapter.rb
 data_dig_function_provider.rb
 data_hash_function_provider.rb
 data_provider.rb
 environment_data_provider.rb
 explainer.rb
 function_provider.rb
 global_data_provider.rb
 hiera_config.rb
 interpolation.rb
 invocation.rb
 location_resolver.rb
 lookup_adapter.rb
 lookup_key.rb
 lookup_key_function_provider.rb
 module_data_provider.rb
 sub_lookup.rb
%%RUBY_SITELIBDIR%%/puppet/pops/migration/migration_checker.rb
%%RUBY_SITELIBDIR%%/puppet/pops/model/
 ast.pp
 ast.rb
 ast_transformer.rb
 factory.rb
 model_label_provider.rb
 model_tree_dumper.rb
 pn_transformer.rb
 tree_dumper.rb
%%RUBY_SITELIBDIR%%/puppet/pops/parser/
 code_merger.rb
 egrammar.ra
 eparser.rb
 epp_parser.rb
 epp_support.rb
 evaluating_parser.rb
 heredoc_support.rb
 interpolation_support.rb
 lexer2.rb
 lexer_support.rb
 locatable.rb
 locator.rb
 parser_support.rb
 pn_parser.rb
 slurp_support.rb
%%RUBY_SITELIBDIR%%/puppet/pops/resource/
 param.rb
 resource_type_impl.rb
 resource_type_set.pcore
%%RUBY_SITELIBDIR%%/puppet/pops/serialization/
 abstract_reader.rb
 abstract_writer.rb
 deserializer.rb
 extension.rb
 from_data_converter.rb
 instance_reader.rb
 instance_writer.rb
 json.rb
 json_path.rb
 object.rb
 serializer.rb
 time_factory.rb
 to_data_converter.rb
%%RUBY_SITELIBDIR%%/puppet/pops/time/
 timespan.rb
 timestamp.rb
%%RUBY_SITELIBDIR%%/puppet/pops/types/
 annotatable.rb
 annotation.rb
 class_loader.rb
 enumeration.rb
 implementation_registry.rb
 iterable.rb
 p_binary_type.rb
 p_init_type.rb
 p_meta_type.rb
 p_object_type.rb
 p_object_type_extension.rb
 p_runtime_type.rb
 p_sem_ver_range_type.rb
 p_sem_ver_type.rb
 p_sensitive_type.rb
 p_timespan_type.rb
 p_timestamp_type.rb
 p_type_set_type.rb
 p_uri_type.rb
 puppet_object.rb
 recursion_guard.rb
 ruby_generator.rb
 ruby_method.rb
 string_converter.rb
 tree_iterators.rb
 type_acceptor.rb
 type_asserter.rb
 type_assertion_error.rb
 type_calculator.rb
 type_conversion_error.rb
 type_factory.rb
 type_formatter.rb
 type_mismatch_describer.rb
 type_parser.rb
 type_set_reference.rb
 type_with_members.rb
 types.rb
%%RUBY_SITELIBDIR%%/puppet/pops/validation/
 checker4_0.rb
 tasks_checker.rb
 validator_factory_4_0.rb
%%RUBY_SITELIBDIR%%/puppet/property/
 boolean.rb
 ensure.rb
 keyvalue.rb
 list.rb
 ordered_list.rb
%%RUBY_SITELIBDIR%%/puppet/provider/
 aixobject.rb
 cisco.rb
 command.rb
 confine.rb
 exec.rb
 ldap.rb
 mount.rb
 naginator.rb
 nameservice.rb
 network_device.rb
 package.rb
 parsedfile.rb
%%RUBY_SITELIBDIR%%/puppet/provider/augeas/augeas.rb
%%RUBY_SITELIBDIR%%/puppet/provider/computer/computer.rb
%%RUBY_SITELIBDIR%%/puppet/provider/cron/crontab.rb
%%RUBY_SITELIBDIR%%/puppet/provider/exec/
 posix.rb
 shell.rb
 windows.rb
%%RUBY_SITELIBDIR%%/puppet/provider/file/
 posix.rb
 windows.rb
%%RUBY_SITELIBDIR%%/puppet/provider/group/
 aix.rb
 directoryservice.rb
 groupadd.rb
 ldap.rb
 pw.rb
 windows_adsi.rb
%%RUBY_SITELIBDIR%%/puppet/provider/host/parsed.rb
%%RUBY_SITELIBDIR%%/puppet/provider/interface/cisco.rb
%%RUBY_SITELIBDIR%%/puppet/provider/macauthorization/macauthorization.rb
%%RUBY_SITELIBDIR%%/puppet/provider/mailalias/aliases.rb
%%RUBY_SITELIBDIR%%/puppet/provider/maillist/mailman.rb
%%RUBY_SITELIBDIR%%/puppet/provider/mcx/mcxcontent.rb
%%RUBY_SITELIBDIR%%/puppet/provider/mount/parsed.rb
%%RUBY_SITELIBDIR%%/puppet/provider/nameservice/
 directoryservice.rb
 objectadd.rb
 pw.rb
%%RUBY_SITELIBDIR%%/puppet/provider/package/
 aix.rb
 appdmg.rb
 apple.rb
 apt.rb
 aptitude.rb
 aptrpm.rb
 blastwave.rb
 dnf.rb
 dpkg.rb
 fink.rb
 freebsd.rb
 gem.rb
 hpux.rb
 macports.rb
 nim.rb
 openbsd.rb
 opkg.rb
 pacman.rb
 pip.rb
 pip3.rb
 pkg.rb
 pkgdmg.rb
 pkgin.rb
 pkgng.rb
 pkgutil.rb
 portage.rb
 ports.rb
 portupgrade.rb
 puppet_gem.rb
 puppet_gem.rb.bak
 rpm.rb
 rug.rb
 sun.rb
 sunfreeware.rb
 tdnf.rb
 up2date.rb
 urpmi.rb
 windows.rb
 yum.rb
 zypper.rb
%%RUBY_SITELIBDIR%%/puppet/provider/package/windows/
 exe_package.rb
 msi_package.rb
 package.rb
%%RUBY_SITELIBDIR%%/puppet/provider/scheduled_task/win32_taskscheduler.rb
%%RUBY_SITELIBDIR%%/puppet/provider/selboolean/getsetsebool.rb
%%RUBY_SITELIBDIR%%/puppet/provider/selmodule/semodule.rb
%%RUBY_SITELIBDIR%%/puppet/provider/service/
 base.rb
 bsd.rb
 daemontools.rb
 daemontools.rb.bak
 daemontools.rb.orig
 debian.rb
 freebsd.rb
 gentoo.rb
 init.rb
 launchd.rb
 openbsd.rb
 openrc.rb
 openwrt.rb
 rcng.rb
 redhat.rb
 runit.rb
 service.rb
 smf.rb
 src.rb
 systemd.rb
 upstart.rb
 windows.rb
%%RUBY_SITELIBDIR%%/puppet/provider/ssh_authorized_key/parsed.rb
%%RUBY_SITELIBDIR%%/puppet/provider/sshkey/parsed.rb
%%RUBY_SITELIBDIR%%/puppet/provider/user/
 aix.rb
 directoryservice.rb
 hpux.rb
 ldap.rb
 openbsd.rb
 pw.rb
 user_role_add.rb
 useradd.rb
 windows_adsi.rb
%%RUBY_SITELIBDIR%%/puppet/provider/vlan/cisco.rb
%%RUBY_SITELIBDIR%%/puppet/provider/yumrepo/inifile.rb
%%RUBY_SITELIBDIR%%/puppet/provider/zfs/zfs.rb
%%RUBY_SITELIBDIR%%/puppet/provider/zone/solaris.rb
%%RUBY_SITELIBDIR%%/puppet/provider/zpool/zpool.rb
%%RUBY_SITELIBDIR%%/puppet/reference/
 configuration.rb
 configuration.rb.bak
 function.rb
 indirection.rb
 metaparameter.rb
 providers.rb
 report.rb
 type.rb
%%RUBY_SITELIBDIR%%/puppet/reports/
 http.rb
 log.rb
 store.rb
%%RUBY_SITELIBDIR%%/puppet/resource/
 capability_finder.rb
 catalog.rb
 status.rb
 type.rb
 type_collection.rb
%%RUBY_SITELIBDIR%%/puppet/scheduler/
 job.rb
 scheduler.rb
 splay_job.rb
 timer.rb
%%RUBY_SITELIBDIR%%/puppet/settings/
 array_setting.rb
 autosign_setting.rb
 base_setting.rb
 boolean_setting.rb
 certificate_revocation_setting.rb
 config_file.rb
 directory_setting.rb
 duration_setting.rb
 enum_setting.rb
 environment_conf.rb
 errors.rb
 file_or_directory_setting.rb
 file_setting.rb
 ini_file.rb
 path_setting.rb
 priority_setting.rb
 server_list_setting.rb
 string_setting.rb
 symbolic_enum_setting.rb
 terminus_setting.rb
 ttl_setting.rb
 value_translator.rb
%%RUBY_SITELIBDIR%%/puppet/ssl/
 base.rb
 certificate.rb
 certificate_authority.rb
 certificate_factory.rb
 certificate_request.rb
 certificate_request_attributes.rb
 certificate_revocation_list.rb
 certificate_signer.rb
 configuration.rb
 digest.rb
 host.rb
 inventory.rb
 key.rb
 oids.rb
 validator.rb
%%RUBY_SITELIBDIR%%/puppet/ssl/certificate_authority/
 autosign_command.rb
 interface.rb
%%RUBY_SITELIBDIR%%/puppet/ssl/validator/
 default_validator.rb
 no_validator.rb
%%RUBY_SITELIBDIR%%/puppet/syntax_checkers/
 base64.rb
 json.rb
%%RUBY_SITELIBDIR%%/puppet/test/test_helper.rb
%%RUBY_SITELIBDIR%%/puppet/transaction/
 additional_resource_generator.rb
 event.rb
 event_manager.rb
 persistence.rb
 report.rb
 resource_harness.rb
%%RUBY_SITELIBDIR%%/puppet/type/
 augeas.rb
 component.rb
 computer.rb
 cron.rb
 exec.rb
 file.rb
 filebucket.rb
 group.rb
 host.rb
 interface.rb
 k5login.rb
 macauthorization.rb
 mailalias.rb
 maillist.rb
 mcx.rb
 mount.rb
 nagios_command.rb
 nagios_contact.rb
 nagios_contactgroup.rb
 nagios_host.rb
 nagios_hostdependency.rb
 nagios_hostescalation.rb
 nagios_hostextinfo.rb
 nagios_hostgroup.rb
 nagios_service.rb
 nagios_servicedependency.rb
 nagios_serviceescalation.rb
 nagios_serviceextinfo.rb
 nagios_servicegroup.rb
 nagios_timeperiod.rb
 notify.rb
 package.rb
 resources.rb
 router.rb
 schedule.rb
 scheduled_task.rb
 selboolean.rb
 selmodule.rb
 service.rb
 ssh_authorized_key.rb
 sshkey.rb
 stage.rb
 tidy.rb
 user.rb
 vlan.rb
 whit.rb
 yumrepo.rb
 zfs.rb
 zone.rb
 zpool.rb
%%RUBY_SITELIBDIR%%/puppet/type/file/
 checksum.rb
 checksum_value.rb
 content.rb
 ctime.rb
 data_sync.rb
 ensure.rb
 group.rb
 mode.rb
 mtime.rb
 owner.rb
 selcontext.rb
 source.rb
 target.rb
 type.rb
%%RUBY_SITELIBDIR%%/puppet/util/
 at_fork.rb
 autoload.rb
 backups.rb
 character_encoding.rb
 checksums.rb
 classgen.rb
 colors.rb
 command_line.rb
 constant_inflector.rb
 diff.rb
 docs.rb
 errors.rb
 execution.rb
 execution_stub.rb
 feature.rb
 file_watcher.rb
 fileparsing.rb
 filetype.rb
 http_proxy.rb
 inifile.rb
 instance_loader.rb
 json.rb
 json_lockfile.rb
 ldap.rb
 libuser.conf
 libuser.rb
 limits.rb
 lockfile.rb
 log.rb
 logging.rb
 metaid.rb
 methodhelper.rb
 metric.rb
 monkey_patches.rb
 multi_match.rb
 nagios_maker.rb
 network_device.rb
 package.rb
 pidlock.rb
 platform.rb
 plist.rb
 posix.rb
 profiler.rb
 provider_features.rb
 psych_support.rb
 rdoc.rb
 reference.rb
 resource_template.rb
 retry_action.rb
 rubygems.rb
 run_mode.rb
 run_mode.rb.bak
 selinux.rb
 skip_tags.rb
 splayer.rb
 ssl.rb
 storage.rb
 suidmanager.rb
 symbolic_file_mode.rb
 tag_set.rb
 tagging.rb
 terminal.rb
 user_attr.rb
 warnings.rb
 watched_file.rb
 watcher.rb
 windows.rb
 yaml.rb
%%RUBY_SITELIBDIR%%/puppet/util/at_fork/
 noop.rb
 solaris.rb
%%RUBY_SITELIBDIR%%/puppet/util/command_line/
 puppet_option_parser.rb
 trollop.rb
%%RUBY_SITELIBDIR%%/puppet/util/ldap/
 connection.rb
 generator.rb
 manager.rb
%%RUBY_SITELIBDIR%%/puppet/util/log/
 destination.rb
 destinations.rb
%%RUBY_SITELIBDIR%%/puppet/util/network_device/
 base.rb
 cisco.rb
 config.rb
 ipcalc.rb
 transport.rb
%%RUBY_SITELIBDIR%%/puppet/util/network_device/cisco/
 device.rb
 facts.rb
 interface.rb
%%RUBY_SITELIBDIR%%/puppet/util/network_device/transport/
 base.rb
 ssh.rb
 telnet.rb
%%RUBY_SITELIBDIR%%/puppet/util/profiler/
 aggregate.rb
 around_profiler.rb
 logging.rb
 object_counts.rb
 wall_clock.rb
%%RUBY_SITELIBDIR%%/puppet/util/rdoc/
 code_objects.rb
 parser.rb
%%RUBY_SITELIBDIR%%/puppet/util/rdoc/generators/puppet_generator.rb
%%RUBY_SITELIBDIR%%/puppet/util/rdoc/generators/template/puppet/puppet.rb
%%RUBY_SITELIBDIR%%/puppet/util/rdoc/parser/
 puppet_parser_core.rb
 puppet_parser_rdoc2.rb
%%RUBY_SITELIBDIR%%/puppet/util/watcher/
 change_watcher.rb
 periodic_watcher.rb
 timer.rb
%%RUBY_SITELIBDIR%%/puppet/util/windows/
 access_control_entry.rb
 access_control_list.rb
 adsi.rb
 api_types.rb
 com.rb
 error.rb
 eventlog.rb
 file.rb
 principal.rb
 process.rb
 registry.rb
 root_certs.rb
 security.rb
 security_descriptor.rb
 sid.rb
 string.rb
 taskscheduler.rb
 user.rb
%%RUBY_SITELIBDIR%%/puppet/vendor/
 load_deep_merge.rb
 load_pathspec.rb
 load_semantic.rb
 load_semantic_puppet.rb
 require_vendored.rb
%%RUBY_SITELIBDIR%%/puppet/vendor/deep_merge/
 CHANGELOG
 Gemfile
 LICENSE
 PUPPET_README.md
 README.md
 Rakefile
 deep_merge.gemspec
%%RUBY_SITELIBDIR%%/puppet/vendor/deep_merge/lib/deep_merge.rb
%%RUBY_SITELIBDIR%%/puppet/vendor/deep_merge/lib/deep_merge/
 core.rb
 deep_merge_hash.rb
 rails_compat.rb
%%RUBY_SITELIBDIR%%/puppet/vendor/deep_merge/test/test_deep_merge.rb
%%RUBY_SITELIBDIR%%/puppet/vendor/pathspec/
 CHANGELOG.md
 LICENSE
 PUPPET_README.md
 README.md
%%RUBY_SITELIBDIR%%/puppet/vendor/pathspec/lib/pathspec.rb
%%RUBY_SITELIBDIR%%/puppet/vendor/pathspec/lib/pathspec/
 gitignorespec.rb
 regexspec.rb
 spec.rb
%%RUBY_SITELIBDIR%%/puppet/vendor/semantic/lib/semantic.rb
%%RUBY_SITELIBDIR%%/puppet/vendor/semantic_puppet/lib/semantic_puppet.rb
%%RUBY_SITELIBDIR%%/puppet/vendor/semantic_puppet/lib/semantic_puppet/
 dependency.rb
 gem_version.rb
 version.rb
 version_range.rb
%%RUBY_SITELIBDIR%%/puppet/vendor/semantic_puppet/lib/semantic_puppet/dependency/
 graph.rb
 graph_node.rb
 module_release.rb
 source.rb
 unsatisfiable_graph.rb
%%RUBY_SITELIBDIR%%/puppet/vendor/semantic_puppet/locales/config.yaml
bin/puppet
etc/puppet/
 auth.conf-dist
 puppet.conf-dist
share/man/man5/puppet.conf.5.gz
share/man/man8/
 puppet-agent.8.gz
 puppet-apply.8.gz
 puppet-ca.8.gz
 puppet-catalog.8.gz
 puppet-cert.8.gz
 puppet-certificate.8.gz
 puppet-certificate_request.8.gz
 puppet-certificate_revocation_list.8.gz
 puppet-config.8.gz
 puppet-describe.8.gz
 puppet-device.8.gz
 puppet-doc.8.gz
 puppet-epp.8.gz
 puppet-facts.8.gz
 puppet-filebucket.8.gz
 puppet-generate.8.gz
 puppet-help.8.gz
 puppet-key.8.gz
 puppet-lookup.8.gz
 puppet-man.8.gz
 puppet-master.8.gz
 puppet-module.8.gz
 puppet-node.8.gz
 puppet-parser.8.gz
 puppet-plugin.8.gz
 puppet-report.8.gz
 puppet-resource.8.gz
 puppet-script.8.gz
 puppet-status.8.gz
 puppet.8.gz
@(puppet,puppet,) www/puppet/config.ru
@dir /var/run/puppet
@dir(puppet,puppet,) /var/log/puppet
@dir(puppet,puppet,) /var/puppet
@dir(puppet,puppet,) etc/puppet/manifests
@dir(puppet,puppet,) etc/puppet/modules


[FILE:523:manifests/plist.examples]
share/examples/puppet/example-passenger-vhost.conf
share/examples/puppet/hiera/
 README.md
 site.pp
share/examples/puppet/hiera/etc/
 hiera.yaml
 puppet.conf
share/examples/puppet/hiera/etc/hieradb/
 common.yaml
 dc1.yaml
 development.yaml
share/examples/puppet/hiera/modules/data/manifests/common.pp
share/examples/puppet/hiera/modules/ntp/manifests/
 config.pp
 data.pp
share/examples/puppet/hiera/modules/ntp/templates/ntp.conf.erb
share/examples/puppet/hiera/modules/users/manifests/
 common.pp
 dc1.pp
 development.pp


[FILE:945:patches/patch-ext__rack__config.ru]
--- ext/rack/config.ru.orig	2018-05-24 18:17:42 UTC
+++ ext/rack/config.ru
@@ -14,11 +14,11 @@ ARGV << "--rack"
 # Rack applications typically don't start as root.  Set --confdir, --vardir,
 # --logdir, --rundir to prevent reading configuration from
 # ~/ based pathing.
-ARGV << "--confdir" << "/etc/puppetlabs/puppet"
-ARGV << "--vardir"  << "/opt/puppetlabs/server/data/puppetmaster"
-ARGV << "--logdir"  << "/var/log/puppetlabs/puppetmaster"
-ARGV << "--rundir"  << "/var/run/puppetlabs/puppetmaster"
-ARGV << "--codedir"  << "/etc/puppetlabs/code"
+ARGV << "--confdir" << "%%PREFIX%%/etc/puppet"
+ARGV << "--vardir"  << "/var/puppet"
+ARGV << "--logdir"  << "/var/log/puppet"
+ARGV << "--rundir"  << "/var/run/puppet"
+ARGV << "--codedir" << "%%PREFIX%%/etc/puppet"
 
 # disable always_retry_plugsin as a performance improvement. This is safe for a master to
 # apply. This is intended to allow agents to recognize new features that may be


[FILE:786:patches/patch-lib_puppet_provider_service_daemontools.rb]
Daemontools program locations

--- lib/puppet/provider/service/daemontools.rb.orig	2018-05-24 18:17:42 UTC
+++ lib/puppet/provider/service/daemontools.rb
@@ -39,7 +39,7 @@ Puppet::Type.type(:service).provide :dae
 
   EOT
 
-  commands :svc  => "/usr/bin/svc", :svstat => "/usr/bin/svstat"
+  commands :svc  => "%%PREFIX%%/bin/svc", :svstat => "%%PREFIX%%/bin/svstat"
 
   class << self
     attr_writer :defpath
@@ -88,7 +88,7 @@ Puppet::Type.type(:service).provide :dae
   # find the service dir on this node
   def servicedir
     unless @servicedir
-      ["/service", "/etc/service","/var/lib/svscan"].each do |path|
+      ["/var/service", "/etc/service","/var/lib/svscan"].each do |path|
         if Puppet::FileSystem.exist?(path)
           @servicedir = path
           break


[FILE:362:files/pkg-message-primary-dragonfly.in]

To enable the puppet agent, add the following to /etc/rc.conf:

	puppet_enable="YES"

To enable the puppetmaster, add the following to /etc/rc.conf:

	puppetmaster_enable="YES"

Individual config files such as %%PREFIX%%/etc/puppetmasterd.conf are
deprecated. Use a single file, %%PREFIX%%/etc/puppet/puppet.conf.

The default PID directory is /var/run/puppet



[FILE:362:files/pkg-message-primary-freebsd.in]

To enable the puppet agent, add the following to /etc/rc.conf:

	puppet_enable="YES"

To enable the puppetmaster, add the following to /etc/rc.conf:

	puppetmaster_enable="YES"

Individual config files such as %%PREFIX%%/etc/puppetmasterd.conf are
deprecated. Use a single file, %%PREFIX%%/etc/puppet/puppet.conf.

The default PID directory is /var/run/puppet



[FILE:775:files/puppet.in]
#!/bin/sh
#
# PROVIDE: puppet
# REQUIRE: LOGIN
# KEYWORD: shutdown

#
# Add the following lines to /etc/rc.conf to enable the puppet agent:
#
# puppet_enable="YES"

. /etc/rc.subr

name="puppet"
rcvar=puppet_enable

load_rc_config "$name"

: ${puppet_enable="NO"}
: ${puppet_rundir="/var/run/puppet"}

command="%%PREFIX%%/bin/puppet"
command_args="agent ${puppet_flags} --rundir=${puppet_rundir}"
command_interpreter=%%RUBY%%
unset puppet_flags

pidfile="${puppet_rundir}/agent.pid"
start_precmd="install -d -o puppet -g puppet ${pidfile%/*}"

PATH="${PATH}:%%PREFIX%%/bin"

# An UTF-8 locale is required
: LC_ALL=${LC_ALL:=C.UTF-8}
case $LC_ALL in
    *.UTF-8)
	;;
    *.*)
	LC_ALL="${LC_ALL%.*}.UTF-8"
	;;
    *)
	LC_ALL=C.UTF-8
	;;
esac
export LC_ALL

run_rc_command "$1"


[FILE:1252:files/puppetmaster.in]
#!/bin/sh
#
# PROVIDE: puppetmaster
# REQUIRE: LOGIN

# Add the following lines to /etc/rc.conf to enable the puppetmaster:
#
# puppetmaster_enable="YES"
#

. /etc/rc.subr

name="puppetmaster"
rcvar=puppetmaster_enable

load_rc_config "${name}"

: ${puppetmaster_enable="NO"}
: ${puppetmaster_rundir="/var/run/puppet"}
: ${puppetmaster_flags="--rundir=${puppetmaster_rundir}"}

command_interpreter=%%RUBY%%
command="%%PREFIX%%/bin/puppet"
command_args="master ${puppetmaster_flags}"
unset puppetmaster_flags

pidfile="${puppetmaster_rundir}/master.pid"

start_precmd="puppetmaster_checkconfig"
restart_precmd="puppetmaster_checkconfig"
puppetmaster_checkconfig() {
	puppet_manifest="$($command config print --section=main manifest 2> /dev/null)"
	echo -n "Performing sanity check of ${name} configuration: "
	if ! ${command} parser validate "${puppet_manifest}"
	then
		echo "FAILED"
		return 1
	else
		echo "OK"
		return 0
	fi
}

if [ -z "${puppetmaster_mongrel_ports}" ]; then
	run_rc_command "$1"
else
	for port in ${puppetmaster_mongrel_ports}; do
		pidfile="${puppetmaster_rundir}/mongrel.${port}.pid"
		command_args="master --pidfile=${pidfile} --servertype=mongrel --masterport=${port}"
		run_rc_command "$1"
		_rc_restart_done="false"
	done
fi

