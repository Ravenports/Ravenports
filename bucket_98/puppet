# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		puppet
VERSION=		7.23.0
KEYWORDS=		sysutils
VARIANTS=		standard
SDESC[standard]=	Server automation framework and application
HOMEPAGE=		https://puppet.com/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/puppetlabs:puppet:7.23.0
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			man
			examples

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BROKEN[all]=		Newest concurrent rubygem breaks build

BUILDRUN_DEPENDS=	ruby-facter:single:v31
			ruby-hiera:single:v31
			ruby-semantic_puppet:single:v31
			ruby-fast_gettext:single:v31
			ruby-locale:single:v31
			ruby-multi_json:single:v31
			ruby-puppet-resource_api:single:v31
			ruby-concurrent-ruby:single:v31
			ruby-deep_merge:single:v31
			ruby-scanf:single:v31

USERS=			puppet
GROUPS=			puppet
USERGROUP_SPKG=		primary

USES=			cpe ruby:v31

LICENSE=		APACHE20:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		APACHE20:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

CPE_VENDOR=		puppetlabs
FPC_EQUIVALENT=		sysutils/puppet7

RC_SUBR=		puppet:primary
			puppetmaster:primary
SUB_FILES=		pkg-message-primary-freebsd
			pkg-message-primary-dragonfly
SUB_LIST=		RUBY={{RUBY}}

post-patch:
	${REINPLACE_CMD} -e "s|/etc/puppetlabs/puppet|${PREFIX}/etc/puppet|" \
		${WRKSRC}/install.rb \
		${WRKSRC}/lib/puppet/reference/configuration.rb \
		${WRKSRC}/lib/puppet/util/run_mode.rb
	${REINPLACE_CMD} -e "s|/etc/puppetlabs/code|${PREFIX}/etc/puppet|" \
		${WRKSRC}/install.rb \
		${WRKSRC}/lib/puppet/reference/configuration.rb \
		${WRKSRC}/lib/puppet/util/run_mode.rb
	${REINPLACE_CMD} -e "s|/opt/puppetlabs/puppet/cache|/var/puppet|" \
		${WRKSRC}/install.rb \
		${WRKSRC}/lib/puppet/reference/configuration.rb \
		${WRKSRC}/lib/puppet/util/run_mode.rb
	${REINPLACE_CMD} -e "s|/var/run/puppetlabs|/var/run/puppet|" \
		${WRKSRC}/install.rb \
		${WRKSRC}/lib/puppet/util/run_mode.rb
	${REINPLACE_CMD} -e "s|/var/log/puppetlabs/puppet|/var/log/puppet|" \
		${WRKSRC}/install.rb \
		${WRKSRC}/lib/puppet/util/run_mode.rb
	${REINPLACE_CMD} -e "s|/opt/puppetlabs/puppet/public|/var/puppet/state|" \
		${WRKSRC}/install.rb \
		${WRKSRC}/lib/puppet/util/run_mode.rb
	${REINPLACE_CMD} -e "s|/opt/puppetlabs/puppet/modules|${PREFIX}/etc/puppet/modules|" \
		-e "s|/etc/puppetlabs/puppetserver/ca|/var/puppetserver/ca|" \
		-e "s|/opt/puppetlabs/puppet/vendor_modules|${PREFIX}/etc/puppet/vendor_modules|" \
		${WRKSRC}/lib/puppet/defaults.rb
	${REINPLACE_CMD} -e "s|/opt/puppetlabs/puppet/bin/gem|${LOCALBASE}/bin/gem|" \
		${WRKSRC}/lib/puppet/provider/package/puppet_gem.rb
	${REINPLACE_CMD} -e "s|\$$confdir/ssl|/var/puppet/ssl|" \
		${WRKSRC}/lib/puppet/defaults.rb
	${REINPLACE_CMD} -e "s|\.\./\.\./\.\./locales|../locales|" \
		${WRKSRC}/lib/puppet/gettext/config.rb
	${FIND} ${WRKSRC} -name "*.orig" -delete

do-build:
	(cd ${WRKSRC} && ${SETENV} PREFIX=${PREFIX} LC_ALL=C.UTF-8 \
		${RUBY} ${WRKSRC}/install.rb --no-configs \
		--destdir=${STAGEDIR} \
		--localedir=${RUBY_SITELIBDIR}/puppet/locales)

post-extract:
	${AWK} '/Licensing/,/info@puppet.com/' \
		${WRKSRC}/README.md > ${WRKDIR}/TERMS

do-install:
	${MKDIR} ${STAGEDIR}${STD_EXAMPLESDIR} \
		${STAGEDIR}${PREFIX}/etc/puppet/manifests \
		${STAGEDIR}${PREFIX}/etc/puppet/modules \
		${STAGEDIR}/var/puppet
	${SETENV} LC_ALL=C.UTF-8 ${RUBY} \
		-I ${STAGEDIR}/${RUBY_SITELIBDIR} \
		${STAGEDIR}${PREFIX}/bin/puppet agent --genconfig \
		--confdir=${PREFIX}/etc/puppet \
		--rundir=/var/run/puppet \
		--vardir=/var/puppet \
		--logdir=/var/log/puppet \
		--publicdir=/var/puppet/state \
		--codedir=${PREFIX}/etc/puppet \
		> ${STAGEDIR}${PREFIX}/etc/puppet/puppet.conf-dist
	# handle examples
	(cd ${WRKSRC}/examples && \
		${COPYTREE_SHARE} . ${STAGEDIR}${STD_EXAMPLESDIR})

[FILE:305:descriptions/desc.primary]
Puppet lets you centrally manage every important aspect of your system
using a cross-platform specification language that manages all the separate
elements normally aggregated in different files, like users, cron jobs, and
hosts, along with obviously discrete elements like packages, services, and
files.


[FILE:110:distinfo]
bb202ddb65a45de89775cfca1a4470cb764d7efa2259af72adc76ee233c39b27      3259538 puppetlabs-puppet-7.23.0.tar.gz


[FILE:20232:manifests/plist.primary]
%%RUBY_SITELIBDIR%%/
 hiera_puppet.rb
 puppet.rb
 puppet_pal.rb
 puppet_x.rb
%%RUBY_SITELIBDIR%%/hiera/
 puppet_function.rb
 scope.rb
%%RUBY_SITELIBDIR%%/puppet/
 agent.rb
 application.rb
 application_support.rb
 coercion.rb
 compilable_resource_type.rb
 concurrent.rb
 configurer.rb
 confine.rb
 confine_collection.rb
 confiner.rb
 context.rb
 daemon.rb
 data_binding.rb
 datatypes.rb
 defaults.rb
 defaults.rb.bak
 environments.rb
 error.rb
 etc.rb
 face.rb
 facter_impl.rb
 file_bucket.rb
 file_serving.rb
 file_system.rb
 forge.rb
 functions.rb
 graph.rb
 http.rb
 indirector.rb
 info_service.rb
 interface.rb
 loaders.rb
 module.rb
 module_tool.rb
 network.rb
 node.rb
 parameter.rb
 parser.rb
 plugins.rb
 pops.rb
 property.rb
 provider.rb
 relationship.rb
 reports.rb
 resource.rb
 runtime.rb
 scheduler.rb
 settings.rb
 ssl.rb
 syntax_checkers.rb
 thread_local.rb
 transaction.rb
 trusted_external.rb
 type.rb
 util.rb
 vendor.rb
 version.rb
 x509.rb
%%RUBY_SITELIBDIR%%/puppet/agent/
 disabler.rb
 locker.rb
%%RUBY_SITELIBDIR%%/puppet/application/
 agent.rb
 apply.rb
 catalog.rb
 config.rb
 describe.rb
 device.rb
 doc.rb
 epp.rb
 face_base.rb
 facts.rb
 filebucket.rb
 generate.rb
 help.rb
 indirection_base.rb
 lookup.rb
 module.rb
 node.rb
 parser.rb
 plugin.rb
 report.rb
 resource.rb
 script.rb
 ssl.rb
%%RUBY_SITELIBDIR%%/puppet/concurrent/
 lock.rb
 synchronized.rb
 thread_local_singleton.rb
%%RUBY_SITELIBDIR%%/puppet/configurer/
 downloader.rb
 fact_handler.rb
 plugin_handler.rb
%%RUBY_SITELIBDIR%%/puppet/confine/
 any.rb
 boolean.rb
 exists.rb
 false.rb
 feature.rb
 true.rb
 variable.rb
%%RUBY_SITELIBDIR%%/puppet/context/trusted_information.rb
%%RUBY_SITELIBDIR%%/puppet/datatypes/error.rb
%%RUBY_SITELIBDIR%%/puppet/datatypes/impl/error.rb
%%RUBY_SITELIBDIR%%/puppet/external/dot.rb
%%RUBY_SITELIBDIR%%/puppet/external/pson/
 common.rb
 pure.rb
 version.rb
%%RUBY_SITELIBDIR%%/puppet/external/pson/pure/
 generator.rb
 parser.rb
%%RUBY_SITELIBDIR%%/puppet/face/
 catalog.rb
 config.rb
 epp.rb
 facts.rb
 generate.rb
 help.rb
 module.rb
 node.rb
 parser.rb
 plugin.rb
 report.rb
 resource.rb
%%RUBY_SITELIBDIR%%/puppet/face/catalog/select.rb
%%RUBY_SITELIBDIR%%/puppet/face/help/
 action.erb
 face.erb
 global.erb
 man.erb
%%RUBY_SITELIBDIR%%/puppet/face/module/
 changes.rb
 install.rb
 list.rb
 uninstall.rb
 upgrade.rb
%%RUBY_SITELIBDIR%%/puppet/face/node/clean.rb
%%RUBY_SITELIBDIR%%/puppet/feature/
 base.rb
 bolt.rb
 cfpropertylist.rb
 eventlog.rb
 hiera_eyaml.rb
 hocon.rb
 libuser.rb
 msgpack.rb
 pe_license.rb
 selinux.rb
 ssh.rb
 telnet.rb
 zlib.rb
%%RUBY_SITELIBDIR%%/puppet/ffi/
 posix.rb
 windows.rb
%%RUBY_SITELIBDIR%%/puppet/ffi/posix/
 constants.rb
 functions.rb
%%RUBY_SITELIBDIR%%/puppet/ffi/windows/
 api_types.rb
 constants.rb
 functions.rb
 structs.rb
%%RUBY_SITELIBDIR%%/puppet/file_bucket/
 dipper.rb
 file.rb
%%RUBY_SITELIBDIR%%/puppet/file_serving/
 base.rb
 configuration.rb
 content.rb
 fileset.rb
 http_metadata.rb
 metadata.rb
 mount.rb
 terminus_helper.rb
 terminus_selector.rb
%%RUBY_SITELIBDIR%%/puppet/file_serving/configuration/parser.rb
%%RUBY_SITELIBDIR%%/puppet/file_serving/mount/
 file.rb
 locales.rb
 modules.rb
 pluginfacts.rb
 plugins.rb
 scripts.rb
 tasks.rb
%%RUBY_SITELIBDIR%%/puppet/file_system/
 file_impl.rb
 jruby.rb
 memory_file.rb
 memory_impl.rb
 path_pattern.rb
 posix.rb
 uniquefile.rb
 windows.rb
%%RUBY_SITELIBDIR%%/puppet/forge/
 cache.rb
 errors.rb
 repository.rb
%%RUBY_SITELIBDIR%%/puppet/functions/
 abs.rb
 alert.rb
 all.rb
 annotate.rb
 any.rb
 assert_type.rb
 binary_file.rb
 break.rb
 call.rb
 camelcase.rb
 capitalize.rb
 ceiling.rb
 chomp.rb
 chop.rb
 compare.rb
 contain.rb
 convert_to.rb
 crit.rb
 debug.rb
 defined.rb
 dig.rb
 downcase.rb
 each.rb
 emerg.rb
 empty.rb
 epp.rb
 err.rb
 eyaml_lookup_key.rb
 filter.rb
 find_file.rb
 find_template.rb
 flatten.rb
 floor.rb
 get.rb
 getvar.rb
 group_by.rb
 hiera.rb
 hiera_array.rb
 hiera_hash.rb
 hiera_include.rb
 hocon_data.rb
 import.rb
 include.rb
 index.rb
 info.rb
 inline_epp.rb
 join.rb
 json_data.rb
 keys.rb
 length.rb
 lest.rb
 lookup.rb
 lstrip.rb
 map.rb
 match.rb
 max.rb
 min.rb
 module_directory.rb
 new.rb
 next.rb
 notice.rb
 partition.rb
 reduce.rb
 regsubst.rb
 require.rb
 return.rb
 reverse_each.rb
 round.rb
 rstrip.rb
 scanf.rb
 size.rb
 slice.rb
 sort.rb
 split.rb
 step.rb
 strftime.rb
 strip.rb
 then.rb
 tree_each.rb
 type.rb
 unique.rb
 unwrap.rb
 upcase.rb
 values.rb
 versioncmp.rb
 warning.rb
 with.rb
 yaml_data.rb
%%RUBY_SITELIBDIR%%/puppet/generate/type.rb
%%RUBY_SITELIBDIR%%/puppet/generate/models/type/
 property.rb
 type.rb
%%RUBY_SITELIBDIR%%/puppet/generate/templates/type/pcore.erb
%%RUBY_SITELIBDIR%%/puppet/gettext/
 config.rb
 config.rb.bak
 module_translations.rb
 stubs.rb
%%RUBY_SITELIBDIR%%/puppet/graph/
 key.rb
 prioritizer.rb
 rb_tree_map.rb
 relationship_graph.rb
 sequential_prioritizer.rb
 simple_graph.rb
%%RUBY_SITELIBDIR%%/puppet/http/
 client.rb
 dns.rb
 errors.rb
 external_client.rb
 factory.rb
 pool.rb
 pool_entry.rb
 proxy.rb
 redirector.rb
 resolver.rb
 response.rb
 response_converter.rb
 response_net_http.rb
 retry_after_handler.rb
 service.rb
 session.rb
 site.rb
%%RUBY_SITELIBDIR%%/puppet/http/resolver/
 server_list.rb
 settings.rb
 srv.rb
%%RUBY_SITELIBDIR%%/puppet/http/service/
 ca.rb
 compiler.rb
 file_server.rb
 puppetserver.rb
 report.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/
 code.rb
 direct_file_server.rb
 envelope.rb
 errors.rb
 exec.rb
 face.rb
 fact_search.rb
 file_content.rb
 file_metadata.rb
 file_server.rb
 generic_http.rb
 hiera.rb
 indirection.rb
 json.rb
 memory.rb
 msgpack.rb
 none.rb
 plain.rb
 request.rb
 rest.rb
 store_configs.rb
 terminus.rb
 yaml.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/catalog/
 compiler.rb
 json.rb
 msgpack.rb
 rest.rb
 store_configs.rb
 yaml.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/data_binding/
 hiera.rb
 none.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/facts/
 facter.rb
 json.rb
 memory.rb
 network_device.rb
 rest.rb
 store_configs.rb
 yaml.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/file_bucket_file/
 file.rb
 rest.rb
 selector.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/file_content/
 file.rb
 file_server.rb
 rest.rb
 selector.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/file_metadata/
 file.rb
 file_server.rb
 http.rb
 rest.rb
 selector.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/node/
 exec.rb
 json.rb
 memory.rb
 msgpack.rb
 plain.rb
 rest.rb
 store_configs.rb
 yaml.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/report/
 json.rb
 msgpack.rb
 processor.rb
 rest.rb
 yaml.rb
%%RUBY_SITELIBDIR%%/puppet/indirector/resource/
 ral.rb
 store_configs.rb
 validator.rb
%%RUBY_SITELIBDIR%%/puppet/info_service/
 class_information_service.rb
 plan_information_service.rb
 task_information_service.rb
%%RUBY_SITELIBDIR%%/puppet/interface/
 action.rb
 action_builder.rb
 action_manager.rb
 documentation.rb
 face_collection.rb
 option.rb
 option_builder.rb
 option_manager.rb
%%RUBY_SITELIBDIR%%/puppet/locales/
 config.yaml
 puppet.pot
%%RUBY_SITELIBDIR%%/puppet/locales/en/puppet.po
%%RUBY_SITELIBDIR%%/puppet/metatype/manager.rb
%%RUBY_SITELIBDIR%%/puppet/module/
 plan.rb
 task.rb
%%RUBY_SITELIBDIR%%/puppet/module_tool/
 applications.rb
 checksums.rb
 contents_description.rb
 dependency.rb
 errors.rb
 install_directory.rb
 installed_modules.rb
 local_tarball.rb
 metadata.rb
 shared_behaviors.rb
 tar.rb
%%RUBY_SITELIBDIR%%/puppet/module_tool/applications/
 application.rb
 checksummer.rb
 installer.rb
 uninstaller.rb
 unpacker.rb
 upgrader.rb
%%RUBY_SITELIBDIR%%/puppet/module_tool/errors/
 base.rb
 installer.rb
 shared.rb
 uninstaller.rb
 upgrader.rb
%%RUBY_SITELIBDIR%%/puppet/module_tool/tar/
 gnu.rb
 mini.rb
%%RUBY_SITELIBDIR%%/puppet/network/
 authconfig.rb
 authorization.rb
 client_request.rb
 format.rb
 format_handler.rb
 format_support.rb
 formats.rb
 http.rb
 http_pool.rb
 uri.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/
 api.rb
 connection.rb
 error.rb
 handler.rb
 issues.rb
 memory_response.rb
 request.rb
 response.rb
 route.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/api/
 indirected_routes.rb
 indirection_type.rb
 master.rb
 server.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/api/master/v3.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/api/master/v3/environments.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/api/server/v3.rb
%%RUBY_SITELIBDIR%%/puppet/network/http/api/server/v3/environments.rb
%%RUBY_SITELIBDIR%%/puppet/node/
 environment.rb
 facts.rb
%%RUBY_SITELIBDIR%%/puppet/pal/
 catalog_compiler.rb
 compiler.rb
 function_signature.rb
 json_catalog_encoder.rb
 pal_api.rb
 pal_impl.rb
 plan_signature.rb
 script_compiler.rb
 task_signature.rb
%%RUBY_SITELIBDIR%%/puppet/parameter/
 boolean.rb
 package_options.rb
 path.rb
 value.rb
 value_collection.rb
%%RUBY_SITELIBDIR%%/puppet/parser/
 abstract_compiler.rb
 ast.rb
 catalog_compiler.rb
 compiler.rb
 e4_parser_adapter.rb
 files.rb
 functions.rb
 parser_factory.rb
 relationship.rb
 resource.rb
 scope.rb
 script_compiler.rb
 templatewrapper.rb
 type_loader.rb
%%RUBY_SITELIBDIR%%/puppet/parser/ast/
 block_expression.rb
 branch.rb
 hostclass.rb
 leaf.rb
 node.rb
 pops_bridge.rb
 resource.rb
 resource_instance.rb
 resourceparam.rb
 top_level_construct.rb
%%RUBY_SITELIBDIR%%/puppet/parser/compiler/catalog_validator.rb
%%RUBY_SITELIBDIR%%/puppet/parser/compiler/catalog_validator/relationship_validator.rb
%%RUBY_SITELIBDIR%%/puppet/parser/functions/
 assert_type.rb
 binary_file.rb
 break.rb
 contain.rb
 create_resources.rb
 defined.rb
 dig.rb
 digest.rb
 each.rb
 epp.rb
 fail.rb
 file.rb
 filter.rb
 find_file.rb
 fqdn_rand.rb
 generate.rb
 hiera.rb
 hiera_array.rb
 hiera_hash.rb
 hiera_include.rb
 include.rb
 inline_epp.rb
 inline_template.rb
 lest.rb
 lookup.rb
 map.rb
 match.rb
 md5.rb
 new.rb
 next.rb
 realize.rb
 reduce.rb
 regsubst.rb
 require.rb
 return.rb
 reverse_each.rb
 scanf.rb
 sha1.rb
 sha256.rb
 shellquote.rb
 slice.rb
 split.rb
 sprintf.rb
 step.rb
 strftime.rb
 tag.rb
 tagged.rb
 template.rb
 then.rb
 type.rb
 versioncmp.rb
 with.rb
%%RUBY_SITELIBDIR%%/puppet/parser/resource/param.rb
%%RUBY_SITELIBDIR%%/puppet/plugins/
 configuration.rb
 syntax_checkers.rb
%%RUBY_SITELIBDIR%%/puppet/pops/
 adaptable.rb
 adapters.rb
 issue_reporter.rb
 issues.rb
 label_provider.rb
 loaders.rb
 lookup.rb
 merge_strategy.rb
 patterns.rb
 pcore.rb
 pn.rb
 puppet_stack.rb
 semantic_error.rb
 serialization.rb
 utils.rb
 validation.rb
 visitable.rb
 visitor.rb
%%RUBY_SITELIBDIR%%/puppet/pops/evaluator/
 access_operator.rb
 callable_signature.rb
 closure.rb
 collector_transformer.rb
 compare_operator.rb
 deferred_resolver.rb
 epp_evaluator.rb
 evaluator_impl.rb
 external_syntax_support.rb
 json_strict_literal_evaluator.rb
 literal_evaluator.rb
 puppet_proc.rb
 relationship_operator.rb
 runtime3_converter.rb
 runtime3_resource_support.rb
 runtime3_support.rb
%%RUBY_SITELIBDIR%%/puppet/pops/evaluator/collectors/
 abstract_collector.rb
 catalog_collector.rb
 exported_collector.rb
 fixed_set_collector.rb
%%RUBY_SITELIBDIR%%/puppet/pops/functions/
 dispatch.rb
 dispatcher.rb
 function.rb
%%RUBY_SITELIBDIR%%/puppet/pops/loader/
 base_loader.rb
 dependency_loader.rb
 gem_support.rb
 generic_plan_instantiator.rb
 loader.rb
 loader_paths.rb
 module_loaders.rb
 predefined_loader.rb
 puppet_function_instantiator.rb
 puppet_plan_instantiator.rb
 puppet_resource_type_impl_instantiator.rb
 ruby_data_type_instantiator.rb
 ruby_function_instantiator.rb
 ruby_legacy_function_instantiator.rb
 runtime3_type_loader.rb
 simple_environment_loader.rb
 static_loader.rb
 task_instantiator.rb
 type_definition_instantiator.rb
 typed_name.rb
 uri_helper.rb
%%RUBY_SITELIBDIR%%/puppet/pops/lookup/
 configured_data_provider.rb
 context.rb
 data_adapter.rb
 data_dig_function_provider.rb
 data_hash_function_provider.rb
 data_provider.rb
 environment_data_provider.rb
 explainer.rb
 function_provider.rb
 global_data_provider.rb
 hiera_config.rb
 interpolation.rb
 invocation.rb
 key_recorder.rb
 location_resolver.rb
 lookup_adapter.rb
 lookup_key.rb
 lookup_key_function_provider.rb
 module_data_provider.rb
 sub_lookup.rb
%%RUBY_SITELIBDIR%%/puppet/pops/migration/migration_checker.rb
%%RUBY_SITELIBDIR%%/puppet/pops/model/
 ast.pp
 ast.rb
 ast_transformer.rb
 factory.rb
 model_label_provider.rb
 model_tree_dumper.rb
 pn_transformer.rb
 tree_dumper.rb
%%RUBY_SITELIBDIR%%/puppet/pops/parser/
 code_merger.rb
 egrammar.ra
 eparser.rb
 epp_parser.rb
 epp_support.rb
 evaluating_parser.rb
 heredoc_support.rb
 interpolation_support.rb
 lexer2.rb
 lexer_support.rb
 locatable.rb
 locator.rb
 parser_support.rb
 pn_parser.rb
 slurp_support.rb
%%RUBY_SITELIBDIR%%/puppet/pops/resource/
 param.rb
 resource_type_impl.rb
 resource_type_set.pcore
%%RUBY_SITELIBDIR%%/puppet/pops/serialization/
 abstract_reader.rb
 abstract_writer.rb
 deserializer.rb
 extension.rb
 from_data_converter.rb
 instance_reader.rb
 instance_writer.rb
 json.rb
 json_path.rb
 object.rb
 serializer.rb
 time_factory.rb
 to_data_converter.rb
 to_stringified_converter.rb
%%RUBY_SITELIBDIR%%/puppet/pops/time/
 timespan.rb
 timestamp.rb
%%RUBY_SITELIBDIR%%/puppet/pops/types/
 annotatable.rb
 annotation.rb
 class_loader.rb
 implementation_registry.rb
 iterable.rb
 p_binary_type.rb
 p_init_type.rb
 p_meta_type.rb
 p_object_type.rb
 p_object_type_extension.rb
 p_runtime_type.rb
 p_sem_ver_range_type.rb
 p_sem_ver_type.rb
 p_sensitive_type.rb
 p_timespan_type.rb
 p_timestamp_type.rb
 p_type_set_type.rb
 p_uri_type.rb
 puppet_object.rb
 recursion_guard.rb
 ruby_generator.rb
 ruby_method.rb
 string_converter.rb
 tree_iterators.rb
 type_acceptor.rb
 type_asserter.rb
 type_assertion_error.rb
 type_calculator.rb
 type_conversion_error.rb
 type_factory.rb
 type_formatter.rb
 type_mismatch_describer.rb
 type_parser.rb
 type_set_reference.rb
 type_with_members.rb
 types.rb
%%RUBY_SITELIBDIR%%/puppet/pops/validation/
 checker4_0.rb
 tasks_checker.rb
 validator_factory_4_0.rb
%%RUBY_SITELIBDIR%%/puppet/property/
 boolean.rb
 ensure.rb
 keyvalue.rb
 list.rb
 ordered_list.rb
%%RUBY_SITELIBDIR%%/puppet/provider/
 aix_object.rb
 command.rb
 confine.rb
 exec.rb
 ldap.rb
 nameservice.rb
 network_device.rb
 package.rb
 package_targetable.rb
 parsedfile.rb
%%RUBY_SITELIBDIR%%/puppet/provider/exec/
 posix.rb
 shell.rb
 windows.rb
%%RUBY_SITELIBDIR%%/puppet/provider/file/
 posix.rb
 windows.rb
%%RUBY_SITELIBDIR%%/puppet/provider/group/
 aix.rb
 directoryservice.rb
 groupadd.rb
 ldap.rb
 pw.rb
 windows_adsi.rb
%%RUBY_SITELIBDIR%%/puppet/provider/nameservice/
 directoryservice.rb
 objectadd.rb
 pw.rb
%%RUBY_SITELIBDIR%%/puppet/provider/package/
 aix.rb
 appdmg.rb
 apple.rb
 apt.rb
 aptitude.rb
 aptrpm.rb
 blastwave.rb
 dnf.rb
 dnfmodule.rb
 dpkg.rb
 fink.rb
 freebsd.rb
 gem.rb
 hpux.rb
 macports.rb
 nim.rb
 openbsd.rb
 opkg.rb
 pacman.rb
 pip.rb
 pip2.rb
 pip3.rb
 pkg.rb
 pkgdmg.rb
 pkgin.rb
 pkgng.rb
 pkgutil.rb
 portage.rb
 ports.rb
 portupgrade.rb
 puppet_gem.rb
 puppet_gem.rb.bak
 puppetserver_gem.rb
 rpm.rb
 rug.rb
 sun.rb
 sunfreeware.rb
 tdnf.rb
 up2date.rb
 urpmi.rb
 windows.rb
 yum.rb
 zypper.rb
%%RUBY_SITELIBDIR%%/puppet/provider/package/windows/
 exe_package.rb
 msi_package.rb
 package.rb
%%RUBY_SITELIBDIR%%/puppet/provider/service/
 base.rb
 bsd.rb
 daemontools.rb
 debian.rb
 freebsd.rb
 gentoo.rb
 init.rb
 launchd.rb
 openbsd.rb
 openrc.rb
 openwrt.rb
 rcng.rb
 redhat.rb
 runit.rb
 service.rb
 smf.rb
 src.rb
 systemd.rb
 upstart.rb
 windows.rb
%%RUBY_SITELIBDIR%%/puppet/provider/user/
 aix.rb
 directoryservice.rb
 hpux.rb
 ldap.rb
 openbsd.rb
 pw.rb
 user_role_add.rb
 useradd.rb
 windows_adsi.rb
%%RUBY_SITELIBDIR%%/puppet/reference/
 configuration.rb
 configuration.rb.bak
 function.rb
 indirection.rb
 metaparameter.rb
 providers.rb
 report.rb
 type.rb
%%RUBY_SITELIBDIR%%/puppet/reports/
 http.rb
 log.rb
 store.rb
%%RUBY_SITELIBDIR%%/puppet/resource/
 catalog.rb
 status.rb
 type.rb
 type_collection.rb
%%RUBY_SITELIBDIR%%/puppet/scheduler/
 job.rb
 scheduler.rb
 splay_job.rb
 timer.rb
%%RUBY_SITELIBDIR%%/puppet/settings/
 alias_setting.rb
 array_setting.rb
 autosign_setting.rb
 base_setting.rb
 boolean_setting.rb
 certificate_revocation_setting.rb
 config_file.rb
 directory_setting.rb
 duration_setting.rb
 enum_setting.rb
 environment_conf.rb
 errors.rb
 file_or_directory_setting.rb
 file_setting.rb
 http_extra_headers_setting.rb
 ini_file.rb
 integer_setting.rb
 path_setting.rb
 port_setting.rb
 priority_setting.rb
 server_list_setting.rb
 string_setting.rb
 symbolic_enum_setting.rb
 terminus_setting.rb
 ttl_setting.rb
 value_translator.rb
%%RUBY_SITELIBDIR%%/puppet/ssl/
 base.rb
 certificate.rb
 certificate_request.rb
 certificate_request_attributes.rb
 certificate_signer.rb
 digest.rb
 error.rb
 oids.rb
 openssl_loader.rb
 ssl_context.rb
 ssl_provider.rb
 state_machine.rb
 verifier.rb
%%RUBY_SITELIBDIR%%/puppet/syntax_checkers/
 base64.rb
 epp.rb
 json.rb
 pp.rb
%%RUBY_SITELIBDIR%%/puppet/test/test_helper.rb
%%RUBY_SITELIBDIR%%/puppet/transaction/
 additional_resource_generator.rb
 event.rb
 event_manager.rb
 persistence.rb
 report.rb
 resource_harness.rb
%%RUBY_SITELIBDIR%%/puppet/type/
 component.rb
 exec.rb
 file.rb
 filebucket.rb
 group.rb
 notify.rb
 package.rb
 resources.rb
 schedule.rb
 service.rb
 stage.rb
 tidy.rb
 user.rb
 whit.rb
%%RUBY_SITELIBDIR%%/puppet/type/file/
 checksum.rb
 checksum_value.rb
 content.rb
 ctime.rb
 data_sync.rb
 ensure.rb
 group.rb
 mode.rb
 mtime.rb
 owner.rb
 selcontext.rb
 source.rb
 target.rb
 type.rb
%%RUBY_SITELIBDIR%%/puppet/util/
 at_fork.rb
 autoload.rb
 backups.rb
 character_encoding.rb
 checksums.rb
 classgen.rb
 colors.rb
 command_line.rb
 constant_inflector.rb
 diff.rb
 docs.rb
 errors.rb
 execution.rb
 execution_stub.rb
 feature.rb
 file_watcher.rb
 fileparsing.rb
 filetype.rb
 http_proxy.rb
 inifile.rb
 instance_loader.rb
 json.rb
 json_lockfile.rb
 ldap.rb
 libuser.conf
 libuser.rb
 limits.rb
 lockfile.rb
 log.rb
 logging.rb
 metaid.rb
 metric.rb
 monkey_patches.rb
 multi_match.rb
 network_device.rb
 package.rb
 pidlock.rb
 platform.rb
 plist.rb
 posix.rb
 profiler.rb
 provider_features.rb
 psych_support.rb
 rdoc.rb
 reference.rb
 resource_template.rb
 retry_action.rb
 rpm_compare.rb
 rubygems.rb
 run_mode.rb
 run_mode.rb.bak
 selinux.rb
 skip_tags.rb
 splayer.rb
 storage.rb
 suidmanager.rb
 symbolic_file_mode.rb
 tag_set.rb
 tagging.rb
 terminal.rb
 user_attr.rb
 warnings.rb
 watched_file.rb
 watcher.rb
 windows.rb
 yaml.rb
%%RUBY_SITELIBDIR%%/puppet/util/at_fork/
 noop.rb
 solaris.rb
%%RUBY_SITELIBDIR%%/puppet/util/command_line/
 puppet_option_parser.rb
 trollop.rb
%%RUBY_SITELIBDIR%%/puppet/util/ldap/
 connection.rb
 generator.rb
 manager.rb
%%RUBY_SITELIBDIR%%/puppet/util/log/
 destination.rb
 destinations.rb
%%RUBY_SITELIBDIR%%/puppet/util/network_device/
 base.rb
 config.rb
 transport.rb
%%RUBY_SITELIBDIR%%/puppet/util/network_device/transport/base.rb
%%RUBY_SITELIBDIR%%/puppet/util/package/version/
 debian.rb
 gem.rb
 pip.rb
 range.rb
 rpm.rb
%%RUBY_SITELIBDIR%%/puppet/util/package/version/range/
 eq.rb
 gt.rb
 gt_eq.rb
 lt.rb
 lt_eq.rb
 min_max.rb
 simple.rb
%%RUBY_SITELIBDIR%%/puppet/util/profiler/
 aggregate.rb
 around_profiler.rb
 logging.rb
 object_counts.rb
 wall_clock.rb
%%RUBY_SITELIBDIR%%/puppet/util/rdoc/
 code_objects.rb
 parser.rb
%%RUBY_SITELIBDIR%%/puppet/util/rdoc/generators/puppet_generator.rb
%%RUBY_SITELIBDIR%%/puppet/util/rdoc/generators/template/puppet/puppet.rb
%%RUBY_SITELIBDIR%%/puppet/util/rdoc/parser/
 puppet_parser_core.rb
 puppet_parser_rdoc2.rb
%%RUBY_SITELIBDIR%%/puppet/util/watcher/
 change_watcher.rb
 periodic_watcher.rb
 timer.rb
%%RUBY_SITELIBDIR%%/puppet/util/windows/
 access_control_entry.rb
 access_control_list.rb
 adsi.rb
 com.rb
 daemon.rb
 error.rb
 eventlog.rb
 file.rb
 principal.rb
 process.rb
 registry.rb
 root_certs.rb
 security.rb
 security_descriptor.rb
 service.rb
 sid.rb
 string.rb
 user.rb
%%RUBY_SITELIBDIR%%/puppet/util/windows/monkey_patches/process.rb
%%RUBY_SITELIBDIR%%/puppet/vendor/require_vendored.rb
%%RUBY_SITELIBDIR%%/puppet/x509/
 cert_provider.rb
 pem_store.rb
bin/puppet
etc/puppet/puppet.conf-dist
@dir /var/run/puppet
@dir(puppet,puppet,) /var/log/puppet
@dir(puppet,puppet,) /var/puppet/state
@dir(puppet,puppet,) etc/puppet/manifests
@dir(puppet,puppet,) etc/puppet/modules


[FILE:476:manifests/plist.man]
share/man/man5/puppet.conf.5.gz
share/man/man8/
 puppet-agent.8.gz
 puppet-apply.8.gz
 puppet-catalog.8.gz
 puppet-config.8.gz
 puppet-describe.8.gz
 puppet-device.8.gz
 puppet-doc.8.gz
 puppet-epp.8.gz
 puppet-facts.8.gz
 puppet-filebucket.8.gz
 puppet-generate.8.gz
 puppet-help.8.gz
 puppet-lookup.8.gz
 puppet-module.8.gz
 puppet-node.8.gz
 puppet-parser.8.gz
 puppet-plugin.8.gz
 puppet-report.8.gz
 puppet-resource.8.gz
 puppet-script.8.gz
 puppet-ssl.8.gz
 puppet.8.gz


[FILE:784:manifests/plist.examples]
share/examples/puppet/enc/regexp_nodes/regexp_nodes.rb
share/examples/puppet/enc/regexp_nodes/classes/
 databases
 webservers
share/examples/puppet/enc/regexp_nodes/environment/development
share/examples/puppet/enc/regexp_nodes/parameters/service/
 prod
 qa
 sandbox
share/examples/puppet/hiera/
 README.md
 site.pp
share/examples/puppet/hiera/etc/
 hiera.yaml
 puppet.conf
share/examples/puppet/hiera/etc/hieradb/
 common.yaml
 dc1.yaml
 development.yaml
share/examples/puppet/hiera/modules/data/manifests/common.pp
share/examples/puppet/hiera/modules/ntp/manifests/
 config.pp
 data.pp
share/examples/puppet/hiera/modules/ntp/templates/ntp.conf.erb
share/examples/puppet/hiera/modules/users/manifests/
 common.pp
 dc1.pp
 development.pp
share/examples/puppet/nagios/check_puppet.rb


[FILE:786:patches/patch-lib_puppet_provider_service_daemontools.rb]
Daemontools program locations

--- lib/puppet/provider/service/daemontools.rb.orig	2023-02-02 00:41:16 UTC
+++ lib/puppet/provider/service/daemontools.rb
@@ -39,7 +39,7 @@ Puppet::Type.type(:service).provide :dae
 
   EOT
 
-  commands :svc  => "/usr/bin/svc", :svstat => "/usr/bin/svstat"
+  commands :svc  => "%%PREFIX%%/bin/svc", :svstat => "%%PREFIX%%/bin/svstat"
 
   class << self
     attr_writer :defpath
@@ -86,7 +86,7 @@ Puppet::Type.type(:service).provide :dae
   # find the service dir on this node
   def servicedir
     unless @servicedir
-      ["/service", "/etc/service","/var/lib/svscan"].each do |path|
+      ["/var/service", "/etc/service","/var/lib/svscan"].each do |path|
         if Puppet::FileSystem.exist?(path)
           @servicedir = path
           break


[FILE:362:files/pkg-message-primary-dragonfly.in]

To enable the puppet agent, add the following to /etc/rc.conf:

	puppet_enable="YES"

To enable the puppetmaster, add the following to /etc/rc.conf:

	puppetmaster_enable="YES"

Individual config files such as %%PREFIX%%/etc/puppetmasterd.conf are
deprecated. Use a single file, %%PREFIX%%/etc/puppet/puppet.conf.

The default PID directory is /var/run/puppet



[FILE:362:files/pkg-message-primary-freebsd.in]

To enable the puppet agent, add the following to /etc/rc.conf:

	puppet_enable="YES"

To enable the puppetmaster, add the following to /etc/rc.conf:

	puppetmaster_enable="YES"

Individual config files such as %%PREFIX%%/etc/puppetmasterd.conf are
deprecated. Use a single file, %%PREFIX%%/etc/puppet/puppet.conf.

The default PID directory is /var/run/puppet



[FILE:775:files/puppet.in]
#!/bin/sh
#
# PROVIDE: puppet
# REQUIRE: LOGIN
# KEYWORD: shutdown

#
# Add the following lines to /etc/rc.conf to enable the puppet agent:
#
# puppet_enable="YES"

. /etc/rc.subr

name="puppet"
rcvar=puppet_enable

load_rc_config "$name"

: ${puppet_enable="NO"}
: ${puppet_rundir="/var/run/puppet"}

command="%%PREFIX%%/bin/puppet"
command_args="agent ${puppet_flags} --rundir=${puppet_rundir}"
command_interpreter=%%RUBY%%
unset puppet_flags

pidfile="${puppet_rundir}/agent.pid"
start_precmd="install -d -o puppet -g puppet ${pidfile%/*}"

PATH="${PATH}:%%PREFIX%%/bin"

# An UTF-8 locale is required
: LC_ALL=${LC_ALL:=C.UTF-8}
case $LC_ALL in
    *.UTF-8)
	;;
    *.*)
	LC_ALL="${LC_ALL%.*}.UTF-8"
	;;
    *)
	LC_ALL=C.UTF-8
	;;
esac
export LC_ALL

run_rc_command "$1"


[FILE:1252:files/puppetmaster.in]
#!/bin/sh
#
# PROVIDE: puppetmaster
# REQUIRE: LOGIN

# Add the following lines to /etc/rc.conf to enable the puppetmaster:
#
# puppetmaster_enable="YES"
#

. /etc/rc.subr

name="puppetmaster"
rcvar=puppetmaster_enable

load_rc_config "${name}"

: ${puppetmaster_enable="NO"}
: ${puppetmaster_rundir="/var/run/puppet"}
: ${puppetmaster_flags="--rundir=${puppetmaster_rundir}"}

command_interpreter=%%RUBY%%
command="%%PREFIX%%/bin/puppet"
command_args="master ${puppetmaster_flags}"
unset puppetmaster_flags

pidfile="${puppetmaster_rundir}/master.pid"

start_precmd="puppetmaster_checkconfig"
restart_precmd="puppetmaster_checkconfig"
puppetmaster_checkconfig() {
	puppet_manifest="$($command config print --section=main manifest 2> /dev/null)"
	echo -n "Performing sanity check of ${name} configuration: "
	if ! ${command} parser validate "${puppet_manifest}"
	then
		echo "FAILED"
		return 1
	else
		echo "OK"
		return 0
	fi
}

if [ -z "${puppetmaster_mongrel_ports}" ]; then
	run_rc_command "$1"
else
	for port in ${puppetmaster_mongrel_ports}; do
		pidfile="${puppetmaster_rundir}/mongrel.${port}.pid"
		command_args="master --pidfile=${pidfile} --servertype=mongrel --masterport=${port}"
		run_rc_command "$1"
		_rc_restart_done="false"
	done
fi

