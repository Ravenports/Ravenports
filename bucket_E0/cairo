# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		cairo
VERSION=		1.18.0
KEYWORDS=		graphics
VARIANTS=		std
SDESC[std]=		Vector graphics library with cross-device support
HOMEPAGE=		https://www.cairographics.org
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://cairographics.org/releases/
DISTFILE[1]=		cairo-1.18.0.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libatomic_ops:dev:std
			libglvnd:dev:std
BUILDRUN_DEPENDS=	libglvnd:primary:std
			libatomic_ops:primary:std
EXRUN[dev]=		fontconfig:dev:std
			png:dev:std
			xorg-xcb:dev:std
			xorg-pixman:dev:std
			xorg-xrender:dev:std
			xorg-xext:dev:std
			xorg-x11:dev:std

USES=			cpe fontconfig pkgconfig png meson
GNOME_COMPONENTS=	glib
XORG_COMPONENTS=	pixman x11 xcb xext xrender xcb-render-util

LICENSE=		CUSTOM1:primary LGPL21:primary
LICENSE_TERMS=		primary:{{WRKSRC}}/COPYING
LICENSE_NAME=		CUSTOM1:"Mozilla Public License (MPL) version 1.1"
LICENSE_FILE=		CUSTOM1:{{WRKSRC}}/COPYING-MPL-1.1
			LGPL21:{{WRKSRC}}/COPYING-LGPL-2.1
LICENSE_SCHEME=		dual

CPE_VENDOR=		cairographics
FPC_EQUIVALENT=		graphics/cairo
MESON_ARGS=		-Dpng=enabled
			-Dtee=enabled
			-Dxcb=enabled
			-Dxlib=enabled
			-Dglib=enabled
			-Dfontconfig=enabled
			-Dfreetype=enabled
			-Dxlib-xcb=disabled
			-Ddwrite=disabled
			-Dquartz=disabled
			-Dtests=disabled
			-Dgtk_doc=false

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		2.11800.0

[FILE:637:descriptions/desc.primary]
Cairo is a vector graphics library with cross-device output
support. Currently supported output targets include the X Window
System and in-memory image buffers. PostScript and PDF file output is
planned. Cairo is designed to produce identical output on all output
media while taking advantage of display hardware acceleration when
available (eg. through the X Render Extension).

Cairo provides a stateful user-level API with capabilities similar to
the PDF 1.4 imaging model. Cairo provides operations including stroking
and filling Bezier cubic splines, transforming and compositing translucent
images, and antialiased text rendering.


[FILE:98:distinfo]
243a0736b978a33dee29f9cca7521733b78a65b5418206fef7bd1c3d4cf10b64     33761148 cairo-1.18.0.tar.xz


[FILE:259:manifests/plist.primary]
bin/cairo-trace
lib/
 libcairo-gobject.so.%%SOMAJOR%%
 libcairo-gobject.so.%%SOVERSION%%
 libcairo-script-interpreter.so.%%SOMAJOR%%
 libcairo-script-interpreter.so.%%SOVERSION%%
 libcairo.so.%%SOMAJOR%%
 libcairo.so.%%SOVERSION%%
lib/cairo/libcairo-trace.so


[FILE:603:manifests/plist.dev]
include/cairo/
 cairo-deprecated.h
 cairo-features.h
 cairo-ft.h
 cairo-gobject.h
 cairo-pdf.h
 cairo-ps.h
 cairo-script-interpreter.h
 cairo-script.h
 cairo-svg.h
 cairo-tee.h
 cairo-version.h
 cairo-xcb.h
 cairo-xlib-xrender.h
 cairo-xlib.h
 cairo.h
lib/
 libcairo-gobject.so
 libcairo-script-interpreter.so
 libcairo.so
lib/cairo/libcairo-fdr.so
lib/pkgconfig/
 cairo-fc.pc
 cairo-ft.pc
 cairo-gobject.pc
 cairo-pdf.pc
 cairo-png.pc
 cairo-ps.pc
 cairo-script-interpreter.pc
 cairo-script.pc
 cairo-svg.pc
 cairo-tee.pc
 cairo-xcb-shm.pc
 cairo-xcb.pc
 cairo-xlib-xrender.pc
 cairo-xlib.pc
 cairo.pc


[FILE:559:patches/patch-meson.build]
--- meson.build.orig	2023-09-23 14:18:32 UTC
+++ meson.build
@@ -762,7 +762,7 @@ if not ['x86', 'x86_64'].contains(host_m
   conf.set('ATOMIC_OP_NEEDS_MEMORY_BARRIER', 1)
 endif
 
-have_ld_preload = ['linux', 'freebsd', 'darwin', 'dragonfly'].contains(host_machine.system())
+have_ld_preload = ['linux', 'freebsd', 'darwin', 'dragonfly', 'netbsd', 'midnightbsd'].contains(host_machine.system())
 
 if have_ld_preload and zlib_dep.found() and conf.get('CAIRO_HAS_REAL_PTHREAD', 0) == 1 and conf.get('CAIRO_HAS_DLSYM', 0) == 1
   conf.set('CAIRO_HAS_TRACE', 1)

