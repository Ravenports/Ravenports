# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		aucatctl
VERSION=		0.1
KEYWORDS=		audio
VARIANTS=		standard
SDESC[standard]=	Control sndiod and/or aucat volumes
HOMEPAGE=		http://www.sndio.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://www.sndio.org/
DISTFILE[1]=		aucatctl-0.1.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		sndio:dev:standard
BUILDRUN_DEPENDS=	sndio:primary:standard
B_DEPS[linux]=		libbsd:dev:standard libbsd:primary:standard

LICENSE=		ISCL:single
LICENSE_FILE=		ISCL:{{WRKDIR}}/LICENSE
LICENSE_AWK=		ISCL:"^\#include"
LICENSE_SOURCE=		ISCL:{{WRKSRC}}/aucatctl.c
LICENSE_SCHEME=		solo

post-patch-linux:
	${REINPLACE_CMD} -e '/LDADD = -lsndio/ s/=/= -lbsd/' \
		${WRKSRC}/Makefile
	${REINPLACE_CMD} -e 's|<string.h>|<bsd/string.h>|' \
		${WRKSRC}/aucatctl.c

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/aucatctl ${STAGEDIR}${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/aucatctl.1 ${STAGEDIR}${MAN1PREFIX}/man/man1

[FILE:81:descriptions/desc.single]
The aucatctl utility sends MIDI messages to control sndiod and/or
aucat volumes.


[FILE:98:distinfo]
524f2fae47db785234f166551520d9605b9a27551ca438bd807e3509ce246cf0         4364 aucatctl-0.1.tar.gz


[FILE:42:manifests/plist.single]
bin/aucatctl
share/man/man1/aucatctl.1.gz


[FILE:251:patches/patch-aucatctl.c]
--- aucatctl.c.orig	2016-12-22 19:50:06 UTC
+++ aucatctl.c
@@ -69,6 +69,7 @@ setmaster(unsigned vol)
 
 	msg.start = SYSEX_START;
 	msg.type = SYSEX_TYPE_RT;
+	msg.dev = 0;
 	msg.id0 = SYSEX_CONTROL;
 	msg.id1 = SYSEX_MASTER;
 	msg.u.master.fine = 0;

