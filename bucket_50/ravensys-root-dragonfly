# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		ravensys-root-dragonfly
VERSION=		6.4.0
KEYWORDS=		raven
VARIANTS=		standard REL62
SDESC[standard]=	DragonFly 6.4.0 builder system root
SDESC[REL62]=		DragonFly 6.2.2 builder system root
HOMEPAGE=		none
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main avalon
SITES[main]=		https://leaf.dragonflybsd.org/~marino/dports-src/
SITES[avalon]=		https://mirror-master.dragonflybsd.org/iso-images/
DISTFILE[1]=		dummy-tarball.tar.gz:main
DISTFILE[2]=		dfly-x86_64-6.4.0_REL.iso.bz2:avalon
DISTFILE[3]=		dfly-x86_64-6.2.2_REL.iso.bz2:avalon
SPKGS[standard]=	single
SPKGS[REL62]=		single

OPTIONS_AVAILABLE=	NOTSTD R62
OPTIONS_STANDARD=	none
VOPTS[REL62]=		NOTSTD=ON R62=ON

ONLY_FOR_OPSYS=		dragonfly

BUILD_DEPENDS=		nawk:single:standard
			diffutils:primary:ravensys
			libarchive:primary:static
			gnugrep:primary:ravensys
			file:single:ravensys
			findutils:primary:ravensys
			flex:primary:ravensys
			gzip:single:standard
			xz:tools:standard
			unzip:primary:standard
			m4:primary:noprefix
			bmake:single:standard
			sed:primary:ravensys
			byacc:primary:standard
			less:single:standard
			nvi:single:standard
			coreutils:primary:ravensys
			ravensys-binutils:single:standard
			ncurses:terminfo:standard
			ravensw:single:standard
			mandoc:single:standard
			genpatch:single:standard
			lockf:single:standard
			fetch:single:standard
			ravensys-utils:single:standard
			ccache:primary:standard
			bzip2:tools:standard

EXTRACT_DIRTY=		2 3

INVALID_RPATH=		yes

SKIP_BUILD=		yes
MAKE_ARGS=		BASE={{RSYS}}
MAKE_ENV=		OPSYS="{{OPSYS}}"
			ARCH="{{ARCH}}"
			ARCHSTD="{{ARCH_STANDARD}}"
			OSVERSION="{{OSVERSION}}"
			OSREL="{{OSREL}}"
			OSMAJOR="{{MAJOR}}"
			MKDIR="{{MKDIR}}"
			GCCX=ravensys-gcc
SINGLE_JOB=		yes

PLIST_SUB=		BASE={{SYSPATH}}

INFRASTRUCTURE=		yes

[NOTSTD].DESCRIPTION=			Earlier system root of DragonFly
[NOTSTD].DF_INDEX_OFF=			2
[NOTSTD].MAKEFILE_OFF=			SYSTEM=DragonFly/x86_64/x86_64/600400/6.4/6.4

[R62].DESCRIPTION=			DragonFly Release 6.2.2 system root
[R62].DF_INDEX_ON=			3
[R62].MAKEFILE_ON=			SYSTEM=DragonFly/x86_64/x86_64/600200/6.2/6.2

pre-fetch-NOTSTD-OFF:
	${SH} ${MK_SCRIPTS}/ravensys-root-validate_pkgs.sh ${PREFIX} \
		${OPSYS} ${ARCH} ${ARCH_STANDARD} ${OSVERSION} ${OSREL} ${MAJOR}

post-extract-R62-ON:
	${MV} ${WRKDIR}/${NAMEBASE}_3 ${WRKDIR}/dragonfly

post-extract-NOTSTD-OFF:
	${MV} ${WRKDIR}/${NAMEBASE}_2 ${WRKDIR}/dragonfly

post-extract:
	${MKDIR} ${WRKSRC}
	${INSTALL_DATA} ${FILESDIR}/dragonfly.mk ${WRKSRC}/system_specifics.mk
	${INSTALL_DATA} ${MK_SCRIPTS}/ravensys-root-Makefile ${WRKSRC}/Makefile

[FILE:140:descriptions/desc.single.standard]
Ravenports system root

This is the full build environment for the most recent supported release
of DragonFly BSD, excluding the toolchain.


[FILE:122:descriptions/desc.single.REL62]
Ravenports system root

This is the full build environment for the 6.2 release of DragonFly BSD,
excluding the toolchain.


[FILE:315:distinfo]
7e0e1a8ebe7f195083e1b917757b857c77c97af7bf90ee067e944ae94231fc38          180 dummy-tarball.tar.gz
c213cc20ba1284efafe017c16db1974c154728e2e757c649af91d0e2a246a0dd    386581582 dfly-x86_64-6.4.0_REL.iso.bz2
f645e3865f243fc532d9cf4d5363b4ceec7fe3c103a3ea40f5d29504f4dd2ea3    257548264 dfly-x86_64-6.2.2_REL.iso.bz2


[FILE:16079:manifests/plist.single]
%%BASE%%/bin/
 [
 cat
 chflags
 chmod
 cp
 date
 echo
 expr
 hostname
 kill
 link
 ln
 ls
 md5
 mkdir
 mv
 pax
 pwd
 realpath
 rm
 rmdir
 sh
 sha256
 sleep
 test
 unlink
%%BASE%%/libexec/ld-elf.so.2
%%BASE%%/usr/bin/
 awk
 basename
 bsdcat
 bunzip2
 bzcat
 bzegrep
 bzfgrep
 bzgrep
 bzip2
 chgrp
 chown
 cmp
 comm
 cpio
 cut
 diff
 diff3
 dirname
 dupe
 egrep
 env
 false
 fetch
 fgrep
 file
 find
 flex
 flex++
 genpatch
 gm4
 grep
 gunzip
 gzip
 head
 id
 install
 join
 ldd
 less
 lockf
 lorder
 lzcat
 lzcmp
 lzdiff
 lzegrep
 lzfgrep
 lzgrep
 lzma
 m4
 make
 makewhatis
 mkfifo
 mknod
 mktemp
 more
 mtree
 objdump-sysroot
 od
 patch
 portfix
 printenv
 printf
 ravensw
 readlink
 rpcgen
 sdiff
 sed
 seq
 sort
 stat
 tail
 tar
 tee
 touch
 tr
 true
 tsort
 uname
 uniq
 unlzma
 unxz
 unzip
 vi
 wc
 which
 whoami
 xargs
 xz
 xzcat
 xzcmp
 xzdiff
 xzegrep
 xzfgrep
 xzgrep
 yacc
 zcat
 zcmp
 zdiff
 zegrep
 zfgrep
 zgrep
%%BASE%%/usr/include/
 aio.h
 ar.h
 assert.h
 bitstring.h
 bluetooth.h
 cam
 camlib.h
 complex.h
 cpio.h
 ctype.h
 devattr.h
 devinfo.h
 devstat.h
 dfregress.h
 dirent.h
 disktab.h
 dlfcn.h
 efivar.h
 elf-hints.h
 elf.h
 err.h
 errno.h
 evtr.h
 fcntl.h
 fenv.h
 float.h
 floatingpoint.h
 fmtmsg.h
 fnmatch.h
 fs
 fstab.h
 fts.h
 ftw.h
 getopt.h
 glob.h
 grp.h
 iconv.h
 ieeefp.h
 ifaddrs.h
 inttypes.h
 iso646.h
 isofs
 kenv.h
 kinfo.h
 kinfo_pcpu.h
 kvm.h
 langinfo.h
 libcryptsetup.h
 libgen.h
 libusb.h
 libusb20.h
 libusb20_desc.h
 libutil.h
 limits.h
 link.h
 linker_set.h
 locale.h
 login_cap.h
 luks.h
 math.h
 memory.h
 mntopts.h
 monetary.h
 mpool.h
 mqueue.h
 msdosfs
 ndbm.h
 netconfig.h
 netdb.h
 netsmb
 nfs
 nl_types.h
 nlist.h
 ntfs
 osreldate.h
 paths.h
 pccard
 poll.h
 printf.h
 pthread.h
 pthread_np.h
 pwd.h
 re_comp.h
 readpassphrase.h
 regex.h
 res_update.h
 resolv.h
 runetype.h
 sched.h
 sdp.h
 search.h
 semaphore.h
 setjmp.h
 signal.h
 spawn.h
 stdalign.h
 stdarg.h
 stdbool.h
 stddef.h
 stdint.h
 stdio.h
 stdlib.h
 stdnoreturn.h
 string.h
 stringlist.h
 strings.h
 sysexits.h
 syslog.h
 tar.h
 termios.h
 tgmath.h
 time.h
 timeconv.h
 timers.h
 ttyent.h
 uchar.h
 ucontext.h
 ufs
 ulimit.h
 unistd.h
 usb.h
 usbhid.h
 util.h
 utime.h
 utmpx.h
 uuid.h
 vis.h
 wchar.h
 wctype.h
 wordexp.h
 xlocale.h
%%BASE%%/usr/include/arpa/
 ftp.h
 inet.h
 nameser.h
 nameser_compat.h
 telnet.h
 tftp.h
%%BASE%%/usr/include/bus/cam/
 cam.h
 cam_ccb.h
 cam_debug.h
 cam_extend.h
 cam_periph.h
 cam_queue.h
 cam_sim.h
 cam_xpt.h
 cam_xpt_periph.h
 cam_xpt_sim.h
%%BASE%%/usr/include/bus/cam/scsi/
 scsi_all.h
 scsi_cd.h
 scsi_ch.h
 scsi_da.h
 scsi_daio.h
 scsi_message.h
 scsi_pass.h
 scsi_pt.h
 scsi_sa.h
 scsi_ses.h
 scsi_sg.h
 scsi_targetio.h
%%BASE%%/usr/include/bus/isa/
 isa.h
 isa_common.h
 isa_device.h
 isareg.h
 isavar.h
 pnpreg.h
 pnpvar.h
 rtc.h
%%BASE%%/usr/include/bus/pccard/
 pccard_cis.h
 pccardreg.h
 pccardvar.h
%%BASE%%/usr/include/bus/pci/
 pci_cfgreg.h
 pci_private.h
 pcib_private.h
 pcireg.h
 pcivar.h
%%BASE%%/usr/include/bus/ppbus/
 ppb_1284.h
 ppb_msq.h
 ppbconf.h
 ppbio.h
%%BASE%%/usr/include/bus/smbus/
 smbconf.h
 smbus.h
%%BASE%%/usr/include/bus/u4b/
 ufm_ioctl.h
 usb.h
 usb_bus.h
 usb_busdma.h
 usb_cdc.h
 usb_controller.h
 usb_core.h
 usb_debug.h
 usb_dev.h
 usb_device.h
 usb_dragonfly.h
 usb_dynamic.h
 usb_endian.h
 usb_generic.h
 usb_hub.h
 usb_ioctl.h
 usb_mbuf.h
 usb_msctest.h
 usb_pci.h
 usb_pf.h
 usb_process.h
 usb_request.h
 usb_transfer.h
 usb_util.h
 usbdi.h
 usbdi_util.h
 usbhid.h
%%BASE%%/usr/include/compat/linux
%%BASE%%/usr/include/cpu/
 alignbytes.h
 asm.h
 asm_mjgmacros.h
 asmacros.h
 atomic.h
 bus_dma.h
 cpu.h
 cpufunc.h
 cpumask.h
 cputypes.h
 db_machdep.h
 elf.h
 endian.h
 exec.h
 frame.h
 ieeefp.h
 int_const.h
 int_limits.h
 inttypes.h
 limits.h
 lwbuf.h
 npx.h
 param.h
 pmap.h
 profile.h
 psl.h
 reg.h
 reloc.h
 segments.h
 setjmp.h
 sigframe.h
 signal.h
 specialreg.h
 stdarg.h
 stdint.h
 sysarch.h
 tls.h
 trap.h
 tss.h
 types.h
 ucontext.h
 vframe.h
 wchar.h
 wchar_limits.h
%%BASE%%/usr/include/crypto/
 cast.h
 castsb.h
 cryptodev.h
 cryptosoft.h
 deflate.h
 gmac.h
 rijndael.h
 rmd160.h
 skipjack.h
 xform.h
%%BASE%%/usr/include/dev/acpica/acpiio.h
%%BASE%%/usr/include/dev/disk/dm/
 dm.h
 netbsd-dm.h
%%BASE%%/usr/include/dev/disk/mpt/mpilib/
 mpi.h
 mpi_cnfg.h
 mpi_fc.h
 mpi_init.h
 mpi_ioc.h
 mpi_lan.h
 mpi_raid.h
 mpi_sas.h
 mpi_targ.h
 mpi_tool.h
 mpi_type.h
%%BASE%%/usr/include/dev/misc/evdev/
 input-event-codes.h
 input.h
%%BASE%%/usr/include/dev/misc/lpt/
 lpt.h
 lptio.h
%%BASE%%/usr/include/dev/misc/ppi/ppi.h
%%BASE%%/usr/include/dev/netif/wi/
 if_wavelan_ieee.h
 if_wireg.h
 if_wivar.h
%%BASE%%/usr/include/dev/raid/ciss/
 cissio.h
 cissreg.h
 cissvar.h
%%BASE%%/usr/include/dev/raid/mfi/
 mfi_ioctl.h
 mfireg.h
 mfivar.h
%%BASE%%/usr/include/dev/smbus/smb/smb.h
%%BASE%%/usr/include/dev/video/bktr/
 bktr_audio.h
 bktr_card.h
 bktr_core.h
 bktr_mem.h
 bktr_os.h
 bktr_reg.h
 bktr_tuner.h
 ioctl_bt848.h
%%BASE%%/usr/include/dev/video/meteor/ioctl_meteor.h
%%BASE%%/usr/include/dev/virtual/nvmm/
 nvmm.h
 nvmm_internal.h
 nvmm_ioctl.h
 nvmm_os.h
%%BASE%%/usr/include/dev/virtual/nvmm/x86/nvmm_x86.h
%%BASE%%/usr/include/libprop/
 plistref.h
 prop_array.h
 prop_bool.h
 prop_data.h
 prop_dictionary.h
 prop_ingest.h
 prop_number.h
 prop_object.h
 prop_object_impl.h
 prop_rb_impl.h
 prop_stack.h
 prop_string.h
 proplib.h
%%BASE%%/usr/include/machine/
 acpica_machdep.h
 alignbytes.h
 asm.h
 asm_mjgmacros.h
 asmacros.h
 atomic.h
 bootinfo.h
 bus_dma.h
 clock.h
 console.h
 cpu.h
 cpufreq.h
 cpufunc.h
 cpumask.h
 cputypes.h
 db_machdep.h
 efi.h
 elf.h
 endian.h
 exec.h
 fenv.h
 frame.h
 framebuffer.h
 globaldata.h
 ieee.h
 ieeefp.h
 int_const.h
 int_limits.h
 intr_machdep.h
 inttypes.h
 ioctl_bt848.h
 ioctl_fd.h
 ioctl_meteor.h
 ipl.h
 joystick.h
 limits.h
 lock.h
 lwbuf.h
 md_var.h
 metadata.h
 minidump.h
 mptable.h
 msi_machdep.h
 msi_var.h
 nexusvar.h
 npx.h
 param.h
 pcb.h
 pcb_ext.h
 pmap.h
 pmap_inval.h
 proc.h
 profile.h
 psl.h
 ptrace.h
 reg.h
 reloc.h
 segments.h
 setjmp.h
 sigframe.h
 signal.h
 smp.h
 soundcard.h
 specialreg.h
 stdarg.h
 stdint.h
 sysarch.h
 thread.h
 tls.h
 trap.h
 tss.h
 types.h
 ucontext.h
 vframe.h
 vmparam.h
 wchar.h
 wchar_limits.h
%%BASE%%/usr/include/machine/pc/
 bios.h
 display.h
%%BASE%%/usr/include/net/
 bpf.h
 bpfdesc.h
 dlt.h
 ethernet.h
 if.h
 if_arp.h
 if_clone.h
 if_dl.h
 if_llc.h
 if_media.h
 if_mib.h
 if_poll.h
 if_ringmap.h
 if_types.h
 if_var.h
 ifq_var.h
 net_osdep.h
 netisr.h
 netisr2.h
 netmsg.h
 netmsg2.h
 pfil.h
 radix.h
 raw_cb.h
 route.h
 slcompress.h
 slip.h
 toeplitz.h
 toeplitz2.h
%%BASE%%/usr/include/net/altq/
 altq.h
 altq_cbq.h
 altq_classq.h
 altq_fairq.h
 altq_hfsc.h
 altq_priq.h
 altq_red.h
 altq_rio.h
 altq_rmclass.h
 altq_rmclass_debug.h
 altq_var.h
 if_altq.h
 if_classq.h
%%BASE%%/usr/include/net/bridge/if_bridgevar.h
%%BASE%%/usr/include/net/dummynet/ip_dummynet.h
%%BASE%%/usr/include/net/dummynet3/
 ip_dummynet.h
 ip_dummynet3.h
%%BASE%%/usr/include/net/ip6fw/ip6_fw.h
%%BASE%%/usr/include/net/ip_mroute/ip_mroute.h
%%BASE%%/usr/include/net/lagg/
 ieee8023ad_lacp.h
 if_lagg.h
%%BASE%%/usr/include/net/ppp_layer/ppp_defs.h
%%BASE%%/usr/include/net/sl/if_slvar.h
%%BASE%%/usr/include/net/sppp/if_sppp.h
%%BASE%%/usr/include/net/tap/
 if_tap.h
 if_tapvar.h
%%BASE%%/usr/include/net/tun/
 if_tun.h
 if_tunvar.h
%%BASE%%/usr/include/net/vlan/
 if_vlan_ether.h
 if_vlan_var.h
%%BASE%%/usr/include/netbt/
 bluetooth.h
 hci.h
 l2cap.h
 rfcomm.h
 sco.h
%%BASE%%/usr/include/netinet/
 icmp6.h
 icmp_var.h
 if_ether.h
 igmp.h
 igmp_var.h
 in.h
 in_gif.h
 in_pcb.h
 in_systm.h
 in_var.h
 ip.h
 ip6.h
 ip_carp.h
 ip_divert.h
 ip_ecn.h
 ip_encap.h
 ip_flow.h
 ip_gre.h
 ip_icmp.h
 ip_var.h
 pim.h
 pim_var.h
 tcp.h
 tcp_debug.h
 tcp_fsm.h
 tcp_seq.h
 tcp_timer.h
 tcp_timer2.h
 tcp_var.h
 tcpip.h
 udp.h
 udp_var.h
%%BASE%%/usr/include/netinet6/
 icmp6.h
 in6.h
 in6_gif.h
 in6_ifattach.h
 in6_pcb.h
 in6_var.h
 ip6.h
 ip6_ecn.h
 ip6_mroute.h
 ip6_var.h
 ip6protosw.h
 mld6_var.h
 nd6.h
 pim6.h
 pim6_var.h
 raw_ip6.h
 scope6_var.h
 tcp6_var.h
 udp6_var.h
%%BASE%%/usr/include/netproto/802_11/
 _ieee80211.h
 ieee80211.h
 ieee80211_action.h
 ieee80211_adhoc.h
 ieee80211_ageq.h
 ieee80211_alq.h
 ieee80211_amrr.h
 ieee80211_crypto.h
 ieee80211_dfs.h
 ieee80211_dragonfly.h
 ieee80211_hostap.h
 ieee80211_ht.h
 ieee80211_input.h
 ieee80211_ioctl.h
 ieee80211_mesh.h
 ieee80211_monitor.h
 ieee80211_node.h
 ieee80211_phy.h
 ieee80211_power.h
 ieee80211_proto.h
 ieee80211_radiotap.h
 ieee80211_ratectl.h
 ieee80211_regdomain.h
 ieee80211_rssadapt.h
 ieee80211_scan.h
 ieee80211_scan_sw.h
 ieee80211_sta.h
 ieee80211_superg.h
 ieee80211_tdma.h
 ieee80211_var.h
 ieee80211_wds.h
 ieee80211_wps.h
%%BASE%%/usr/include/netproto/mpls/
 mpls.h
 mpls_var.h
%%BASE%%/usr/include/netproto/smb/
 netbios.h
 smb.h
 smb_conn.h
 smb_dev.h
 smb_rq.h
 smb_subr.h
 smb_tran.h
 smb_trantcp.h
%%BASE%%/usr/include/protocols/
 dumprestore.h
 routed.h
 rwhod.h
 talkd.h
 timed.h
%%BASE%%/usr/include/rpc/
 auth.h
 auth_des.h
 auth_kerb.h
 auth_unix.h
 clnt.h
 clnt_soc.h
 clnt_stat.h
 des.h
 des_crypt.h
 key_prot.h
 nettype.h
 pmap_clnt.h
 pmap_prot.h
 pmap_rmt.h
 raw.h
 rpc.h
 rpc_com.h
 rpc_msg.h
 rpcb_clnt.h
 rpcb_prot.h
 rpcb_prot.x
 rpcent.h
 svc.h
 svc_auth.h
 svc_dg.h
 svc_soc.h
 types.h
 xdr.h
%%BASE%%/usr/include/rpcsvc/
 bootparam_prot.h
 bootparam_prot.x
 crypt.h
 crypt.x
 key_prot.h
 key_prot.x
 klm_prot.h
 klm_prot.x
 mount.h
 mount.x
 nfs_prot.h
 nfs_prot.x
 nis.h
 nis.x
 nis_cache.h
 nis_cache.x
 nis_callback.h
 nis_callback.x
 nis_db.h
 nis_object.x
 nis_tags.h
 nislib.h
 nlm_prot.h
 nlm_prot.x
 rex.h
 rex.x
 rnusers.h
 rnusers.x
 rquota.h
 rquota.x
 rstat.h
 rstat.x
 rwall.h
 rwall.x
 sm_inter.h
 sm_inter.x
 spray.h
 spray.x
 yp.h
 yp.x
 yp_prot.h
 ypclnt.h
 yppasswd.h
 yppasswd.x
 ypupdate_prot.h
 ypupdate_prot.x
 ypxfrd.h
 ypxfrd.x
%%BASE%%/usr/include/sys/
 _fd_set.h
 _iovec.h
 _malloc.h
 _null.h
 _pthreadtypes.h
 _siginfo.h
 _sigset.h
 _termios.h
 _timespec.h
 _timeval.h
 _ucontext.h
 _uio.h
 acct.h
 acl.h
 agpio.h
 aio.h
 alist.h
 assym.h
 bio.h
 biotrack.h
 bitops.h
 bitstring.h
 blist.h
 boot.h
 bootmaj.h
 buf.h
 buf2.h
 bus.h
 bus_dma.h
 bus_private.h
 bus_resource.h
 callout.h
 camlib.h
 ccdvar.h
 cdefs.h
 cdio.h
 cdrio.h
 checkpoint.h
 chio.h
 ckpt.h
 condvar.h
 conf.h
 cons.h
 consio.h
 copyright.h
 cpputil.h
 cpu_topology.h
 cpuctl.h
 cpuhelper.h
 cpumask.h
 csprng.h
 ctype.h
 devfs.h
 devfs_rules.h
 device.h
 devicestat.h
 dirent.h
 disk.h
 disklabel.h
 disklabel32.h
 disklabel64.h
 diskmbr.h
 diskslice.h
 dkstat.h
 dmap.h
 dmsg.h
 domain.h
 dsched.h
 dtype.h
 dvdio.h
 efi.h
 efiio.h
 elf32.h
 elf64.h
 elf_common.h
 elf_generic.h
 endian.h
 errno.h
 eui64.h
 event.h
 eventhandler.h
 eventvar.h
 exec.h
 exislock.h
 exislock2.h
 extattr.h
 fbio.h
 fcntl.h
 file.h
 file2.h
 filedesc.h
 filio.h
 firmware.h
 flame_graph.h
 fnv_hash.h
 globaldata.h
 gmon.h
 gpt.h
 hash.h
 ibaa.h
 iconv.h
 idr.h
 imgact.h
 imgact_aout.h
 imgact_elf.h
 in_cksum.h
 indefinite.h
 indefinite2.h
 inflate.h
 interrupt.h
 ioccom.h
 ioctl.h
 iosched.h
 ipc.h
 ipmi.h
 jail.h
 journal.h
 joystick.h
 kbio.h
 kcollect.h
 kcore.h
 kenv.h
 kern_syscall.h
 kernel.h
 kerneldump.h
 kinfo.h
 kobj.h
 kthread.h
 ktr.h
 ktrace.h
 libkern.h
 limits.h
 link_elf.h
 linker.h
 linker_set.h
 lock.h
 lockf.h
 lwp.h
 machintr.h
 malloc.h
 mapped_ioctl.h
 mbuf.h
 mchain.h
 md4.h
 md5.h
 memrange.h
 microtime_pcpu.h
 mman.h
 module.h
 mount.h
 mountctl.h
 mouse.h
 mpipe.h
 mplock2.h
 mpt_ioctl.h
 mqueue.h
 msg.h
 msgbuf.h
 msgport.h
 msgport2.h
 mtio.h
 mutex.h
 mutex2.h
 namecache.h
 namei.h
 nata.h
 nchstats.h
 nlookup.h
 objcache.h
 param.h
 paths.h
 pciio.h
 pioctl.h
 pipe.h
 poll.h
 posix4.h
 power.h
 priv.h
 proc.h
 proc_common.h
 procctl.h
 procfs.h
 protosw.h
 ptio.h
 ptrace.h
 queue.h
 random.h
 reboot.h
 refcount.h
 reg.h
 resident.h
 resource.h
 resourcevar.h
 rman.h
 rtprio.h
 sbuf.h
 sched.h
 select.h
 sem.h
 sensors.h
 serial.h
 serialize.h
 serialize2.h
 sfbuf.h
 sglist.h
 shm.h
 signal.h
 signal2.h
 signalvar.h
 single_threaded.h
 slaballoc.h
 snoop.h
 sockbuf.h
 socket.h
 socketops.h
 socketvar.h
 socketvar2.h
 sockio.h
 soundcard.h
 spinlock.h
 spinlock2.h
 stat.h
 statvfs.h
 stdarg.h
 stdint.h
 syscall.h
 sysctl.h
 sysent.h
 sysid.h
 syslimits.h
 syslink_rpc.h
 syslog.h
 sysmsg.h
 sysproto.h
 sysref.h
 sysref2.h
 systimer.h
 systm.h
 sysunion.h
 taskqueue.h
 tbridge.h
 thread.h
 thread2.h
 time.h
 timeb.h
 timepps.h
 timers.h
 times.h
 timespec.h
 timex.h
 tls.h
 tprintf.h
 tree.h
 tty.h
 ttycom.h
 ttydefaults.h
 types.h
 ucontext.h
 ucred.h
 udev.h
 uio.h
 un.h
 unistd.h
 unpcb.h
 upmap.h
 usched.h
 usched_dfly.h
 user.h
 utsname.h
 uuid.h
 varsym.h
 vfs_quota.h
 vfscache.h
 vfsops.h
 vkernel.h
 vmmeter.h
 vmspace.h
 vnioctl.h
 vnode.h
 wait.h
 wdog.h
 xdiskioctl.h
 xio.h
%%BASE%%/usr/include/vfs/autofs/
 autofs.h
 autofs_ioctl.h
 autofs_mount.h
%%BASE%%/usr/include/vfs/ext2fs/
 ext2_dinode.h
 ext2_dir.h
 ext2_extents.h
 ext2_extern.h
 ext2_mount.h
 ext2fs.h
 fs.h
 htree.h
 inode.h
%%BASE%%/usr/include/vfs/fuse/
 fuse.h
 fuse_abi.h
 fuse_debug.h
 fuse_mount.h
%%BASE%%/usr/include/vfs/hammer/
 hammer.h
 hammer_btree.h
 hammer_crc.h
 hammer_cursor.h
 hammer_disk.h
 hammer_ioctl.h
 hammer_mount.h
%%BASE%%/usr/include/vfs/hammer2/
 hammer2.h
 hammer2_ccms.h
 hammer2_disk.h
 hammer2_ioctl.h
 hammer2_lz4.h
 hammer2_lz4_encoder.h
 hammer2_mount.h
 hammer2_xxhash.h
%%BASE%%/usr/include/vfs/isofs/cd9660/
 cd9660_mount.h
 cd9660_node.h
 cd9660_rrip.h
 iso.h
 iso_rrip.h
%%BASE%%/usr/include/vfs/msdosfs/
 bootsect.h
 bpb.h
 denode.h
 direntry.h
 fat.h
 msdosfsmount.h
%%BASE%%/usr/include/vfs/nfs/
 krpc.h
 nfs.h
 nfsdiskless.h
 nfsm_subs.h
 nfsmount.h
 nfsmountrpc.h
 nfsnode.h
 nfsproto.h
 nfsrtt.h
 nfsrvcache.h
 nfsv2.h
 rpcv2.h
 xdr_subs.h
%%BASE%%/usr/include/vfs/ntfs/
 ntfs.h
 ntfs_compr.h
 ntfs_ihash.h
 ntfs_inode.h
 ntfs_subr.h
 ntfs_vfsops.h
 ntfsmount.h
%%BASE%%/usr/include/vfs/smbfs/
 smbfs.h
 smbfs_node.h
 smbfs_subr.h
%%BASE%%/usr/include/vfs/tmpfs/
 tmpfs.h
 tmpfs_mount.h
 tmpfs_vnops.h
%%BASE%%/usr/include/vfs/udf/
 ecma167-udf.h
 osta.h
 udf.h
 udf_mount.h
%%BASE%%/usr/include/vfs/ufs/
 dinode.h
 dir.h
 dirhash.h
 ffs_extern.h
 fs.h
 inode.h
 quota.h
 softdep.h
 ufs_extern.h
 ufs_types.h
 ufsmount.h
%%BASE%%/usr/include/vm/
 pmap.h
 swap_pager.h
 vm.h
 vm_extern.h
 vm_kern.h
 vm_map.h
 vm_object.h
 vm_page.h
 vm_page2.h
 vm_pageout.h
 vm_pager.h
 vm_param.h
 vm_zone.h
 vnode_pager.h
%%BASE%%/usr/include/xlocale/
 _ctype.h
 _inttypes.h
 _langinfo.h
 _locale.h
 _monetary.h
 _stdio.h
 _stdlib.h
 _string.h
 _strings.h
 _time.h
 _uchar.h
 _wchar.h
%%BASE%%/usr/lib/
 Scrt1.o
 crt1.o
 crti.o
 crtn.o
 gcrt1.o
 libc.a
 libc.so
 libc.so.8
 libcam.a
 libcam.so
 libcam.so.3
 libcrypt.a
 libcrypt.so
 libcrypt.so.4
 libdevattr.so
 libdevattr.so.3
 libdevinfo.so
 libdevinfo.so.3
 libdevmapper.so
 libdevmapper.so.0
 libdevstat.so
 libdevstat.so.3
 libexecinfo.so.1
 libkinfo.so
 libkinfo.so.2
 libkvm.a
 libkvm.so
 libkvm.so.3
 libm.a
 libm.so
 libm.so.4
 libprop.so
 libprop.so.3
 libpthread.a
 libpthread.so
 libpthread.so.0
 librpcsvc.a
 librpcsvc.so
 librpcsvc.so.3
 librt.a
 librt.so
 librt.so.0
 libsbuf.a
 libsbuf.so
 libsbuf.so.3
 libusb.a
 libusb.so
 libusb.so.2
 libusbhid.a
 libusbhid.so
 libusbhid.so.4
 libutil.a
 libutil.so
 libutil.so.4
%%BASE%%/usr/lib/gcc80/
 libgcc_pic.a
 libstdc++.so.9
%%BASE%%/usr/lib/pkgconfig/
 libusb-0.1.pc
 libusb-1.0.pc
 libusb-2.0.pc
%%BASE%%/usr/libexec/
 c++
 cc
 ccache
 clang
 clang++
 g++
 gcc
%%BASE%%/usr/sbin/
 pw
 pwd_mkdb
%%BASE%%/usr/share/
 ARCH
 OPSYS
 OSMAJOR
 OSRELEASE
 OSVERSION
 STDARCH
 group
 ld-elf.so.hints
 master.passwd
 passwd
 pwd.db
 rc.conf
 spwd.db
%%BASE%%/usr/share/file/magic.mgc
%%BASE%%/usr/share/locale/en_US.UTF-8/
 LC_COLLATE
 LC_CTYPE
 LC_MESSAGES
 LC_MONETARY
 LC_NUMERIC
 LC_TIME
%%BASE%%/usr/share/rvn-terminfo/d/dumb
%%BASE%%/usr/share/rvn-terminfo/v/vt100
%%BASE%%/usr/share/rvn-terminfo/x/xterm
%%R62-OFF%%%%BASE%%/usr/include/malloc_np.h
%%R62-OFF%%%%BASE%%/usr/include/sys/gtaskqueue.h
@dir %%BASE%%/usr/local


[FILE:7146:files/dragonfly.mk]
# For DragonFly

Libexec_DragonFly=	/libexec/ld-elf.so.2

Bin_DragonFly=\
	/bin/[ \
	/usr/bin/chflags \
	/bin/chmod \
	/bin/cp \
	/bin/date \
	/bin/echo \
	/bin/expr \
	/bin/hostname \
	/bin/kill \
	/bin/link \
	/bin/ln \
	/rescue/ls \
	/bin/mkdir \
	/bin/mv \
	/bin/pax \
	/bin/pwd \
	/bin/realpath \
	/bin/rm \
	/bin/rmdir \
	/rescue/sh \
	/bin/sleep \
	/bin/test \
	/bin/unlink \
	# end

Usr_Bin_DragonFly= \
	/usr/bin/basename \
	/usr/bin/chgrp \
	/usr/sbin/chown \
	/usr/bin/comm \
	/usr/bin/cut \
	/usr/bin/dirname \
	/usr/bin/env \
	/usr/bin/false \
	/usr/bin/head \
	/usr/bin/id \
	/usr/bin/join \
	/usr/bin/ldd \
	/usr/bin/mkfifo \
	/usr/bin/mktemp \
	/usr/bin/printenv \
	/usr/bin/printf \
	/usr/bin/readlink \
	/usr/bin/stat \
	/usr/bin/tail \
	/usr/bin/tee \
	/usr/bin/touch \
	/usr/bin/tr \
	/usr/bin/true \
	/usr/bin/tsort \
	/usr/bin/uniq \
	/usr/bin/which \
	/usr/bin/whoami \
	# end

Usr_Sbin_DragonFly=\
	/usr/sbin/pw \
	/usr/sbin/pwd_mkdb \
	# end

static_lib_DragonFly=\
	/usr/lib/libc.a \
	/usr/lib/libm.a \
	/usr/lib/librt.a \
	/usr/lib/libutil.a \
	/usr/lib/libcrypt.a \
	/usr/lib/librpcsvc.a \
	/usr/lib/libpthread.a \
	/usr/lib/libcam.a \
	/usr/lib/libkvm.a \
	/usr/lib/libsbuf.a \
	/usr/lib/libusb.a \
	/usr/lib/libusbhid.a \
	/usr/lib/Scrt1.o \
	/usr/lib/gcrt1.o \
	/usr/lib/crt1.o \
	/usr/lib/crti.o \
	/usr/lib/crtn.o \
	# end

dynamic_lib_DragonFly=\
	/lib/libc.so.8 \
	/lib/libm.so.4 \
	/lib/libutil.so.4 \
	/lib/libcrypt.so.4 \
	/lib/libkvm.so.3 \
	/lib/libcam.so.3 \
	/lib/libsbuf.so.3 \
	/lib/libprop.so.3 \
	/lib/libdevattr.so.3 \
	/lib/libdevstat.so.3 \
	/usr/lib/librpcsvc.so.3 \
	/usr/lib/librt.so.0 \
	/usr/lib/libdevinfo.so.3 \
	/usr/lib/libdevmapper.so.0 \
	/usr/lib/libkinfo.so.2 \
	/usr/lib/libpthread.so \
	/usr/lib/libpthread.so.0 \
	/usr/lib/libexecinfo.so.1 \
	/usr/lib/libusb.so.2 \
	/usr/lib/libusbhid.so.4 \
	# end

headers_DragonFly_dirs=\
	arpa \
	bus \
	cpu \
	crypto \
	dev \
	libprop \
	machine \
	net \
	netbt \
	netinet \
	netinet6 \
	netproto \
	protocols \
	rpc \
	rpcsvc \
	sys \
	vfs \
	vm \
	xlocale \
	# end

posix_headers=\
	aio.h \
	assert.h \
	complex.h \
	cpio.h \
	ctype.h \
	dirent.h \
	dlfcn.h \
	errno.h \
	fcntl.h \
	fenv.h \
	float.h \
	fmtmsg.h \
	fnmatch.h \
	ftw.h \
	glob.h \
	grp.h \
	iconv.h \
	inttypes.h \
	iso646.h \
	langinfo.h \
	libgen.h \
	limits.h \
	locale.h \
	math.h \
	monetary.h \
	mqueue.h \
	ndbm.h \
	netdb.h \
	nl_types.h \
	poll.h \
	pthread.h \
	pwd.h \
	regex.h \
	sched.h \
	search.h \
	semaphore.h \
	setjmp.h \
	signal.h \
	spawn.h \
	stdarg.h \
	stdbool.h \
	stddef.h \
	stdint.h \
	stdio.h \
	stdlib.h \
	string.h \
	strings.h \
	syslog.h \
	tar.h \
	termios.h \
	tgmath.h \
	time.h \
	ulimit.h \
	unistd.h \
	utime.h \
	utmpx.h \
	wchar.h \
	wctype.h \
	wordexp.h \
	# end

headers_BSD=\
	${posix_headers} \
	ar.h \
	bitstring.h \
	bluetooth.h \
	camlib.h \
	devinfo.h \
	devstat.h \
	efivar.h \
	elf-hints.h \
	elf.h \
	err.h \
	floatingpoint.h \
	fstab.h \
	fts.h \
	getopt.h \
	ieeefp.h \
	ifaddrs.h \
	kenv.h \
	kvm.h \
	libusb.h \
	libusb20.h \
	libusb20_desc.h \
	libutil.h \
	link.h \
	linker_set.h \
	login_cap.h \
	memory.h \
	mpool.h \
	netconfig.h \
	nlist.h \
	osreldate.h \
	paths.h \
	printf.h \
	pthread_np.h \
	readpassphrase.h \
	res_update.h \
	resolv.h \
	runetype.h \
	sdp.h \
	stdalign.h \
	stdnoreturn.h \
	stringlist.h \
	sysexits.h \
	syslog.h \
	timeconv.h \
	timers.h \
	ttyent.h \
	uchar.h \
	ucontext.h \
	usb.h \
	usbhid.h \
	uuid.h \
	vis.h \
	xlocale.h \
	# end

.if "${OSREL}" == "6.4"
headers_BSD+=\
	malloc_np.h \
	# end
.endif

headers_DragonFly=\
	${headers_BSD} \
	devattr.h \
	dfregress.h \
	disktab.h \
	evtr.h \
	kinfo.h \
	kinfo_pcpu.h \
	libcryptsetup.h \
	luks.h \
	mntopts.h \
	re_comp.h \
	util.h \
	# end

pcfiles_DragonFly=\
	libusb-0.1.pc \
	libusb-2.0.pc \
	libusb-1.0.pc \
	# end

platform-skeleton: common-skeleton
	@echo "================================================"
	@echo "===  Create extra directories for DragonFly  ==="
	@echo "================================================"
	${MKDIR} \
		${DESTDIR}${BASE}/libexec \
		${DESTDIR}${BASE}/usr/include/compat \
		${DESTDIR}${BASE}/usr/share/locale/en_US.UTF-8 \
		${DESTDIR}${BASE}/usr/lib/gcc80 \
		# end

install-platform: install-common
	@echo "====================================="
	@echo "===  DragonFly file installation  ==="
	@echo "====================================="
	(cd ${DESTDIR}${BASE}/usr/lib && \
		ln -s libm.so.4 libm.so && \
		ln -s librt.so.0 librt.so && \
		ln -s libkvm.so.3 libkvm.so && \
		ln -s libcam.so.3 libcam.so && \
		ln -s libcrypt.so.4 libcrypt.so && \
		ln -s libutil.so.4 libutil.so && \
		ln -s librpcsvc.so.3 librpcsvc.so && \
		ln -s libusb.so.2 libusb.so && \
		ln -s libusbhid.so.4 libusbhid.so && \
		ln -s libc.so.8 libc.so && \
		ln -s libsbuf.so.3 libsbuf.so && \
		ln -s libprop.so.3 libprop.so && \
		ln -s libdevattr.so.3 libdevattr.so && \
		ln -s libdevstat.so.3 libdevstat.so && \
		ln -s libdevinfo.so.3 libdevinfo.so && \
		ln -s libkinfo.so.2 libkinfo.so && \
		ln -s libdevmapper.so.0 libdevmapper.so)		
	${BSD_INSTALL_SCRIPT} ../${OPSYS:tl}/usr/bin/lorder ${DESTDIR}${BASE}/usr/bin/
	(cd ${DESTDIR}${BASE}/usr/include && \
		ln -s ../dev/misc/evdev compat/linux && \
		ln -s vfs fs && \
		ln -s vfs ufs && \
		ln -s vfs/nfs nfs && \
		ln -s vfs/ntfs ntfs && \
		ln -s vfs/isofs isofs && \
		ln -s vfs/msdosfs msdosfs && \
		ln -s netproto/smb netsmb && \
		ln -s bus/pccard pccard && \
		ln -s bus/cam cam)
.  for item in gcc80/libstdc++.so.9
	${BSD_INSTALL_LIB} ../${OPSYS:tl}/usr/lib/${item} ${DESTDIR}${BASE}/usr/lib/${item}
.  endfor
.  for item in gcc80/libgcc_pic.a
	${BSD_INSTALL_DATA} ../${OPSYS:tl}/usr/lib/${item} ${DESTDIR}${BASE}/usr/lib/${item}
.  endfor

	rm ${DESTDIR}${BASE}/usr/include/net/zlib.h
	rm -rf ${DESTDIR}${BASE}/usr/include/net/ipfw*
	rm -rf ${DESTDIR}${BASE}/usr/include/net/pf
	rmdir  ${DESTDIR}${BASE}/usr/include/vfs/mfs
	# fix timespec* for c++17
	sed -i '/if __ISO_C_VISIBLE >= 2011$$/ s#$$# || (defined(__cplusplus) \&\& __cplusplus >= 201703) &#' \
		${DESTDIR}${BASE}/usr/include/time.h

	# locale information
.  for LC in COLLATE CTYPE MESSAGES MONETARY NUMERIC TIME
	${BSD_INSTALL_DATA} ../${OPSYS:tl}/usr/share/locale/en_US.UTF-8/LC_${LC} \
		${DESTDIR}${BASE}/usr/share/locale/en_US.UTF-8/
.  endfor

	# former "post-install" target
	sed -e '/^git_daemon:/d; /^dhcpd:/d' ../${OPSYS:tl}/etc/group \
		> ${DESTDIR}${BASE}/usr/share/group
	sed -e '/^git_daemon:/d; /^dhcpd:/d' ../${OPSYS:tl}/etc/master.passwd \
		> ${DESTDIR}${BASE}/usr/share/master.passwd
	${BSD_INSTALL_DATA} ../${OPSYS:tl}/etc/defaults/rc.conf \
		${DESTDIR}${BASE}/usr/share/rc.conf
	/usr/sbin/pwd_mkdb -p -d ${DESTDIR}${BASE}/usr/share \
		${DESTDIR}${BASE}/usr/share/master.passwd
	${MKDIR} ${DESTDIR}${BASE}/var/run
	# handle ldconfig hints
	${BSD_INSTALL_PROGRAM} ../${OPSYS:tl}/sbin/ldconfig \
		${DESTDIR}${BASE}/usr/bin/ldconfig
	../${OPSYS:tl}/usr/sbin/chroot ${DESTDIR}${BASE} /usr/bin/ldconfig /usr/lib
	rm ${DESTDIR}${BASE}/usr/bin/ldconfig
	mv ${DESTDIR}${BASE}/var/run/ld-elf.so.hints \
		${DESTDIR}${BASE}/usr/share/
	rm -rf ${DESTDIR}${BASE}/var

[FILE:441:files/special.mk]
# Override bmake settings (important for bootstraps and sysroot rebases)
OPSYS=				${SYSTEM:H:H:H:H:H}
ARCH=				${SYSTEM:H:H:H:H:T}
ARCH_STANDARD=			${SYSTEM:H:H:H:T}
OSVERSION=			${SYSTEM:H:H:T}
OSREL=				${SYSTEM:H:T}
MAJOR=				${SYSTEM:T}

.if "${MAJOR}" == "6.4"
SYSPATH=			share${RAVENBASE}/sysroot/${OPSYS}
.else
SYSPATH=			share${RAVENBASE}/sysroot/${OPSYS}-${OSREL}
.endif
RSYS=				${PREFIX}/${SYSPATH}
FOS=				${WRKDIR}/${OPSYS:tl}

