# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		toxcore
VERSION=		0.2.22
KEYWORDS=		net net_im net_p2p
VARIANTS=		std
SDESC[std]=		Tox chat protocol library
HOMEPAGE=		https://tox.chat/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main cmp
SITES[main]=		GITHUB/TokTok:c-toxcore:v0.2.22
SITES[cmp]=		GITHUB/camgunz:cmp:v20
DISTFILE[1]=		generated:main
DISTFILE[2]=		generated:cmp
DIST_SUBDIR=		tox
DF_INDEX=		1 2
SPKGS[std]=		set
			primary
			tools
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libsodium:dev:std
			libvpx:dev:std
			msgpack:dev:std
			opus:dev:std
			libconfig:dev:std
BUILDRUN_DEPENDS=	libconfig:primary:std
			libsodium:primary:std
			libvpx:primary:std
			msgpack:primary:std
			opus:primary:std
EXRUN[tools]=		toxcore:primary:std
EXRUN[dev]=		libvpx:dev:std
			libsodium:dev:std
			opus:dev:std

USES=			cpe cmake libtool pkgconfig

EXTRACT_ONLY=		1

LICENSE=		GPLv3+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/LICENSE
LICENSE_AWK=		TERMS:"^\#ifdef"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/toxcore/tox.c
LICENSE_SCHEME=		solo

CPE_PRODUCT=		toxcore
CPE_VENDOR=		toktok
FPC_EQUIVALENT=		net-im/tox

SOVERSION=		2.22.0

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/DHT_bootstrap
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/tox-bootstrapd
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libtoxcore.so.2.22.0

post-extract:
	(cd ${WRKSRC}/third_party &&\
		tar -xzf ${DISTDIR}/tox/camgunz-cmp-20.tar.gz &&\
		ls &&\
		rmdir cmp &&\
		mv cmp-20 cmp)

[FILE:151:descriptions/desc.primary]
Tox is a secure distributed messaging protocol with audio and video chat
capabilities.

This package contains the client library for the Tox protocol.


[FILE:41:descriptions/desc.tools]
This package contains the toxcore tools.


[FILE:217:distinfo]
68849c67e3b7161eca74aa19bb978f7e7045042356346fb28b5ef88a13b7a434       959762 tox/TokTok-c-toxcore-0.2.22.tar.gz
cde6db84cb04913d4ce4880c4db665555f92c163f362de151e350d8f30113362        40252 tox/camgunz-cmp-20.tar.gz


[FILE:61:manifests/plist.primary]
lib/
 libtoxcore.so.%%SOMAJOR%%
 libtoxcore.so.%%SOVERSION%%


[FILE:85:manifests/plist.tools]
bin/
 DHT_bootstrap
 tox-bootstrapd
share/bash-completion/completions/tox-bootstrapd


[FILE:138:manifests/plist.dev]
include/tox/
 tox.h
 tox_log_level.h
 tox_options.h
 toxav.h
 toxencryptsave.h
lib/
 libtoxcore.a
 libtoxcore.so
lib/pkgconfig/toxcore.pc

