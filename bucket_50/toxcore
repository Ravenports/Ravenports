# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		toxcore
VERSION=		0.2.18
REVISION=		1
KEYWORDS=		net net_im net_p2p
VARIANTS=		standard
SDESC[standard]=	Tox chat protocol library
HOMEPAGE=		https://tox.chat/
CONTACT=		Leonid_Bobrov[goleo@disroot.org]

DOWNLOAD_GROUPS=	main cmp
SITES[main]=		GITHUB/TokTok:c-toxcore:v0.2.18
SITES[cmp]=		GITHUB/camgunz:cmp:v20
DISTFILE[1]=		generated:main
DISTFILE[2]=		generated:cmp
DIST_SUBDIR=		tox
DF_INDEX=		1 2
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libsodium:dev:standard
			libvpx:dev:standard
			msgpack:dev:standard
BUILDRUN_DEPENDS=	libconfig:single:standard
			libsodium:primary:standard
			libvpx:primary:standard
			msgpack:primary:standard
			opus:single:standard

USES=			cpe cmake libtool pkgconfig

EXTRACT_ONLY=		1

LICENSE=		GPLv3+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/LICENSE
LICENSE_AWK=		TERMS:"^\#ifdef"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/toxcore/tox.c
LICENSE_SCHEME=		solo

CPE_PRODUCT=		toxcore
CPE_VENDOR=		toktok
FPC_EQUIVALENT=		net-im/tox

SOVERSION=		2.18.0

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/DHT_bootstrap
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/tox-bootstrapd
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libtoxcore.so.2.18.0

post-extract:
	(cd ${WRKSRC}/third_party &&\
		tar -xzf ${DISTDIR}/tox/camgunz-cmp-20.tar.gz &&\
		ls &&\
		rmdir cmp &&\
		mv cmp-20 cmp)

[FILE:151:descriptions/desc.single]
Tox is a secure distributed messaging protocol with audio and video chat
capabilities.

This package contains the client library for the Tox protocol.


[FILE:217:distinfo]
1fba883638fd18985fd41acd35fed198c2cdd6e91651eb1c3fe602b610b535fe       613087 tox/TokTok-c-toxcore-0.2.18.tar.gz
cde6db84cb04913d4ce4880c4db665555f92c163f362de151e350d8f30113362        40252 tox/camgunz-cmp-20.tar.gz


[FILE:277:manifests/plist.single]
bin/
 DHT_bootstrap
 tox-bootstrapd
include/tox/
 tox.h
 tox_dispatch.h
 tox_events.h
 toxav.h
 toxencryptsave.h
lib/
 libtoxcore.a
 libtoxcore.so
 libtoxcore.so.%%SOMAJOR%%
 libtoxcore.so.%%SOVERSION%%
lib/pkgconfig/toxcore.pc
share/bash-completion/completions/tox-bootstrapd

