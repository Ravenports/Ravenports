# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		consolekit
VERSION=		1.2.4
KEYWORDS=		sysutils
VARIANTS=		standard
SDESC[standard]=	Framework for defining and tracking users
HOMEPAGE=		https://github.com/ConsoleKit2/ConsoleKit2
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/ConsoleKit2:ConsoleKit2:1.2.4
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs
			nls

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libtool:single:standard
BUILDRUN_DEPENDS=	dbus:single:standard
			openpam:single:standard
			polkit:primary:standard
			libdrm:single:standard

USES=			autoreconf:build gmake libtool pkgconfig zlib
			gtk-doc
GNOME_COMPONENTS=	glib libxslt introspection
XORG_COMPONENTS=	x11

DISTNAME=		ConsoleKit2-1.2.4

LICENSE=		GPLv2+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/ck-session.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		sysutils/consolekit2
GTKDOC_OUTPUT_BASEDIR=	libconsolekit-1.0

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-pid-file=/var/run/consolekit.pid
			--enable-pam-module
			--with-pam-module-dir={{PREFIX}}/lib
			--localstatedir=/var
			--enable-polkit
			--enable-introspection
			--enable-gtk-doc
			--disable-udev-acl
			--disable-libcgmanager
			--disable-libevdev
			--without-systemdsystemunitdir

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes

VAR_OPSYS[sunos]=	CPPFLAGS=-DO_CLOEXEC=0
			LDFLAGS=-lintl

pre-configure:
	${REINPLACE_CMD} -e "s|http://www.oasis-open.org/docbook/xml/|file://${LOCALBASE}/share/xml/docbook/|" \
		${WRKSRC}/doc/libconsolekit/libconsolekit-docs.xml
	cd ${WRKSRC} && ${SETENV} NOCONFIGURE=1 ${SH} ./autogen.sh

[FILE:438:descriptions/desc.primary]
ConsoleKit is a framework for defining and tracking users, login sessions, 
and seats. It allows multiple users to be logged in at the same time and 
share hardware for their graphical session. ConsoleKit will keep track of 
those resources and whichever session is active will have use of the 
hardware at that time.

ConsoleKit2 is a fork of the ConsoleKit since that is no longer maintained 
(freedesktop chose to use logind instead).


[FILE:115:distinfo]
7c5ca07cc7ecb2743446c4ab5a66ae02667acab6214268d76f0fdf73eaf141e8       256924 ConsoleKit2-ConsoleKit2-1.2.4.tar.gz


[FILE:2048:manifests/plist.primary]
%%ONLY-FREEBSD%%lib/ConsoleKit/scripts/
 ck-get-x11-display-device
 ck-get-x11-server-pid
 ck-system-hibernate
 ck-system-hybridsleep
 ck-system-restart
 ck-system-stop
 ck-system-suspend
%%ONLY-LINUX%%lib/ConsoleKit/scripts/
 ck-system-hibernate
 ck-system-hybridsleep
 ck-system-restart
 ck-system-stop
 ck-system-suspend
%%ONLY-NETBSD%%lib/ConsoleKit/scripts/
 ck-system-hibernate
 ck-system-hybridsleep
 ck-system-restart
 ck-system-stop
 ck-system-suspend
%%ONLY-SUNOS%%lib/ConsoleKit/scripts/
 ck-system-hibernate
 ck-system-hybridsleep
 ck-system-restart
 ck-system-stop
 ck-system-suspend
bin/
 ck-history
 ck-launch-session
 ck-list-sessions
etc/ConsoleKit/seats.d/00-primary.seat
etc/X11/xinit/xinitrc.d/90-consolekit
etc/dbus-1/system.d/ConsoleKit.conf
etc/logrotate.d/consolekit
include/ConsoleKit/libconsolekit.h
include/ConsoleKit/ck-connector/ck-connector.h
lib/
 libck-connector.so
 libck-connector.so.0
 libck-connector.so.0.0.0
 libconsolekit.so
 libconsolekit.so.1
 libconsolekit.so.1.0.0
 pam_ck_connector.so
lib/girepository-1.0/libconsolekit-1.0.typelib
lib/pkgconfig/
 ck-connector.pc
 libconsolekit.pc
libexec/
 ck-collect-session-info
@(,,4755) libexec/ck-get-x11-display-device
 ck-get-x11-server-pid
 ck-remove-directory
sbin/
 ck-log-system-restart
 ck-log-system-start
 ck-log-system-stop
 console-kit-daemon
share/dbus-1/interfaces/
 org.freedesktop.ConsoleKit.Manager.xml
 org.freedesktop.ConsoleKit.Seat.xml
 org.freedesktop.ConsoleKit.Session.xml
share/dbus-1/system-services/org.freedesktop.ConsoleKit.service
share/gir-1.0/libconsolekit-1.0.gir
share/man/man1/
 ck-history.1.gz
 ck-launch-session.1.gz
 ck-list-sessions.1.gz
 console-kit-daemon.1m.gz
share/man/man8/pam_ck_connector.8.gz
share/polkit-1/actions/org.freedesktop.consolekit.policy
@dir /var/log/ConsoleKit
@dir /var/run/ConsoleKit
@dir etc/ConsoleKit/run-seat.d
@dir etc/ConsoleKit/run-session.d
@dir lib/ConsoleKit/run-seat.d
@dir lib/ConsoleKit/run-session.d
@postexec /usr/bin/touch /var/log/ConsoleKit/history
@rmtry /var/log/ConsoleKit/history


[FILE:288:manifests/plist.docs]
share/doc/consolekit/
 annotation-glossary.html
 api-index-1.0.html
 api-index-deprecated.html
 api-index-full.html
 ch01.html
 home.png
 index.html
 left-insensitive.png
 left.png
 libconsolekit-libconsolekit.html
 right-insensitive.png
 right.png
 style.css
 up-insensitive.png
 up.png


[FILE:219:manifests/plist.nls]
share/locale/bg/LC_MESSAGES/ConsoleKit2.mo
share/locale/es/LC_MESSAGES/ConsoleKit2.mo
share/locale/es_419/LC_MESSAGES/ConsoleKit2.mo
share/locale/fr/LC_MESSAGES/ConsoleKit2.mo
share/locale/ru/LC_MESSAGES/ConsoleKit2.mo

