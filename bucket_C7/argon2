# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		argon2
VERSION=		20171227
KEYWORDS=		security
VARIANTS=		standard
SDESC[standard]=	Reference C implementation of the Argon2 hash
HOMEPAGE=		https://github.com/P-H-C/phc-winner-argon2
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://github.com/P-H-C/phc-winner-argon2/archive/
DISTFILE[1]=		20171227.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gmake

DISTNAME=		phc-winner-argon2-20171227

FPC_EQUIVALENT=		security/libargon2

INSTALL_REQ_TOOLCHAIN=	yes

post-patch:
	${REINPLACE_CMD} -e "s|PREFIX = /usr|PREFIX = ${PREFIX}|" \
		${WRKSRC}/Makefile

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/argon2
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libargon2.so

[FILE:554:descriptions/desc.single]
Argon2 is a password-hashing function created by by Alex Biryukov, Daniel 
Dinu, and Dmitry Khovratovich. It was declared the winner of the Password 
Hashing Competition (PHC) in 2015. The PHC recommends using it rather than 
legacy algorithms. Argon2 is in the public domain.

There are two versions of Argon2. Argon2d provides the highest resistance 
against GPU cracking attacks. Argon2i is designed to resist side-channel 
attacks. Argon2id is a hybrid that should generally be used unless special 
reasons exist to prefer one of the other versions.


[FILE:94:distinfo]
eaea0172c1f4ee4550d1b6c9ce01aab8d1ab66b4207776aa67991eb5872fdcd8      1503745 20171227.tar.gz


[FILE:60:manifests/plist.single]
bin/argon2
include/argon2.h
lib/
 libargon2.a
 libargon2.so


[FILE:393:patches/patch-Makefile]
--- Makefile.orig	2017-12-27 19:56:31 UTC
+++ Makefile
@@ -64,7 +64,7 @@ ifeq ($(KERNEL_NAME), Linux)
 	SO_LDFLAGS := -Wl,-soname,lib$(LIB_NAME).$(LIB_EXT)
 	LINKED_LIB_EXT := so
 endif
-ifeq ($(KERNEL_NAME), $(filter $(KERNEL_NAME),FreeBSD NetBSD OpenBSD))
+ifeq ($(KERNEL_NAME), $(filter $(KERNEL_NAME),DragonFly FreeBSD NetBSD OpenBSD))
 	LIB_EXT := so
 	LIB_CFLAGS := -shared -fPIC
 endif

