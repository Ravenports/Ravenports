# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libuuid
VERSION=		2.32.1
KEYWORDS=		misc devel
VARIANTS=		standard
SDESC[standard]=	Tool/Lib for generating Universally Unique IDs
HOMEPAGE=		https://sourceforge.net/projects/libuuid/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.32/
DISTFILE[1]=		util-linux-2.32.1.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

B_DEPS[sunos]=		libbsd4sol:single:standard

USES=			libtool pkgconfig
C_USES[sunos]=		perl:build

DISTNAME=		util-linux-2.32.1

LICENSE=		BSD3CLAUSE:single
LICENSE_FILE=		BSD3CLAUSE:{{WRKDIR}}/BSD3
LICENSE_AWK=		BSD3CLAUSE:"^$$"
LICENSE_SOURCE=		BSD3CLAUSE:{{WRKSRC}}/libuuid/src/uuid.h
LICENSE_SCHEME=		solo

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-all-programs
			--disable-bash-completion
			--enable-libuuid
			--enable-uuidgen
			--without-ncurses
			--without-ncursesw
			--disable-nls

INSTALL_TARGET=		install-strip
SOVERSION=		1.3.0

VAR_OPSYS[sunos]=	CFLAGS=-I{{LOCALBASE}}/include/bsd
			LDFLAGS=-lbsd
			CFLAGS=-DHAVE_STRNLEN
			CFLAGS=-DHAVE_STRNDUP

post-install:
	${RM} -r ${STAGEDIR}${PREFIX}/share/bash-completion

post-patch-sunos:
	# there's a problem with nls, just mass-remove the macro
	${GREP} -rl '_(".*")' ${WRKSRC} | ${XARGS} \
		${PERL} -p -i.pbak -e 's|[_][(]["](.*?)["][)]|"\1"|g'

[FILE:568:descriptions/desc.single]
The UUID library is used to generate unique identifiers for objects
that may be accessible beyond the local system.  This library
generates UUIDs compatible with those created by the Open Software
Foundation (OSF) Distributed Computing Environment (DCE) utility
uuidgen.

The UUIDs generated by this library can be reasonably expected to be
unique within a system, and unique across all systems.  They could
be used, for instance, to generate unique HTTP cookies across multiple
web servers without communication between the servers, and without fear
of a name clash.


[FILE:103:distinfo]
86e6707a379c7ff5489c218cfaf1e3464b0b95acf7817db0bc5f179e356a67b2      4561088 util-linux-2.32.1.tar.xz


[FILE:412:manifests/plist.single]
bin/uuidgen
include/uuid/uuid.h
lib/
 libuuid.a
 libuuid.so
 libuuid.so.%%SOMAJOR%%
 libuuid.so.%%SOVERSION%%
lib/pkgconfig/uuid.pc
share/man/man1/uuidgen.1.gz
share/man/man3/
 uuid.3.gz
 uuid_clear.3.gz
 uuid_compare.3.gz
 uuid_copy.3.gz
 uuid_generate.3.gz
 uuid_generate_random.3.gz
 uuid_generate_time.3.gz
 uuid_generate_time_safe.3.gz
 uuid_is_null.3.gz
 uuid_parse.3.gz
 uuid_time.3.gz
 uuid_unparse.3.gz


[FILE:2223:patches/patch-configure]
Add --disable-uuidgen and --disable-mcookie.

--- configure.orig	2018-03-21 14:25:31 UTC
+++ configure
@@ -1252,6 +1252,7 @@ enable_zramctl
 enable_fsck
 enable_partx
 enable_uuidd
+enable_uuidgen
 enable_mountpoint
 enable_fallocate
 enable_unshare
@@ -1271,6 +1272,7 @@ enable_lslogins
 enable_wdctl
 enable_cal
 enable_logger
+enable_mcookie
 enable_switch_root
 enable_pivot_root
 enable_lsmem
@@ -2027,6 +2029,7 @@ Optional Features:
   --disable-fsck          do not build fsck
   --disable-partx         do not build addpart, delpart, partx
   --disable-uuidd         do not build the uuid daemon
+  --disable-uuidgen       do not build uuidgen
   --disable-mountpoint    do not build mountpoint
   --disable-fallocate     do not build fallocate
   --disable-unshare       do not build unshare
@@ -2046,6 +2049,7 @@ Optional Features:
   --disable-wdctl         do not build wdctl
   --disable-cal           do not build cal
   --disable-logger        do not build logger
+  --disable-mcookie       do not build mcookie
   --disable-switch_root   do not build switch_root
   --disable-pivot_root    do not build pivot_root
   --disable-lsmem         do not build lsmem
@@ -23632,17 +23636,22 @@ fi
 
 
 
+# Check whether --enable-uuidgen was given.
+if test "${enable_uuidgen+set}" = set; then :
+  enableval=$enable_uuidgen;
+else
 
   if test "x$ul_default_estate" != x; then
   enable_uuidgen=$ul_default_estate
-  build_uuidgen=yes
-  if test "x$ul_default_estate" = xno; then
-    build_uuidgen=no
+  else
+  enable_uuidgen=check
   fi
-else
+fi
 
+if test "x$enable_uuidgen" = xno; then
+  build_uuidgen=no
+else
   build_uuidgen=yes
-  enable_uuidgen=check
 fi
 
 
@@ -26489,17 +26498,23 @@ fi
 
 
 
+# Check whether --enable-mcookie was given.
+if test "${enable_mcookie+set}" = set; then :
+  enableval=$enable_mcookie;
+else
 
   if test "x$ul_default_estate" != x; then
   enable_mcookie=$ul_default_estate
-  build_mcookie=yes
-  if test "x$ul_default_estate" = xno; then
-    build_mcookie=no
+  else
+    enable_mcookie=check
   fi
-else
 
+fi
+
+if test "x$enable_mcookie" = xno; then
+  build_mcookie=no
+else
   build_mcookie=yes
-  enable_mcookie=yes
 fi
 
  if test "x$build_mcookie" = xyes; then


[FILE:234:patches/patch-include_c.h]
Add NAME_MAX compat.

--- include/c.h.orig	2018-02-09 12:22:55 UTC
+++ include/c.h
@@ -29,6 +29,10 @@
 # define LOGIN_NAME_MAX 256
 #endif
 
+#ifndef NAME_MAX
+# define NAME_MAX PATH_MAX
+#endif
+
 /*
  * Compiler-specific stuff
  */


[FILE:1518:patches/patch-include_ttyutils.h]
Define values if missing.

--- include/ttyutils.h.orig	2017-09-27 09:05:13 UTC
+++ include/ttyutils.h
@@ -61,6 +61,18 @@ extern int get_terminal_name(const char
 static inline void reset_virtual_console(struct termios *tp, int flags)
 {
 	/* Use defaults of <sys/ttydefaults.h> for base settings */
+#ifndef TTYDEF_IFLAG
+#define TTYDEF_IFLAG	(BRKINT | ICRNL | IMAXBEL | IXON | IXANY)
+#endif
+#ifndef TTYDEF_OFLAG
+#define TTYDEF_OFLAG	(OPOST | ONLCR /*| OXTABS*/)
+#endif
+#ifndef TTYDEF_LFLAG
+#define TTYDEF_LFLAG	(ECHO | ICANON | ISIG | IEXTEN | ECHOE|ECHOKE|ECHOCTL)
+#endif
+#ifndef TTYDEF_CFLAG
+#define TTYDEF_CFLAG	(CREAD | CS8 | HUPCL)
+#endif
 	tp->c_iflag |= TTYDEF_IFLAG;
 	tp->c_oflag |= TTYDEF_OFLAG;
 	tp->c_lflag |= TTYDEF_LFLAG;
@@ -115,6 +127,13 @@ static inline void reset_virtual_console
 # define FFDLY 0
 #endif
 
+#ifndef TAB0
+#define TAB0 0
+#endif
+#ifndef TABDLY
+#define TABDLY 0
+#endif
+
 	tp->c_iflag |=  (BRKINT | ICRNL | IMAXBEL);
 	tp->c_iflag &= ~(IGNBRK | INLCR | IGNCR | IXOFF | IUCLC | IXANY | ISTRIP);
 	tp->c_oflag |=  (OPOST | ONLCR | NL0 | CR0 | TAB0 | BS0 | VT0 | FF0);
@@ -159,7 +178,13 @@ static inline void reset_virtual_console
 	tp->c_cc[VSTOP]    = CSTOP;
 	tp->c_cc[VSUSP]    = CSUSP;
 	tp->c_cc[VEOL]     = _POSIX_VDISABLE;
+#ifndef CREPRINT
+#define CREPRINT	('r' & 037)
+#endif
 	tp->c_cc[VREPRINT] = CREPRINT;
+#ifndef CDISCARD
+#define CDISCARD	('o' & 037)
+#endif
 	tp->c_cc[VDISCARD] = CDISCARD;
 	tp->c_cc[VWERASE]  = CWERASE;
 	tp->c_cc[VLNEXT]   = CLNEXT;


[FILE:334:patches/patch-lib_randutils.c]
O_CLOEXEC is not available on every platform (e.g. MacOS X < 10.7). It
was introduced in POSIX 2008.

--- lib/randutils.c.orig	2018-03-20 13:16:23 UTC
+++ lib/randutils.c
@@ -74,6 +74,10 @@ static void crank_random(void)
 		rand();
 }
 
+#if !defined(O_CLOEXEC)
+#define O_CLOEXEC 0
+#endif
+
 int random_get_fd(void)
 {
 	int i, fd;


[FILE:1457:patches/patch-libuuid_src_gen__uuid.c]
fcntl is portable, flock is not.
Solaris does not have ifr.ifr_hwaddr.

--- libuuid/src/gen_uuid.c.orig	2017-12-14 14:48:21 UTC
+++ libuuid/src/gen_uuid.c
@@ -172,7 +172,7 @@ static int get_node_id(unsigned char *no
 	for (i = 0; i < n; i+= ifreq_size(*ifrp) ) {
 		ifrp = (struct ifreq *)((char *) ifc.ifc_buf+i);
 		strncpy(ifr.ifr_name, ifrp->ifr_name, IFNAMSIZ);
-#ifdef SIOCGIFHWADDR
+#if defined(SIOCGIFHWADDR) && !defined(__sun)
 		if (ioctl(sd, SIOCGIFHWADDR, &ifr) < 0)
 			continue;
 		a = (unsigned char *) &ifr.ifr_hwaddr.sa_data;
@@ -227,12 +227,17 @@ static int get_clock(uint32_t *clock_hig
 	THREAD_LOCAL int		state_fd = -2;
 	THREAD_LOCAL FILE		*state_f;
 	THREAD_LOCAL uint16_t		clock_seq;
+	struct flock			lock;
 	struct timeval			tv;
 	uint64_t			clock_reg;
 	mode_t				save_umask;
 	int				len;
 	int				ret = 0;
 
+	lock.l_whence = SEEK_SET;
+	lock.l_start = 0;
+	lock.l_len = 0;
+
 	if (state_fd == -1)
 		ret = -1;
 
@@ -253,7 +258,8 @@ static int get_clock(uint32_t *clock_hig
 	}
 	if (state_fd >= 0) {
 		rewind(state_f);
-		while (flock(state_fd, LOCK_EX) < 0) {
+		lock.l_type = F_WRLCK;
+		while (fcntl(state_fd, F_SETLKW, &lock) < 0) {
 			if ((errno == EAGAIN) || (errno == EINTR))
 				continue;
 			fclose(state_f);
@@ -325,7 +331,8 @@ try_again:
 			fflush(state_f);
 		}
 		rewind(state_f);
-		flock(state_fd, LOCK_UN);
+		lock.l_type = F_UNLCK;
+		fcntl(state_fd, F_SETLK, &lock);
 	}
 
 	*clock_high = clock_reg >> 32;


[FILE:3018:dragonfly/patch-Makefile.in]
Linker script depends on non-portable constructs.
Do not compile setproctitle; it conflicts with BSD and is not needed.
Do not build common libraries.
Do not install terminal-colors.d.5.

--- Makefile.in.orig	2018-03-21 14:25:32 UTC
+++ Makefile.in
@@ -186,7 +186,7 @@ check_PROGRAMS = test_blkdev$(EXEEXT) te
 
 @BUILD_LIBUUID_TRUE@am__append_15 = test_uuid_parser
 @BUILD_LIBUUID_TRUE@am__append_16 = libuuid.la
-@BUILD_LIBUUID_TRUE@@HAVE_VSCRIPT_TRUE@am__append_17 = libuuid_la_LDFLAGS += $(VSCRIPT_LDFLAGS),$(top_srcdir)/libuuid/src/libuuid.sym
+@BUILD_LIBUUID_TRUE@@HAVE_VSCRIPT_COMPLEX_TRUE@am__append_17 = libuuid_la_LDFLAGS += $(VSCRIPT_LDFLAGS),$(top_srcdir)/libuuid/src/libuuid.sym
 @BUILD_LIBUUID_TRUE@am__append_18 = libuuid/src/libuuid.sym \
 @BUILD_LIBUUID_TRUE@	libuuid/COPYING
 @BUILD_LIBUUID_TRUE@am__append_19 = install-exec-hook-libuuid
@@ -204,7 +204,7 @@ check_PROGRAMS = test_blkdev$(EXEEXT) te
 
 @BUILD_LIBBLKID_TRUE@@BUILD_LIBUUID_TRUE@am__append_25 = libuuid.la
 @BUILD_LIBBLKID_TRUE@@BUILD_LIBUUID_TRUE@am__append_26 = -I$(ul_libuuid_incdir)
-@BUILD_LIBBLKID_TRUE@@HAVE_VSCRIPT_TRUE@am__append_27 = $(VSCRIPT_LDFLAGS),$(top_srcdir)/libblkid/src/libblkid.sym
+@BUILD_LIBBLKID_TRUE@@HAVE_VSCRIPT_COMPLEX_TRUE@am__append_27 = $(VSCRIPT_LDFLAGS),$(top_srcdir)/libblkid/src/libblkid.sym
 @BUILD_LIBBLKID_TRUE@am__append_28 = libblkid/src/libblkid.sym \
 @BUILD_LIBBLKID_TRUE@	libblkid/COPYING
 @BUILD_LIBBLKID_TESTS_TRUE@@BUILD_LIBBLKID_TRUE@am__append_29 = \
@@ -1032,7 +1032,7 @@ am__libcommon_la_SOURCES_DIST = lib/blkd
 	lib/fileutils.c lib/ismounted.c lib/color-names.c lib/mangle.c \
 	lib/match.c lib/mbsalign.c lib/mbsedit.c lib/md5.c lib/pager.c \
 	lib/parse-date.y lib/path.c lib/pwdutils.c lib/randutils.c \
-	lib/setproctitle.c lib/strutils.c lib/timeutils.c \
+	lib/strutils.c lib/timeutils.c \
 	lib/ttyutils.c lib/exec_shell.c lib/strv.c lib/sha1.c \
 	lib/signames.c lib/linux_version.c lib/loopdev.c \
 	lib/plymouth-ctrl.c lib/langinfo.c lib/cpuset.c \
@@ -3826,8 +3826,7 @@ dist_noinst_HEADERS = include/all-io.h i
 	include/swapheader.h include/swapprober.h include/sysfs.h \
 	include/timer.h include/timeutils.h include/ttyutils.h \
 	include/widechar.h include/xalloc.h
-noinst_LTLIBRARIES = libcommon.la libtcolors.la
-dist_man_MANS = lib/terminal-colors.d.5 $(am__append_14) \
+dist_man_MANS = $(am__append_14) \
 	$(am__append_38) $(am__append_78) $(am__append_80) \
 	$(am__append_82) $(am__append_84) $(am__append_86) \
 	$(am__append_88) $(am__append_90) $(am__append_92) \
@@ -3939,7 +3938,7 @@ libcommon_la_SOURCES = lib/blkdev.c lib/
 	lib/ismounted.c lib/color-names.c lib/mangle.c lib/match.c \
 	lib/mbsalign.c lib/mbsedit.c lib/md5.c lib/pager.c \
 	lib/parse-date.y lib/path.c lib/pwdutils.c lib/randutils.c \
-	lib/setproctitle.c lib/strutils.c lib/timeutils.c \
+	lib/strutils.c lib/timeutils.c \
 	lib/ttyutils.c lib/exec_shell.c lib/strv.c lib/sha1.c \
 	lib/signames.c $(am__append_1) $(am__append_2) $(am__append_3) \
 	$(am__append_4) $(am__append_5)


[FILE:3018:freebsd/patch-Makefile.in]
Linker script depends on non-portable constructs.
Do not compile setproctitle; it conflicts with BSD and is not needed.
Do not build common libraries.
Do not install terminal-colors.d.5.

--- Makefile.in.orig	2018-03-21 14:25:32 UTC
+++ Makefile.in
@@ -186,7 +186,7 @@ check_PROGRAMS = test_blkdev$(EXEEXT) te
 
 @BUILD_LIBUUID_TRUE@am__append_15 = test_uuid_parser
 @BUILD_LIBUUID_TRUE@am__append_16 = libuuid.la
-@BUILD_LIBUUID_TRUE@@HAVE_VSCRIPT_TRUE@am__append_17 = libuuid_la_LDFLAGS += $(VSCRIPT_LDFLAGS),$(top_srcdir)/libuuid/src/libuuid.sym
+@BUILD_LIBUUID_TRUE@@HAVE_VSCRIPT_COMPLEX_TRUE@am__append_17 = libuuid_la_LDFLAGS += $(VSCRIPT_LDFLAGS),$(top_srcdir)/libuuid/src/libuuid.sym
 @BUILD_LIBUUID_TRUE@am__append_18 = libuuid/src/libuuid.sym \
 @BUILD_LIBUUID_TRUE@	libuuid/COPYING
 @BUILD_LIBUUID_TRUE@am__append_19 = install-exec-hook-libuuid
@@ -204,7 +204,7 @@ check_PROGRAMS = test_blkdev$(EXEEXT) te
 
 @BUILD_LIBBLKID_TRUE@@BUILD_LIBUUID_TRUE@am__append_25 = libuuid.la
 @BUILD_LIBBLKID_TRUE@@BUILD_LIBUUID_TRUE@am__append_26 = -I$(ul_libuuid_incdir)
-@BUILD_LIBBLKID_TRUE@@HAVE_VSCRIPT_TRUE@am__append_27 = $(VSCRIPT_LDFLAGS),$(top_srcdir)/libblkid/src/libblkid.sym
+@BUILD_LIBBLKID_TRUE@@HAVE_VSCRIPT_COMPLEX_TRUE@am__append_27 = $(VSCRIPT_LDFLAGS),$(top_srcdir)/libblkid/src/libblkid.sym
 @BUILD_LIBBLKID_TRUE@am__append_28 = libblkid/src/libblkid.sym \
 @BUILD_LIBBLKID_TRUE@	libblkid/COPYING
 @BUILD_LIBBLKID_TESTS_TRUE@@BUILD_LIBBLKID_TRUE@am__append_29 = \
@@ -1032,7 +1032,7 @@ am__libcommon_la_SOURCES_DIST = lib/blkd
 	lib/fileutils.c lib/ismounted.c lib/color-names.c lib/mangle.c \
 	lib/match.c lib/mbsalign.c lib/mbsedit.c lib/md5.c lib/pager.c \
 	lib/parse-date.y lib/path.c lib/pwdutils.c lib/randutils.c \
-	lib/setproctitle.c lib/strutils.c lib/timeutils.c \
+	lib/strutils.c lib/timeutils.c \
 	lib/ttyutils.c lib/exec_shell.c lib/strv.c lib/sha1.c \
 	lib/signames.c lib/linux_version.c lib/loopdev.c \
 	lib/plymouth-ctrl.c lib/langinfo.c lib/cpuset.c \
@@ -3826,8 +3826,7 @@ dist_noinst_HEADERS = include/all-io.h i
 	include/swapheader.h include/swapprober.h include/sysfs.h \
 	include/timer.h include/timeutils.h include/ttyutils.h \
 	include/widechar.h include/xalloc.h
-noinst_LTLIBRARIES = libcommon.la libtcolors.la
-dist_man_MANS = lib/terminal-colors.d.5 $(am__append_14) \
+dist_man_MANS = $(am__append_14) \
 	$(am__append_38) $(am__append_78) $(am__append_80) \
 	$(am__append_82) $(am__append_84) $(am__append_86) \
 	$(am__append_88) $(am__append_90) $(am__append_92) \
@@ -3939,7 +3938,7 @@ libcommon_la_SOURCES = lib/blkdev.c lib/
 	lib/ismounted.c lib/color-names.c lib/mangle.c lib/match.c \
 	lib/mbsalign.c lib/mbsedit.c lib/md5.c lib/pager.c \
 	lib/parse-date.y lib/path.c lib/pwdutils.c lib/randutils.c \
-	lib/setproctitle.c lib/strutils.c lib/timeutils.c \
+	lib/strutils.c lib/timeutils.c \
 	lib/ttyutils.c lib/exec_shell.c lib/strv.c lib/sha1.c \
 	lib/signames.c $(am__append_1) $(am__append_2) $(am__append_3) \
 	$(am__append_4) $(am__append_5)


[FILE:3022:sunos/patch-Makefile.in]
Linker script depends on non-portable constructs.
Do not compile setproctitle; it is not needed and requires initialization
Do not build common libraries.
Do not install terminal-colors.d.5.

--- Makefile.in.orig	2018-03-21 14:25:32 UTC
+++ Makefile.in
@@ -186,7 +186,7 @@ check_PROGRAMS = test_blkdev$(EXEEXT) te
 
 @BUILD_LIBUUID_TRUE@am__append_15 = test_uuid_parser
 @BUILD_LIBUUID_TRUE@am__append_16 = libuuid.la
-@BUILD_LIBUUID_TRUE@@HAVE_VSCRIPT_TRUE@am__append_17 = libuuid_la_LDFLAGS += $(VSCRIPT_LDFLAGS),$(top_srcdir)/libuuid/src/libuuid.sym
+@BUILD_LIBUUID_TRUE@@HAVE_VSCRIPT_COMPLEX_TRUE@am__append_17 = libuuid_la_LDFLAGS += $(VSCRIPT_LDFLAGS),$(top_srcdir)/libuuid/src/libuuid.sym
 @BUILD_LIBUUID_TRUE@am__append_18 = libuuid/src/libuuid.sym \
 @BUILD_LIBUUID_TRUE@	libuuid/COPYING
 @BUILD_LIBUUID_TRUE@am__append_19 = install-exec-hook-libuuid
@@ -204,7 +204,7 @@ check_PROGRAMS = test_blkdev$(EXEEXT) te
 
 @BUILD_LIBBLKID_TRUE@@BUILD_LIBUUID_TRUE@am__append_25 = libuuid.la
 @BUILD_LIBBLKID_TRUE@@BUILD_LIBUUID_TRUE@am__append_26 = -I$(ul_libuuid_incdir)
-@BUILD_LIBBLKID_TRUE@@HAVE_VSCRIPT_TRUE@am__append_27 = $(VSCRIPT_LDFLAGS),$(top_srcdir)/libblkid/src/libblkid.sym
+@BUILD_LIBBLKID_TRUE@@HAVE_VSCRIPT_COMPLEX_TRUE@am__append_27 = $(VSCRIPT_LDFLAGS),$(top_srcdir)/libblkid/src/libblkid.sym
 @BUILD_LIBBLKID_TRUE@am__append_28 = libblkid/src/libblkid.sym \
 @BUILD_LIBBLKID_TRUE@	libblkid/COPYING
 @BUILD_LIBBLKID_TESTS_TRUE@@BUILD_LIBBLKID_TRUE@am__append_29 = \
@@ -1032,7 +1032,7 @@ am__libcommon_la_SOURCES_DIST = lib/blkd
 	lib/fileutils.c lib/ismounted.c lib/color-names.c lib/mangle.c \
 	lib/match.c lib/mbsalign.c lib/mbsedit.c lib/md5.c lib/pager.c \
 	lib/parse-date.y lib/path.c lib/pwdutils.c lib/randutils.c \
-	lib/setproctitle.c lib/strutils.c lib/timeutils.c \
+	lib/strutils.c lib/timeutils.c \
 	lib/ttyutils.c lib/exec_shell.c lib/strv.c lib/sha1.c \
 	lib/signames.c lib/linux_version.c lib/loopdev.c \
 	lib/plymouth-ctrl.c lib/langinfo.c lib/cpuset.c \
@@ -3826,8 +3826,7 @@ dist_noinst_HEADERS = include/all-io.h i
 	include/swapheader.h include/swapprober.h include/sysfs.h \
 	include/timer.h include/timeutils.h include/ttyutils.h \
 	include/widechar.h include/xalloc.h
-noinst_LTLIBRARIES = libcommon.la libtcolors.la
-dist_man_MANS = lib/terminal-colors.d.5 $(am__append_14) \
+dist_man_MANS = $(am__append_14) \
 	$(am__append_38) $(am__append_78) $(am__append_80) \
 	$(am__append_82) $(am__append_84) $(am__append_86) \
 	$(am__append_88) $(am__append_90) $(am__append_92) \
@@ -3939,7 +3938,7 @@ libcommon_la_SOURCES = lib/blkdev.c lib/
 	lib/ismounted.c lib/color-names.c lib/mangle.c lib/match.c \
 	lib/mbsalign.c lib/mbsedit.c lib/md5.c lib/pager.c \
 	lib/parse-date.y lib/path.c lib/pwdutils.c lib/randutils.c \
-	lib/setproctitle.c lib/strutils.c lib/timeutils.c \
+	lib/strutils.c lib/timeutils.c \
 	lib/ttyutils.c lib/exec_shell.c lib/strv.c lib/sha1.c \
 	lib/signames.c $(am__append_1) $(am__append_2) $(am__append_3) \
 	$(am__append_4) $(am__append_5)


[FILE:1944:linux/patch-Makefile.in]
Linker script depends on non-portable constructs.
Do not build common libraries.
Do not install terminal-colors.d.5.

--- Makefile.in.orig	2018-03-21 14:25:32 UTC
+++ Makefile.in
@@ -186,7 +186,7 @@ check_PROGRAMS = test_blkdev$(EXEEXT) te
 
 @BUILD_LIBUUID_TRUE@am__append_15 = test_uuid_parser
 @BUILD_LIBUUID_TRUE@am__append_16 = libuuid.la
-@BUILD_LIBUUID_TRUE@@HAVE_VSCRIPT_TRUE@am__append_17 = libuuid_la_LDFLAGS += $(VSCRIPT_LDFLAGS),$(top_srcdir)/libuuid/src/libuuid.sym
+@BUILD_LIBUUID_TRUE@@HAVE_VSCRIPT_COMPLEX_TRUE@am__append_17 = libuuid_la_LDFLAGS += $(VSCRIPT_LDFLAGS),$(top_srcdir)/libuuid/src/libuuid.sym
 @BUILD_LIBUUID_TRUE@am__append_18 = libuuid/src/libuuid.sym \
 @BUILD_LIBUUID_TRUE@	libuuid/COPYING
 @BUILD_LIBUUID_TRUE@am__append_19 = install-exec-hook-libuuid
@@ -204,7 +204,7 @@ check_PROGRAMS = test_blkdev$(EXEEXT) te
 
 @BUILD_LIBBLKID_TRUE@@BUILD_LIBUUID_TRUE@am__append_25 = libuuid.la
 @BUILD_LIBBLKID_TRUE@@BUILD_LIBUUID_TRUE@am__append_26 = -I$(ul_libuuid_incdir)
-@BUILD_LIBBLKID_TRUE@@HAVE_VSCRIPT_TRUE@am__append_27 = $(VSCRIPT_LDFLAGS),$(top_srcdir)/libblkid/src/libblkid.sym
+@BUILD_LIBBLKID_TRUE@@HAVE_VSCRIPT_COMPLEX_TRUE@am__append_27 = $(VSCRIPT_LDFLAGS),$(top_srcdir)/libblkid/src/libblkid.sym
 @BUILD_LIBBLKID_TRUE@am__append_28 = libblkid/src/libblkid.sym \
 @BUILD_LIBBLKID_TRUE@	libblkid/COPYING
 @BUILD_LIBBLKID_TESTS_TRUE@@BUILD_LIBBLKID_TRUE@am__append_29 = \
@@ -3826,8 +3826,7 @@ dist_noinst_HEADERS = include/all-io.h i
 	include/swapheader.h include/swapprober.h include/sysfs.h \
 	include/timer.h include/timeutils.h include/ttyutils.h \
 	include/widechar.h include/xalloc.h
-noinst_LTLIBRARIES = libcommon.la libtcolors.la
-dist_man_MANS = lib/terminal-colors.d.5 $(am__append_14) \
+dist_man_MANS = $(am__append_14) \
 	$(am__append_38) $(am__append_78) $(am__append_80) \
 	$(am__append_82) $(am__append_84) $(am__append_86) \
 	$(am__append_88) $(am__append_90) $(am__append_92) \

