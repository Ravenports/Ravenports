# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		git
VERSION=		2.50.0
KEYWORDS=		devel net
VARIANTS=		std
SDESC[std]=		Distributed version control system
HOMEPAGE=		https://git-scm.com/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://www.kernel.org/pub/software/scm/git/
DISTFILE[1]=		git-2.50.0.tar.xz:main
DISTFILE[2]=		git-manpages-2.50.0.tar.xz:main
DISTFILE[3]=		git-htmldocs-2.50.0.tar.xz:main
DF_INDEX=		1 2 3
SPKGS[std]=		set
			primary
			man
			nls
			examples
			docs
			gui
			svn
			contrib

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		perl-Error:single:perl_default
			xmlto:primary:std
			asciidoc:single:std
EXRUN[gui]=		gettext:primary:std
			tk86:tools:std
EXRUN[svn]=		perl-TermReadKey:single:perl_default
			perl-subversion:single:perl_default
			perl-Error:single:perl_default

USERS=			gitdemon
GROUPS=			gitdemon
USERGROUP_SPKG=		primary

USES=			cpe autoreconf gmake iconv ssl zlib shebangfix curl
			pcre expat python:build perl:build gettext:build
			tcl:tk,build

EXTRACT_DIRTY=		3

LICENSE=		GPLv2:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^Please read the file"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/README.md
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/git
SHEBANG_FILES=		*.perl
			*/*.perl
			*/*/*.perl
			*/*.pl
			*/*/*.pl
			*/*/*/*.pl
			t/*/*/pre
			t/*/*/post
			t/Git-SVN/Utils/*.t
			git-p4.py
			contrib/hooks/update-paranoid
			contrib/fast-import/import-zips.py
			contrib/remote-helpers/git-remote-bzr
			contrib/remote-helpers/git-remote-hg
			contrib/contacts/git-contacts
			contrib/credential/netrc/git-credential-netrc.perl
			templates/hooks/fsmonitor-watchman.sample

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-pthreads=-pthread
			--with-libpcre
			--with-perl={{PERL}}
			--with-python={{PYTHON_CMD}}

BUILD_TARGET=		all strip
MAKE_ARGS=		TCL_PATH={{TCLSH}}
			TCLTK_PATH={{WISH}}
MAKE_ENV=		V=1
			CURLDIR={{LOCALBASE}}

INSTALL_REQ_TOOLCHAIN=	yes
RC_SUBR=		git_daemon:primary
SUB_FILES=		messages-primary.ucl

post-install:
	(cd ${WRKDIR}/man1/ && ${COPYTREE_SHARE} . ${STAGEDIR}${MANPREFIX}/man/man1)
	(cd ${WRKDIR}/man5/ && ${COPYTREE_SHARE} . ${STAGEDIR}${MANPREFIX}/man/man5)
	(cd ${WRKDIR}/man7/ && ${COPYTREE_SHARE} . ${STAGEDIR}${MANPREFIX}/man/man7)
	${MKDIR} ${STAGEDIR}${PREFIX}/share/emacs/site-lisp/git
	${INSTALL_DATA} ${WRKSRC}/contrib/emacs/git.el \
		${STAGEDIR}${PREFIX}/share/emacs/site-lisp/git/
	${INSTALL_DATA} ${WRKSRC}/contrib/emacs/git-blame.el \
		${STAGEDIR}${PREFIX}/share/emacs/site-lisp/git/
	# Strip got missed
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/scalar
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/libexec/git-core/scalar
	# p4 support
	${INSTALL_SCRIPT} ${WRKSRC}/git-p4.py ${STAGEDIR}${PREFIX}/bin/
	# contrib support
	@${ECHO_MSG} "===> Installing contributed scripts"
	${MKDIR} ${STAGEDIR}${PREFIX}/share/git-core/contrib
	${CP} -R ${WRKSRC}/contrib/* ${STAGEDIR}${PREFIX}/share/git-core/contrib
	# Symlink the completions from the contrib directory to where they
	# will be useful
	@${MKDIR} ${STAGEDIR}${PREFIX}/etc/bash_completion.d
	${LN} -s ../../share/git-core/contrib/completion/git-completion.bash \
		${STAGEDIR}${PREFIX}/etc/bash_completion.d/git.sh
	# subtree support
	(cd ${WRKSRC}/Documentation  && ${SETENV} ${MAKE_ENV} \
		${MAKE_CMD} ${MAKE_FLAGS} Makefile asciidoc.conf)
	(cd ${WRKSRC}/contrib/subtree && ${SETENV} ${MAKE_ENV} \
		${MAKE_CMD} ${MAKE_FLAGS} Makefile ${MAKE_ARGS} \
		install install-doc)
	# htmldocs support
	# Manually remove the index.html symlink before installing, and then
	# recreate it after. This is necessary because the distfile is
	# extracted with --no-same-owner. If the distfile is extracted as a
	# non-root user then the symlink will have the incorrect owner.
	${RM} ${WRKDIR}/git_3/index.html
	${MKDIR} ${STAGEDIR}${STD_DOCDIR}
	(cd ${WRKDIR}/git_3 && ${COPYTREE_SHARE} . ${STAGEDIR}${STD_DOCDIR})
	${LN} -s git.html ${STAGEDIR}${STD_DOCDIR}/index.html
	${PYTHON_CMD} ${FILESDIR}/packdoc.py "${STAGEDIR}" "${PREFIX}"

post-build:
	${FIND} ${WRKSRC} -name "*.bak" -delete
	${SETENV} ${MAKE_ENV} ${MAKE_CMD} -C ${WRKSRC}/contrib/diff-highlight
	${RM} ${WRKSRC}/contrib/diff-highlight/shebang.perl

pre-configure:
	${REINPLACE_CMD} -e "s,/usr/bin/perl,${PERL}," \
		${WRKSRC}/contrib/diff-highlight/Makefile

[FILE:398:descriptions/desc.primary]
Git is a free and open source distributed version control system designed
to handle everything from small to very large projects with speed and
efficiency.

Git is easy to learn and has a tiny footprint with lightning fast
performance. It outclasses SCM tools like Subversion, CVS, Perforce, and
ClearCase with features like cheap local branching, convenient staging
areas, and multiple workflows.


[FILE:70:descriptions/desc.gui]
This package contains the git GUI which pulls in additional packages.


[FILE:49:descriptions/desc.svn]
This package contains components to support SVN.


[FILE:51:descriptions/desc.contrib]
This package contains contributed scripts for git.


[FILE:306:distinfo]
dff3c000e400ace3a63b8a6f8b3b76b88ecfdffd4504a04aba4248372cdec045      7878256 git-2.50.0.tar.xz
58e73c5271dc7ac0553648cb58b981690aab6f604eef7da14c579a6bccbe9211       598416 git-manpages-2.50.0.tar.xz
790ffce64c9f439624c5cdc41249e0e6b86010f35eb74456e814de74a29b4bf3      1615020 git-htmldocs-2.50.0.tar.xz


[FILE:3438:manifests/plist.primary]
bin/
 git
 git-receive-pack
 git-shell
 git-upload-archive
 git-upload-pack
 scalar
etc/bash_completion.d/git.sh
libexec/git-core/
 git
 git-add
 git-am
 git-annotate
 git-apply
 git-archimport
 git-archive
 git-backfill
 git-bisect
 git-blame
 git-branch
 git-bugreport
 git-bundle
 git-cat-file
 git-check-attr
 git-check-ignore
 git-check-mailmap
 git-check-ref-format
 git-checkout
 git-checkout--worker
 git-checkout-index
 git-cherry
 git-cherry-pick
 git-clean
 git-clone
 git-column
 git-commit
 git-commit-graph
 git-commit-tree
 git-config
 git-count-objects
 git-credential
 git-credential-cache
 git-credential-cache--daemon
 git-credential-store
 git-daemon
 git-describe
 git-diagnose
 git-diff
 git-diff-files
 git-diff-index
 git-diff-pairs
 git-diff-tree
 git-difftool
 git-difftool--helper
 git-fast-export
 git-fast-import
 git-fetch
 git-fetch-pack
 git-filter-branch
 git-fmt-merge-msg
 git-for-each-ref
 git-for-each-repo
 git-format-patch
 git-fsck
 git-fsck-objects
 git-fsmonitor--daemon
 git-gc
 git-get-tar-commit-id
 git-grep
 git-hash-object
 git-help
 git-hook
 git-http-backend
 git-http-fetch
 git-http-push
 git-imap-send
 git-index-pack
 git-init
 git-init-db
 git-instaweb
 git-interpret-trailers
 git-log
 git-ls-files
 git-ls-remote
 git-ls-tree
 git-mailinfo
 git-mailsplit
 git-maintenance
 git-merge
 git-merge-base
 git-merge-file
 git-merge-index
 git-merge-octopus
 git-merge-one-file
 git-merge-ours
 git-merge-recursive
 git-merge-resolve
 git-merge-subtree
 git-merge-tree
 git-mergetool
 git-mergetool--lib
 git-mktag
 git-mktree
 git-multi-pack-index
 git-mv
 git-name-rev
 git-notes
 git-pack-objects
 git-pack-redundant
 git-pack-refs
 git-patch-id
 git-prune
 git-prune-packed
 git-pull
 git-push
 git-quiltimport
 git-range-diff
 git-read-tree
 git-rebase
 git-receive-pack
 git-reflog
 git-refs
 git-remote
 git-remote-ext
 git-remote-fd
 git-remote-ftp
 git-remote-ftps
 git-remote-http
 git-remote-https
 git-repack
 git-replace
 git-replay
 git-request-pull
 git-rerere
 git-reset
 git-restore
 git-rev-list
 git-rev-parse
 git-revert
 git-rm
 git-send-email
 git-send-pack
 git-sh-i18n
 git-sh-i18n--envsubst
 git-sh-setup
 git-shell
 git-shortlog
 git-show
 git-show-branch
 git-show-index
 git-show-ref
 git-sparse-checkout
 git-stage
 git-stash
 git-status
 git-stripspace
 git-submodule
 git-submodule--helper
 git-switch
 git-symbolic-ref
 git-tag
 git-unpack-file
 git-unpack-objects
 git-update-index
 git-update-ref
 git-update-server-info
 git-upload-archive
 git-upload-pack
 git-var
 git-verify-commit
 git-verify-pack
 git-verify-tag
 git-version
 git-web--browse
 git-whatchanged
 git-worktree
 git-write-tree
 scalar
libexec/git-core/mergetools/
 araxis
 bc
 codecompare
 deltawalker
 diffmerge
 diffuse
 ecmerge
 emerge
 examdiff
 guiffy
 gvimdiff
 kdiff3
 kompare
 meld
 nvimdiff
 opendiff
 p4merge
 smerge
 tkdiff
 tortoisemerge
 vimdiff
 vscode
 winmerge
 xxdiff
share/bash-completion/completions/git
share/emacs/site-lisp/git/
 git-blame.el
 git.el
share/git-core/templates/description
share/git-core/templates/hooks/
 applypatch-msg.sample
 commit-msg.sample
 fsmonitor-watchman.sample
 post-update.sample
 pre-applypatch.sample
 pre-commit.sample
 pre-merge-commit.sample
 pre-push.sample
 pre-rebase.sample
 pre-receive.sample
 prepare-commit-msg.sample
 push-to-checkout.sample
 sendemail-validate.sample
 update.sample
share/git-core/templates/info/exclude


[FILE:3424:manifests/plist.man]
share/man/man1/
 git-add.1
 git-am.1
 git-annotate.1
 git-apply.1
 git-archimport.1
 git-archive.1
 git-backfill.1
 git-bisect.1
 git-blame.1
 git-branch.1
 git-bugreport.1
 git-bundle.1
 git-cat-file.1
 git-check-attr.1
 git-check-ignore.1
 git-check-mailmap.1
 git-check-ref-format.1
 git-checkout-index.1
 git-checkout.1
 git-cherry-pick.1
 git-cherry.1
 git-citool.1
 git-clean.1
 git-clone.1
 git-column.1
 git-commit-graph.1
 git-commit-tree.1
 git-commit.1
 git-config.1
 git-count-objects.1
 git-credential-cache--daemon.1
 git-credential-cache.1
 git-credential-store.1
 git-credential.1
 git-cvsexportcommit.1
 git-cvsimport.1
 git-cvsserver.1
 git-daemon.1
 git-describe.1
 git-diagnose.1
 git-diff-files.1
 git-diff-index.1
 git-diff-pairs.1
 git-diff-tree.1
 git-diff.1
 git-difftool.1
 git-fast-export.1
 git-fast-import.1
 git-fetch-pack.1
 git-fetch.1
 git-filter-branch.1
 git-fmt-merge-msg.1
 git-for-each-ref.1
 git-for-each-repo.1
 git-format-patch.1
 git-fsck-objects.1
 git-fsck.1
 git-fsmonitor--daemon.1
 git-gc.1
 git-get-tar-commit-id.1
 git-grep.1
 git-gui.1
 git-hash-object.1
 git-help.1
 git-hook.1
 git-http-backend.1
 git-http-fetch.1
 git-http-push.1
 git-imap-send.1
 git-index-pack.1
 git-init-db.1
 git-init.1
 git-instaweb.1
 git-interpret-trailers.1
 git-log.1
 git-ls-files.1
 git-ls-remote.1
 git-ls-tree.1
 git-mailinfo.1
 git-mailsplit.1
 git-maintenance.1
 git-merge-base.1
 git-merge-file.1
 git-merge-index.1
 git-merge-one-file.1
 git-merge-tree.1
 git-merge.1
 git-mergetool--lib.1
 git-mergetool.1
 git-mktag.1
 git-mktree.1
 git-multi-pack-index.1
 git-mv.1
 git-name-rev.1
 git-notes.1
 git-p4.1
 git-pack-objects.1
 git-pack-redundant.1
 git-pack-refs.1
 git-patch-id.1
 git-prune-packed.1
 git-prune.1
 git-pull.1
 git-push.1
 git-quiltimport.1
 git-range-diff.1
 git-read-tree.1
 git-rebase.1
 git-receive-pack.1
 git-reflog.1
 git-refs.1
 git-remote-ext.1
 git-remote-fd.1
 git-remote.1
 git-repack.1
 git-replace.1
 git-replay.1
 git-request-pull.1
 git-rerere.1
 git-reset.1
 git-restore.1
 git-rev-list.1
 git-rev-parse.1
 git-revert.1
 git-rm.1
 git-send-email.1
 git-send-pack.1
 git-sh-i18n--envsubst.1
 git-sh-i18n.1
 git-sh-setup.1
 git-shell.1
 git-shortlog.1
 git-show-branch.1
 git-show-index.1
 git-show-ref.1
 git-show.1
 git-sparse-checkout.1
 git-stage.1
 git-stash.1
 git-status.1
 git-stripspace.1
 git-submodule.1
 git-subtree.1
 git-svn.1
 git-switch.1
 git-symbolic-ref.1
 git-tag.1
 git-unpack-file.1
 git-unpack-objects.1
 git-update-index.1
 git-update-ref.1
 git-update-server-info.1
 git-upload-archive.1
 git-upload-pack.1
 git-var.1
 git-verify-commit.1
 git-verify-pack.1
 git-verify-tag.1
 git-version.1
 git-web--browse.1
 git-whatchanged.1
 git-worktree.1
 git-write-tree.1
 git.1
 gitk.1
 gitweb.1
 scalar.1
share/man/man5/
 gitattributes.5
 gitformat-bundle.5
 gitformat-chunk.5
 gitformat-commit-graph.5
 gitformat-index.5
 gitformat-pack.5
 gitformat-signature.5
 githooks.5
 gitignore.5
 gitmailmap.5
 gitmodules.5
 gitprotocol-capabilities.5
 gitprotocol-common.5
 gitprotocol-http.5
 gitprotocol-pack.5
 gitprotocol-v2.5
 gitrepository-layout.5
 gitweb.conf.5
share/man/man7/
 gitcli.7
 gitcore-tutorial.7
 gitcredentials.7
 gitcvs-migration.7
 gitdiffcore.7
 giteveryday.7
 gitfaq.7
 gitglossary.7
 gitnamespaces.7
 gitpacking.7
 gitremote-helpers.7
 gitrevisions.7
 gitsubmodules.7
 gittutorial-2.7
 gittutorial.7
 gitworkflows.7


[FILE:709:manifests/plist.nls]
share/locale/bg/LC_MESSAGES/git.mo
share/locale/ca/LC_MESSAGES/git.mo
share/locale/de/LC_MESSAGES/git.mo
share/locale/el/LC_MESSAGES/git.mo
share/locale/es/LC_MESSAGES/git.mo
share/locale/fr/LC_MESSAGES/git.mo
share/locale/ga/LC_MESSAGES/git.mo
share/locale/id/LC_MESSAGES/git.mo
share/locale/is/LC_MESSAGES/git.mo
share/locale/it/LC_MESSAGES/git.mo
share/locale/ko/LC_MESSAGES/git.mo
share/locale/pl/LC_MESSAGES/git.mo
share/locale/pt_PT/LC_MESSAGES/git.mo
share/locale/ru/LC_MESSAGES/git.mo
share/locale/sv/LC_MESSAGES/git.mo
share/locale/tr/LC_MESSAGES/git.mo
share/locale/uk/LC_MESSAGES/git.mo
share/locale/vi/LC_MESSAGES/git.mo
share/locale/zh_CN/LC_MESSAGES/git.mo
share/locale/zh_TW/LC_MESSAGES/git.mo


[FILE:125:manifests/plist.examples]
share/examples/git/gitweb/gitweb.cgi
share/examples/git/gitweb/static/
 git-favicon.png
 git-logo.png
 gitweb.css
 gitweb.js


[FILE:12397:manifests/plist.docs]
share/doc/git/
 BreakingChanges.adoc
 BreakingChanges.html
 DecisionMaking.adoc
 DecisionMaking.html
 MyFirstContribution.adoc
 MyFirstContribution.html
 MyFirstObjectWalk.adoc
 MyFirstObjectWalk.html
 ReviewingGuidelines.adoc
 ReviewingGuidelines.html
 SubmittingPatches.adoc
 SubmittingPatches.html
 ToolsForGit.adoc
 ToolsForGit.html
 blame-options.adoc
 cmds-ancillaryinterrogators.adoc
 cmds-ancillarymanipulators.adoc
 cmds-developerinterfaces.adoc
 cmds-foreignscminterface.adoc
 cmds-guide.adoc
 cmds-mainporcelain.adoc
 cmds-plumbinginterrogators.adoc
 cmds-plumbingmanipulators.adoc
 cmds-purehelpers.adoc
 cmds-synchelpers.adoc
 cmds-synchingrepositories.adoc
 cmds-userinterfaces.adoc
 config.adoc
 date-formats.adoc
 diff-format.adoc
 diff-generate-patch.adoc
 diff-options.adoc
 docbook-xsl.css
 docinfo.html
 everyday.html
 fetch-options.adoc
 fsck-msgids.adoc
 git-add.adoc
 git-add.html
 git-am.adoc
 git-am.html
 git-annotate.adoc
 git-annotate.html
 git-apply.adoc
 git-apply.html
 git-archimport.adoc
 git-archimport.html
 git-archive.adoc
 git-archive.html
 git-backfill.adoc
 git-backfill.html
 git-bisect-lk2009.adoc
 git-bisect-lk2009.html
 git-bisect.adoc
 git-bisect.html
 git-blame.adoc
 git-blame.html
 git-branch.adoc
 git-branch.html
 git-bugreport.adoc
 git-bugreport.html
 git-bundle.adoc
 git-bundle.html
 git-cat-file.adoc
 git-cat-file.html
 git-check-attr.adoc
 git-check-attr.html
 git-check-ignore.adoc
 git-check-ignore.html
 git-check-mailmap.adoc
 git-check-mailmap.html
 git-check-ref-format.adoc
 git-check-ref-format.html
 git-checkout-index.adoc
 git-checkout-index.html
 git-checkout.adoc
 git-checkout.html
 git-cherry-pick.adoc
 git-cherry-pick.html
 git-cherry.adoc
 git-cherry.html
 git-citool.adoc
 git-citool.html
 git-clean.adoc
 git-clean.html
 git-clone.adoc
 git-clone.html
 git-column.adoc
 git-column.html
 git-commit-graph.adoc
 git-commit-graph.html
 git-commit-tree.adoc
 git-commit-tree.html
 git-commit.adoc
 git-commit.html
 git-config.adoc
 git-config.html
 git-count-objects.adoc
 git-count-objects.html
 git-credential-cache--daemon.adoc
 git-credential-cache--daemon.html
 git-credential-cache.adoc
 git-credential-cache.html
 git-credential-store.adoc
 git-credential-store.html
 git-credential.adoc
 git-credential.html
 git-cvsexportcommit.adoc
 git-cvsexportcommit.html
 git-cvsimport.adoc
 git-cvsimport.html
 git-cvsserver.adoc
 git-cvsserver.html
 git-daemon.adoc
 git-daemon.html
 git-describe.adoc
 git-describe.html
 git-diagnose.adoc
 git-diagnose.html
 git-diff-files.adoc
 git-diff-files.html
 git-diff-index.adoc
 git-diff-index.html
 git-diff-pairs.adoc
 git-diff-pairs.html
 git-diff-tree.adoc
 git-diff-tree.html
 git-diff.adoc
 git-diff.html
 git-difftool.adoc
 git-difftool.html
 git-fast-export.adoc
 git-fast-export.html
 git-fast-import.adoc
 git-fast-import.html
 git-fetch-pack.adoc
 git-fetch-pack.html
 git-fetch.adoc
 git-fetch.html
 git-filter-branch.adoc
 git-filter-branch.html
 git-fmt-merge-msg.adoc
 git-fmt-merge-msg.html
 git-for-each-ref.adoc
 git-for-each-ref.html
 git-for-each-repo.adoc
 git-for-each-repo.html
 git-format-patch.adoc
 git-format-patch.html
 git-fsck-objects.adoc
 git-fsck-objects.html
 git-fsck.adoc
 git-fsck.html
 git-fsmonitor--daemon.adoc
 git-fsmonitor--daemon.html
 git-gc.adoc
 git-gc.html
 git-get-tar-commit-id.adoc
 git-get-tar-commit-id.html
 git-grep.adoc
 git-grep.html
 git-gui.adoc
 git-gui.html
 git-hash-object.adoc
 git-hash-object.html
 git-help.adoc
 git-help.html
 git-hook.adoc
 git-hook.html
 git-http-backend.adoc
 git-http-backend.html
 git-http-fetch.adoc
 git-http-fetch.html
 git-http-push.adoc
 git-http-push.html
 git-imap-send.adoc
 git-imap-send.html
 git-index-pack.adoc
 git-index-pack.html
 git-init-db.adoc
 git-init-db.html
 git-init.adoc
 git-init.html
 git-instaweb.adoc
 git-instaweb.html
 git-interpret-trailers.adoc
 git-interpret-trailers.html
 git-log.adoc
 git-log.html
 git-ls-files.adoc
 git-ls-files.html
 git-ls-remote.adoc
 git-ls-remote.html
 git-ls-tree.adoc
 git-ls-tree.html
 git-mailinfo.adoc
 git-mailinfo.html
 git-mailsplit.adoc
 git-mailsplit.html
 git-maintenance.adoc
 git-maintenance.html
 git-merge-base.adoc
 git-merge-base.html
 git-merge-file.adoc
 git-merge-file.html
 git-merge-index.adoc
 git-merge-index.html
 git-merge-one-file.adoc
 git-merge-one-file.html
 git-merge-tree.adoc
 git-merge-tree.html
 git-merge.adoc
 git-merge.html
 git-mergetool--lib.adoc
 git-mergetool--lib.html
 git-mergetool.adoc
 git-mergetool.html
 git-mktag.adoc
 git-mktag.html
 git-mktree.adoc
 git-mktree.html
 git-multi-pack-index.adoc
 git-multi-pack-index.html
 git-mv.adoc
 git-mv.html
 git-name-rev.adoc
 git-name-rev.html
 git-notes.adoc
 git-notes.html
 git-p4.adoc
 git-p4.html
 git-pack-objects.adoc
 git-pack-objects.html
 git-pack-redundant.adoc
 git-pack-redundant.html
 git-pack-refs.adoc
 git-pack-refs.html
 git-patch-id.adoc
 git-patch-id.html
 git-prune-packed.adoc
 git-prune-packed.html
 git-prune.adoc
 git-prune.html
 git-pull.adoc
 git-pull.html
 git-push.adoc
 git-push.html
 git-quiltimport.adoc
 git-quiltimport.html
 git-range-diff.adoc
 git-range-diff.html
 git-read-tree.adoc
 git-read-tree.html
 git-rebase.adoc
 git-rebase.html
 git-receive-pack.adoc
 git-receive-pack.html
 git-reflog.adoc
 git-reflog.html
 git-refs.adoc
 git-refs.html
 git-remote-ext.adoc
 git-remote-ext.html
 git-remote-fd.adoc
 git-remote-fd.html
 git-remote-helpers.html
 git-remote.adoc
 git-remote.html
 git-repack.adoc
 git-repack.html
 git-replace.adoc
 git-replace.html
 git-replay.adoc
 git-replay.html
 git-request-pull.adoc
 git-request-pull.html
 git-rerere.adoc
 git-rerere.html
 git-reset.adoc
 git-reset.html
 git-restore.adoc
 git-restore.html
 git-rev-list.adoc
 git-rev-list.html
 git-rev-parse.adoc
 git-rev-parse.html
 git-revert.adoc
 git-revert.html
 git-rm.adoc
 git-rm.html
 git-send-email.adoc
 git-send-email.html
 git-send-pack.adoc
 git-send-pack.html
 git-sh-i18n--envsubst.adoc
 git-sh-i18n--envsubst.html
 git-sh-i18n.adoc
 git-sh-i18n.html
 git-sh-setup.adoc
 git-sh-setup.html
 git-shell.adoc
 git-shell.html
 git-shortlog.adoc
 git-shortlog.html
 git-show-branch.adoc
 git-show-branch.html
 git-show-index.adoc
 git-show-index.html
 git-show-ref.adoc
 git-show-ref.html
 git-show.adoc
 git-show.html
 git-sparse-checkout.adoc
 git-sparse-checkout.html
 git-stage.adoc
 git-stage.html
 git-stash.adoc
 git-stash.html
 git-status.adoc
 git-status.html
 git-stripspace.adoc
 git-stripspace.html
 git-submodule.adoc
 git-submodule.html
 git-subtree.html
 git-svn.adoc
 git-svn.html
 git-switch.adoc
 git-switch.html
 git-symbolic-ref.adoc
 git-symbolic-ref.html
 git-tag.adoc
 git-tag.html
 git-tools.adoc
 git-tools.html
 git-unpack-file.adoc
 git-unpack-file.html
 git-unpack-objects.adoc
 git-unpack-objects.html
 git-update-index.adoc
 git-update-index.html
 git-update-ref.adoc
 git-update-ref.html
 git-update-server-info.adoc
 git-update-server-info.html
 git-upload-archive.adoc
 git-upload-archive.html
 git-upload-pack.adoc
 git-upload-pack.html
 git-var.adoc
 git-var.html
 git-verify-commit.adoc
 git-verify-commit.html
 git-verify-pack.adoc
 git-verify-pack.html
 git-verify-tag.adoc
 git-verify-tag.html
 git-version.adoc
 git-version.html
 git-web--browse.adoc
 git-web--browse.html
 git-whatchanged.adoc
 git-whatchanged.html
 git-worktree.adoc
 git-worktree.html
 git-write-tree.adoc
 git-write-tree.html
 git.adoc
 git.html
 gitattributes.adoc
 gitattributes.html
 gitcli.adoc
 gitcli.html
 gitcore-tutorial.adoc
 gitcore-tutorial.html
 gitcredentials.adoc
 gitcredentials.html
 gitcvs-migration.adoc
 gitcvs-migration.html
 gitdiffcore.adoc
 gitdiffcore.html
 giteveryday.adoc
 giteveryday.html
 gitfaq.adoc
 gitfaq.html
 gitformat-bundle.adoc
 gitformat-bundle.html
 gitformat-chunk.adoc
 gitformat-chunk.html
 gitformat-commit-graph.adoc
 gitformat-commit-graph.html
 gitformat-index.adoc
 gitformat-index.html
 gitformat-pack.adoc
 gitformat-pack.html
 gitformat-signature.adoc
 gitformat-signature.html
 gitglossary.adoc
 gitglossary.html
 githooks.adoc
 githooks.html
 gitignore.adoc
 gitignore.html
 gitk.adoc
 gitk.html
 gitmailmap.adoc
 gitmailmap.html
 gitmodules.adoc
 gitmodules.html
 gitnamespaces.adoc
 gitnamespaces.html
 gitpacking.adoc
 gitpacking.html
 gitprotocol-capabilities.adoc
 gitprotocol-capabilities.html
 gitprotocol-common.adoc
 gitprotocol-common.html
 gitprotocol-http.adoc
 gitprotocol-http.html
 gitprotocol-pack.adoc
 gitprotocol-pack.html
 gitprotocol-v2.adoc
 gitprotocol-v2.html
 gitremote-helpers.adoc
 gitremote-helpers.html
 gitrepository-layout.adoc
 gitrepository-layout.html
 gitrevisions.adoc
 gitrevisions.html
 gitsubmodules.adoc
 gitsubmodules.html
 gittutorial-2.adoc
 gittutorial-2.html
 gittutorial.adoc
 gittutorial.html
 gitweb.adoc
 gitweb.conf.adoc
 gitweb.conf.html
 gitweb.html
 gitworkflows.adoc
 gitworkflows.html
 glossary-content.adoc
 howto-index.adoc
 howto-index.html
 i18n.adoc
 index.html
 line-range-format.adoc
 line-range-options.adoc
 merge-options.adoc
 merge-strategies.adoc
 mergetools-diff.adoc
 mergetools-merge.adoc
 object-format-disclaimer.adoc
 pretty-formats.adoc
 pretty-options.adoc
 pull-fetch-param.adoc
 ref-reachability-filters.adoc
 ref-storage-format.adoc
 rerere-options.adoc
 rev-list-description.adoc
 rev-list-options.adoc
 revisions.adoc
 scalar.adoc
 scalar.html
 sequencer.adoc
 signoff-option.adoc
 trace2-target-values.adoc
 transfer-data-leaks.adoc
 urls-remotes.adoc
 urls.adoc
 user-manual.adoc
 user-manual.html
share/doc/git/RelNotes/
 1.05.adoc
 1.06.adoc
 1.07.adoc
 1.08.adoc
 1.09.adoc
 2.00.adoc
 2.01.adoc
 2.02.adoc
 2.03.adoc
 2.04.adoc
 2.05.adoc
 2.06.adoc
 2.07.adoc
 2.08.adoc
 2.09.adoc
 2.10.adoc
 2.11.adoc
 2.12.adoc
 2.13.adoc
 2.14.adoc
 2.15.adoc
 2.16.adoc
 2.17.adoc
 2.18.adoc
 2.19.adoc
 2.20.adoc
 2.21.adoc
 2.22.adoc
 2.23.adoc
 2.24.adoc
 2.25.adoc
 2.26.adoc
 2.27.adoc
 2.28.adoc
 2.29.adoc
 2.30.adoc
 2.31.adoc
 2.32.adoc
 2.33.adoc
 2.34.adoc
 2.35.adoc
 2.36.adoc
 2.37.adoc
 2.38.adoc
 2.39.adoc
 2.40.adoc
 2.41.adoc
 2.42.adoc
 2.43.adoc
 2.44.adoc
 2.45.adoc
 2.46.adoc
 2.47.adoc
 2.48.adoc
 2.49.adoc
 2.50.adoc
share/doc/git/howto/
 coordinate-embargoed-releases.adoc
 coordinate-embargoed-releases.html
 keep-canonical-history-correct.adoc
 keep-canonical-history-correct.html
 maintain-git.adoc
 maintain-git.html
 new-command.adoc
 new-command.html
 rebase-from-internal-branch.adoc
 rebase-from-internal-branch.html
 rebuild-from-update-hook.adoc
 rebuild-from-update-hook.html
 recover-corrupted-blob-object.adoc
 recover-corrupted-blob-object.html
 recover-corrupted-object-harder.adoc
 recover-corrupted-object-harder.html
 revert-a-faulty-merge.adoc
 revert-a-faulty-merge.html
 revert-branch-rebase.adoc
 revert-branch-rebase.html
 separating-topic-branches.adoc
 separating-topic-branches.html
 setup-git-server-over-http.adoc
 setup-git-server-over-http.html
 update-hook-example.adoc
 update-hook-example.html
 use-git-daemon.adoc
 use-git-daemon.html
 using-merge-subtree.adoc
 using-merge-subtree.html
 using-signed-tag-in-pull-request.adoc
 using-signed-tag-in-pull-request.html
share/doc/git/technical/
 api-error-handling.adoc
 api-error-handling.html
 api-index-skel.adoc
 api-index.adoc
 api-index.html
 api-merge.adoc
 api-merge.html
 api-parse-options.adoc
 api-parse-options.html
 api-path-walk.adoc
 api-path-walk.html
 api-simple-ipc.adoc
 api-simple-ipc.html
 api-trace2.adoc
 api-trace2.html
 bitmap-format.adoc
 bitmap-format.html
 build-systems.adoc
 build-systems.html
 bundle-uri.adoc
 bundle-uri.html
 commit-graph.adoc
 directory-rename-detection.adoc
 hash-function-transition.adoc
 hash-function-transition.html
 large-object-promisors.adoc
 long-running-process-protocol.adoc
 long-running-process-protocol.html
 multi-pack-index.adoc
 multi-pack-index.html
 pack-heuristics.adoc
 pack-heuristics.html
 packfile-uri.adoc
 parallel-checkout.adoc
 parallel-checkout.html
 partial-clone.adoc
 partial-clone.html
 platform-support.adoc
 platform-support.html
 racy-git.adoc
 racy-git.html
 reftable.adoc
 reftable.html
 remembering-renames.adoc
 repository-version.adoc
 rerere.adoc
 scalar.adoc
 scalar.html
 send-pack-pipeline.adoc
 send-pack-pipeline.html
 shallow.adoc
 shallow.html
 sparse-checkout.adoc
 sparse-index.adoc
 trivial-merge.adoc
 trivial-merge.html
 unit-tests.adoc
 unit-tests.html


[FILE:1083:manifests/plist.gui]
bin/
 git-cvsserver
 git-p4.py
 gitk
libexec/git-core/
 git-citool
 git-cvsexportcommit
 git-cvsimport
 git-cvsserver
 git-gui
 git-gui--askpass
 git-p4
 git-subtree
share/git-gui/lib/
 about.tcl
 blame.tcl
 branch.tcl
 branch_checkout.tcl
 branch_create.tcl
 branch_delete.tcl
 branch_rename.tcl
 browser.tcl
 checkout_op.tcl
 choose_font.tcl
 choose_repository.tcl
 choose_rev.tcl
 chord.tcl
 class.tcl
 commit.tcl
 console.tcl
 database.tcl
 date.tcl
 diff.tcl
 encoding.tcl
 error.tcl
 git-gui.ico
 index.tcl
 line.tcl
 logo.tcl
 merge.tcl
 mergetool.tcl
 option.tcl
 remote.tcl
 remote_add.tcl
 remote_branch_delete.tcl
 search.tcl
 shortcut.tcl
 spellcheck.tcl
 sshkey.tcl
 status_bar.tcl
 tclIndex
 themed.tcl
 tools.tcl
 tools_dlg.tcl
 transport.tcl
 win32.tcl
 win32_shortcut.js
share/git-gui/lib/msgs/
 bg.msg
 de.msg
 el.msg
 fr.msg
 hu.msg
 it.msg
 ja.msg
 nb.msg
 pt_br.msg
 pt_pt.msg
 ru.msg
 sv.msg
 vi.msg
 zh_cn.msg
share/gitk/lib/msgs/
 bg.msg
 ca.msg
 de.msg
 es.msg
 fr.msg
 hu.msg
 it.msg
 ja.msg
 pt_br.msg
 pt_pt.msg
 ru.msg
 sv.msg
 ta.msg
 vi.msg
 zh_cn.msg


[FILE:401:manifests/plist.svn]
libexec/git-core/git-svn
share/perl5/Git.pm
share/perl5/FromCPAN/Error.pm
share/perl5/FromCPAN/Mail/Address.pm
share/perl5/Git/
 I18N.pm
 IndexInfo.pm
 LoadCPAN.pm
 Packet.pm
 SVN.pm
share/perl5/Git/LoadCPAN/Error.pm
share/perl5/Git/LoadCPAN/Mail/Address.pm
share/perl5/Git/SVN/
 Editor.pm
 Fetcher.pm
 GlobSpec.pm
 Log.pm
 Migration.pm
 Prompt.pm
 Ra.pm
 Utils.pm
share/perl5/Git/SVN/Memoize/YAML.pm


[FILE:3937:manifests/plist.contrib]
share/git-core/contrib/
 README
 coverage-diff.sh
 git-resurrect.sh
 meson.build
 remotes2config.sh
 rerere-train.sh
share/git-core/contrib/buildsystems/
 CMakeLists.txt
 git-version.in
share/git-core/contrib/coccinelle/
 .gitignore
 README
 array.cocci
 commit.cocci
 config_fn_ctx.pending.cocci
 equals-null.cocci
 flex_alloc.cocci
 free.cocci
 git_config_number.cocci
 hashmap.cocci
 index-compatibility.cocci
 meson.build
 object_id.cocci
 preincr.cocci
 qsort.cocci
 refs.cocci
 spatchcache
 strbuf.cocci
 swap.cocci
 the_repository.cocci
 xcalloc.cocci
 xopen.cocci
 xstrdup_or_null.cocci
 xstrncmpz.cocci
share/git-core/contrib/coccinelle/tests/
 free.c
 free.res
share/git-core/contrib/completion/
 .gitattributes
 git-completion.bash
 git-completion.tcsh
 git-completion.zsh
 git-prompt.sh
 meson.build
share/git-core/contrib/contacts/
 .gitignore
 Makefile
 git-contacts
 git-contacts.adoc
 meson.build
share/git-core/contrib/credential/meson.build
share/git-core/contrib/credential/libsecret/
 .gitignore
 Makefile
 git-credential-libsecret.c
 meson.build
share/git-core/contrib/credential/netrc/
 .gitignore
 Makefile
 git-credential-netrc.perl
 meson.build
 t-git-credential-netrc.sh
 test.command-option-gpg
 test.git-config-gpg
 test.netrc
 test.netrc.gpg
 test.pl
share/git-core/contrib/credential/osxkeychain/
 .gitignore
 Makefile
 git-credential-osxkeychain.c
 meson.build
share/git-core/contrib/credential/wincred/
 Makefile
 git-credential-wincred.c
 meson.build
share/git-core/contrib/diff-highlight/
 .gitignore
 DiffHighlight.pm
 Makefile
 README
 diff-highlight
 diff-highlight.perl
share/git-core/contrib/diff-highlight/t/
 .gitignore
 Makefile
 t9400-diff-highlight.sh
share/git-core/contrib/emacs/
 README
 git-blame.el
 git.el
share/git-core/contrib/examples/README
share/git-core/contrib/fast-import/
 git-import.perl
 git-import.sh
 git-p4.README
 import-directories.perl
 import-tars.perl
 import-zips.py
share/git-core/contrib/git-jump/
 README
 git-jump
share/git-core/contrib/git-shell-commands/
 README
 help
 list
share/git-core/contrib/hooks/
 post-receive-email
 pre-auto-gc-battery
 setgitperms.perl
 update-paranoid
share/git-core/contrib/hooks/multimail/README.Git
share/git-core/contrib/libgit-rs/
 Cargo.lock
 Cargo.toml
 README.md
 build.rs
share/git-core/contrib/libgit-rs/src/
 config.rs
 lib.rs
share/git-core/contrib/libgit-rs/testdata/
 config1
 config2
 config3
share/git-core/contrib/libgit-sys/
 Cargo.lock
 Cargo.toml
 README.md
 build.rs
 public_symbol_export.c
 public_symbol_export.h
share/git-core/contrib/libgit-sys/src/lib.rs
share/git-core/contrib/long-running-filter/example.pl
share/git-core/contrib/mw-to-git/
 .gitignore
 .perlcriticrc
 Makefile
 git-mw.perl
 git-remote-mediawiki.perl
 git-remote-mediawiki.txt
share/git-core/contrib/mw-to-git/Git/Mediawiki.pm
share/git-core/contrib/mw-to-git/bin-wrapper/git
share/git-core/contrib/mw-to-git/t/
 .gitignore
 Makefile
 README
 install-wiki.sh
 push-pull-tests.sh
 t9360-mw-to-git-clone.sh
 t9361-mw-to-git-push-pull.sh
 t9362-mw-to-git-utf8.sh
 t9363-mw-to-git-export-import.sh
 t9364-pull-by-rev.sh
 t9365-continuing-queries.sh
 test-gitmw-lib.sh
 test-gitmw.pl
 test.config
share/git-core/contrib/persistent-https/
 LICENSE
 Makefile
 README
 client.go
 main.go
 proxy.go
 socket.go
share/git-core/contrib/remote-helpers/
 README
 git-remote-bzr
 git-remote-hg
share/git-core/contrib/stats/
 git-common-hash
 mailmap.pl
 packinfo.pl
share/git-core/contrib/subtree/
 .gitignore
 COPYING
 INSTALL
 Makefile
 Makefile.orig
 README
 git-subtree.adoc
 git-subtree.sh
 meson.build
 todo
share/git-core/contrib/subtree/t/
 Makefile
 t7900-subtree.sh
share/git-core/contrib/thunderbird-patch-inline/
 README
 appp.sh
share/git-core/contrib/update-unicode/
 .gitignore
 README
 update_unicode.sh
share/git-core/contrib/vscode/
 .gitattributes
 README.md
 init.sh
share/git-core/contrib/workdir/
 .gitattributes
 git-new-workdir


[FILE:806:patches/patch-Documentation_Makefile]
--- Documentation/Makefile.orig	2025-06-16 05:42:57 UTC
+++ Documentation/Makefile
@@ -144,11 +144,11 @@ DOC_MAN1 = $(patsubst %.adoc,%.1,$(filte
 DOC_MAN5 = $(patsubst %.adoc,%.5,$(filter $(MAN_FILTER),$(MAN5_TXT)))
 DOC_MAN7 = $(patsubst %.adoc,%.7,$(filter $(MAN_FILTER),$(MAN7_TXT)))
 
-prefix ?= $(HOME)
+prefix ?= $(PREFIX)
 bindir ?= $(prefix)/bin
-htmldir ?= $(prefix)/share/doc/git-doc
+htmldir ?= $(prefix)/share/doc/git
 infodir ?= $(prefix)/share/info
-pdfdir ?= $(prefix)/share/doc/git-doc
+pdfdir ?= $(prefix)/share/doc/git
 mandir ?= $(prefix)/share/man
 man1dir = $(mandir)/man1
 man5dir = $(mandir)/man5
@@ -246,7 +246,7 @@ DEFAULT_EDITOR_SQ = $(subst ','\'',$(DEF
 ASCIIDOC_EXTRA += -a 'git-default-editor=$(DEFAULT_EDITOR_SQ)'
 endif
 
-all:: html man
+all:: html
 
 html: $(DOC_HTML)
 


[FILE:2418:patches/patch-Makefile]
--- Makefile.orig	2025-06-16 05:42:57 UTC
+++ Makefile
@@ -619,12 +619,12 @@ bash_completion_dir = $(prefix)/share/ba
 gitexecdir = libexec/git-core
 mergetoolsdir = $(gitexecdir)/mergetools
 sharedir = $(prefix)/share
-gitwebdir = $(sharedir)/gitweb
+gitwebdir = $(sharedir)/examples/git/gitweb
 gitwebstaticdir = $(gitwebdir)/static
 perllibdir = $(sharedir)/perl5
 localedir = $(sharedir)/locale
 template_dir = share/git-core/templates
-htmldir = $(prefix)/share/doc/git-doc
+htmldir = $(prefix)/share/doc/git
 ETC_GITCONFIG = $(sysconfdir)/gitconfig
 ETC_GITATTRIBUTES = $(sysconfdir)/gitattributes
 lib = lib
@@ -1723,9 +1723,9 @@ endif
 
 ifndef NO_OPENSSL
 	OPENSSL_LIBSSL = -lssl
-        ifdef OPENSSLDIR
-		BASIC_CFLAGS += -I$(OPENSSLDIR)/include
-		OPENSSL_LINK = $(call libpath_template,$(OPENSSLDIR)/$(lib))
+        ifdef OPENSSLBASE
+		BASIC_CFLAGS += -I$(OPENSSLBASE)/include
+		OPENSSL_LINK = $(call libpath_template,$(OPENSSLBASE)/$(lib))
         else
 		OPENSSL_LINK =
         endif
@@ -2672,7 +2672,7 @@ git-instaweb: git-instaweb.sh generate-s
 	chmod +x $@+ && \
 	mv $@+ $@
 else # NO_PERL
-$(SCRIPT_PERL_GEN) git-instaweb: % : unimplemented.sh
+$(SCRIPT_PERL_GEN) git-instaweb git-request-pull: % : unimplemented.sh
 	$(QUIET_GEN) \
 	sed -e '1s|#!.*/sh|#!$(SHELL_PATH_SQ)|' \
 	    -e 's|@REASON@|NO_PERL=$(NO_PERL)|g' \
@@ -3563,12 +3563,12 @@ endif
 ifndef NO_GETTEXT
 	$(INSTALL) -d -m 755 '$(DESTDIR_SQ)$(localedir_SQ)'
 	(cd po/build/locale && $(TAR) cf - .) | \
-	(cd '$(DESTDIR_SQ)$(localedir_SQ)' && umask 022 && $(TAR) xof -)
+	(cd '$(DESTDIR_SQ)$(localedir_SQ)' && umask 022 && $(TAR) xof - --no-same-owner --no-same-permissions)
 endif
 ifndef NO_PERL
 	$(INSTALL) -d -m 755 '$(DESTDIR_SQ)$(perllibdir_SQ)'
 	(cd perl/build/lib && $(TAR) cf - .) | \
-	(cd '$(DESTDIR_SQ)$(perllibdir_SQ)' && umask 022 && $(TAR) xof -)
+	(cd '$(DESTDIR_SQ)$(perllibdir_SQ)' && umask 022 && $(TAR) xof - --no-same-owner --no-same-permissions)
 endif
 ifndef NO_TCLTK
 	$(MAKE) -C gitk-git install
@@ -3639,7 +3639,7 @@ install-man: install-man-perl
 install-man-perl: man-perl
 	$(INSTALL) -d -m 755 '$(DESTDIR_SQ)$(mandir_SQ)/man3'
 	(cd perl/build/man/man3 && $(TAR) cf - .) | \
-	(cd '$(DESTDIR_SQ)$(mandir_SQ)/man3' && umask 022 && $(TAR) xof -)
+	(cd '$(DESTDIR_SQ)$(mandir_SQ)/man3' && umask 022 && $(TAR) xof - --no-same-permissions)
 
 install-html:
 	$(MAKE) -C Documentation install-html


[FILE:1229:patches/patch-config.mak.uname]
--- config.mak.uname.orig	2025-06-16 05:42:57 UTC
+++ config.mak.uname
@@ -229,8 +229,6 @@ ifeq ($(uname_S),SunOS)
 		NO_STRTOUMAX = YesPlease
 		GIT_TEST_CMP = cmp
         endif
-	INSTALL = /usr/ucb/install
-	TAR = gtar
 	BASIC_CFLAGS += -D__EXTENSIONS__ -D__sun__
 endif
 ifeq ($(uname_O),Cygwin)
@@ -281,8 +279,6 @@ ifeq ($(uname_S),FreeBSD)
 		OLD_ICONV = YesPlease
         endif
 	NO_MEMMEM = YesPlease
-	BASIC_CFLAGS += -I/usr/local/include
-	BASIC_LDFLAGS += -L/usr/local/lib
 	DIR_HAS_BSD_GROUP_SEMANTICS = YesPlease
 	USE_ST_TIMESPEC = YesPlease
         ifeq ($(shell expr "$(uname_R)" : '4\.'),2)
@@ -290,8 +286,6 @@ ifeq ($(uname_S),FreeBSD)
 		NO_UINTMAX_T = YesPlease
 		NO_STRTOUMAX = YesPlease
         endif
-	PYTHON_PATH = /usr/local/bin/python
-	PERL_PATH = /usr/local/bin/perl
 	HAVE_PATHS_H = YesPlease
 	HAVE_BSD_SYSCTL = YesPlease
 	HAVE_BSD_KERN_PROC_SYSCTL = YesPlease
@@ -325,8 +319,6 @@ ifeq ($(uname_S),NetBSD)
         ifeq ($(shell expr "$(uname_R)" : '[01]\.'),2)
 		NEEDS_LIBICONV = YesPlease
         endif
-	BASIC_CFLAGS += -I/usr/pkg/include
-	BASIC_LDFLAGS += -L/usr/pkg/lib $(CC_LD_DYNPATH)/usr/pkg/lib
 	USE_ST_TIMESPEC = YesPlease
 	HAVE_PATHS_H = YesPlease
 	HAVE_BSD_SYSCTL = YesPlease


[FILE:353:patches/patch-configure.ac]
--- configure.ac.orig	2025-06-16 05:42:57 UTC
+++ configure.ac
@@ -396,7 +396,7 @@ GIT_PARSE_WITH_SET_MAKE_VAR(editor, DEFA
 GIT_ARG_SET_PATH(shell)
 #
 # Define PERL_PATH to provide path to Perl.
-GIT_ARG_SET_PATH(perl)
+GIT_ARG_SET_PATH(perl, allow-without)
 #
 # Define PYTHON_PATH to provide path to Python.
 GIT_ARG_SET_PATH(python, allow-without)


[FILE:471:patches/patch-contrib_subtree_Makefile]
--- contrib/subtree/Makefile.orig	2025-06-16 05:42:57 UTC
+++ contrib/subtree/Makefile
@@ -81,7 +81,7 @@ install-html: $(GIT_SUBTREE_HTML)
 	$(INSTALL) -m 644 $^ $(DESTDIR)$(htmldir)
 
 $(GIT_SUBTREE_DOC): $(GIT_SUBTREE_XML)
-	$(XMLTO) -m $(MANPAGE_XSL) $(XMLTO_EXTRA) man $^
+	$(XMLTO) --skip-validation -m $(MANPAGE_XSL) $(XMLTO_EXTRA) man $^
 
 $(GIT_SUBTREE_XML): $(GIT_SUBTREE_TXT) $(ASCIIDOC_DEPS)
 	$(ASCIIDOC) -b $(ASCIIDOC_DOCBOOK) -d manpage $(ASCIIDOC_CONF) \


[FILE:382:patches/patch-http.c]
--- http.c.orig	2025-06-16 05:42:57 UTC
+++ http.c
@@ -2283,7 +2283,11 @@ static int http_request_reauth(const cha
 				return HTTP_START_FAILED;
 			}
 			rewind(f);
+#if defined(__MidnightBSD__)
+			if (ftruncate(fileno((FILE *)f), 0) < 0) {
+#else
 			if (ftruncate(fileno(f), 0) < 0) {
+#endif
 				error_errno("unable to truncate a file");
 				return HTTP_START_FAILED;
 			}


[FILE:393:patches/patch-templates_Makefile]
--- templates/Makefile.orig	2025-06-16 05:42:57 UTC
+++ templates/Makefile
@@ -75,4 +75,4 @@ clean:
 install: all
 	$(INSTALL) -d -m 755 '$(DESTDIR_SQ)$(template_instdir_SQ)'
 	(cd blt && $(TAR) cf - .) | \
-	(cd '$(DESTDIR_SQ)$(template_instdir_SQ)' && umask 022 && $(TAR) xof -)
+	(cd '$(DESTDIR_SQ)$(template_instdir_SQ)' && umask 022 && $(TAR) xof - --no-same-owner --no-same-permissions)


[FILE:592:files/git_daemon.in]
#! /bin/sh
#

# PROVIDE: git_daemon
# REQUIRE: DAEMON
# KEYWORD: shutdown

#
# Add the following lines to /etc/rc.conf to enable git_daemon:
#   git_daemon_enable="YES"

. /etc/rc.subr

name="git_daemon"
rcvar="git_daemon_enable"

load_rc_config $name

: ${git_daemon_user:=gitdemon}
: ${git_daemon_group:=gitdemon}
: ${git_daemon_enable:=NO}
: ${git_daemon_directory:=%%PREFIX%%/git}
: ${git_daemon_flags:=--syslog --reuseaddr --detach}

command="%%PREFIX%%/libexec/git-core/git-daemon"
command_args="${git_daemon_directory}"

PATH="${PATH}:%%PREFIX%%/libexec/git-core"

run_rc_command "$1"


[FILE:885:files/messages-primary.ucl.in]
primary: {
  type: "install"
  message: <<EOM
*************************** GITWEB *************************************

In the directory %%PREFIX%%/share/examples/gitweb you can
find all files to make gitweb work as a public repository on the web.

All you have to do to make gitweb work is:
1) Copy the files %%PREFIX%%/share/examples/gitweb/* to
   a directory on your web server (e.g. Apache2) in which you are
   able to execute CGI-scripts.
2) In gitweb.cgi, adjust the variable $projectroot to point to
   your git repository (that is where you have your *.git project
   directories).

*************************** CONTRIB ************************************
Please note that the contributed scripts are installed in
%%PREFIX%%/share/git-core/contrib directory. Some of them require
other ports to be installed (perl, python, etc), which you may need
to install manually.
EOM
}


[FILE:1895:files/packdoc.py]
"""
This script combines individual point release notes to avoid an every
changing package list.  Releases 1.5.0 to 1.8.5 use four part versions.

argument 1: STAGEDIR
argument 2: PREFIX
"""

import os
import sys

RNOTES = "share/doc/git/RelNotes"
STAGEDIR = "tbd"
PREFIX = "tbd"


def merge_point(major, minor, point):
    """ Handles 3 part tuples """
    subfile = f"{major}.{minor}.{point}.adoc"
    finfile = f"{major}.{str(minor).zfill(2)}.adoc"
    abs_subfile = f"{STAGEDIR}{PREFIX}/{RNOTES}/{subfile}"
    abs_finfile = f"{STAGEDIR}{PREFIX}/{RNOTES}/{finfile}"    
    if os.path.exists(abs_subfile):
        os.system(f"/bin/cat {abs_subfile} >> {abs_finfile}")
        os.remove(abs_subfile)
        print(f"Merge {subfile} => {finfile}")


def merge_subpoint(major, minor, point, subpoint):
    """ Handles 4 part tuples """
    subfile = f"{major}.{minor}.{point}.{subpoint}.adoc"
    finfile = f"{major}.{str(minor).zfill(2)}.adoc"
    abs_subfile = f"{STAGEDIR}{PREFIX}/{RNOTES}/{subfile}"
    abs_finfile = f"{STAGEDIR}{PREFIX}/{RNOTES}/{finfile}"    
    if os.path.exists(abs_subfile):
        os.system(f"/bin/cat {abs_subfile} >> {abs_finfile}")
        os.remove(abs_subfile)
        print(f"Merge {subfile} => {finfile}")

    
def release_v1():
    """ Handles versions 1.5 to 1.9 """
    for minor in range(5, 10):
        for point in range(13):
            merge_point(1, minor, point)
            for subpoint in range(1,10):
                merge_subpoint(1, minor, point, subpoint)  

def release_vx():
    """ Handles versions 2.0.0 to 4.99.15 """
    for major in range(2, 5):
        for minor in range(100):
            for point in range(16):
                merge_point(major, minor, point)

def main():
    """ Script entry point """
    release_v1()
    release_vx()

if __name__ == "__main__":
    STAGEDIR = sys.argv[1]
    PREFIX = sys.argv[2]
    main()


[FILE:72:sunos/special.mk]
.if "${VARIANT}" == "standard"
LDFLAGS+=	-lintl
.endif

LDFLAGS+=	-lnsl

