# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		wolfssh
VERSION=		1.4.20
KEYWORDS=		security
VARIANTS=		std
SDESC[std]=		Lightweight SSH Library
HOMEPAGE=		https://www.wolfssl.com/products/wolfssh/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://www.wolfssl.com/
DISTFILE[1]=		wolfssh-1.4.20.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		wolfssl:dev:std
BUILDRUN_DEPENDS=	wolfssl:primary:std

USES=			autoreconf cpe libtool

LICENSE=		GPLv3+:primary
LICENSE_TERMS=		primary:{{WRKSRC}}/LICENSING
LICENSE_FILE=		GPLv3+:stock
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		security/wolfssh

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-fwd
			--enable-keygen
			--enable-scp
			--enable-sftp
			--enable-shared=yes
			--enable-shell
			--enable-static=yes
			--disable-examples

INSTALL_TARGET=		install-strip
SOVERSION=		7.10.2

[FILE:221:descriptions/desc.primary]
The wolfSSH library is a lightweight SSHv2 client and server library
written in ANSI C and targeted for embedded, RTOS, and resource-constrained
environments - primarily because of its small size, speed, and feature set.


[FILE:100:distinfo]
526c0510a3266283fb0d18a3cc6a67e7af08cf24ffb69a963383c7c4b7ac54e2       871987 wolfssh-1.4.20.tar.gz


[FILE:61:manifests/plist.primary]
lib/
 libwolfssh.so.%%SOMAJOR%%
 libwolfssh.so.%%SOVERSION%%


[FILE:221:manifests/plist.dev]
bin/wolfssh-config
include/wolfssh/
 agent.h
 certman.h
 certs_test.h
 error.h
 keygen.h
 log.h
 misc.h
 port.h
 settings.h
 ssh.h
 test.h
 version.h
 visibility.h
 wolfscp.h
 wolfsftp.h
lib/
 libwolfssh.a
 libwolfssh.so


[FILE:224:patches/patch-examples_client_client.c]
--- examples/client/client.c.orig	2025-02-20 20:31:48 UTC
+++ examples/client/client.c
@@ -22,6 +22,8 @@
     #include <config.h>
 #endif
 
+#include <signal.h>
+
 #define WOLFSSH_TEST_CLIENT
 
 #ifdef WOLFSSL_USER_SETTINGS


[FILE:418:patches/patch-examples_echoserver_echoserver.c]
--- examples/echoserver/echoserver.c.orig	2025-02-20 20:31:48 UTC
+++ examples/echoserver/echoserver.c
@@ -69,9 +69,13 @@
     #ifdef HAVE_PTY_H
         #include <pty.h>
     #endif
+  #if defined(__FreeBSD__) || defined(__DragonFly__)
+        #include <libutil.h>
+  #else
     #ifdef HAVE_UTIL_H
         #include <util.h>
     #endif
+  #endif
     #ifdef HAVE_TERMIOS_H
         #include <termios.h>
     #endif

