# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		darktable
VERSION=		5.0.0
KEYWORDS=		graphics
VARIANTS=		std
SDESC[std]=		Photography workflow application and raw developer
HOMEPAGE=		https://darktable.org/
CONTACT=		Michael_Neumann[mneumann@ntecs.de]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://github.com/darktable-org/darktable/releases/download/release-5.0.0/
DISTFILE[1]=		darktable-5.0.0.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			man
			docs
			nls

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		lensfun:dev:std
			lcms2:dev:std
			openexr:dev:std
			libheif:dev:std
			WebP:dev:std
			json-glib:dev:std
			curl:dev:std
			exiv2:dev:std
			pugixml:dev:std
			libavif:dev:std
			libjxl:dev:std
			icu:dev:std
			llvm:set:std
BUILDRUN_DEPENDS=	lensfun:primary:std
			lcms2:primary:std
			libheif:primary:std
			WebP:primary:std
			openexr:primary:std
			json-glib:primary:std
			curl:primary:std
			exiv2:primary:std
			pugixml:primary:std
			libjxl:primary:std
			libavif:primary:std
			iso-codes:primary:std
			bash:primary:std
			icu:primary:std

USES=			cmake c++:primary perl jpeg tiff pkgconfig sqlite
			shebangfix desktop-utils:primary
GNOME_COMPONENTS=	cairo gtk3 intltool librsvg libxml2

LICENSE=		GPLv3+:primary
LICENSE_TERMS=		primary:{{WRKSRC}}/LICENSE
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		graphics/darktable
SHEBANG_FILES=		tools/common.sh
			tools/extract_wb_from_images.sh
			tools/purge_from_cache.sh
			tools/purge_non_existing_images.sh
			tools/purge_unused_tags.sh

INSTALL_REQ_TOOLCHAIN=	yes

CMAKE_ARGS=		-DUSE_PORTMIDI:BOOL=OFF
			-DUSE_LUA:BOOL=OFF
			-DUSE_CAMERA_SUPPORT:BOOL=OFF
			-DUSE_OPENJPEG:BOOL=OFF
			-DUSE_LIBSECRET:BOOL=OFF
			-DUSE_GRAPHICSMAGICK:BOOL=OFF
			-DUSE_GMIC:BOOL=OFF
			-DUSE_COLORD:BOOL=OFF
			-DUSE_MAP:BOOL=OFF
			-DUSE_SDL2:BOOL=OFF
			-DBUILD_PRINT:BOOL=OFF
			-DUSE_OPENMP:BOOL=OFF

post-install:
	${RM} ${STAGEDIR}${PREFIX}/share/doc/darktable/LICENSE
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/darktable*
	${FIND} ${STAGEDIR}${PREFIX}/lib/darktable -type f -name "*.so" | ${XARGS} ${STRIP_CMD}

pre-configure-dragonfly:
	${REINPLACE_CMD} '/add_definitions."-D_XOPEN_SOURCE=.*"/d' ${WRKSRC}/CMakeLists.txt

pre-configure-freebsd:
	${REINPLACE_CMD} '/add_definitions."-D_XOPEN_SOURCE=.*"/d' ${WRKSRC}/CMakeLists.txt

[FILE:1180:descriptions/desc.primary]
Darktable is a virtual lighttable and darkroom for photographers: an open
source photography workflow application and raw image developer.  It manages
digital negatives in a database and lets one view them through a zoomable
lighttable.  It also enables one to develop raw images and enhance them.

Darktable tries to fill the gap between many excellent existing free raw
converters and image management tools (such as UFRaw or F-Spot).  The user
interface is built around efficient caching of image metadata and mipmaps,
all stored in a database.  The user will always be able to interact, even
if the full resolution image is not yet loaded.

All editing is fully non-destructive and only operates on cached image
buffers for display.  The full image is only converted during export.  The
frontend is written in Gtk+/Cairo, the database uses SQLite3, raw image
loading is done using libraw and rawspeed, high-dynamic range and standard
image formats such as JPEG are also supported.  The core operates completely
on floating point values, so darktable can not only be used for photography
but also for scientifically acquired images or output of renderers (high
dynamic range).


[FILE:101:distinfo]
eaa136e6e624bb53127282e26aafa0441abcc189b55371465e1f5a8a493fa3a1      6928316 darktable-5.0.0.tar.xz


[FILE:24810:manifests/plist.primary]
bin/
 darktable
 darktable-chart
 darktable-cli
 darktable-cltest
 darktable-cmstest
 darktable-generate-cache
 darktable-rs-identify
lib/darktable/libdarktable.so
lib/darktable/plugins/
 libashift.so
 libatrous.so
 libbasecurve.so
 libbasicadj.so
 libbilat.so
 libbilateral.so
 libbloom.so
 libblurs.so
 libborders.so
 libcacorrect.so
 libcacorrectrgb.so
 libcensorize.so
 libchannelmixer.so
 libchannelmixerrgb.so
 libclahe.so
 libclipping.so
 libcolisa.so
 libcolorbalance.so
 libcolorbalancergb.so
 libcolorchecker.so
 libcolorcontrast.so
 libcolorcorrection.so
 libcolorequal.so
 libcolorin.so
 libcolorize.so
 libcolormapping.so
 libcolorout.so
 libcolorreconstruct.so
 libcolortransfer.so
 libcolorzones.so
 libcrop.so
 libdefringe.so
 libdemosaic.so
 libdenoiseprofile.so
 libdiffuse.so
 libdither.so
 libenlargecanvas.so
 libequalizer.so
 libexposure.so
 libfilmic.so
 libfilmicrgb.so
 libfinalscale.so
 libflip.so
 libgamma.so
 libglobaltonemap.so
 libgraduatednd.so
 libgrain.so
 libhazeremoval.so
 libhighlights.so
 libhighpass.so
 libhotpixels.so
 libinvert.so
 liblens.so
 liblevels.so
 libliquify.so
 liblowlight.so
 liblowpass.so
 liblut3d.so
 libmask_manager.so
 libmonochrome.so
 libnegadoctor.so
 libnlmeans.so
 liboverexposed.so
 liboverlay.so
 libprimaries.so
 libprofile_gamma.so
 librawdenoise.so
 librawoverexposed.so
 librawprepare.so
 librelight.so
 libretouch.so
 librgbcurve.so
 librgblevels.so
 librotatepixels.so
 libscalepixels.so
 libshadhi.so
 libsharpen.so
 libsigmoid.so
 libsoften.so
 libsplittoning.so
 libspots.so
 libtemperature.so
 libtonecurve.so
 libtoneequal.so
 libtonemap.so
 libvelvia.so
 libvibrance.so
 libvignette.so
 libwatermark.so
 libzonesystem.so
lib/darktable/plugins/imageio/format/
 libavif.so
 libcopy.so
 libexr.so
 libjpeg.so
 libjpegxl.so
 libpdf.so
 libpfm.so
 libpng.so
 libppm.so
 libtiff.so
 libwebp.so
 libxcf.so
lib/darktable/plugins/imageio/storage/
 libdisk.so
 libemail.so
 libgallery.so
 liblatex.so
 libpiwigo.so
lib/darktable/plugins/lighttable/
 libbackgroundjobs.so
 libcollect.so
 libcolorlabels.so
 libcolorpicker.so
 libcopy_history.so
 libdarktable_label.so
 libduplicate.so
 libexport.so
 libfilmstrip.so
 libfilter.so
 libfiltering.so
 libgeotagging.so
 libglobal_toolbox.so
 libhinter.so
 libhistogram.so
 libhistory.so
 libimage.so
 libimage_infos.so
 libimport.so
 libioporder.so
 liblighttable_mode.so
 libmasks.so
 libmetadata.so
 libmetadata_view.so
 libmodule_toolbox.so
 libmodulegroups.so
 libnavigation.so
 libratings.so
 librecentcollect.so
 libselect.so
 libsession.so
 libsnapshots.so
 libstyles.so
 libtagging.so
 libtimeline.so
 libview_toolbox.so
 libviewswitcher.so
lib/darktable/views/
 libdarkroom.so
 liblighttable.so
 libslideshow.so
share/applications/org.darktable.darktable.desktop
share/darktable/
 darktable.bash
 darktablerc
 gdb_commands
 noiseprofiles.json
 wb_presets.json
share/darktable/kernels/
 atrous.cl
 basecurve.cl
 basic.cl
 basicadj.cl
 bilateral.cl
 blendop.cl
 bloom.cl
 blurs.cl
 bspline.cl
 channelmixer.cl
 color_conversion.h
 colorequal.cl
 colorreconstruction.cl
 colorspace.h
 colorspaces.cl
 common.h
 demosaic_markesteijn.cl
 demosaic_other.cl
 demosaic_ppg.cl
 demosaic_rcd.cl
 demosaic_vng.cl
 denoiseprofile.cl
 diffuse.cl
 dwt.cl
 extended.cl
 filmic.cl
 gaussian.cl
 guided_filter.cl
 hazeremoval.cl
 highpass.cl
 liquify.cl
 locallaplacian.cl
 lut3d.cl
 negadoctor.cl
 nlmeans.cl
 noise_generator.h
 programs.conf
 retouch.cl
 rgb_norms.h
 rgbcurve.cl
 rgblevels.cl
 sharpen.cl
 sigmoid.cl
 soften.cl
share/darktable/latex/photobook.cls
share/darktable/pixmaps/
 clock.svg
 darktable.svg
 dt_logo_128x128.png
 dt_text.svg
 idbutton-1.png
 idbutton-1.svg
 idbutton-2.png
 idbutton-2.svg
 idbutton-3.png
 idbutton-3.svg
 idbutton.png
 idbutton.svg
 macos_install_background.svg
 splashscreen-01.jpg
 splashscreen-02.jpg
 splashscreen-03.jpg
 splashscreen-04.jpg
 splashscreen.png
share/darktable/pixmaps/plugins/darkroom/
 ashift.png
 ashift.svg
 atrous.png
 atrous.svg
 basecurve.png
 basecurve.svg
 bilateral.png
 bilateral.svg
 bloom.png
 bloom.svg
 borders.png
 borders.svg
 cacorrect.png
 cacorrect.svg
 channelmixer.png
 channelmixer.svg
 clahe.png
 clahe.svg
 clipping.png
 clipping.svg
 colisa.png
 colisa.svg
 colorcorrection.png
 colorcorrection.svg
 colorin.png
 colorin.svg
 colormapping.png
 colormapping.svg
 colorout.png
 colorout.svg
 colorreconstruct.png
 colorreconstruct.svg
 colortransfer.png
 colortransfer.svg
 colorzones.png
 colorzones.svg
 default.svg
 demosaic.png
 demosaic.svg
 dither.png
 dither.svg
 exposure.png
 exposure.svg
 flip.png
 flip.svg
 graduatednd.png
 graduatednd.svg
 grain.png
 grain.svg
 hazeremoval.png
 hazeremoval.svg
 highlights.png
 highlights.svg
 highpass.png
 highpass.svg
 hotpixels.png
 hotpixels.svg
 invert.png
 invert.svg
 lens.png
 lens.svg
 levels.png
 levels.svg
 liquify.png
 liquify.svg
 lowlight.png
 lowlight.svg
 lowpass.png
 lowpass.svg
 monochrome.png
 monochrome.svg
 nlmeans.png
 nlmeans.svg
 overexposed.png
 overexposed.svg
 profile_gamma.png
 profile_gamma.svg
 rawdenoise.png
 rawdenoise.svg
 rawimport.png
 rawimport.svg
 rawprepare.png
 rawprepare.svg
 relight.png
 relight.svg
 shadhi.png
 shadhi.svg
 sharpen.png
 sharpen.svg
 soften.png
 soften.svg
 splittoning.png
 splittoning.svg
 spots.png
 spots.svg
 temperature.png
 temperature.svg
 template.png
 template.svg
 tonecurve.png
 tonecurve.svg
 tonemap.png
 tonemap.svg
 velvia.png
 velvia.svg
 vignette.png
 vignette.svg
 watermark.png
 watermark.svg
 zonesystem.png
 zonesystem.svg
share/darktable/pswp/
 LICENSE
 photoswipe-ui-default.js
 photoswipe-ui-default.min.js
 photoswipe.css
 photoswipe.js
 photoswipe.min.js
share/darktable/pswp/default-skin/
 default-skin.css
 default-skin.png
 default-skin.svg
 preloader.gif
share/darktable/rawspeed/
 cameras.xml
 showcameras.xsl
share/darktable/style/
 bullet.gif
 close.gif
 closelabel.gif
 donate-button.gif
 download-icon.gif
 favicon.ico
 image-1.jpg
 lightbox.css
 loading.gif
 nextlabel.gif
 prevlabel.gif
 style.css
 thumb-1.jpg
share/darktable/styles/
 darktable_Canon_EOS 10D.dtstyle
 darktable_Canon_EOS 1100D.dtstyle
 darktable_Canon_EOS 2000D.dtstyle
 darktable_Canon_EOS 4000D.dtstyle
 darktable_Canon_EOS 5D Mark II.dtstyle
 darktable_Canon_EOS 5D Mark III.dtstyle
 darktable_Canon_EOS 5D Mark IV.dtstyle
 darktable_Canon_EOS 5D.dtstyle
 darktable_Canon_EOS 60D.dtstyle
 darktable_Canon_EOS 6D.dtstyle
 darktable_Canon_EOS 70D.dtstyle
 darktable_Canon_EOS 7D Mark II.dtstyle
 darktable_Canon_EOS 7D.dtstyle
 darktable_Canon_EOS 80D.dtstyle
 darktable_Canon_EOS D30.dtstyle
 darktable_Canon_EOS Digital Rebel XT.dtstyle
 darktable_Canon_EOS Kiss Digital N.dtstyle
 darktable_Canon_EOS Kiss M.dtstyle
 darktable_Canon_EOS Kiss X3.dtstyle
 darktable_Canon_EOS M.dtstyle
 darktable_Canon_EOS M10.dtstyle
 darktable_Canon_EOS M2.dtstyle
 darktable_Canon_EOS M3.dtstyle
 darktable_Canon_EOS M50 Mark II.dtstyle
 darktable_Canon_EOS M50.dtstyle
 darktable_Canon_EOS M6.dtstyle
 darktable_Canon_EOS R-series.dtstyle
 darktable_Canon_EOS R3.dtstyle
 darktable_Canon_EOS R50.dtstyle
 darktable_Canon_EOS R6 Mark II.dtstyle
 darktable_Canon_EOS R6.dtstyle
 darktable_Canon_EOS R7.dtstyle
 darktable_Canon_EOS RP.dtstyle
 darktable_Canon_EOS Rebel SL1.dtstyle
 darktable_Canon_EOS Rebel T3.dtstyle
 darktable_Canon_EOS Rebel T5.dtstyle
 darktable_Canon_EOS Rebel T_ series.dtstyle
 darktable_Canon_EOS _200D Mark II,250D_.dtstyle
 darktable_Canon_EOS-1D Mark II.dtstyle
 darktable_Canon_EOS-1D Mark IV.dtstyle
 darktable_Canon_EOS-1D X Mark _II,III_.dtstyle
 darktable_Canon_EOS-1D X.dtstyle
 darktable_Canon_PowerShot G1.dtstyle
 darktable_Canon_PowerShot G10.dtstyle
 darktable_Canon_PowerShot G11.dtstyle
 darktable_Canon_PowerShot G15.dtstyle
 darktable_Canon_PowerShot G16.dtstyle
 darktable_Canon_PowerShot G2.dtstyle
 darktable_Canon_PowerShot G3.dtstyle
 darktable_Canon_PowerShot G5 X Mark II.dtstyle
 darktable_Canon_PowerShot G5 X.dtstyle
 darktable_Canon_PowerShot G5.dtstyle
 darktable_Canon_PowerShot G6.dtstyle
 darktable_Canon_PowerShot G7 X Mark III.dtstyle
 darktable_Canon_PowerShot G9 X Mark II.dtstyle
 darktable_Canon_PowerShot G9.dtstyle
 darktable_Canon_PowerShot S110.dtstyle
 darktable_Canon_PowerShot S95.dtstyle
 darktable_Canon_PowerShot SX70 HS.dtstyle
 darktable_Canon__l10n_generic.dtstyle
 darktable_DJI_DJI Osmo Action.dtstyle
 darktable_DJI_FC350.dtstyle
 darktable_DJI_FC7303.dtstyle
 darktable_Epson_R-D1.dtstyle
 darktable_Epson_R-D1x.dtstyle
 darktable_Fujifilm_FinePix E550.dtstyle
 darktable_Fujifilm_FinePix E900.dtstyle
 darktable_Fujifilm_FinePix F600EXR.dtstyle
 darktable_Fujifilm_FinePix F770EXR.dtstyle
 darktable_Fujifilm_FinePix HS30EXR.dtstyle
 darktable_Fujifilm_FinePix S5000.dtstyle
 darktable_Fujifilm_FinePix S5Pro.dtstyle
 darktable_Fujifilm_FinePix S6000fd.dtstyle
 darktable_Fujifilm_FinePix X10.dtstyle
 darktable_Fujifilm_FinePix X100.dtstyle
 darktable_Fujifilm_GFX 100.dtstyle
 darktable_Fujifilm_GFX 50R.dtstyle
 darktable_Fujifilm_GFX 50S.dtstyle
 darktable_Fujifilm_GFX100 II.dtstyle
 darktable_Fujifilm_X-A1.dtstyle
 darktable_Fujifilm_X-A2.dtstyle
 darktable_Fujifilm_X-A5.dtstyle
 darktable_Fujifilm_X-A_ series.dtstyle
 darktable_Fujifilm_X-E1.dtstyle
 darktable_Fujifilm_X-E_ series.dtstyle
 darktable_Fujifilm_X-H_ series.dtstyle
 darktable_Fujifilm_X-M1.dtstyle
 darktable_Fujifilm_X-Pro1.dtstyle
 darktable_Fujifilm_X-Pro_ series.dtstyle
 darktable_Fujifilm_X-S1.dtstyle
 darktable_Fujifilm_X-S10.dtstyle
 darktable_Fujifilm_X-S20.dtstyle
 darktable_Fujifilm_X-T10.dtstyle
 darktable_Fujifilm_X-T100.dtstyle
 darktable_Fujifilm_X-T2.dtstyle
 darktable_Fujifilm_X-T3.dtstyle
 darktable_Fujifilm_X-T5.dtstyle
 darktable_Fujifilm_X100F.dtstyle
 darktable_Fujifilm_X100S.dtstyle
 darktable_Fujifilm_X100T.dtstyle
 darktable_Fujifilm_X100V.dtstyle
 darktable_Fujifilm_X20.dtstyle
 darktable_Fujifilm_X30.dtstyle
 darktable_Fujifilm_X70.dtstyle
 darktable_Fujifilm_XF1.dtstyle
 darktable_Fujifilm_XQ1.dtstyle
 darktable_Fujifilm_XQ2.dtstyle
 darktable_Fujifilm__l10n_generic.dtstyle
 darktable_Hasselblad_CFV.dtstyle
 darktable_Hasselblad_H3D.dtstyle
 darktable_Hasselblad_X1D.dtstyle
 darktable_Hasselblad__l10n_generic.dtstyle
 darktable_Leaf_Credo 40.dtstyle
 darktable_Leica_C (Typ 112).dtstyle
 darktable_Leica_C-Lux.dtstyle
 darktable_Leica_D-LUX (Typ 109).dtstyle
 darktable_Leica_D-LUX 5.dtstyle
 darktable_Leica_D-LUX 6.dtstyle
 darktable_Leica_D-Lux 7.dtstyle
 darktable_Leica_M Monochrom (Typ 246).dtstyle
 darktable_Leica_M9.dtstyle
 darktable_Leica_Q (Typ 116).dtstyle
 darktable_Leica_Q2.dtstyle
 darktable_Leica_SL (Typ 601).dtstyle
 darktable_Leica_V-LUX (Typ 114).dtstyle
 darktable_Leica_V-Lux 4.dtstyle
 darktable_Leica_X2.dtstyle
 darktable_Minolta_A2.dtstyle
 darktable_Minolta_DiMAGE 7.dtstyle
 darktable_Minolta_DiMAGE 7Hi.dtstyle
 darktable_Minolta_DiMAGE 7i.dtstyle
 darktable_Minolta_DiMAGE A1.dtstyle
 darktable_Minolta_DiMAGE A200.dtstyle
 darktable_Minolta_Dynax 5D.dtstyle
 darktable_Minolta_Dynax 7D.dtstyle
 darktable_Minolta_Maxxum 7D.dtstyle
 darktable_Nikon_1 AW1.dtstyle
 darktable_Nikon_1 J1.dtstyle
 darktable_Nikon_1 J2.dtstyle
 darktable_Nikon_1 J3.dtstyle
 darktable_Nikon_1 J4.dtstyle
 darktable_Nikon_1 JS.dtstyle
 darktable_Nikon_1 S1.dtstyle
 darktable_Nikon_1 V1.dtstyle
 darktable_Nikon_1 V2.dtstyle
 darktable_Nikon_1 V3.dtstyle
 darktable_Nikon_COOLPIX B700.dtstyle
 darktable_Nikon_COOLPIX P1000.dtstyle
 darktable_Nikon_COOLPIX P950.dtstyle
 darktable_Nikon_Coolpix A.dtstyle
 darktable_Nikon_Coolpix A1000.dtstyle
 darktable_Nikon_Coolpix P330.dtstyle
 darktable_Nikon_Coolpix P6000.dtstyle
 darktable_Nikon_Coolpix P7700.dtstyle
 darktable_Nikon_Coolpix P7800.dtstyle
 darktable_Nikon_D1.dtstyle
 darktable_Nikon_D100.dtstyle
 darktable_Nikon_D1H.dtstyle
 darktable_Nikon_D1X.dtstyle
 darktable_Nikon_D200.dtstyle
 darktable_Nikon_D2H.dtstyle
 darktable_Nikon_D2X.dtstyle
 darktable_Nikon_D3.dtstyle
 darktable_Nikon_D300.dtstyle
 darktable_Nikon_D3000 series.dtstyle
 darktable_Nikon_D300S.dtstyle
 darktable_Nikon_D3100.dtstyle
 darktable_Nikon_D3200.dtstyle
 darktable_Nikon_D3300.dtstyle
 darktable_Nikon_D3400.dtstyle
 darktable_Nikon_D3500.dtstyle
 darktable_Nikon_D3S.dtstyle
 darktable_Nikon_D3X.dtstyle
 darktable_Nikon_D4.dtstyle
 darktable_Nikon_D40.dtstyle
 darktable_Nikon_D40X.dtstyle
 darktable_Nikon_D4S.dtstyle
 darktable_Nikon_D5.dtstyle
 darktable_Nikon_D50.dtstyle
 darktable_Nikon_D500.dtstyle
 darktable_Nikon_D5000 series.dtstyle
 darktable_Nikon_D5100.dtstyle
 darktable_Nikon_D5200.dtstyle
 darktable_Nikon_D5500.dtstyle
 darktable_Nikon_D6.dtstyle
 darktable_Nikon_D60.dtstyle
 darktable_Nikon_D600.dtstyle
 darktable_Nikon_D610.dtstyle
 darktable_Nikon_D70.dtstyle
 darktable_Nikon_D700.dtstyle
 darktable_Nikon_D7000 series.dtstyle
 darktable_Nikon_D7000.dtstyle
 darktable_Nikon_D70s.dtstyle
 darktable_Nikon_D7200.dtstyle
 darktable_Nikon_D750.dtstyle
 darktable_Nikon_D7500.dtstyle
 darktable_Nikon_D780.dtstyle
 darktable_Nikon_D80.dtstyle
 darktable_Nikon_D800.dtstyle
 darktable_Nikon_D800E.dtstyle
 darktable_Nikon_D810.dtstyle
 darktable_Nikon_D850.dtstyle
 darktable_Nikon_D90.dtstyle
 darktable_Nikon_Df.dtstyle
 darktable_Nikon_E5400.dtstyle
 darktable_Nikon_E5700.dtstyle
 darktable_Nikon_Z 30.dtstyle
 darktable_Nikon_Z 5.dtstyle
 darktable_Nikon_Z 50.dtstyle
 darktable_Nikon_Z 6.dtstyle
 darktable_Nikon_Z 6_2.dtstyle
 darktable_Nikon_Z 7.dtstyle
 darktable_Nikon_Z 7_2.dtstyle
 darktable_Nikon_Z 8.dtstyle
 darktable_Nikon_Z 9.dtstyle
 darktable_Nikon_Z f.dtstyle
 darktable_Nikon_Z series.dtstyle
 darktable_Nikon_Z50_2.dtstyle
 darktable_Nikon_Z6_3.dtstyle
 darktable_Nikon__l10n_generic.dtstyle
 darktable_OM System_OM-1 Mark II.dtstyle
 darktable_OM System_OM-1.dtstyle
 darktable_OM System_OM-5.dtstyle
 darktable_OM System_TG-7.dtstyle
 darktable_Olympus_C7070WZ.dtstyle
 darktable_Olympus_E-1.dtstyle
 darktable_Olympus_E-3.dtstyle
 darktable_Olympus_E-300.dtstyle
 darktable_Olympus_E-330.dtstyle
 darktable_Olympus_E-400.dtstyle
 darktable_Olympus_E-5.dtstyle
 darktable_Olympus_E-500.dtstyle
 darktable_Olympus_E-620.dtstyle
 darktable_Olympus_E-M1.dtstyle
 darktable_Olympus_E-M10 Mark II.dtstyle
 darktable_Olympus_E-M10 Mark III.dtstyle
 darktable_Olympus_E-M10 Mark IIIs.dtstyle
 darktable_Olympus_E-M10 Mark IV.dtstyle
 darktable_Olympus_E-M10.dtstyle
 darktable_Olympus_E-M1MarkII.dtstyle
 darktable_Olympus_E-M1MarkIII.dtstyle
 darktable_Olympus_E-M1X.dtstyle
 darktable_Olympus_E-M5 Mark II.dtstyle
 darktable_Olympus_E-M5 Mark III.dtstyle
 darktable_Olympus_E-M5.dtstyle
 darktable_Olympus_E-P1.dtstyle
 darktable_Olympus_E-P5.dtstyle
 darktable_Olympus_E-P7.dtstyle
 darktable_Olympus_E-PL1.dtstyle
 darktable_Olympus_E-PL10.dtstyle
 darktable_Olympus_E-PL2.dtstyle
 darktable_Olympus_E-PL7.dtstyle
 darktable_Olympus_E-PL_ series.dtstyle
 darktable_Olympus_E-PM1.dtstyle
 darktable_Olympus_PEN-F.dtstyle
 darktable_Olympus_SH-2.dtstyle
 darktable_Olympus_Stylus1.dtstyle
 darktable_Olympus_TG-4.dtstyle
 darktable_Olympus_TG-5.dtstyle
 darktable_Olympus_TG-6.dtstyle
 darktable_Olympus_XZ-1.dtstyle
 darktable_Olympus_XZ-2.dtstyle
 darktable_OnePlus_One.dtstyle
 darktable_Panasonic_DC-FZ10002.dtstyle
 darktable_Panasonic_DC-FZ80.dtstyle
 darktable_Panasonic_DC-FZ82.dtstyle
 darktable_Panasonic_DC-G100.dtstyle
 darktable_Panasonic_DC-G110.dtstyle
 darktable_Panasonic_DC-G9.dtstyle
 darktable_Panasonic_DC-G90.dtstyle
 darktable_Panasonic_DC-G91.dtstyle
 darktable_Panasonic_DC-G95.dtstyle
 darktable_Panasonic_DC-G95D.dtstyle
 darktable_Panasonic_DC-GH5.dtstyle
 darktable_Panasonic_DC-GH5M2.dtstyle
 darktable_Panasonic_DC-GH5S.dtstyle
 darktable_Panasonic_DC-GX7MK3.dtstyle
 darktable_Panasonic_DC-GX800.dtstyle
 darktable_Panasonic_DC-GX850.dtstyle
 darktable_Panasonic_DC-GX880.dtstyle
 darktable_Panasonic_DC-GX9.dtstyle
 darktable_Panasonic_DC-LX100M2.dtstyle
 darktable_Panasonic_DC-S1.dtstyle
 darktable_Panasonic_DC-S1H.dtstyle
 darktable_Panasonic_DC-S1R.dtstyle
 darktable_Panasonic_DC-S5.dtstyle
 darktable_Panasonic_DC-TZ200.dtstyle
 darktable_Panasonic_DC-TZ200D.dtstyle
 darktable_Panasonic_DC-TZ202.dtstyle
 darktable_Panasonic_DC-TZ90.dtstyle
 darktable_Panasonic_DC-TZ91.dtstyle
 darktable_Panasonic_DC-TZ95.dtstyle
 darktable_Panasonic_DC-TZ95D.dtstyle
 darktable_Panasonic_DC-TZ96.dtstyle
 darktable_Panasonic_DC-ZS200D.dtstyle
 darktable_Panasonic_DMC-FZ100.dtstyle
 darktable_Panasonic_DMC-FZ1000.dtstyle
 darktable_Panasonic_DMC-FZ150.dtstyle
 darktable_Panasonic_DMC-FZ18.dtstyle
 darktable_Panasonic_DMC-FZ200.dtstyle
 darktable_Panasonic_DMC-FZ2000.dtstyle
 darktable_Panasonic_DMC-FZ2500.dtstyle
 darktable_Panasonic_DMC-FZ28.dtstyle
 darktable_Panasonic_DMC-FZ300.dtstyle
 darktable_Panasonic_DMC-FZ330.dtstyle
 darktable_Panasonic_DMC-FZ35.dtstyle
 darktable_Panasonic_DMC-FZ38.dtstyle
 darktable_Panasonic_DMC-FZ45.dtstyle
 darktable_Panasonic_DMC-G1.dtstyle
 darktable_Panasonic_DMC-G10.dtstyle
 darktable_Panasonic_DMC-G2.dtstyle
 darktable_Panasonic_DMC-G3.dtstyle
 darktable_Panasonic_DMC-G5.dtstyle
 darktable_Panasonic_DMC-G6.dtstyle
 darktable_Panasonic_DMC-G7.dtstyle
 darktable_Panasonic_DMC-G70.dtstyle
 darktable_Panasonic_DMC-G80.dtstyle
 darktable_Panasonic_DMC-G81.dtstyle
 darktable_Panasonic_DMC-G85.dtstyle
 darktable_Panasonic_DMC-GF1.dtstyle
 darktable_Panasonic_DMC-GF2.dtstyle
 darktable_Panasonic_DMC-GF3.dtstyle
 darktable_Panasonic_DMC-GF6.dtstyle
 darktable_Panasonic_DMC-GF7.dtstyle
 darktable_Panasonic_DMC-GF8.dtstyle
 darktable_Panasonic_DMC-GH1.dtstyle
 darktable_Panasonic_DMC-GH2.dtstyle
 darktable_Panasonic_DMC-GH3.dtstyle
 darktable_Panasonic_DMC-GH4.dtstyle
 darktable_Panasonic_DMC-GM1.dtstyle
 darktable_Panasonic_DMC-GM1S.dtstyle
 darktable_Panasonic_DMC-GX1.dtstyle
 darktable_Panasonic_DMC-GX7.dtstyle
 darktable_Panasonic_DMC-GX7MK2.dtstyle
 darktable_Panasonic_DMC-GX8.dtstyle
 darktable_Panasonic_DMC-GX80.dtstyle
 darktable_Panasonic_DMC-GX85.dtstyle
 darktable_Panasonic_DMC-LF1.dtstyle
 darktable_Panasonic_DMC-LX10.dtstyle
 darktable_Panasonic_DMC-LX100.dtstyle
 darktable_Panasonic_DMC-LX15.dtstyle
 darktable_Panasonic_DMC-LX3.dtstyle
 darktable_Panasonic_DMC-LX5.dtstyle
 darktable_Panasonic_DMC-LX7.dtstyle
 darktable_Panasonic_DMC-TX1.dtstyle
 darktable_Panasonic_DMC-TZ100.dtstyle
 darktable_Panasonic_DMC-TZ101.dtstyle
 darktable_Panasonic_DMC-TZ110.dtstyle
 darktable_Panasonic_DMC-TZ61.dtstyle
 darktable_Panasonic_DMC-TZ70.dtstyle
 darktable_Panasonic_DMC-TZ71.dtstyle
 darktable_Panasonic_DMC-TZ80.dtstyle
 darktable_Panasonic_DMC-TZ81.dtstyle
 darktable_Panasonic_DMC-ZS100.dtstyle
 darktable_Panasonic_DMC-ZS40.dtstyle
 darktable_Panasonic_DMC-ZS60.dtstyle
 darktable_Pentax_645D.dtstyle
 darktable_Pentax_645Z.dtstyle
 darktable_Pentax_K-01.dtstyle
 darktable_Pentax_K-1 Mark II.dtstyle
 darktable_Pentax_K-1.dtstyle
 darktable_Pentax_K-3 II.dtstyle
 darktable_Pentax_K-3 Mark III.dtstyle
 darktable_Pentax_K-3.dtstyle
 darktable_Pentax_K-30.dtstyle
 darktable_Pentax_K-5 II s.dtstyle
 darktable_Pentax_K-5 II.dtstyle
 darktable_Pentax_K-5.dtstyle
 darktable_Pentax_K-50.dtstyle
 darktable_Pentax_K-500.dtstyle
 darktable_Pentax_K-S1.dtstyle
 darktable_Pentax_K-S2.dtstyle
 darktable_Pentax_K-m.dtstyle
 darktable_Pentax_K-r.dtstyle
 darktable_Pentax_K1000.dtstyle
 darktable_Pentax_K100D Super.dtstyle
 darktable_Pentax_K10D.dtstyle
 darktable_Pentax_K110D.dtstyle
 darktable_Pentax_K2000.dtstyle
 darktable_Pentax_K200D.dtstyle
 darktable_Pentax_K20D.dtstyle
 darktable_Pentax_KF.dtstyle
 darktable_Pentax_KP.dtstyle
 darktable_Pentax_Q.dtstyle
 darktable_Pentax_Q7.dtstyle
 darktable_Pentax__ist D.dtstyle
 darktable_Pentax__ist DL.dtstyle
 darktable_Pentax__ist DS.dtstyle
 darktable_Phase One_IQ180.dtstyle
 darktable_Phase One_P65+.dtstyle
 darktable_Samsung_EK-GN120.dtstyle
 darktable_Samsung_EX2F.dtstyle
 darktable_Samsung_G935F.dtstyle
 darktable_Samsung_GX10.dtstyle
 darktable_Samsung_NX mini.dtstyle
 darktable_Samsung_NX1.dtstyle
 darktable_Samsung_NX10.dtstyle
 darktable_Samsung_NX11.dtstyle
 darktable_Samsung_NX1100.dtstyle
 darktable_Samsung_NX20.dtstyle
 darktable_Samsung_NX200.dtstyle
 darktable_Samsung_NX2000.dtstyle
 darktable_Samsung_NX210.dtstyle
 darktable_Samsung_NX30.dtstyle
 darktable_Samsung_NX300.dtstyle
 darktable_Samsung_NX3000.dtstyle
 darktable_Samsung_NX300M.dtstyle
 darktable_Samsung_NX3300.dtstyle
 darktable_Samsung_NX5.dtstyle
 darktable_Samsung_NX500.dtstyle
 darktable_Samsung_WB2000.dtstyle
 darktable_Sigma_fp L.dtstyle
 darktable_Sigma_fp.dtstyle
 darktable_Sony_DSC-F828.dtstyle
 darktable_Sony_DSC-HX95.dtstyle
 darktable_Sony_DSC-HX99.dtstyle
 darktable_Sony_DSC-R1.dtstyle
 darktable_Sony_DSC-RX0.dtstyle
 darktable_Sony_DSC-RX0M2.dtstyle
 darktable_Sony_DSC-RX1.dtstyle
 darktable_Sony_DSC-RX10.dtstyle
 darktable_Sony_DSC-RX100.dtstyle
 darktable_Sony_DSC-RX100M2.dtstyle
 darktable_Sony_DSC-RX100M3.dtstyle
 darktable_Sony_DSC-RX100M4.dtstyle
 darktable_Sony_DSC-RX100M5.dtstyle
 darktable_Sony_DSC-RX100M5A.dtstyle
 darktable_Sony_DSC-RX100M6.dtstyle
 darktable_Sony_DSC-RX100M7.dtstyle
 darktable_Sony_DSC-RX10M2.dtstyle
 darktable_Sony_DSC-RX10M3.dtstyle
 darktable_Sony_DSC-RX10M4.dtstyle
 darktable_Sony_DSC-RX1R.dtstyle
 darktable_Sony_DSC-RX1RM2.dtstyle
 darktable_Sony_DSLR-A100.dtstyle
 darktable_Sony_DSLR-A200.dtstyle
 darktable_Sony_DSLR-A230.dtstyle
 darktable_Sony_DSLR-A290.dtstyle
 darktable_Sony_DSLR-A300.dtstyle
 darktable_Sony_DSLR-A330.dtstyle
 darktable_Sony_DSLR-A350.dtstyle
 darktable_Sony_DSLR-A380.dtstyle
 darktable_Sony_DSLR-A390.dtstyle
 darktable_Sony_DSLR-A450.dtstyle
 darktable_Sony_DSLR-A500.dtstyle
 darktable_Sony_DSLR-A550.dtstyle
 darktable_Sony_DSLR-A560.dtstyle
 darktable_Sony_DSLR-A580.dtstyle
 darktable_Sony_DSLR-A700.dtstyle
 darktable_Sony_DSLR-A850.dtstyle
 darktable_Sony_DSLR-A900.dtstyle
 darktable_Sony_ILCA-68.dtstyle
 darktable_Sony_ILCA-77M2.dtstyle
 darktable_Sony_ILCA-99M2.dtstyle
 darktable_Sony_ILCE-1.dtstyle
 darktable_Sony_ILCE-3000.dtstyle
 darktable_Sony_ILCE-3500.dtstyle
 darktable_Sony_ILCE-5000.dtstyle
 darktable_Sony_ILCE-5100.dtstyle
 darktable_Sony_ILCE-6000.dtstyle
 darktable_Sony_ILCE-6100.dtstyle
 darktable_Sony_ILCE-6300.dtstyle
 darktable_Sony_ILCE-6400.dtstyle
 darktable_Sony_ILCE-6500.dtstyle
 darktable_Sony_ILCE-6600.dtstyle
 darktable_Sony_ILCE-6700.dtstyle
 darktable_Sony_ILCE-7.dtstyle
 darktable_Sony_ILCE-7C.dtstyle
 darktable_Sony_ILCE-7CM2.dtstyle
 darktable_Sony_ILCE-7CR.dtstyle
 darktable_Sony_ILCE-7M2.dtstyle
 darktable_Sony_ILCE-7M3.dtstyle
 darktable_Sony_ILCE-7M4.dtstyle
 darktable_Sony_ILCE-7R.dtstyle
 darktable_Sony_ILCE-7RM2.dtstyle
 darktable_Sony_ILCE-7RM3.dtstyle
 darktable_Sony_ILCE-7RM4.dtstyle
 darktable_Sony_ILCE-7RM4A.dtstyle
 darktable_Sony_ILCE-7RM5.dtstyle
 darktable_Sony_ILCE-7S.dtstyle
 darktable_Sony_ILCE-7SM2.dtstyle
 darktable_Sony_ILCE-7SM3.dtstyle
 darktable_Sony_ILCE-9 series.dtstyle
 darktable_Sony_ILCE-9.dtstyle
 darktable_Sony_ILCE-9M3.dtstyle
 darktable_Sony_ILCE-QX1.dtstyle
 darktable_Sony_ILME-FX3.dtstyle
 darktable_Sony_ILME-FX30.dtstyle
 darktable_Sony_NEX-3N.dtstyle
 darktable_Sony_NEX-5.dtstyle
 darktable_Sony_NEX-5N.dtstyle
 darktable_Sony_NEX-5R.dtstyle
 darktable_Sony_NEX-5T.dtstyle
 darktable_Sony_NEX-6.dtstyle
 darktable_Sony_NEX-C3.dtstyle
 darktable_Sony_NEX-F3.dtstyle
 darktable_Sony_SLT-A33.dtstyle
 darktable_Sony_SLT-A35.dtstyle
 darktable_Sony_SLT-A37.dtstyle
 darktable_Sony_SLT-A55.dtstyle
 darktable_Sony_SLT-A57.dtstyle
 darktable_Sony_SLT-A58.dtstyle
 darktable_Sony_SLT-A65.dtstyle
 darktable_Sony_SLT-A77.dtstyle
 darktable_Sony_SLT-A99.dtstyle
 darktable_Sony_UMC-R10C.dtstyle
 darktable_Sony_ZV-1.dtstyle
 darktable_Sony_ZV-E1.dtstyle
 darktable_Sony_ZV-E10.dtstyle
 darktable__l10n_generic.dtstyle
share/darktable/themes/
 darktable-elegant-dark.css
 darktable-elegant-darker.css
 darktable-elegant-grey.css
 darktable-elegant-highcontrast.css
 darktable-icons-dark.css
 darktable-icons-darker.css
 darktable-icons-grey.css
 darktable-icons-highcontrast.css
 darktable-icons.css
 darktable.css
share/darktable/tools/
 common.sh
 extract_wb_from_images.sh
 purge_from_cache.sh
 purge_non_existing_images.sh
 purge_unused_tags.sh
share/darktable/watermarks/
 darktable.svg
 fixed-size-text.svg
 hasselblad.svg
 metadata-template.svg
 promo.svg
 simple-text-shadow.svg
 simple-text.svg
share/icons/hicolor/16x16/apps/darktable.png
share/icons/hicolor/22x22/apps/darktable.png
share/icons/hicolor/24x24/apps/darktable.png
share/icons/hicolor/256x256/apps/darktable.png
share/icons/hicolor/32x32/apps/darktable.png
share/icons/hicolor/48x48/apps/darktable.png
share/icons/hicolor/64x64/apps/darktable.png
share/icons/hicolor/scalable/apps/
 darktable-1.svg
 darktable-2.svg
 darktable-3.svg
 darktable.svg
 darktable_macos_icon.svg
share/metainfo/org.darktable.darktable.appdata.xml


[FILE:115:manifests/plist.man]
share/man/man1/
 darktable-cli.1
 darktable-cltest.1
 darktable-cmstest.1
 darktable-generate-cache.1
 darktable.1


[FILE:57:manifests/plist.docs]
share/doc/darktable/
 AUTHORS
 README.md
 TRANSLATORS.md


[FILE:592:manifests/plist.nls]
share/locale/cs/LC_MESSAGES/darktable.mo
share/locale/de/LC_MESSAGES/darktable.mo
share/locale/en@truecase/LC_MESSAGES/darktable.mo
share/locale/es/LC_MESSAGES/darktable.mo
share/locale/fi/LC_MESSAGES/darktable.mo
share/locale/fr/LC_MESSAGES/darktable.mo
share/locale/ja/LC_MESSAGES/darktable.mo
share/locale/nl/LC_MESSAGES/darktable.mo
share/locale/pt_BR/LC_MESSAGES/darktable.mo
share/locale/sl/LC_MESSAGES/darktable.mo
share/locale/sq/LC_MESSAGES/darktable.mo
share/locale/uk/LC_MESSAGES/darktable.mo
share/locale/zh_CN/LC_MESSAGES/darktable.mo
share/locale/zh_TW/LC_MESSAGES/darktable.mo


[FILE:719:patches/patch-src_common_darktable.h]
--- src/common/darktable.h.orig	2023-08-23 11:50:51 UTC
+++ src/common/darktable.h
@@ -143,7 +143,7 @@ extern "C" {
 #if __has_attribute(target_clones) && !defined(_WIN32) && !defined(NATIVE_ARCH)
 # if defined(__amd64__) || defined(__amd64) || defined(__x86_64__) || defined(__x86_64)
 #define __DT_CLONE_TARGETS__ __attribute__((target_clones("default", "sse2", "sse3", "sse4.1", "sse4.2", "popcnt", "avx", "avx2", "avx512f", "fma4")))
-# elif defined(__PPC64__)
+# elif defined(__PPC64__) && defined(__GLIBC__)
 /* __PPC64__ is the only macro tested for in is_supported_platform.h, other macros would fail there anyway. */
 #define __DT_CLONE_TARGETS__ __attribute__((target_clones("default","cpu=power9")))
 # else


[FILE:840:patches/patch-src_common_extra__optimizations.h]
--- src/common/extra_optimizations.h.orig	2022-12-14 15:18:18 UTC
+++ src/common/extra_optimizations.h
@@ -17,19 +17,3 @@
 */
 
 #pragma once
-
-/* Enable extra optimizations on GCC by including this header at the very
- * beginning of your *.c file (before any other includes). This applies
- * these optimizations for all of the source file.
- *
- * we use finite-math-only because divisions by zero are manually avoided
- * in the code, the rest is loop reorganization and vectorization optimization
- **/
-
-#if defined(__GNUC__)
-#pragma GCC optimize ("unroll-loops", "split-loops", \
-                      "loop-nest-optimize", "tree-loop-im", \
-                      "tree-loop-ivcanon", "ira-loop-pressure", \
-                      "variable-expansion-in-unroller", \
-                      "ivopts", "finite-math-only")
-#endif


[FILE:1201:patches/patch-src_common_iop__order.c]
--- src/common/iop_order.c.orig	2023-07-06 21:18:18 UTC
+++ src/common/iop_order.c
@@ -37,23 +37,6 @@ static void _ioppr_reset_iop_order(GList *iop_order_li
 
 static void _ioppr_reset_iop_order(GList *iop_order_list);
 
-/** Note : we do not use finite-math-only and fast-math because
- * divisions by zero are not manually avoided in the code
- * fp-contract=fast enables hardware-accelerated Fused Multiply-Add
- * the rest is loop reorganization and vectorization optimization
- **/
-#if defined(__GNUC__)
-#pragma GCC optimize ("unroll-loops", "tree-loop-if-convert", \
-                      "tree-loop-distribution", "no-strict-aliasing", \
-                      "loop-interchange", "loop-nest-optimize", "tree-loop-im", \
-                      "unswitch-loops", "tree-loop-ivcanon", "ira-loop-pressure", \
-                      "split-ivs-in-unroller", "variable-expansion-in-unroller", \
-                      "split-loops", "ivopts", "predictive-commoning",\
-                      "tree-loop-linear", "loop-block", "loop-strip-mine", \
-                      "fp-contract=fast", \
-                      "tree-vectorize")
-#endif
-
 const char *iop_order_string[] =
 {
   N_("custom"),


[FILE:1237:patches/patch-src_common_iop__profile.c]
--- src/common/iop_profile.c.orig	2023-07-06 21:19:34 UTC
+++ src/common/iop_profile.c
@@ -34,24 +34,6 @@
 #include <stdlib.h>
 #include <string.h>
 
-/** Note : we do not use finite-math-only and fast-math because
- * divisions by zero are not manually avoided in the code
- * fp-contract=fast enables hardware-accelerated Fused Multiply-Add
- * the rest is loop reorganization and vectorization optimization
- **/
-#if defined(__GNUC__)
-#pragma GCC optimize ("unroll-loops", "tree-loop-if-convert", \
-                      "tree-loop-distribution", "no-strict-aliasing", \
-                      "loop-interchange", "loop-nest-optimize", "tree-loop-im", \
-                      "unswitch-loops", "tree-loop-ivcanon", "ira-loop-pressure", \
-                      "split-ivs-in-unroller", "variable-expansion-in-unroller", \
-                      "split-loops", "ivopts", "predictive-commoning",\
-                      "tree-loop-linear", "loop-block", "loop-strip-mine", \
-                      "fp-contract=fast", \
-                      "tree-vectorize")
-#endif
-
-
 static void _mark_as_nonmatrix_profile(dt_iop_order_iccprofile_info_t *const profile_info)
 {
   dt_mark_colormatrix_invalid(&profile_info->matrix_in[0][0]);


[FILE:978:patches/patch-src_develop_blends_blendif__lab.c]
--- src/develop/blends/blendif_lab.c.orig	2023-01-26 22:14:31 UTC
+++ src/develop/blends/blendif_lab.c
@@ -16,15 +16,6 @@
     along with darktable.  If not, see <http://www.gnu.org/licenses/>.
 */
 
-#if defined(__GNUC__)
-#pragma GCC optimize("unroll-loops", "tree-loop-if-convert", "tree-loop-distribution", "no-strict-aliasing",      \
-                     "loop-interchange", "loop-nest-optimize", "tree-loop-im", "unswitch-loops",                  \
-                     "tree-loop-ivcanon", "ira-loop-pressure", "split-ivs-in-unroller", "tree-loop-vectorize",    \
-                     "variable-expansion-in-unroller", "split-loops", "ivopts", "predictive-commoning",           \
-                     "tree-loop-linear", "loop-block", "loop-strip-mine", "finite-math-only", "fp-contract=fast", \
-                     "fast-math", "no-math-errno")
-#endif
-
 #include "common/colorspaces_inline_conversions.h"
 #include "common/imagebuf.h"
 #include "common/math.h"


[FILE:954:patches/patch-src_develop_blends_blendif__raw.c]
--- src/develop/blends/blendif_raw.c.orig	2023-01-26 22:18:41 UTC
+++ src/develop/blends/blendif_raw.c
@@ -16,15 +16,6 @@
     along with darktable.  If not, see <http://www.gnu.org/licenses/>.
 */
 
-#if defined(__GNUC__)
-#pragma GCC optimize("unroll-loops", "tree-loop-if-convert", "tree-loop-distribution", "no-strict-aliasing",      \
-                     "loop-interchange", "loop-nest-optimize", "tree-loop-im", "unswitch-loops",                  \
-                     "tree-loop-ivcanon", "ira-loop-pressure", "split-ivs-in-unroller", "tree-loop-vectorize",    \
-                     "variable-expansion-in-unroller", "split-loops", "ivopts", "predictive-commoning",           \
-                     "tree-loop-linear", "loop-block", "loop-strip-mine", "finite-math-only", "fp-contract=fast", \
-                     "fast-math", "no-math-errno")
-#endif
-
 #include "common/imagebuf.h"
 #include "common/math.h"
 #include "develop/blend.h"


[FILE:986:patches/patch-src_develop_blends_blendif__rgb__hsl.c]
--- src/develop/blends/blendif_rgb_hsl.c.orig	2023-01-26 22:19:10 UTC
+++ src/develop/blends/blendif_rgb_hsl.c
@@ -16,15 +16,6 @@
     along with darktable.  If not, see <http://www.gnu.org/licenses/>.
 */
 
-#if defined(__GNUC__)
-#pragma GCC optimize("unroll-loops", "tree-loop-if-convert", "tree-loop-distribution", "no-strict-aliasing",      \
-                     "loop-interchange", "loop-nest-optimize", "tree-loop-im", "unswitch-loops",                  \
-                     "tree-loop-ivcanon", "ira-loop-pressure", "split-ivs-in-unroller", "tree-loop-vectorize",    \
-                     "variable-expansion-in-unroller", "split-loops", "ivopts", "predictive-commoning",           \
-                     "tree-loop-linear", "loop-block", "loop-strip-mine", "finite-math-only", "fp-contract=fast", \
-                     "fast-math", "no-math-errno")
-#endif
-
 #include "common/colorspaces_inline_conversions.h"
 #include "common/imagebuf.h"
 #include "common/math.h"


[FILE:994:patches/patch-src_develop_blends_blendif__rgb__jzczhz.c]
--- src/develop/blends/blendif_rgb_jzczhz.c.orig	2023-01-26 22:19:33 UTC
+++ src/develop/blends/blendif_rgb_jzczhz.c
@@ -16,15 +16,6 @@
     along with darktable.  If not, see <http://www.gnu.org/licenses/>.
 */
 
-#if defined(__GNUC__)
-#pragma GCC optimize("unroll-loops", "tree-loop-if-convert", "tree-loop-distribution", "no-strict-aliasing",      \
-                     "loop-interchange", "loop-nest-optimize", "tree-loop-im", "unswitch-loops",                  \
-                     "tree-loop-ivcanon", "ira-loop-pressure", "split-ivs-in-unroller", "tree-loop-vectorize",    \
-                     "variable-expansion-in-unroller", "split-loops", "ivopts", "predictive-commoning",           \
-                     "tree-loop-linear", "loop-block", "loop-strip-mine", "finite-math-only", "fp-contract=fast", \
-                     "fast-math", "no-math-errno")
-#endif
-
 #include "common/colorspaces_inline_conversions.h"
 #include "common/imagebuf.h"
 #include "develop/blend.h"


[FILE:450:patches/patch-src_external_rawspeed_cmake_Modules_CheckZLIB.cmake]
--- src/external/rawspeed/cmake/Modules/CheckZLIB.cmake.orig	2023-12-10 23:28:08 UTC
+++ src/external/rawspeed/cmake/Modules/CheckZLIB.cmake
@@ -45,7 +45,7 @@ CHECK_PROTOTYPE_DEFINITION(zError
 CHECK_PROTOTYPE_DEFINITION(zError
  "const char* zError(int zErrorCode)"
  "NULL"
- "zlib.h"
+ "stddef.h;zlib.h"
  HAVE_ZLIB_ZERROR_PROTOTYPE)
 if(NOT HAVE_ZLIB_ZERROR_PROTOTYPE)
   message(SEND_ERROR "Found unexpected prototype for zError() in <zlib.h>")


[FILE:535:patches/patch-src_external_rawspeed_cmake_Modules_cpu-cache-line-size.cpp]
--- src/external/rawspeed/cmake/Modules/cpu-cache-line-size.cpp.orig	2024-12-31 00:33:15 UTC
+++ src/external/rawspeed/cmake/Modules/cpu-cache-line-size.cpp
@@ -11,7 +11,7 @@
 #include <elf.h>
 #endif
 
-#if defined(_POSIX_C_SOURCE) && defined(_SC_LEVEL1_DCACHE_LINESIZE)
+#if (defined(_POSIX_C_SOURCE) || defined(__DragonFly__)) && defined(_SC_LEVEL1_DCACHE_LINESIZE)
 static std::optional<int64_t> get_cachelinesize_from_sysconf() {
   long val = ::sysconf(_SC_LEVEL1_DCACHE_LINESIZE);
   if (val == -1) // On error, -1 is returned.


[FILE:429:patches/patch-src_external_rawspeed_cmake_Modules_cpu-page-size.cpp]
--- src/external/rawspeed/cmake/Modules/cpu-page-size.cpp.orig	2024-12-30 22:11:10 UTC
+++ src/external/rawspeed/cmake/Modules/cpu-page-size.cpp
@@ -4,7 +4,7 @@
 #include <unistd.h>
 #endif
 
-#if (defined(_POSIX_C_SOURCE) && _POSIX_C_SOURCE >= 1) || defined(__APPLE__)
+#if (defined(_POSIX_C_SOURCE) && _POSIX_C_SOURCE >= 1) || defined(__APPLE__) || defined(__DragonFly__)
 
 int main() {
   long val = ::sysconf(_SC_PAGESIZE);


[FILE:1305:patches/patch-src_iop_channelmixerrgb.c]
--- src/iop/channelmixerrgb.c.orig	2024-12-31 11:59:33 UTC
+++ src/iop/channelmixerrgb.c
@@ -16,23 +16,6 @@
   along with darktable.  If not, see <http://www.gnu.org/licenses/>.
 */
 
-/** Note :
- * we use finite-math-only and fast-math because divisions by zero are manually avoided in the code
- * fp-contract=fast enables hardware-accelerated Fused Multiply-Add
- * the rest is loop reorganization and vectorization optimization
- **/
-#if defined(__GNUC__)
-#pragma GCC optimize ("unroll-loops", "tree-loop-if-convert", \
-                      "tree-loop-distribution", "no-strict-aliasing", \
-                      "loop-interchange", "loop-nest-optimize", "tree-loop-im", \
-                      "unswitch-loops", "tree-loop-ivcanon", "ira-loop-pressure", \
-                      "split-ivs-in-unroller", "variable-expansion-in-unroller", \
-                      "split-loops", "ivopts", "predictive-commoning",\
-                      "tree-loop-linear", "loop-block", "loop-strip-mine", \
-                      "finite-math-only", "fp-contract=fast", "fast-math", \
-                      "tree-vectorize", "no-math-errno")
-#endif
-
 // #define AI_ACTIVATED
 /* AI feature not good enough so disabled for now
    If enabled there must be $DESCRIPTION: entries in illuminants.h for bauhaus

