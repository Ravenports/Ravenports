# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		tiff
VERSION=		4.0.9
KEYWORDS=		graphics
VARIANTS=		standard
SDESC[standard]=	TIFF image format library and tools
HOMEPAGE=		http://www.simplesystems.org/libtiff/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://download.osgeo.org/libtiff/
DISTFILE[1]=		tiff-4.0.9.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	jbigkit:single:standard

USES=			cpe jpeg libtool c++:primary zlib

LICENSE=		BSD3CLAUSE:primary
LICENSE_SCHEME=		solo
LICENSE_FILE=		BSD3CLAUSE:{{WRKSRC}}/COPYRIGHT

CPE_PRODUCT=		libtiff
CPE_VERSION=		4.0.9
FPC_EQUIVALENT=		graphics/tiff

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-jpeg-include-dir={{LOCALBASE}}/include
			--with-jpeg-lib-dir={{LOCALBASE}}/lib
			--enable-ld-version-script
			--without-x

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
PLIST_SUB=		SOVERSION=5.3.0
			SOMAJOR=5

TEST_TARGET=		check

post-patch:
	${REINPLACE_CMD} "/\.po 0/d" ${WRKSRC}/man/*

post-install:
	@${MKDIR} ${STAGEDIR}${STD_DOCDIR}/images ${STAGEDIR}${STD_DOCDIR}/man
	${INSTALL_DATA} ${WRKSRC}/html/*.html ${STAGEDIR}${STD_DOCDIR}/
	${INSTALL_DATA} ${WRKSRC}/html/images/*.jpg ${STAGEDIR}${STD_DOCDIR}/images/
	${INSTALL_DATA} ${WRKSRC}/html/images/*.gif ${STAGEDIR}${STD_DOCDIR}/images/
	${INSTALL_DATA} ${WRKSRC}/html/man/*.html ${STAGEDIR}${STD_DOCDIR}/man/

pre-configure:
	${REINPLACE_CMD} \
		-e 's|tiffgt.1 ||' \
		${WRKSRC}/man/Makefile.in
	${REINPLACE_CMD} -e 's|^docfiles|no-docfiles|' \
		-e 's|man html|man|' ${WRKSRC}/Makefile.in

[FILE:646:descriptions/desc.primary]
This software provides support for the Tag Image File Format (TIFF),
a widely used format for storing image data.

Included in this software distribution is a library, libtiff, for
reading and writing TIFF, a small collection of tools for doing
simple manipulations of TIFF images on UNIX systems, and documentation
on the library and tools. A small assortment of TIFF-related software
for UNIX that has been contributed by others is also included.

The library is capable of dealing with images that are written to
follow the 5.0 or 6.0 TIFF spec.  There is also considerable support
for some of the more esoteric portions of the 6.0 TIFF spec.


[FILE:96:distinfo]
6e7bdeec2c310734e734d19aae3a71ebe37a4d842e0e23dbb1b8921c0026cfcd      2305681 tiff-4.0.9.tar.gz


[FILE:1815:manifests/plist.primary]
bin/
 fax2ps
 fax2tiff
 pal2rgb
 ppm2tiff
 raw2tiff
 tiff2bw
 tiff2pdf
 tiff2ps
 tiff2rgba
 tiffcmp
 tiffcp
 tiffcrop
 tiffdither
 tiffdump
 tiffinfo
 tiffmedian
 tiffset
 tiffsplit
include/
 tiff.h
 tiffconf.h
 tiffio.h
 tiffio.hxx
 tiffvers.h
lib/
 libtiff.a
 libtiff.so
 libtiff.so.%%SOMAJOR%%
 libtiff.so.%%SOVERSION%%
 libtiffxx.a
 libtiffxx.so
 libtiffxx.so.%%SOMAJOR%%
 libtiffxx.so.%%SOVERSION%%
lib/pkgconfig/libtiff-4.pc
share/man/man1/
 fax2ps.1.gz
 fax2tiff.1.gz
 pal2rgb.1.gz
 ppm2tiff.1.gz
 raw2tiff.1.gz
 tiff2bw.1.gz
 tiff2pdf.1.gz
 tiff2ps.1.gz
 tiff2rgba.1.gz
 tiffcmp.1.gz
 tiffcp.1.gz
 tiffcrop.1.gz
 tiffdither.1.gz
 tiffdump.1.gz
 tiffinfo.1.gz
 tiffmedian.1.gz
 tiffset.1.gz
 tiffsplit.1.gz
share/man/man3/
 TIFFClose.3tiff.gz
 TIFFDataWidth.3tiff.gz
 TIFFError.3tiff.gz
 TIFFFieldDataType.3tiff.gz
 TIFFFieldName.3tiff.gz
 TIFFFieldPassCount.3tiff.gz
 TIFFFieldReadCount.3tiff.gz
 TIFFFieldTag.3tiff.gz
 TIFFFieldWriteCount.3tiff.gz
 TIFFFlush.3tiff.gz
 TIFFGetField.3tiff.gz
 TIFFOpen.3tiff.gz
 TIFFPrintDirectory.3tiff.gz
 TIFFRGBAImage.3tiff.gz
 TIFFReadDirectory.3tiff.gz
 TIFFReadEncodedStrip.3tiff.gz
 TIFFReadEncodedTile.3tiff.gz
 TIFFReadRGBAImage.3tiff.gz
 TIFFReadRGBAStrip.3tiff.gz
 TIFFReadRGBATile.3tiff.gz
 TIFFReadRawStrip.3tiff.gz
 TIFFReadRawTile.3tiff.gz
 TIFFReadScanline.3tiff.gz
 TIFFReadTile.3tiff.gz
 TIFFSetDirectory.3tiff.gz
 TIFFSetField.3tiff.gz
 TIFFWarning.3tiff.gz
 TIFFWriteDirectory.3tiff.gz
 TIFFWriteEncodedStrip.3tiff.gz
 TIFFWriteEncodedTile.3tiff.gz
 TIFFWriteRawStrip.3tiff.gz
 TIFFWriteRawTile.3tiff.gz
 TIFFWriteScanline.3tiff.gz
 TIFFWriteTile.3tiff.gz
 TIFFbuffer.3tiff.gz
 TIFFcodec.3tiff.gz
 TIFFcolor.3tiff.gz
 TIFFmemory.3tiff.gz
 TIFFquery.3tiff.gz
 TIFFsize.3tiff.gz
 TIFFstrip.3tiff.gz
 TIFFswab.3tiff.gz
 TIFFtile.3tiff.gz
 libtiff.3tiff.gz


[FILE:2645:manifests/plist.docs]
share/doc/tiff/
 TIFFTechNote2.html
 addingtags.html
 bugs.html
 build.html
 contrib.html
 document.html
 images.html
share/doc/tiff/images/
 back.gif
 bali.jpg
 cat.gif
 cover.jpg
 cramps.gif
 dave.gif
 info.gif
 jello.jpg
 jim.gif
 note.gif
 oxford.gif
 quad.jpg
 ring.gif
 smallliz.jpg
 strike.gif
 warning.gif
share/doc/tiff/
 index.html
 internals.html
 intro.html
 libtiff.html
share/doc/tiff/man/
 TIFFClose.3tiff.html
 TIFFDataWidth.3tiff.html
 TIFFError.3tiff.html
 TIFFFieldDataType.3tiff.html
 TIFFFieldName.3tiff.html
 TIFFFieldPassCount.3tiff.html
 TIFFFieldReadCount.3tiff.html
 TIFFFieldTag.3tiff.html
 TIFFFieldWriteCount.3tiff.html
 TIFFFlush.3tiff.html
 TIFFGetField.3tiff.html
 TIFFOpen.3tiff.html
 TIFFPrintDirectory.3tiff.html
 TIFFRGBAImage.3tiff.html
 TIFFReadDirectory.3tiff.html
 TIFFReadEncodedStrip.3tiff.html
 TIFFReadEncodedTile.3tiff.html
 TIFFReadRGBAImage.3tiff.html
 TIFFReadRGBAStrip.3tiff.html
 TIFFReadRGBATile.3tiff.html
 TIFFReadRawStrip.3tiff.html
 TIFFReadRawTile.3tiff.html
 TIFFReadScanline.3tiff.html
 TIFFReadTile.3tiff.html
 TIFFSetDirectory.3tiff.html
 TIFFSetField.3tiff.html
 TIFFWarning.3tiff.html
 TIFFWriteDirectory.3tiff.html
 TIFFWriteEncodedStrip.3tiff.html
 TIFFWriteEncodedTile.3tiff.html
 TIFFWriteRawStrip.3tiff.html
 TIFFWriteRawTile.3tiff.html
 TIFFWriteScanline.3tiff.html
 TIFFWriteTile.3tiff.html
 TIFFbuffer.3tiff.html
 TIFFcodec.3tiff.html
 TIFFcolor.3tiff.html
 TIFFmemory.3tiff.html
 TIFFquery.3tiff.html
 TIFFsize.3tiff.html
 TIFFstrip.3tiff.html
 TIFFswab.3tiff.html
 TIFFtile.3tiff.html
 fax2ps.1.html
 fax2tiff.1.html
 index.html
 libtiff.3tiff.html
 pal2rgb.1.html
 ppm2tiff.1.html
 raw2tiff.1.html
 tiff2bw.1.html
 tiff2pdf.1.html
 tiff2ps.1.html
 tiff2rgba.1.html
 tiffcmp.1.html
 tiffcp.1.html
 tiffcrop.1.html
 tiffdither.1.html
 tiffdump.1.html
 tiffgt.1.html
 tiffinfo.1.html
 tiffmedian.1.html
 tiffset.1.html
 tiffsplit.1.html
share/doc/tiff/
 misc.html
 support.html
 tools.html
 v3.4beta007.html
 v3.4beta016.html
 v3.4beta018.html
 v3.4beta024.html
 v3.4beta028.html
 v3.4beta029.html
 v3.4beta031.html
 v3.4beta032.html
 v3.4beta033.html
 v3.4beta034.html
 v3.4beta035.html
 v3.4beta036.html
 v3.5.1.html
 v3.5.2.html
 v3.5.3.html
 v3.5.4.html
 v3.5.5.html
 v3.5.6-beta.html
 v3.5.7.html
 v3.6.0.html
 v3.6.1.html
 v3.7.0.html
 v3.7.0alpha.html
 v3.7.0beta.html
 v3.7.0beta2.html
 v3.7.1.html
 v3.7.2.html
 v3.7.3.html
 v3.7.4.html
 v3.8.0.html
 v3.8.1.html
 v3.8.2.html
 v3.9.0beta.html
 v3.9.1.html
 v3.9.2.html
 v4.0.0.html
 v4.0.1.html
 v4.0.2.html
 v4.0.3.html
 v4.0.4.html
 v4.0.4beta.html
 v4.0.5.html
 v4.0.6.html
 v4.0.7.html
 v4.0.8.html
 v4.0.9.html


[FILE:726:patches/patch-Makefile.in]
--- Makefile.in.orig	2017-05-21 18:49:35 UTC
+++ Makefile.in
@@ -495,19 +495,6 @@ distclean-libtool:
 	-rm -f libtool config.lt
 install-dist_docDATA: $(dist_doc_DATA)
 	@$(NORMAL_INSTALL)
-	@list='$(dist_doc_DATA)'; test -n "$(docdir)" || list=; \
-	if test -n "$$list"; then \
-	  echo " $(MKDIR_P) '$(DESTDIR)$(docdir)'"; \
-	  $(MKDIR_P) "$(DESTDIR)$(docdir)" || exit 1; \
-	fi; \
-	for p in $$list; do \
-	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
-	  echo "$$d$$p"; \
-	done | $(am__base_list) | \
-	while read files; do \
-	  echo " $(INSTALL_DATA) $$files '$(DESTDIR)$(docdir)'"; \
-	  $(INSTALL_DATA) $$files "$(DESTDIR)$(docdir)" || exit $$?; \
-	done
 
 uninstall-dist_docDATA:
 	@$(NORMAL_UNINSTALL)


[FILE:439:patches/patch-tiffcrop.1]
--- man/tiffcrop.1.orig	2016-09-25 20:05:52 UTC
+++ man/tiffcrop.1
@@ -496,7 +496,6 @@ the portrait or landscape option. The pa
 the image. It breaks each original image into a series of smaller images
 that will fit on the target paper size at the specified resolution.
 .fi 
-.RE
 .PP 
 Extract two regions 2048 pixels wide by 2048 pixels high from each page of
 a multi\-page input file and write each region to a separate output file.

