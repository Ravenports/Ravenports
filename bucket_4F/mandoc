# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		mandoc
VERSION=		1.14.6
KEYWORDS=		textproc
VARIANTS=		std
SDESC[std]=		Suite of tools compiling mdoc and man
HOMEPAGE=		https://mandoc.bsd.lv/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://mdocml.bsd.lv/snapshots/
DISTFILE[1]=		mandoc-1.14.6.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			zlib

LICENSE=		ISCL:single
LICENSE_FILE=		ISCL:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		textproc/mdocml

MUST_CONFIGURE=		yes
CONFIGURE_ENV=		INSTALL_PROGRAM="{{INSTALL_PROGRAM}}"
			INSTALL_DATA="{{INSTALL_DATA}}"
			INSTALL_LIB="{{INSTALL_LIB}}"
			INSTALL_MAN="{{INSTALL_MAN}}"

post-patch:
	${REINPLACE_CMD} -e 's|@PREFIX@|${PREFIX}|g' ${WRKSRC}/configure

[FILE:752:descriptions/desc.single]
mandoc is a suite of tools compiling mdoc, the roff macro language of 
choice for BSD manual pages, and man, the predominant historical language 
for UNIX manuals. It is small, ISO C, ISC-licensed, and quite fast. The 
main component of the toolset is the mandoc utility program, based on the 
libmandoc validating compiler, to format output for UTF-8 and ASCII UNIX 
terminals, HTML 5, PostScript, and PDF.

mandoc has predominantly been developed on OpenBSD and is both an OpenBSD 
and a BSD.lv project. We strive to support all interested free operating 
systems, in particular FreeBSD, NetBSD, DragonFly, illumos, Minix 3, and 
both GNU- and musl-based Linux distributions, as well as all systems 
running the pkgsrc portable package build system.


[FILE:99:distinfo]
8bf0d570f01e70a6e124884088870cbed7537f36328d512909eb10cd53179d9c       697150 mandoc-1.14.6.tar.gz


[FILE:327:manifests/plist.single]
bin/
 apropos
 demandoc
 man
 mandoc
 soelim
 whatis
sbin/makewhatis
share/man/man1/
 apropos.1.gz
 demandoc.1.gz
 man.1.gz
 mandoc.1.gz
 soelim.1.gz
 whatis.1.gz
share/man/man5/
 man.conf.5.gz
 mandoc.db.5.gz
share/man/man7/
 eqn.7.gz
 man.7.gz
 mandoc_char.7.gz
 mdoc.7.gz
 roff.7.gz
 tbl.7.gz
share/man/man8/makewhatis.8.gz


[FILE:1274:patches/patch-configure]
--- configure.orig	2021-09-23 18:03:23 UTC
+++ configure
@@ -35,18 +35,15 @@ echo "file config.log: writing..."
 
 SOURCEDIR=`dirname "${0}"`
 
-MANPATH_BASE="/usr/share/man:/usr/X11R6/man"
-MANPATH_DEFAULT="/usr/share/man:/usr/X11R6/man:/usr/local/man"
+MANPATH_BASE="/raven/share/man"
+MANPATH_DEFAULT="/usr/share/man:/raven/share/man"
 OSENUM=
 OSNAME=
 UTF8_LOCALE=
 
 AR=ar
-CC=cc
-CFLAGS=
 FATAL=0
 LDADD=
-LDFLAGS=
 LD_NANOSLEEP=
 LD_OHASH=
 LD_RECVMSG=
@@ -102,13 +99,13 @@ NEED_XPG4_2=0
 MANDOC_COBJS=
 SOELIM_COBJS=
 
-PREFIX="/usr/local"
+PREFIX="/raven"
 BINDIR=
 SBINDIR=
 BIN_FROM_SBIN=
 INCLUDEDIR=
 LIBDIR=
-MANDIR=
+MANDIR="/raven/share/man"
 READ_ALLOWED_PATH=
 
 WWWPREFIX="/var/www"
@@ -130,10 +127,6 @@ MANM_EQN="eqn"
 MANM_TBL="tbl"
 
 INSTALL="install"
-INSTALL_PROGRAM=
-INSTALL_LIB=
-INSTALL_MAN=
-INSTALL_DATA=
 LN="ln -f"
 
 # --- manual settings from configure.local -----------------------------
@@ -458,7 +451,7 @@ __HEREDOC__
 [ ${HAVE_GETLINE} -eq 0 ] && echo "#include <stdio.h>"
 
 echo
-echo "#define MAN_CONF_FILE \"/etc/${MANM_MANCONF}\""
+echo "#define MAN_CONF_FILE \"/raven/etc/${MANM_MANCONF}\""
 echo "#define MANPATH_BASE \"${MANPATH_BASE}\""
 echo "#define MANPATH_DEFAULT \"${MANPATH_DEFAULT}\""
 echo "#define OSENUM ${OSENUM}"

