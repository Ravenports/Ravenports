# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		readline
VERSION=		8.2.13
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Library for editing command lines during typing
HOMEPAGE=		http://tiswww.case.edu/php/chet/readline/rltop.html
CONTACT=		nobody

DOWNLOAD_GROUPS=	main patches
SITES[main]=		GNU/readline
SITES[patches]=		GNU/readline/readline-8.2-patches
DISTFILE[1]=		readline-8.2.tar.gz:main
DISTFILE[2]=		readline82-001:patches
DISTFILE[3]=		readline82-002:patches
DISTFILE[4]=		readline82-003:patches
DISTFILE[5]=		readline82-004:patches
DISTFILE[6]=		readline82-005:patches
DISTFILE[7]=		readline82-006:patches
DISTFILE[8]=		readline82-007:patches
DISTFILE[9]=		readline82-008:patches
DISTFILE[10]=		readline82-009:patches
DISTFILE[11]=		readline82-010:patches
DISTFILE[12]=		readline82-011:patches
DISTFILE[13]=		readline82-012:patches
DISTFILE[14]=		readline82-013:patches
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			dev
			man
			examples
			docs
			info

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			cpe ncurses

DISTNAME=		readline-8.2

LICENSE=		GPLv3+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"_READLINE_H_"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/readline.h
LICENSE_SCHEME=		solo

INFO=			info:history
			info:readline
			info:rluserman
CPE_UPDATE=		13
CPE_VENDOR=		gnu
CPE_VERSION=		8.2
FPC_EQUIVALENT=		devel/readline
INFO_SUBDIR=		.

PATCHFILES=		2 3 4 5 6 7 8 9 10 11 12 13 14

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-curses

SOVERSION=		8.2

CFLAGS=			-I{{NCURSESINC}}

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libhistory.so \
		${STAGEDIR}${PREFIX}/lib/libreadline.so
	# relocate examples
	${MKDIR} ${STAGEDIR}${STD_EXAMPLESDIR}
	${MV} ${STAGEDIR}${PREFIX}/share/readline/* ${STAGEDIR}${STD_EXAMPLESDIR}/
	${RMDIR} ${STAGEDIR}${PREFIX}/share/readline

[FILE:395:descriptions/desc.primary]
The GNU Readline library provides a set of functions for use by
applications that allow users to edit command lines as they are typed in.
Both Emacs and vi editing modes are available. The Readline library
includes additional functions to maintain a list of previously-entered
command lines, to recall and perhaps reedit those lines, and perform
csh-like history expansion on previous commands.


[FILE:1307:distinfo]
3feb7171f16a84ee82ca18a36d7b9be109a52c04f492a053331d7d1095007c35      3043952 readline-8.2.tar.gz
bbf97f1ec40a929edab5aa81998c1e2ef435436c597754916e6a5868f273aff7         1198 readline82-001
e06503822c62f7bc0d9f387d4c78c09e0ce56e53872011363c74786c7cd4c053         1134 readline82-002
24f587ba46b46ed2b1868ccaf9947504feba154bb8faabd4adaea63ef7e6acb0         1201 readline82-003
79572eeaeb82afdc6869d7ad4cba9d4f519b1218070e17fa90bbecd49bd525ac         1708 readline82-004
622ba387dae5c185afb4b9b20634804e5f6c1c6e5e87ebee7c35a8f065114c99         1501 readline82-005
c7b45ff8c0d24d81482e6e0677e81563d13c74241f7b86c4de00d239bc81f5a1         3031 readline82-006
5911a5b980d7900aabdbee483f86dab7056851e6400efb002776a0a4a1bab6f6         1422 readline82-007
a177edc9d8c9f82e8c19d0630ab351f3fd1b201d655a1ddb5d51c4cee197b26a         1697 readline82-008
3d9885e692e1998523fd5c61f558cecd2aafd67a07bd3bfe1d7ad5a31777a116         2270 readline82-009
758e2ec65a0c214cfe6161f5cde3c5af4377c67d820ea01d13de3ca165f67b4c         2653 readline82-010
e0013d907f3a9e6482cc0934de1bd82ee3c3c4fd07a9646aa9899af237544dd7         1865 readline82-011
6c8adf8ed4a2ca629f7fd11301ed6293a6248c9da0c674f86217df715efccbd3         2824 readline82-012
1ea434957d6ec3a7b61763f1f3552dad0ebdd6754d65888b5cd6d80db3a788a8         5757 readline82-013


[FILE:119:manifests/plist.primary]
lib/
 libhistory.so.%%SOMAJOR%%
 libhistory.so.%%SOVERSION%%
 libreadline.so.%%SOMAJOR%%
 libreadline.so.%%SOVERSION%%


[FILE:212:manifests/plist.dev]
include/readline/
 chardefs.h
 history.h
 keymaps.h
 readline.h
 rlconf.h
 rlstdc.h
 rltypedefs.h
 tilde.h
lib/
 libhistory.a
 libhistory.so
 libreadline.a
 libreadline.so
lib/pkgconfig/
 history.pc
 readline.pc


[FILE:45:manifests/plist.man]
share/man/man3/
 history.3.gz
 readline.3.gz


[FILE:241:manifests/plist.examples]
share/examples/readline/
 excallback.c
 fileman.c
 hist_erasedups.c
 hist_purgecmd.c
 histexamp.c
 manexamp.c
 rl-callbacktest.c
 rl-fgets.c
 rl-timeout.c
 rl.c
 rlbasic.c
 rlcat.c
 rlevent.c
 rlkeymaps.c
 rlptytest.c
 rltest.c
 rlversion.c


[FILE:46:manifests/plist.docs]
share/doc/readline/
 CHANGES
 INSTALL
 README


[FILE:684:patches/patch-support_shlib-install]
--- support/shlib-install.orig	2019-12-13 14:46:13 UTC
+++ support/shlib-install
@@ -132,7 +132,7 @@ case "$host_os-$host_vendor" in
 	fi
 	;;
 
-bsdi4*|*gnu*|darwin*|macosx*|netbsd*|mirbsd*)
+bsdi4*|*gnu*|darwin*|macosx*|netbsd*|midnight*|dragonfly*|freebsd*|solaris2*)
 	# libname.so.M -> libname.so.M.N
 	${echo} ${RM} ${INSTALLDIR}/$LINK2
 	if [ -z "$uninstall" ]; then
@@ -146,7 +146,7 @@ bsdi4*|*gnu*|darwin*|macosx*|netbsd*|mir
 	fi
 	;;
 
-solaris2*|aix4.[2-9]*|aix[5-9]*|osf*|irix[56]*|sysv[45]*|dgux*|interix*)
+aix4.[2-9]*|aix[5-9]*|osf*|irix[56]*|sysv[45]*|dgux*|interix*)
 	# libname.so -> libname.so.M
 	${echo} ${RM} ${INSTALLDIR}/$LINK1
 	if [ -z "$uninstall" ]; then


[FILE:1517:patches/patch-support_shobj-conf]
--- support/shobj-conf.orig	2021-12-03 15:54:46 UTC
+++ support/shobj-conf
@@ -95,7 +95,7 @@ sunos4*)
 	SHLIB_LIBVERSION='$(SHLIB_LIBSUFF).$(SHLIB_MAJOR)$(SHLIB_MINOR)'
 	;;
 
-sunos5*-*gcc*|solaris2*-*gcc*)
+sunos5*|solaris2*)
 	SHOBJ_LD='${CC}'
 	ld_used=`gcc -print-prog-name=ld`
 	if ${ld_used} -V 2>&1 | grep GNU >/dev/null 2>&1; then
@@ -110,26 +110,19 @@ sunos5*-*gcc*|solaris2*-*gcc*)
 	fi
 
 #	SHLIB_XLDFLAGS='-R $(libdir)'
-	SHLIB_LIBVERSION='$(SHLIB_LIBSUFF).$(SHLIB_MAJOR)'
-	;;
-
-sunos5*|solaris2*)
-	SHOBJ_CFLAGS='-K pic'
-	SHOBJ_LD=/usr/ccs/bin/ld
-	SHOBJ_LDFLAGS='-G -dy -z text -i -h $@'
-
-#	SHLIB_XLDFLAGS='-R $(libdir)'
-	SHLIB_LIBVERSION='$(SHLIB_LIBSUFF).$(SHLIB_MAJOR)'
+	SHLIB_LIBVERSION='$(SHLIB_LIBSUFF).$(SHLIB_MAJOR)${SHLIB_MINOR}'
+	SHLIB_LIBS='$(TERMCAP_LIB)'
 	;;
 
 # All versions of Linux (including Gentoo/FreeBSD) or the semi-mythical GNU Hurd.
-linux*-*|gnu*-*|k*bsd*-gnu-*|midnightbsd*|freebsd*|dragonfly*)
+linux*-*|gnu*-*|k*bsd*-gnu-*|midnightbsd*|freebsd*|dragonfly*|netbsd*)
 	SHOBJ_CFLAGS=-fPIC
 	SHOBJ_LD='${CC}'
 	SHOBJ_LDFLAGS='-shared -Wl,-soname,$@'
 
 	SHLIB_XLDFLAGS='-Wl,-rpath,$(libdir) -Wl,-soname,`basename $@ $(SHLIB_MINOR)`'
 	SHLIB_LIBVERSION='$(SHLIB_LIBSUFF).$(SHLIB_MAJOR)$(SHLIB_MINOR)'
+	SHLIB_LIBS='$(TERMCAP_LIB)'
 	;;
 
 # Darwin/MacOS X
@@ -174,7 +167,7 @@ darwin*)
 	SHLIB_LIBS='-lncurses'	# see if -lcurses works on MacOS X 10.1 
 	;;
 
-openbsd*|netbsd*|mirbsd*)
+openbsd*|mirbsd*)
 	SHOBJ_CFLAGS=-fPIC
 	SHOBJ_LD='${CC}'
 	SHOBJ_LDFLAGS='-shared'

