# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		i3lock
VERSION=		2.10
KEYWORDS=		x11
VARIANTS=		standard
SDESC[standard]=	Slightly improved screen locker based on slock
HOMEPAGE=		https://i3wm.org/i3lock/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://i3wm.org/i3lock/
DISTFILE[1]=		i3lock-2.10.tar.bz2:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	cairo:single:standard
			xorg-xcb-util:single:standard
			xorg-xcb-util-keysyms:single:standard
			xorg-xcb-util-image:single:standard
			xorg-xkbfile:single:standard
			libxkbcommon:single:standard
			libev:single:standard
			openpam:single:standard

USES=			gmake iconv pkgconfig
XORG_COMPONENTS=	x11 xcb xt xext

LICENSE=		BSD3CLAUSE:single
LICENSE_FILE=		BSD3CLAUSE:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		x11/i3lock

LDFLAGS=		-liconv

[FILE:549:descriptions/desc.single]
i3lock improves slock by making it fork() and therefore combinable with
commands to suspend your computer. Additionally, instead of turning off
your screen via DPMS and/or displaying a black screen, i3lock displays a
white screen so you can see if your computer failed to resume from suspend
or if your screen is just locked. Also, when entering a wrong password,
i3lock does not call XBell(). This is important because i3lock/slock think
you have entered a password when resuming from suspend, at least sometimes.

i3lock was forked from slock-0.9


[FILE:98:distinfo]
29eb32bf317fad7b292e15be6c02d693bfc6dbfdd6d98f0a6db71e189140c8ee        23171 i3lock-2.10.tar.bz2


[FILE:48:manifests/plist.single]
@(,,4755) bin/i3lock
share/man/man1/i3lock.1.gz


[FILE:647:patches/patch-Makefile]
--- Makefile.orig	2017-11-25 07:15:59 UTC
+++ Makefile
@@ -2,7 +2,7 @@ TOPDIR=$(shell pwd)
 UNAME=$(shell uname)
 
 INSTALL=install
-PREFIX=/usr
+PREFIX?=	/usr
 SYSCONFDIR=/etc
 PKG_CONFIG=pkg-config
 
@@ -50,9 +50,8 @@ clean:
 
 install: all
 	$(INSTALL) -d $(DESTDIR)$(PREFIX)/bin
-	$(INSTALL) -d $(DESTDIR)$(SYSCONFDIR)/pam.d
-	$(INSTALL) -m 755 i3lock $(DESTDIR)$(PREFIX)/bin/i3lock
-	$(INSTALL) -m 644 i3lock.pam $(DESTDIR)$(SYSCONFDIR)/pam.d/i3lock
+	$(BSD_INSTALL_PROGRAM) -m 755 i3lock $(DESTDIR)$(PREFIX)/bin/i3lock
+	$(BSD_INSTALL_MAN) -m 644 i3lock.1 $(DESTDIR)$(MANPREFIX)/man/man1
 
 uninstall:
 	rm -f $(DESTDIR)$(PREFIX)/bin/i3lock

