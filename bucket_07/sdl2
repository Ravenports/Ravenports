# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		sdl2
VERSION=		2.26.3
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Cross-platform multimedia development API
HOMEPAGE=		http://www.libsdl.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/libsdl-org:SDL:release-2.26.3
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			dev

OPTIONS_AVAILABLE=	OSS SNDIO PULSEAUDIO ALSA OPENGL X11 MMX 3DNOW SSE
			SSE2
OPTIONS_STANDARD=	OSS SNDIO PULSEAUDIO ALSA OPENGL X11 MMX 3DNOW SSE
			SSE2
OPTGROUP_UNLIMITED=	AUDIO CPUEXT
OPTDESCR[CPUEXT]=	CPU Extension Support
OPTDESCR[AUDIO]=	Audio Support
OPTGROUP[CPUEXT]=	MMX 3DNOW SSE SSE2
OPTGROUP[AUDIO]=	OSS SNDIO PULSEAUDIO ALSA
OPT_ON[freebsd]=	OSS
OPT_ON[all]=		OPENGL X11
OPT_ON[dragonfly]=	OSS

USES=			cpe gmake libtool pkgconfig iconv

DISTNAME=		SDL-release-2.26.3

LICENSE=		ZLIB:primary
LICENSE_FILE=		ZLIB:{{WRKSRC}}/COPYING.txt
LICENSE_SCHEME=		solo

CPE_PRODUCT=		simple_directmedia_layer
CPE_VENDOR=		libsdl
FPC_EQUIVALENT=		devel/sdl20

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-video-opengles
			--disable-altivec
			--disable-arts
			--enable-diskaudio
			--enable-dummyaudio
			--enable-video-dummy
			--disable-dbus
			--disable-input-tslib
			--disable-rpath
			--enable-atomic
			--enable-gcc-atomics
			--enable-audio
			--enable-cpuinfo
			--enable-events
			--enable-filesystem
			--enable-haptic
			--enable-joystick
			--enable-loadso
			--enable-power
			--enable-render
			--enable-threads
			--enable-timers
			--enable-video
			--enable-pthreads
			--enable-sdl-dlopen
			--enable-assembly
CONFIGURE_ENV=		ac_cv_header_libusbhid_h=no

SOVERSION=		0.2600.3

[OPENGL].BUILDRUN_DEPENDS_ON=		libglvnd:single:standard
[OPENGL].CONFIGURE_ENABLE_BOTH=		video-opengl

[SNDIO].BUILDRUN_DEPENDS_ON=		sndio:single:standard
[SNDIO].CONFIGURE_ENABLE_BOTH=		sndio
					sndio-shared

[3DNOW].DESCRIPTION=			3DNow! x86 instruction set (from AMD)
[3DNOW].CONFIGURE_ENABLE_BOTH=		3dnow

[SSE].DESCRIPTION=			Streaming SIMD Extensions
[SSE].CONFIGURE_ENABLE_BOTH=		sse

[PULSEAUDIO].BROKEN_ON=			not yet implemented

[MMX].DESCRIPTION=			Matrix Math Extensions (MMX from Intel)
[MMX].CONFIGURE_ENABLE_BOTH=		mmx

[ALSA].BROKEN_ON=			not yet implemented
[ALSA].BUILDRUN_DEPENDS_ON=		alsa:single:standard
[ALSA].CONFIGURE_ENABLE_BOTH=		alsa
					alsa-shared

[OSS].CONFIGURE_ENABLE_BOTH=		oss

[SSE2].DESCRIPTION=			Streaming SIMD Extensions 2
[SSE2].CONFIGURE_ENABLE_BOTH=		sse2

[X11].CONFIGURE_ENABLE_BOTH=		video-x11
					x11-shared
					video-x11-xcursor
					video-x11-xinerama
					video-x11-xinput
					video-x11-xrandr
					video-x11-scrnsaver
					video-x11-xshape
					video-x11-vm
[X11].XORG_COMPONENTS_ON=		x11
					xcursor
					xinerama
					xi
					xrandr
					xscrnsaver
					xxf86vm
					xext

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libSDL2.so

[FILE:403:descriptions/desc.primary]
The SDL library (series 2) is designed to make it easy to write games that
run on UNIX, Win32, MacOS X and other platforms using the various native
high-performance media interfaces (for video, audio, etc) and presenting
a single source-code level API to your application. This is a fairly low
level API, but using this, completely portable applications can be
written with a great deal of flexibility.


[FILE:115:distinfo]
af0ff86e4a268bc12c915a0ea19ea1a16419ab1426d92bad5f4e26eb31583967      8464990 libsdl-org-SDL-release-2.26.3.tar.gz


[FILE:79:manifests/plist.primary]
bin/sdl2-config
lib/
 libSDL2-2.0.so.%%SOMAJOR%%
 libSDL2-2.0.so.%%SOVERSION%%


[FILE:1376:manifests/plist.dev]
include/SDL2/
 SDL.h
 SDL_assert.h
 SDL_atomic.h
 SDL_audio.h
 SDL_bits.h
 SDL_blendmode.h
 SDL_clipboard.h
 SDL_config.h
 SDL_cpuinfo.h
 SDL_egl.h
 SDL_endian.h
 SDL_error.h
 SDL_events.h
 SDL_filesystem.h
 SDL_gamecontroller.h
 SDL_gesture.h
 SDL_guid.h
 SDL_haptic.h
 SDL_hidapi.h
 SDL_hints.h
 SDL_joystick.h
 SDL_keyboard.h
 SDL_keycode.h
 SDL_loadso.h
 SDL_locale.h
 SDL_log.h
 SDL_main.h
 SDL_messagebox.h
 SDL_metal.h
 SDL_misc.h
 SDL_mouse.h
 SDL_mutex.h
 SDL_name.h
 SDL_opengl.h
 SDL_opengl_glext.h
 SDL_opengles.h
 SDL_opengles2.h
 SDL_opengles2_gl2.h
 SDL_opengles2_gl2ext.h
 SDL_opengles2_gl2platform.h
 SDL_opengles2_khrplatform.h
 SDL_pixels.h
 SDL_platform.h
 SDL_power.h
 SDL_quit.h
 SDL_rect.h
 SDL_render.h
 SDL_revision.h
 SDL_rwops.h
 SDL_scancode.h
 SDL_sensor.h
 SDL_shape.h
 SDL_stdinc.h
 SDL_surface.h
 SDL_system.h
 SDL_syswm.h
 SDL_test.h
 SDL_test_assert.h
 SDL_test_common.h
 SDL_test_compare.h
 SDL_test_crc32.h
 SDL_test_font.h
 SDL_test_fuzzer.h
 SDL_test_harness.h
 SDL_test_images.h
 SDL_test_log.h
 SDL_test_md5.h
 SDL_test_memory.h
 SDL_test_random.h
 SDL_thread.h
 SDL_timer.h
 SDL_touch.h
 SDL_types.h
 SDL_version.h
 SDL_video.h
 SDL_vulkan.h
 begin_code.h
 close_code.h
lib/
 libSDL2.a
 libSDL2.so
 libSDL2_test.a
 libSDL2main.a
lib/cmake/SDL2/
 sdl2-config-version.cmake
 sdl2-config.cmake
lib/pkgconfig/sdl2.pc
share/aclocal/sdl2.m4


[FILE:574:patches/patch-include_SDL__endian.h]
--- include/SDL_endian.h.orig	2023-01-03 14:45:18 UTC
+++ include/SDL_endian.h
@@ -59,10 +59,10 @@ _m_prefetch(void *__P)
 #ifdef __linux__
 #include <endian.h>
 #define SDL_BYTEORDER  __BYTE_ORDER
-#elif defined(__OpenBSD__) || defined(__DragonFly__)
+#elif defined(__OpenBSD__)
 #include <endian.h>
 #define SDL_BYTEORDER  BYTE_ORDER
-#elif defined(__FreeBSD__) || defined(__NetBSD__)
+#elif defined(__FreeBSD__) || defined(__NetBSD__) || defined(__DragonFly__)
 #include <sys/endian.h>
 #define SDL_BYTEORDER  BYTE_ORDER
 /* predefs from newer gcc and clang versions: */


[FILE:296:patches/patch-src_video_kmsdrm_SDL__kmsdrmvideo.c]
--- src/video/kmsdrm/SDL_kmsdrmvideo.c.orig	2023-01-03 14:45:18 UTC
+++ src/video/kmsdrm/SDL_kmsdrmvideo.c
@@ -68,6 +68,10 @@ static char kmsdrm_dri_cardpath[32];
 #define EGL_PLATFORM_GBM_MESA 0x31D7
 #endif
 
+#ifndef O_CLOEXEC
+#define O_CLOEXEC 0
+#endif
+
 static int
 get_driindex(void)
 {


[FILE:411:dragonfly/patch-src_filesystem_unix_SDL__sysfilesystem.c]
--- src/filesystem/unix/SDL_sysfilesystem.c.orig	2022-11-22 00:15:58 UTC
+++ src/filesystem/unix/SDL_sysfilesystem.c
@@ -137,7 +137,7 @@ SDL_GetBasePath(void)
 {
     char *retval = NULL;
 
-#if defined(__FREEBSD__)
+#if defined(__FREEBSD__) && !defined(__DragonFly__)
     char fullpath[PATH_MAX];
     size_t buflen = sizeof (fullpath);
     const int mib[] = { CTL_KERN, KERN_PROC, KERN_PROC_PATHNAME, -1 };

