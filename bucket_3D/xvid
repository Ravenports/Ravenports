# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		xvid
VERSION=		1.3.5
KEYWORDS=		multimedia
VARIANTS=		standard
SDESC[standard]=	ISO MPEG-4 compliant video codec
HOMEPAGE=		https://www.xvid.com/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://downloads.xvid.org/downloads/
DISTFILE[1]=		xvidcore-1.3.5.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		nasm:primary:standard

USES=			gmake

DISTNAME=		xvidcore/build/generic

LICENSE=		GPLv2+:single
LICENSE_FILE=		GPLv2+:{{WRKDIR}}/xvidcore/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		multimedia/xvid

MUST_CONFIGURE=		gnu

SINGLE_JOB=		yes

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libxvidcore.so

[FILE:665:descriptions/desc.single]
Xvid is a MPEG-4 video codec. Its purpose is to compress video in order
to allow for faster transmission over computer networks or for more
efficient storage on computer disks. Hence, Xvid can somewhat be seen as
a ZIP for video. Xvid removes information from video that is not important
for human perception in order to achieve very high compression rates while
still keeping very good visual quality. As an example: uncompressed digital
video is huge and takes up about 100 GB HD space per hour at PAL
resolution. The same video would require just 500 MB per hour when
compressed with Xvid at high quality. So Xvid can compress video at ratios
of 200:1 and more.


[FILE:100:distinfo]
165ba6a2a447a8375f7b06db5a3c91810181f2898166e7c8137401d7fc894cf0       819598 xvidcore-1.3.5.tar.gz


[FILE:89:manifests/plist.single]
include/xvid.h
lib/
 libxvidcore.a
 libxvidcore.so
 libxvidcore.so.4
 libxvidcore.so.4.3


[FILE:1622:patches/patch-configure]
--- configure.orig	2017-12-11 20:26:37 UTC
+++ configure
@@ -4316,7 +4316,7 @@ SHARED_EXTENSION=""
 STATIC_EXTENSION=""
 OBJECT_EXTENSION=""
 case "$target_os" in
-     *bsd*|linux*|beos|irix*|solaris*|gnu*|*qnx*)
+     *bsd*|dragonfly*|linux*|beos|irix*|solaris*|gnu*|*qnx*)
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: .so .a .o" >&5
 $as_echo ".so .a .o" >&6; }
 	STATIC_EXTENSION="a"
@@ -4376,10 +4376,10 @@ $as_echo "ok" >&6; }
 	SHARED_LIB="libxvidcore.\$(SHARED_EXTENSION).\$(API_MAJOR).\$(API_MINOR)"
 	SO_API_MAJOR_LINK="libxvidcore.\$(SHARED_EXTENSION).\$(API_MAJOR)"
 	SO_LINK="libxvidcore.\$(SHARED_EXTENSION)"
-	SPECIFIC_LDFLAGS="-Wl,-soname,libxvidcore.\$(SHARED_EXTENSION).\$(API_MAJOR) -shared -Wl,--version-script=libxvidcore.ld -lc -lm"
+	SPECIFIC_LDFLAGS="-Wl,-soname,libxvidcore.\$(SHARED_EXTENSION).\$(API_MAJOR) -shared -Wl,--version-script,libxvidcore.ld -lc -lm"
 	SPECIFIC_CFLAGS="-fPIC"
 	;;
-     *bsd*|irix*)
+     *bsd*|dragonfly*|irix*)
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ok" >&5
 $as_echo "ok" >&6; }
 	STATIC_LIB="libxvidcore.\$(STATIC_EXTENSION)"
@@ -4617,7 +4617,7 @@ $as_echo "$as_me: WARNING: nasm version
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking for asm object format" >&5
 $as_echo_n "checking for asm object format... " >&6; }
        case "$target_os" in
-           *bsd*|linux*|beos|irix*|solaris*|gnu*|*qnx*)
+           *bsd*|dragonfly*|linux*|beos|irix*|solaris*|gnu*|*qnx*)
                if test "$ARCHITECTURE" = "X86_64" ; then
                    { $as_echo "$as_me:${as_lineno-$LINENO}: result: elf64" >&5
 $as_echo "elf64" >&6; }

