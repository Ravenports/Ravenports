# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libxmlb
VERSION=		0.3.19
KEYWORDS=		textproc
VARIANTS=		standard
SDESC[standard]=	Library to help create and query binary XML blobs
HOMEPAGE=		https://github.com/hughsie/libxmlb
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/hughsie:libxmlb:0.3.19
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			dev
			man
			docs
			tests

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		gtk-doc:single:standard
			snowball:dev:standard
BUILDRUN_DEPENDS=	snowball:libstemmer_c:standard

USES=			meson pkgconfig xz zstd
GNOME_COMPONENTS=	glib introspection

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/LICENSE
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/xmlb.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		textproc/libxmlb
MESON_ARGS=		-Dstemmer=true

SOVERSION=		2.0.0

[FILE:1075:descriptions/desc.primary]
XML is slow to parse and strings inside the document cannot be memory 
mapped as they do not have a trailing NUL char. libxmlb takes XML source, 
and converts it to a structured binary representation with a deduplicated 
string table -- where the strings have the NULs included.

This allows an application to mmap the binary XML file, do an XPath query 
and return some strings without actually parsing the entire document. This 
is all done using (almost) zero allocations and no actual copying of the 
binary data.

As each node in the binary XML file encodes the 'next' node at the same 
level it makes skipping whole subtrees trivial. A 10Mb binary XML file can 
be loaded from disk and queried in less than a few milliseconds.

The binary XML is not supposed to be small. It's usually about half the 
size of the text XML data where a lot of the tag content is duplicated, 
but can actually be larger than the original XML file. This isn't 
important; the fast query speed and the ability to mmap strings without 
copies more than makes up for the larger on-disk size.


[FILE:48:descriptions/desc.tests]
This subpackage contains the tests for libxmlb.


[FILE:108:distinfo]
7050a3e43c4e1f53020cfbdfcb6fd5dc664c6c240faceb5ae3c8830423918262       131490 hughsie-libxmlb-0.3.19.tar.gz


[FILE:132:manifests/plist.primary]
bin/xb-tool
lib/
 libxmlb.so.%%SOMAJOR%%
 libxmlb.so.%%SOVERSION%%
lib/girepository-1.0/Xmlb-2.0.typelib
share/gir-1.0/Xmlb-2.0.gir


[FILE:411:manifests/plist.dev]
include/libxmlb-2/xmlb.h
include/libxmlb-2/libxmlb/
 xb-builder-fixup.h
 xb-builder-node.h
 xb-builder-source-ctx.h
 xb-builder-source.h
 xb-builder.h
 xb-compile.h
 xb-machine.h
 xb-node-query.h
 xb-node-silo.h
 xb-node.h
 xb-opcode.h
 xb-query-context.h
 xb-query.h
 xb-silo-export.h
 xb-silo-query.h
 xb-silo.h
 xb-stack.h
 xb-string.h
 xb-value-bindings.h
 xb-version.h
lib/libxmlb.so
lib/pkgconfig/xmlb.pc


[FILE:28:manifests/plist.man]
share/man/man1/xb-tool.1.gz


[FILE:706:manifests/plist.docs]
share/gtk-doc/html/libxmlb/
 annotation-glossary.html
 api-index-full.html
 deprecated-api-index.html
 home.png
 index.html
 intro.html
 left-insensitive.png
 left.png
 libxmlb-XbBuilder.html
 libxmlb-XbBuilderFixup.html
 libxmlb-XbBuilderNode.html
 libxmlb-XbBuilderSource.html
 libxmlb-XbBuilderSourceCtx.html
 libxmlb-XbMachine.html
 libxmlb-XbNode.html
 libxmlb-XbQuery.html
 libxmlb-XbSilo.html
 libxmlb-xb-node-query.html
 libxmlb-xb-opcode.html
 libxmlb-xb-query-context.html
 libxmlb-xb-silo-export.html
 libxmlb-xb-silo-query.html
 libxmlb-xb-stack.html
 libxmlb-xb-string.html
 libxmlb-xb-value-bindings.html
 libxmlb.html
 right-insensitive.png
 right.png
 style.css
 up-insensitive.png
 up.png


[FILE:172:manifests/plist.tests]
libexec/installed-tests/libxmlb/
 test.desktop
 test.quirk
 test.xml
 test.xml.gz.gz.gz
 test.xml.xz
 test.xml.zst
 xb-self-test
share/installed-tests/libxmlb/libxmlb.test

