# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		xlockmore
VERSION=		5.57
KEYWORDS=		x11
VARIANTS=		standard
SDESC[standard]=	X Window System Lock Screen
HOMEPAGE=		http://www.sillycycle.com/xlockmore.html
CONTACT=		Leonid_Bobrov[mazocomp@disroot.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://sillycycle.com/xlock/
DISTFILE[1]=		xlockmore-5.57.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	freetype:primary:standard

USES=			c++:single
XORG_COMPONENTS=	x11 xaw ice sm xpm xext xinerama

LICENSE=		ISCL:single
LICENSE_FILE=		ISCL:{{WRKDIR}}/LICENSE
LICENSE_AWK=		ISCL:"^\#include"
LICENSE_SOURCE=		ISCL:{{WRKSRC}}/xlock/xlock.c
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		x11/xlockmore

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-bomb
			--enable-blank-only
			--enable-customization
			--without-dtsaver
			--without-editres
			--without-esound
			--without-ftgl
			--without-gtk
			--without-gtk2
			--without-magick
			--without-mesa
			--without-motif
			--without-nas
			--without-opengl
			--without-rplay
			--disable-setuid
			--without-ttf

post-configure:
	${REINPLACE_CMD} -e 's/-lXdpms//g' ${WRKSRC}/modes/Makefile

post-extract:
	${REINPLACE_CMD} -e 's|/usr/lib|${PREFIX}/lib|g' ${WRKSRC}/configure
	${REINPLACE_CMD} -e 's| $$(SOUNDPATH)| $$(DESTDIR)$$(SOUNDPATH)|' \
	${WRKSRC}/modes/Makefile.in
	${REINPLACE_CMD} -e \
	'/$$(ETCDIR)play.sh/ s|$$(INSTALL_PROGRAM)|$$(INSTALL_PROGRAM:N-s)|' \
	${WRKSRC}/modes/Makefile.in

post-extract-freebsd:
	${REINPLACE_CMD} -e 's|/usr/games/fortune|/usr/bin/fortune|' \
	${WRKSRC}/modes/Makefile.in

[FILE:662:descriptions/desc.single]
xlock locks the X server till the user enters their password
at the keyboard.  While xlock is running, all new server
connections are refused. The screen saver is disabled. The
mouse cursor is turned off.  The screen is blanked and a
changing pattern is put on the screen.  If a key or a mouse
button is pressed then the user is prompted for the password
of the user who started xlock.

If the correct password is typed, then the screen is
unlocked and the X server is restored.  When typing the
password Control-U and Control-H are active as kill and
erase respectively.  To return to the locked screen, click
in the small icon version of the changing pattern.


[FILE:100:distinfo]
f9acf99befd798ac93909b2d7d6578a256d2dac283ddc562acc9b6ef10cc28a3      1835880 xlockmore-5.57.tar.xz


[FILE:181:manifests/plist.single]
@(,,4111) bin/play.sh
@(,,4111) bin/xlock
lib/X11/app-defaults/XLock
share/man/man1/xlock.1.gz
share/xlock/sounds/
 complete.au
 identify-please.au
 not-programmed.au
 thank-you.au

