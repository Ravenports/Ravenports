# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libsoup
VERSION=		2.62.0
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Simple Object Access Protocol implementation in C
HOMEPAGE=		https://wiki.gnome.org/Projects/libsoup
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://ftp.gnome.org/pub/GNOME/sources/libsoup/2.62/
DISTFILE[1]=		libsoup-2.62.0.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	glib-networking:single:standard
RUN_DEPENDS=		libgcrypt:single:standard

USES=			gettext-tools gmake libtool pkgconfig python:build
			sqlite
GNOME_COMPONENTS=	glib intltool introspection libxml2

FPC_EQUIVALENT=		devel/libsoup

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-more-warnings
			--disable-vala
			--without-gnome

INSTALL_TARGET=		install-strip
SOVERSION=		1.8.0
PLIST_SUB=		LIBVERSION=2.4

post-patch:
	${REINPLACE_CMD} -e 's|env python3|env python${PYTHON_VER}|g' \
		${WRKSRC}/libsoup/tld-parser.py

post-install:
	${INSTALL_DATA} ${WRKSRC}/libsoup/soup-connection.h \
		${STAGEDIR}${PREFIX}/include/libsoup-2.4/libsoup/soup-connection.h
	${MV} ${STAGEDIR}${PREFIX}/share/gtk-doc/html/libsoup-2.4 \
		${STAGEDIR}${PREFIX}/share/doc/soup
	${RM} -r ${STAGEDIR}${PREFIX}/share/gtk-doc

[FILE:400:descriptions/desc.primary]
Soup is a SOAP (Simple Object Access Protocol) implementation in C.

It provides a queued asynchronous callback-based mechanism for sending and 
servicing SOAP requests, and a WSDL (Web Service Definition Language) for 
C compilers which generates client stubs and server skeletons for easily 
calling and implementing SOAP methods.  It uses GLib and is designed to 
work well with GTK applications.


[FILE:100:distinfo]
ab7c7ae8d19d0a27ab3b6ae21599cec8c7f7b773b3f2b1090c5daf178373aaac      1838052 libsoup-2.62.0.tar.xz


[FILE:3838:manifests/plist.primary]
include/libsoup-%%LIBVERSION%%/libsoup/
 soup-address.h
 soup-auth-domain-basic.h
 soup-auth-domain-digest.h
 soup-auth-domain.h
 soup-auth-manager.h
 soup-auth.h
 soup-autocleanups.h
 soup-cache.h
 soup-connection.h
 soup-content-decoder.h
 soup-content-sniffer.h
 soup-cookie-jar-db.h
 soup-cookie-jar-text.h
 soup-cookie-jar.h
 soup-cookie.h
 soup-date.h
 soup-enum-types.h
 soup-form.h
 soup-headers.h
 soup-logger.h
 soup-message-body.h
 soup-message-headers.h
 soup-message.h
 soup-method.h
 soup-misc.h
 soup-multipart-input-stream.h
 soup-multipart.h
 soup-password-manager.h
 soup-portability.h
 soup-proxy-resolver-default.h
 soup-proxy-resolver.h
 soup-proxy-uri-resolver.h
 soup-request-data.h
 soup-request-file.h
 soup-request-http.h
 soup-request.h
 soup-requester.h
 soup-server.h
 soup-session-async.h
 soup-session-feature.h
 soup-session-sync.h
 soup-session.h
 soup-socket.h
 soup-status.h
 soup-tld.h
 soup-types.h
 soup-uri.h
 soup-value-utils.h
 soup-version.h
 soup-websocket-connection.h
 soup-websocket.h
 soup-xmlrpc-old.h
 soup-xmlrpc.h
 soup.h
lib/girepository-1.0/Soup-%%LIBVERSION%%.typelib
lib/
 libsoup-%%LIBVERSION%%.a
 libsoup-%%LIBVERSION%%.so
 libsoup-%%LIBVERSION%%.so.%%SOMAJOR%%
 libsoup-%%LIBVERSION%%.so.%%SOVERSION%%
lib/pkgconfig/libsoup-%%LIBVERSION%%.pc
share/gir-1.0/Soup-%%LIBVERSION%%.gir
share/locale/an/LC_MESSAGES/libsoup.mo
share/locale/as/LC_MESSAGES/libsoup.mo
share/locale/be/LC_MESSAGES/libsoup.mo
share/locale/bg/LC_MESSAGES/libsoup.mo
share/locale/bn_IN/LC_MESSAGES/libsoup.mo
share/locale/bs/LC_MESSAGES/libsoup.mo
share/locale/ca/LC_MESSAGES/libsoup.mo
share/locale/ca@valencia/LC_MESSAGES/libsoup.mo
share/locale/cs/LC_MESSAGES/libsoup.mo
share/locale/da/LC_MESSAGES/libsoup.mo
share/locale/de/LC_MESSAGES/libsoup.mo
share/locale/el/LC_MESSAGES/libsoup.mo
share/locale/en_GB/LC_MESSAGES/libsoup.mo
share/locale/eo/LC_MESSAGES/libsoup.mo
share/locale/es/LC_MESSAGES/libsoup.mo
share/locale/et/LC_MESSAGES/libsoup.mo
share/locale/eu/LC_MESSAGES/libsoup.mo
share/locale/fa/LC_MESSAGES/libsoup.mo
share/locale/fr/LC_MESSAGES/libsoup.mo
share/locale/fur/LC_MESSAGES/libsoup.mo
share/locale/gd/LC_MESSAGES/libsoup.mo
share/locale/gl/LC_MESSAGES/libsoup.mo
share/locale/gu/LC_MESSAGES/libsoup.mo
share/locale/he/LC_MESSAGES/libsoup.mo
share/locale/hi/LC_MESSAGES/libsoup.mo
share/locale/hu/LC_MESSAGES/libsoup.mo
share/locale/id/LC_MESSAGES/libsoup.mo
share/locale/it/LC_MESSAGES/libsoup.mo
share/locale/ja/LC_MESSAGES/libsoup.mo
share/locale/kn/LC_MESSAGES/libsoup.mo
share/locale/ko/LC_MESSAGES/libsoup.mo
share/locale/lt/LC_MESSAGES/libsoup.mo
share/locale/lv/LC_MESSAGES/libsoup.mo
share/locale/ml/LC_MESSAGES/libsoup.mo
share/locale/mr/LC_MESSAGES/libsoup.mo
share/locale/nb/LC_MESSAGES/libsoup.mo
share/locale/ne/LC_MESSAGES/libsoup.mo
share/locale/nl/LC_MESSAGES/libsoup.mo
share/locale/oc/LC_MESSAGES/libsoup.mo
share/locale/or/LC_MESSAGES/libsoup.mo
share/locale/pa/LC_MESSAGES/libsoup.mo
share/locale/pl/LC_MESSAGES/libsoup.mo
share/locale/pt/LC_MESSAGES/libsoup.mo
share/locale/pt_BR/LC_MESSAGES/libsoup.mo
share/locale/ro/LC_MESSAGES/libsoup.mo
share/locale/ru/LC_MESSAGES/libsoup.mo
share/locale/sk/LC_MESSAGES/libsoup.mo
share/locale/sl/LC_MESSAGES/libsoup.mo
share/locale/sr/LC_MESSAGES/libsoup.mo
share/locale/sr@latin/LC_MESSAGES/libsoup.mo
share/locale/sv/LC_MESSAGES/libsoup.mo
share/locale/ta/LC_MESSAGES/libsoup.mo
share/locale/te/LC_MESSAGES/libsoup.mo
share/locale/tg/LC_MESSAGES/libsoup.mo
share/locale/th/LC_MESSAGES/libsoup.mo
share/locale/tr/LC_MESSAGES/libsoup.mo
share/locale/ug/LC_MESSAGES/libsoup.mo
share/locale/uk/LC_MESSAGES/libsoup.mo
share/locale/uz@cyrillic/LC_MESSAGES/libsoup.mo
share/locale/vi/LC_MESSAGES/libsoup.mo
share/locale/zh_CN/LC_MESSAGES/libsoup.mo
share/locale/zh_HK/LC_MESSAGES/libsoup.mo
share/locale/zh_TW/LC_MESSAGES/libsoup.mo


[FILE:1495:manifests/plist.docs]
share/doc/soup/
 SoupAddress.html
 SoupAuth.html
 SoupAuthDomain.html
 SoupAuthDomainBasic.html
 SoupAuthDomainDigest.html
 SoupAuthManager.html
 SoupCache.html
 SoupContentDecoder.html
 SoupContentSniffer.html
 SoupCookie.html
 SoupCookieJar.html
 SoupCookieJarDB.html
 SoupCookieJarText.html
 SoupLogger.html
 SoupMessage.html
 SoupMessageBody.html
 SoupMessageHeaders.html
 SoupMultipart.html
 SoupMultipartInputStream.html
 SoupProxyResolverDefault.html
 SoupRequest.html
 SoupRequestData.html
 SoupRequestFile.html
 SoupRequestHTTP.html
 SoupServer.html
 SoupSession.html
 SoupSessionAsync.html
 SoupSessionFeature.html
 SoupSessionSync.html
 SoupSocket.html
 SoupURI.html
 annotation-glossary.html
 ch01.html
 ch02.html
 ch03.html
 ch04.html
 ch05.html
 home.png
 index.html
 ix01.html
 left-insensitive.png
 left.png
 libsoup-%%LIBVERSION%%-HTML-Form-Support.html
 libsoup-%%LIBVERSION%%-Soup-Miscellaneous-Utilities.html
 libsoup-%%LIBVERSION%%-SoupServer-deprecated-API.html
 libsoup-%%LIBVERSION%%-Top-Level-Domain-utils.html
 libsoup-%%LIBVERSION%%-Version-Information.html
 libsoup-%%LIBVERSION%%-WebSockets.html
 libsoup-%%LIBVERSION%%-XMLRPC-Support.html
 libsoup-%%LIBVERSION%%-soup-method.html
 libsoup-%%LIBVERSION%%-soup-status.html
 libsoup-%%LIBVERSION%%.devhelp2
 libsoup-build-howto.html
 libsoup-client-howto.html
 libsoup-request-howto.html
 libsoup-server-howto.html
 libsoup-session-porting.html
 right-insensitive.png
 right.png
 style.css
 up-insensitive.png
 up.png


[FILE:1633:patches/patch-libsoup_Makefile.in]
--- libsoup/Makefile.in.orig	2017-12-09 08:16:43.072305000 +0100
+++ libsoup/Makefile.in	2017-12-09 08:20:54.266668000 +0100
@@ -297,7 +297,7 @@
 	$(libsoup_2_4_la_CFLAGS) $(CFLAGS) $(libsoup_2_4_la_LDFLAGS) \
 	$(LDFLAGS) -o $@
 @BUILD_LIBSOUP_GNOME_TRUE@libsoup_gnome_2_4_la_DEPENDENCIES =  \
-@BUILD_LIBSOUP_GNOME_TRUE@	libsoup-2.4.la $(am__DEPENDENCIES_1)
+@BUILD_LIBSOUP_GNOME_TRUE@	$(am__DEPENDENCIES_1)
 am__libsoup_gnome_2_4_la_SOURCES_DIST = soup-cookie-jar-sqlite.c \
 	soup-gnome-features.c soup-proxy-resolver-gnome.h \
 	soup-proxy-resolver-gnome.c soup-password-manager-gnome.h \
@@ -799,7 +799,7 @@
 @BUILD_LIBSOUP_GNOME_TRUE@	-export-dynamic
 
 @BUILD_LIBSOUP_GNOME_TRUE@libsoup_gnome_2_4_la_LIBADD = \
-@BUILD_LIBSOUP_GNOME_TRUE@	libsoup-2.4.la			\
+@BUILD_LIBSOUP_GNOME_TRUE@	-lsoup-2.4			\
 @BUILD_LIBSOUP_GNOME_TRUE@	$(GLIB_LIBS)
 
 @BUILD_LIBSOUP_GNOME_TRUE@libsoup_gnome_2_4_la_SOURCES = \
@@ -859,7 +859,7 @@
 @BUILD_LIBSOUP_GNOME_TRUE@@HAVE_INTROSPECTION_TRUE@	--include-uninstalled=$(builddir)/Soup-2.4.gir
 
 @BUILD_LIBSOUP_GNOME_TRUE@@HAVE_INTROSPECTION_TRUE@SoupGNOME_2_4_gir_CFLAGS = $(AM_CPPFLAGS)
-@BUILD_LIBSOUP_GNOME_TRUE@@HAVE_INTROSPECTION_TRUE@SoupGNOME_2_4_gir_LIBS = libsoup-gnome-2.4.la libsoup-2.4.la
+@BUILD_LIBSOUP_GNOME_TRUE@@HAVE_INTROSPECTION_TRUE@SoupGNOME_2_4_gir_LIBS = libsoup-gnome-2.4.la soup-2.4
 @BUILD_LIBSOUP_GNOME_TRUE@@HAVE_INTROSPECTION_TRUE@SoupGNOME_2_4_gir_FILES = $(addprefix $(srcdir)/,$(gi_soup_gnome_files))
 @BUILD_LIBSOUP_GNOME_TRUE@@HAVE_INTROSPECTION_TRUE@SoupGNOME_2_4_gir_EXPORT_PACKAGES = libsoup-gnome-2.4
 @HAVE_INTROSPECTION_TRUE@girdir = $(datadir)/gir-1.0


[FILE:345:freebsd/patch-libsoup_soup-auth-negotiate.c]
--- libsoup/soup-auth-negotiate.c.orig	2017-12-09 08:28:36.594795000 +0100
+++ libsoup/soup-auth-negotiate.c	2017-12-09 08:28:59.421891000 +0100
@@ -13,7 +13,7 @@
 #include <string.h>
 
 #ifdef LIBSOUP_HAVE_GSSAPI
-#include <gssapi/gssapi.h>
+#include <gssapi/gssapi_krb5.h>
 #endif /* LIBSOUP_HAVE_GSSAPI */
 
 #include "soup-auth-negotiate.h"

