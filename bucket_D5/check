# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		check
VERSION=		0.12.0
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Unit test framework for C
HOMEPAGE=		https://libcheck.github.io/check/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/libcheck:check:0.12.0
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			examples

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			autoreconf libtool makeinfo pkgconfig

INFO=			primary:check
FPC_EQUIVALENT=		devel/check
INFO_SUBDIR=		.

MUST_CONFIGURE=		gnu
CONFIGURE_ENV=		ac_cv_path_AWK_PATH={{AWK}}

INSTALL_TARGET=		install-strip

post-patch:
	${REINPLACE_CMD} \
		-e 's|COPYING.LESSER||' \
		-e '/^docdir = / s|$$(PACKAGE)|check|' \
			${WRKSRC}/Makefile.am
	${REINPLACE_CMD} \
		-e '/^exampledir = / s|(docdir)/example|(datadir)/examples/check|' \
		-e '/^example[a-z]*dir = / s|(docdir)/example/|(exampledir)/|' \
			${WRKSRC}/doc/Makefile.am

post-install:
	${RM} -r ${STAGEDIR}${PREFIX}/share/doc/check

[FILE:289:descriptions/desc.primary]
Check is a unit test framework for C. It features a simple interface for
defining unit tests, putting little in the way of the developer. Tests
are run in a separate address space, so Check can catch both assertion
failures and code errors that cause segmentation faults or other signals.


[FILE:107:distinfo]
7816b4c38f6e23ff873786f18d966e552837677bfae144041e0587e7c39e04e8       281127 libcheck-check-0.12.0.tar.gz


[FILE:184:manifests/plist.primary]
bin/checkmk
include/
 check.h
 check_stdint.h
lib/
 libcheck.a
 libcheck.so
 libcheck.so.0
 libcheck.so.0.0.0
lib/pkgconfig/check.pc
share/aclocal/check.m4
share/man/man1/checkmk.1.gz


[FILE:340:manifests/plist.examples]
share/examples/check/
 Makefile.am
 README
 configure.ac
share/examples/check/src/
 Makefile.am
 main.c
 money.1.c
 money.1.h
 money.2.h
 money.3.c
 money.4.c
 money.5.c
 money.6.c
 money.c
 money.h
share/examples/check/tests/
 Makefile.am
 check_money.1.c
 check_money.2.c
 check_money.3.c
 check_money.6.c
 check_money.7.c
 check_money.c


[FILE:784:patches/patch-check.m4]
--- check.m4.orig	2015-08-02 19:31:25 UTC
+++ check.m4
@@ -21,8 +21,20 @@ AC_DEFUN([AM_PATH_CHECK],
       CHECK_CFLAGS="-I$with_check/include"
       CHECK_LIBS="-L$with_check/lib -lcheck"
     else
-      CHECK_CFLAGS=""
-      CHECK_LIBS="-lcheck"
+      for check_includedir in /usr/local/include /usr/local/include/check /usr/include $prefix/include
+      do
+        if test -e $check_includedir/check.h ; then
+          CHECK_CFLAGS="-I${check_includedir}"
+          break
+        fi
+      done
+      for check_libdir in /usr/local/lib /usr/local/lib/check /usr/lib $prefix/lib
+      do
+        if test -e $check_libdir/libcheck.a ; then
+          CHECK_LIBS="-L${check_libdir} -lcheck"
+          break
+        fi
+      done
     fi
 
     ac_save_CFLAGS="$CFLAGS"

