# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		python-django-js-asset
VERSION=		2.0.0
KEYWORDS=		python
VARIANTS=		py310 py311
SDESC[py310]=		Django forms.Media script tag (3.10)
SDESC[py311]=		Django forms.Media script tag (3.11)
HOMEPAGE=		https://github.com/matthiask/django-js-asset/
CONTACT=		Python_Automaton[python@ironwolf.systems]

DOWNLOAD_GROUPS=	main
SITES[main]=		PYPIWHL/89/dd/67936526e547dd14ca4e5d13ab1655bc4aefa410f092ad13de3a085a3d51
DISTFILE[1]=		django_js_asset-2.0.0-py3-none-any.whl:main
DF_INDEX=		1
SPKGS[py310]=		single
SPKGS[py311]=		single

OPTIONS_AVAILABLE=	PY310 PY311
OPTIONS_STANDARD=	none
VOPTS[py310]=		PY310=ON PY311=OFF
VOPTS[py311]=		PY310=OFF PY311=ON

DISTNAME=		django_js_asset-2.0.0.dist-info

GENERATED=		yes

[PY310].RUN_DEPENDS_ON=			python-Django:single:py310
[PY310].USES_ON=			python:py310,wheel

[PY311].RUN_DEPENDS_ON=			python-Django:single:py311
[PY311].USES_ON=			python:py311,wheel

[FILE:2042:descriptions/desc.single]
===============================================================================
django-js-asset -- script tag with additional attributes for
django.forms.Media
===============================================================================

Usage
=====

Use this to insert a script tag via ``forms.Media`` containing additional
attributes (such as id and ``data-*`` for CSP-compatible data
injection.):

.. code-block:: python

    from js_asset import JS

    forms.Media(js=[
        JS("asset.js", {
            "id": "asset-script",
            "data-answer": "42",
        }),
   ])

The rendered media tag (via ``{{ media.js }} or {{ media }}`` will
now contain a script tag as follows, without line breaks:

.. code-block:: html

    <script type="text/javascript" src="/static/asset.js"
        data-answer="42" id="asset-script"></script>

The attributes are automatically escaped. The data attributes may now be
accessed inside ``asset.js``:

.. code-block:: javascript

    var answer = document.querySelector("#asset-script").dataset.answer;

Also, because the implementation of static differs between supported
Django versions (older do not take the presence of
``django.contrib.staticfiles in INSTALLED_APPS`` into account), a
``js_asset.static`` function is provided which does the right thing
automatically.

When adding external script assets, you should pass ``static=False to the
JS object to avoid passing the script URL through static()``. In this
case, you probably want to add defer or async, and maybe also
integrity and crossorigin attributes. Please note that boolean
attributes are not properly supported when using Django before 4.1 so
specify
them as follows:

.. code-block:: python

    JS(
        "https://cdn.example.com/script.js",
        {"defer": "defer"},
        static=False,
    )

Compatibility
=============

At the time of writing this app is compatible with Django 1.8 and better
(up to and including the Django master branch), but have a look at the
[tox configuration
] for
definitive answers.


[FILE:117:distinfo]
86f9f300d682537ddaf0487dc2ab356581b8f50c069bdba91d334a46e449f923         4941 django_js_asset-2.0.0-py3-none-any.whl

