# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		quazip
VERSION=		1.4
REVISION=		1
KEYWORDS=		archivers
VARIANTS=		qt5 qt6
SDESC[qt5]=		Qt/C++ wrapper for Minizip (Qt5)
SDESC[qt6]=		Qt/C++ wrapper for Minizip (Qt6)
HOMEPAGE=		https://github.com/stachenov/quazip
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/stachenov:quazip:v1.4
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[qt5]=		complete
			primary
			dev
SPKGS[qt6]=		complete
			primary
			dev

OPTIONS_AVAILABLE=	QT5 QT6
OPTIONS_STANDARD=	none
VOPTS[qt5]=		QT5=ON QT6=OFF
VOPTS[qt6]=		QT5=OFF QT6=ON

USES=			cmake zlib bz2

LICENSE=		CUSTOM1:primary ZLIB:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_NAME=		CUSTOM1:"LGPLv21 with static linking exception"
LICENSE_FILE=		CUSTOM1:{{WRKSRC}}/COPYING
			ZLIB:{{WRKDIR}}/ZLIB-LICENSE
LICENSE_AWK=		TERMS:"include <QString>"
			ZLIB:"ifndef _zip12_H"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/quazip/quazip.h
			ZLIB:{{WRKSRC}}/quazip/zip.h
LICENSE_SCHEME=		multi

FPC_EQUIVALENT=		archivers/quazip

SOVERSION=		1.4.0
PLIST_SUB=		API=1.4

CMAKE_ARGS=		-DCMAKE_INSTALL_PREFIX={{STAGEDIR}}{{PREFIX}}

[QT5].DESCRIPTION=			Built Qt5 variant
[QT5].BUILDRUN_DEPENDS_ON=		qt5-qtbase:primary:standard
[QT5].BUILD_DEPENDS_ON=			qt5-qtbase:dev:standard
[QT5].CMAKE_ARGS_ON=			-DQt5Core_DIR={{PREFIX}}/lib/qt5/cmake/Qt5Core
					-DCMAKE_PREFIX_PATH={{PREFIX}}/lib/qt5/cmake
[QT5].PLIST_SUB_ON=			QTMAJOR=5
[QT5].USES_ON=				qt5

[QT6].DESCRIPTION=			Built Qt6 variant
[QT6].BUILDRUN_DEPENDS_ON=		qt6-qtbase:primary:standard
					qt6-qt5compat:primary:standard
[QT6].BUILD_DEPENDS_ON=			qt6-qtbase:dev:standard
					qt6-qt5compat:dev:standard
[QT6].CMAKE_ARGS_ON=			-DCMAKE_PREFIX_PATH={{PREFIX}}/lib/qt6/cmake
					-DQUAZIP_QT_MAJOR_VERSION=6
[QT6].PLIST_SUB_ON=			QTMAJOR=6
[QT6].USES_ON=				qt6

do-install:
	(cd ${BUILD_WRKSRC} && make DESTDIR=${STAGEDIR} install)
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libquazip1-qt?.so

[FILE:150:descriptions/desc.primary]
QuaZIP is a C++ wrapper around Minizip. It provides users of the Qt 
toolkit with a native way of writing to or reading from files in a ZIP 
archive.


[FILE:106:distinfo]
79633fd3a18e2d11a7d5c40c4c79c1786ba0c74b59ad752e8429746fe1781dd6       157819 stachenov-quazip-1.4.tar.gz


[FILE:85:manifests/plist.primary]
lib/
 libquazip1-qt%%QTMAJOR%%.so.%%API%%
 libquazip1-qt%%QTMAJOR%%.so.%%SOVERSION%%


[FILE:562:manifests/plist.dev]
include/QuaZip-Qt%%QTMAJOR%%-%%API%%/quazip/
 JlCompress.h
 ioapi.h
 minizip_crypt.h
 quaadler32.h
 quachecksum32.h
 quacrc32.h
 quagzipfile.h
 quaziodevice.h
 quazip.h
 quazip_global.h
 quazip_qt_compat.h
 quazipdir.h
 quazipfile.h
 quazipfileinfo.h
 quazipnewinfo.h
 unzip.h
 zip.h
lib/libquazip1-qt%%QTMAJOR%%.so
lib/cmake/QuaZip-Qt%%QTMAJOR%%-%%API%%/
 QuaZip-Qt%%QTMAJOR%%Config.cmake
 QuaZip-Qt%%QTMAJOR%%ConfigVersion.cmake
 QuaZip-Qt%%QTMAJOR%%_SharedTargets-release.cmake
 QuaZip-Qt%%QTMAJOR%%_SharedTargets.cmake
lib/pkgconfig/quazip1-qt%%QTMAJOR%%.pc

