# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		quazip
VERSION=		0.8.1
KEYWORDS=		archivers
VARIANTS=		standard
SDESC[standard]=	Qt/C++ wrapper for Minizip
HOMEPAGE=		https://github.com/stachenov/quazip
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/stachenov:quazip:v0.8.1
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	qt5-qtbase:primary:standard

USES=			cmake qt5

LICENSE=		CUSTOM1:single ZLIB:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_NAME=		CUSTOM1:"LGPLv21 with static linking exception"
LICENSE_FILE=		CUSTOM1:{{WRKSRC}}/COPYING
			ZLIB:{{WRKDIR}}/ZLIB-LICENSE
LICENSE_AWK=		TERMS:"include <QString>"
			ZLIB:"ifndef _zip12_H"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/quazip/quazip.h
			ZLIB:{{WRKSRC}}/quazip/zip.h
LICENSE_SCHEME=		multi

FPC_EQUIVALENT=		archivers/quazip

SOVERSION=		1.0.0

CMAKE_ARGS=		-DBUILD_WITH_QT4:BOOL=OFF
			-DCMAKE_INSTALL_PREFIX={{STAGEDIR}}{{PREFIX}}
			-DQt5Core_DIR={{PREFIX}}/lib/qt5/cmake/Qt5Core

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libquazip5.so.1.0.0

do-install:
	(cd ${BUILD_WRKSRC} && make DESTDIR=${STAGEDIR} install)
	(cd ${WRKSRC}/quazip && ${PREFIX}/lib/qt5/bin/qmake quazip.pro)
	${REINPLACE_CMD} -e 's/-lquazip/-lquazip5/' ${WRKSRC}/quazip/pkgconfig/quazip.pc
	${INSTALL_DATA} ${WRKSRC}/quazip/pkgconfig/quazip.pc ${STAGEDIR}${PREFIX}/lib/pkgconfig

[FILE:150:descriptions/desc.single]
QuaZIP is a C++ wrapper around Minizip. It provides users of the Qt 
toolkit with a native way of writing to or reading from files in a ZIP 
archive.


[FILE:205:distinfo]
4fda4d4248e08015b5090d0369ef9e68bdc4475aa12494f7c0f6d79e43270d14       150584 stachenov-quazip-0.8.1.tar.gz
c3e5e9fdd5004dcb542feda5ee4f0ff0744628baf8ed2dd5d66f8ca1197cb1a1       607698 zlib-1.2.11.tar.gz


[FILE:388:manifests/plist.single]
include/quazip5/
 JlCompress.h
 ioapi.h
 minizip_crypt.h
 quaadler32.h
 quachecksum32.h
 quacrc32.h
 quagzipfile.h
 quaziodevice.h
 quazip.h
 quazip_global.h
 quazipdir.h
 quazipfile.h
 quazipfileinfo.h
 quazipnewinfo.h
 unzip.h
 zip.h
lib/
 libquazip5.a
 libquazip5.so
 libquazip5.so.%%SOMAJOR%%
 libquazip5.so.%%SOVERSION%%
lib/pkgconfig/quazip.pc
share/cmake/Modules/FindQuaZip5.cmake

