# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		flock
VERSION=		2.40.2
KEYWORDS=		sysutils
VARIANTS=		std
SDESC[std]=		Manage locks from shell scripts
HOMEPAGE=		https://www.kernel.org/pub/linux/utils/util-linux/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.40/
DISTFILE[1]=		util-linux-2.40.2.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			man

OPTIONS_AVAILABLE=	BSD
OPTIONS_STANDARD=	BSD
OPT_ON[freebsd]=	BSD
OPT_ON[netbsd]=		BSD
OPT_ON[dragonfly]=	BSD
OPT_ON[midnightbsd]=	BSD

USES=			pkgconfig libtool:build

DISTNAME=		util-linux-2.40.2

FPC_EQUIVALENT=		sysutils/flock

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-nls
			--disable-liblastlog2

[BSD].DESCRIPTION=			Apply changes for BSD platforms
[BSD].CFLAGS_ON=			-D_WITH_CPU_SET_T

do-build:
	${MAKE} -C ${WRKSRC} flock

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/flock ${STAGEDIR}${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/sys-utils/flock.1 \
		${STAGEDIR}${PREFIX}/share/man/man1
	${MKDIR} ${STAGEDIR}${PREFIX}/etc/bash_completion.d
	${INSTALL_DATA} ${WRKSRC}/bash-completion/flock \
		${STAGEDIR}${PREFIX}/etc/bash_completion.d

[FILE:32:descriptions/desc.primary]
Manage locks from shell scripts


[FILE:103:distinfo]
d78b37a66f5922d70edf3bdfb01a6b33d34ed3c3cafd6628203b2a2b67c8e8b3      8854820 util-linux-2.40.2.tar.xz


[FILE:38:manifests/plist.primary]
bin/flock
etc/bash_completion.d/flock


[FILE:23:manifests/plist.man]
share/man/man1/flock.1

