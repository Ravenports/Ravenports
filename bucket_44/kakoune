# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		kakoune
VERSION=		2021.10.28
KEYWORDS=		editors
VARIANTS=		standard
SDESC[standard]=	Modal code editor with a focus on interactivity
HOMEPAGE=		https://kakoune.org/
CONTACT=		M_B[mb@64k.by]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/mawww:kakoune:v2021.10.28
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	ncurses:primary:standard

USES=			c++:primary gmake ncurses

LICENSE=		PUBDOM:primary
LICENSE_FILE=		PUBDOM:{{WRKSRC}}/UNLICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		editors/kakoune

MAKE_ARGS=		debug=no
			static=no
MAKE_ENV=		CXX="{{CXX}}"

MANDIRS=		{{PREFIX}}/share/kak/man/man1

CXXFLAGS=		-I{{NCURSESINC}}
			-Wno-init-list-lifetime

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/kak

[FILE:953:descriptions/desc.primary]
Kakoune is a code editor that implements Vi's "keystrokes as a text
editing language" model.  As it's also a modal editor, it is somewhat
similar to the Vim editor (after which Kakoune was originally
inspired).

Kakoune can operate in two modes, normal and insertion.  In insertion
mode, keys are directly inserted into the current buffer.  In normal
mode, keys are used to manipulate the current selection and to enter
insertion mode.

Kakoune has a strong focus on interactivity, most commands provide
immediate and incremental results, while still being competitive (as
in keystroke count) with Vim.

Kakoune works on selections, which are oriented, inclusive range of
characters, selections have an anchor and a cursor character.  Most
commands move both of them, except when extending selection where the
anchor character stays fixed and the cursor one moves around.

See https://vimeo.com/82711574 for a short demo video.

WWW: http://kakoune.org


[FILE:110:distinfo]
4aa78c19108e15490d590f95f727dab67f33fc3c4358fbfc316b4a5f3f1d6b42       658042 mawww-kakoune-2021.10.28.tar.gz


[FILE:2156:manifests/plist.primary]
bin/kak
libexec/kak/kak
share/kak/
 autoload
 kakrc
share/kak/colors/
 base16.kak
 default.kak
 desertex.kak
 github.kak
 greyscale.kak
 gruvbox-dark.kak
 gruvbox-light.kak
 kaleidoscope-dark.kak
 kaleidoscope-light.kak
 lucius.kak
 palenight.kak
 plain.kak
 red-phoenix.kak
 reeder.kak
 solarized-dark-termcolors.kak
 solarized-dark.kak
 solarized-light-termcolors.kak
 solarized-light.kak
 tomorrow-night.kak
 zenburn.kak
share/kak/rc/detection/
 editorconfig.kak
 file.kak
 modeline.kak
share/kak/rc/filetype/
 arch-linux.kak
 asciidoc.kak
 awk.kak
 c-family.kak
 cabal.kak
 clojure.kak
 cmake.kak
 coffee.kak
 coq.kak
 crystal.kak
 css.kak
 cucumber.kak
 cue.kak
 d.kak
 dart.kak
 dhall.kak
 diff.kak
 dockerfile.kak
 elixir.kak
 elm.kak
 erlang.kak
 eruby.kak
 etc.kak
 exherbo.kak
 fennel.kak
 fish.kak
 fsharp.kak
 gas.kak
 gdscript.kak
 gentoo-linux.kak
 git.kak
 gluon.kak
 go.kak
 graphql.kak
 haml.kak
 haskell.kak
 hbs.kak
 html.kak
 i3.kak
 ini.kak
 janet.kak
 java.kak
 javascript.kak
 jinja.kak
 json.kak
 julia.kak
 just.kak
 kakrc.kak
 kickstart.kak
 kotlin.kak
 latex.kak
 ledger.kak
 lisp.kak
 lua.kak
 mail.kak
 makefile.kak
 markdown.kak
 mercurial.kak
 mercury.kak
 meson.kak
 mlb.kak
 moon.kak
 nim.kak
 ninja.kak
 nix.kak
 ocaml.kak
 pascal.kak
 perl.kak
 php.kak
 pony.kak
 protobuf.kak
 pug.kak
 purescript.kak
 python.kak
 r.kak
 ragel.kak
 restructuredtext.kak
 ruby.kak
 rust.kak
 sass.kak
 scala.kak
 scheme.kak
 scss.kak
 sh.kak
 sml.kak
 sql.kak
 svelte.kak
 swift.kak
 systemd.kak
 taskpaper.kak
 terraform.kak
 toml.kak
 troff.kak
 tupfile.kak
 vhdl.kak
 void-linux.kak
 yaml.kak
 zig.kak
share/kak/rc/tools/
 autorestore.asciidoc
 autorestore.kak
 autowrap.kak
 clang.kak
 comment.kak
 ctags.kak
 doc.asciidoc
 doc.kak
 format.kak
 git.kak
 grep.kak
 lint.asciidoc
 lint.kak
 make.kak
 man.kak
 spell.kak
share/kak/rc/tools/go/gopls.kak
share/kak/rc/tools/python/jedi.kak
share/kak/rc/tools/rust/racer.kak
share/kak/rc/windowing/
 detection.kak
 iterm.kak
 kitty.kak
 new-client.kak
 screen.kak
 tmux.kak
 wayland.kak
 x11.kak
share/kak/rc/windowing/repl/
 dtach.kak
 kitty.kak
 tmux.kak
 x11.kak
share/man/man1/kak.1.gz


[FILE:374:manifests/plist.docs]
share/doc/kak/README.asciidoc
share/kak/doc/
 buffers.asciidoc
 changelog.asciidoc
 command-parsing.asciidoc
 commands.asciidoc
 execeval.asciidoc
 expansions.asciidoc
 faces.asciidoc
 faq.asciidoc
 highlighters.asciidoc
 hooks.asciidoc
 keymap.asciidoc
 keys.asciidoc
 mapping.asciidoc
 modes.asciidoc
 options.asciidoc
 regex.asciidoc
 registers.asciidoc
 scopes.asciidoc


[FILE:1049:patches/patch-src_Makefile]
--- src/Makefile.orig	2021-10-27 22:13:34 UTC
+++ src/Makefile
@@ -57,29 +57,7 @@ sharedir := $(DESTDIR)$(PREFIX)/share/ka
 docdir := $(DESTDIR)$(PREFIX)/share/doc/kak
 mandir := $(DESTDIR)$(PREFIX)/share/man/man1
 
-os := $(shell uname)
-
-ifeq ($(os),Darwin)
-    CPPFLAGS += -I/opt/local/include
-    LDFLAGS += -L/opt/local/lib
-else ifeq ($(os),FreeBSD)
-    CPPFLAGS += -I/usr/local/include
-    LDFLAGS += -L/usr/local/lib
-else ifeq ($(os),Haiku)
-    LIBS += -lnetwork -lbe
-else ifeq ($(os),OpenBSD)
-    CPPFLAGS += -D'KAK_BIN_PATH="$(bindir)/kak"' -I/usr/local/include
-    LDFLAGS += -L/usr/local/lib
-    mandir := $(DESTDIR)$(PREFIX)/man/man1
-else ifneq (,$(findstring _NT,$(os)))
-    # Both Cygwin and MSYS2 have "_NT" in their uname.
-    CPPFLAGS += -D_XOPEN_SOURCE=700
-    LIBS += -ldbghelp
-else ifeq ($(os),SunOS)
-    LDFLAGS += -lsocket -rdynamic
-else
-    LDFLAGS += -rdynamic
-endif
+LIBS += -ltinfow -lncursesw
 
 CXXFLAGS += -pedantic -std=c++17 -g -Wall -Wextra -Wno-unused-parameter -Wno-sign-compare -Wno-address
 

