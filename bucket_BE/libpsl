# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libpsl
VERSION=		0.21.2
KEYWORDS=		dns
VARIANTS=		standard
SDESC[standard]=	Library to handle the Public Suffix List
HOMEPAGE=		https://github.com/rockdaboot/libpsl
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/rockdaboot:libpsl:0.21.2
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			tools
			dev
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		publicsuffix-list:single:standard
			libunistring:dev:standard
			libidn2:dev:standard
BUILDRUN_DEPENDS=	libidn2:primary:standard
			libunistring:primary:standard
EXRUN[tools]=		primary
EXRUN[dev]=		libidn2:dev:standard

USES=			pkgconfig shebangfix iconv meson gettext
GNOME_COMPONENTS=	libxslt

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		dns/libpsl
MESON_ARGS=		-Dpsl_testfile="{{LOCALBASE}}/share/publicsuffix-list/test_psl.txt"
			-Dpsl_file="{{LOCALBASE}}/share/publicsuffix-list/public_suffix_list.dat"
			-Dbuiltin=true
			-Druntime="libidn2"
SHEBANG_FILES=		src/psl-make-dafsa

INSTALL_TARGET=		install-strip
SOVERSION=		5.3.4

LDFLAGS=		{{ICONV_LIB}}
VAR_OPSYS[sunos]=	LDFLAGS=-lsocket
			LDFLAGS=-lnsl

post-install:
	${INSTALL_MAN} \
		${WRKSRC}/tools/psl.1 \
		${WRKSRC}/src/psl-make-dafsa.1 \
		${STAGEDIR}${MANPREFIX}/man/man1/
	${INSTALL_PROGRAM} \
		${WRKSRC}/_build/tools/psl \
		${STAGEDIR}${PREFIX}/bin/

[FILE:758:descriptions/desc.primary]
A "public suffix" is a domain name under which Internet users can directly
register own names.

Browsers and other web clients can use it to
- avoid privacy-leaking "supercookies"
- avoid privacy-leaking "super domain" certificates
- domain highlighting parts of the domain in a user interface
- sorting domain lists by site

Libpsl...
- has built-in PSL data for fast access
- allows to load PSL data from files
- checks if a given domain is a "public suffix"
- provides immediate cookie domain verification
- finds the longest public part of a given domain
- finds the shortest private part of a given domain
- works with international domains (UTF-8 and IDNA2008 Punycode)
- is thread-safe
- handles IDNA2008 UTS#46 (libicu is used by psl2c if installed)


[FILE:45:descriptions/desc.tools]
This package contains tools based on libpsl.


[FILE:110:distinfo]
9a17e5f3f1808050f08f08495ee71ab060467e03ca2a9cf1f5b2c07bda07dd52      6997492 rockdaboot-libpsl-0.21.2.tar.gz


[FILE:53:manifests/plist.primary]
lib/
 libpsl.so.%%SOMAJOR%%
 libpsl.so.%%SOVERSION%%


[FILE:26:manifests/plist.tools]
bin/
 psl
 psl-make-dafsa


[FILE:55:manifests/plist.dev]
lib/pkgconfig/libpsl.pc
include/libpsl.h
lib/libpsl.so


[FILE:47:manifests/plist.man]
share/man/man1/
 psl-make-dafsa.1.gz
 psl.1.gz

