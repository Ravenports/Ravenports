# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libpsl
VERSION=		0.21.0
KEYWORDS=		dns
VARIANTS=		standard
SDESC[standard]=	Library to handle the Public Suffix List
HOMEPAGE=		https://github.com/rockdaboot/libpsl
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/rockdaboot:libpsl:libpsl-0.21.0
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		publicsuffix-list:single:standard
BUILDRUN_DEPENDS=	libidn2:primary:standard
			libunistring:primary:standard

USES=			pkgconfig shebangfix iconv meson gettext-runtime
			gettext-tools
GNOME_COMPONENTS=	libxslt

LICENSE=		MIT:single
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		dns/libpsl
MESON_ARGS=		-Dpsl_testfile="{{LOCALBASE}}/share/publicsuffix-list/test_psl.txt"
			-Dpsl_file="{{LOCALBASE}}/share/publicsuffix-list/public_suffix_list.dat"
			-Dbuiltin="libidn2"
			-Druntime="libidn2"
SHEBANG_FILES=		src/psl-make-dafsa

INSTALL_TARGET=		install-strip

LDFLAGS=		{{ICONV_LIB}}
VAR_OPSYS[sunos]=	LDFLAGS=-lsocket
			LDFLAGS=-lnsl

post-install:
	${INSTALL_MAN} \
		${WRKSRC}/tools/psl.1 \
		${WRKSRC}/src/psl-make-dafsa.1 \
		${STAGEDIR}${MANPREFIX}/man/man1/
	${INSTALL_PROGRAM} \
		${WRKSRC}/_build/tools/psl \
		${STAGEDIR}${PREFIX}/bin/

[FILE:758:descriptions/desc.single]
A "public suffix" is a domain name under which Internet users can directly
register own names.

Browsers and other web clients can use it to
- avoid privacy-leaking "supercookies"
- avoid privacy-leaking "super domain" certificates
- domain highlighting parts of the domain in a user interface
- sorting domain lists by site

Libpsl...
- has built-in PSL data for fast access
- allows to load PSL data from files
- checks if a given domain is a "public suffix"
- provides immediate cookie domain verification
- finds the longest public part of a given domain
- finds the shortest private part of a given domain
- works with international domains (UTF-8 and IDNA2008 Punycode)
- is thread-safe
- handles IDNA2008 UTS#46 (libicu is used by psl2c if installed)


[FILE:117:distinfo]
055aa87ec166c7afb985d0816c07ff440e1eb899881a318c51c69a0aeea8e279      8598583 rockdaboot-libpsl-libpsl-0.21.0.tar.gz


[FILE:110:manifests/plist.single]
bin/psl
include/libpsl.h
lib/libpsl.so
lib/pkgconfig/libpsl.pc
share/man/man1/
 psl-make-dafsa.1.gz
 psl.1.gz

