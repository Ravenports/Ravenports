# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		tinysparql
VERSION=		3.10.1
KEYWORDS=		databases
VARIANTS=		std
SDESC[std]=		Low-footprint RDF triple store (SPARQL 1.1)
HOMEPAGE=		https://gitlab.gnome.org/GNOME/tinysparql
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNOME/tinysparql/3.10
DISTFILE[1]=		tinysparql-3.10.1.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			nls
			man
			docs
			tools

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		vala:primary:std
			asciidoc:single:std
			dbus:dev:std
			libsoup:dev:std
			json-glib:dev:std
			python-PyGObject:dev:python_used
			icu:dev:std
BUILDRUN_DEPENDS=	dbus:primary:std
			libsoup:primary:std
			json-glib:primary:std
			python-snowballstemmer:single:python_used
			python-PyGObject:primary:python_used
			icu:primary:std
EXRUN[tools]=		primary
EXRUN[dev]=		glib:dev:std
			json-glib:dev:std
			libxml2:dev:std
			sqlite:dev:std

USES=			meson gettext pkgconfig sqlite python:build
GNOME_COMPONENTS=	glib introspection libxml2

FPC_EQUIVALENT=		devel/tinysparql
MESON_ARGS=		-Dsystemd_user_services=false
			-Dintrospection=enabled
			-Dbash_completion=true
			-Dbash_completion_dir={{LOCALBASE}}/etc/bash_completion.d
			-Ddocs=true
			-Dman=true
			-Dvapi=enabled
			-Davahi=disabled

SOVERSION=		0.1001.0

post-install:
	${MV} ${STAGEDIR}${PREFIX}/share/doc/Tsparql-3.0 ${STAGEDIR}${STD_DOCDIR}

[FILE:228:descriptions/desc.primary]
The TinySPARQL library offers a complete RDF triplestore with SPARQL 1.1
interface and a minimal footprint. It allows creating local databases in
memory or the filesystem, and accessing/creating endpoints for federated
queries.


[FILE:53:descriptions/desc.tools]
This subpackage contains the tinysparql client tool.


[FILE:103:distinfo]
5a7f3e789db6671a550ed6280ed4f60a60bea77368da92be68dc7d8d7e230265      2396040 tinysparql-3.10.1.tar.xz


[FILE:440:manifests/plist.primary]
lib/
 libtinysparql-3.0.so.%%SOMAJOR%%
 libtinysparql-3.0.so.%%SOVERSION%%
 libtracker-sparql-3.0.so.%%SOVERSION%%
 libtracker-sparql-3.0.so.0
lib/girepository-1.0/
 Tracker-3.0.typelib
 Tsparql-3.0.typelib
lib/tinysparql-3.0/
 libtracker-http-soup3.so
 libtracker-parser-libicu.so
share/gir-1.0/
 Tracker-3.0.gir
 Tsparql-3.0.gir
share/vala/vapi/
 tinysparql-3.0.deps
 tinysparql-3.0.vapi
 tracker-sparql-3.0.deps
 tracker-sparql-3.0.vapi


[FILE:573:manifests/plist.dev]
include/tinysparql-3.0/
 tinysparql.h
 tracker-batch.h
 tracker-connection.h
 tracker-cursor.h
 tracker-endpoint-dbus.h
 tracker-endpoint-http.h
 tracker-endpoint.h
 tracker-enums.h
 tracker-error.h
 tracker-namespace-manager.h
 tracker-notifier.h
 tracker-ontologies.h
 tracker-resource.h
 tracker-sparql-enum-types.h
 tracker-statement.h
 tracker-utils.h
 tracker-version-generated.h
 tracker-version.h
include/tinysparql-3.0/libtracker-sparql/tracker-sparql.h
lib/
 libtinysparql-3.0.so
 libtracker-sparql-3.0.so
lib/pkgconfig/
 tinysparql-3.0.pc
 tracker-sparql-3.0.pc


[FILE:2963:manifests/plist.nls]
share/locale/ab/LC_MESSAGES/tinysparql3.mo
share/locale/ar/LC_MESSAGES/tinysparql3.mo
share/locale/as/LC_MESSAGES/tinysparql3.mo
share/locale/be/LC_MESSAGES/tinysparql3.mo
share/locale/be@latin/LC_MESSAGES/tinysparql3.mo
share/locale/bg/LC_MESSAGES/tinysparql3.mo
share/locale/bs/LC_MESSAGES/tinysparql3.mo
share/locale/ca/LC_MESSAGES/tinysparql3.mo
share/locale/ca@valencia/LC_MESSAGES/tinysparql3.mo
share/locale/cs/LC_MESSAGES/tinysparql3.mo
share/locale/da/LC_MESSAGES/tinysparql3.mo
share/locale/de/LC_MESSAGES/tinysparql3.mo
share/locale/dz/LC_MESSAGES/tinysparql3.mo
share/locale/el/LC_MESSAGES/tinysparql3.mo
share/locale/en_GB/LC_MESSAGES/tinysparql3.mo
share/locale/eo/LC_MESSAGES/tinysparql3.mo
share/locale/es/LC_MESSAGES/tinysparql3.mo
share/locale/et/LC_MESSAGES/tinysparql3.mo
share/locale/eu/LC_MESSAGES/tinysparql3.mo
share/locale/fa/LC_MESSAGES/tinysparql3.mo
share/locale/fi/LC_MESSAGES/tinysparql3.mo
share/locale/fr/LC_MESSAGES/tinysparql3.mo
share/locale/fur/LC_MESSAGES/tinysparql3.mo
share/locale/gl/LC_MESSAGES/tinysparql3.mo
share/locale/he/LC_MESSAGES/tinysparql3.mo
share/locale/hi/LC_MESSAGES/tinysparql3.mo
share/locale/hr/LC_MESSAGES/tinysparql3.mo
share/locale/hu/LC_MESSAGES/tinysparql3.mo
share/locale/id/LC_MESSAGES/tinysparql3.mo
share/locale/is/LC_MESSAGES/tinysparql3.mo
share/locale/it/LC_MESSAGES/tinysparql3.mo
share/locale/ja/LC_MESSAGES/tinysparql3.mo
share/locale/ka/LC_MESSAGES/tinysparql3.mo
share/locale/kab/LC_MESSAGES/tinysparql3.mo
share/locale/kk/LC_MESSAGES/tinysparql3.mo
share/locale/ko/LC_MESSAGES/tinysparql3.mo
share/locale/lt/LC_MESSAGES/tinysparql3.mo
share/locale/lv/LC_MESSAGES/tinysparql3.mo
share/locale/mk/LC_MESSAGES/tinysparql3.mo
share/locale/ml/LC_MESSAGES/tinysparql3.mo
share/locale/ms/LC_MESSAGES/tinysparql3.mo
share/locale/nb/LC_MESSAGES/tinysparql3.mo
share/locale/nds/LC_MESSAGES/tinysparql3.mo
share/locale/ne/LC_MESSAGES/tinysparql3.mo
share/locale/nl/LC_MESSAGES/tinysparql3.mo
share/locale/oc/LC_MESSAGES/tinysparql3.mo
share/locale/pa/LC_MESSAGES/tinysparql3.mo
share/locale/pl/LC_MESSAGES/tinysparql3.mo
share/locale/pt/LC_MESSAGES/tinysparql3.mo
share/locale/pt_BR/LC_MESSAGES/tinysparql3.mo
share/locale/ro/LC_MESSAGES/tinysparql3.mo
share/locale/ru/LC_MESSAGES/tinysparql3.mo
share/locale/sk/LC_MESSAGES/tinysparql3.mo
share/locale/sl/LC_MESSAGES/tinysparql3.mo
share/locale/sr/LC_MESSAGES/tinysparql3.mo
share/locale/sr@latin/LC_MESSAGES/tinysparql3.mo
share/locale/sv/LC_MESSAGES/tinysparql3.mo
share/locale/te/LC_MESSAGES/tinysparql3.mo
share/locale/tg/LC_MESSAGES/tinysparql3.mo
share/locale/th/LC_MESSAGES/tinysparql3.mo
share/locale/tr/LC_MESSAGES/tinysparql3.mo
share/locale/ug/LC_MESSAGES/tinysparql3.mo
share/locale/uk/LC_MESSAGES/tinysparql3.mo
share/locale/uz/LC_MESSAGES/tinysparql3.mo
share/locale/vi/LC_MESSAGES/tinysparql3.mo
share/locale/zh_CN/LC_MESSAGES/tinysparql3.mo
share/locale/zh_HK/LC_MESSAGES/tinysparql3.mo
share/locale/zh_TW/LC_MESSAGES/tinysparql3.mo


[FILE:171:manifests/plist.man]
share/man/man1/
 tinysparql-endpoint.1
 tinysparql-export.1
 tinysparql-import.1
 tinysparql-introspect.1
 tinysparql-query.1
 tinysparql-sql.1
 tinysparql-xdg-portal-3.1


[FILE:8148:manifests/plist.docs]
share/doc/tinysparql/
 Tsparql-3.0.devhelp2
 class.Batch.html
 class.Endpoint.html
 class.EndpointDBus.html
 class.EndpointHttp.html
 class.NamespaceManager.html
 class.Notifier.html
 class.Resource.html
 class.SparqlConnection.html
 class.SparqlCursor.html
 class.SparqlStatement.html
 classes_hierarchy.html
 commandline.html
 const.MAJOR_VERSION.html
 const.MICRO_VERSION.html
 const.MINOR_VERSION.html
 const.PREFIX_DC.html
 const.PREFIX_MFO.html
 const.PREFIX_NAO.html
 const.PREFIX_NCO.html
 const.PREFIX_NFO.html
 const.PREFIX_NIE.html
 const.PREFIX_NMM.html
 const.PREFIX_NRL.html
 const.PREFIX_OSINFO.html
 const.PREFIX_RDF.html
 const.PREFIX_RDFS.html
 const.PREFIX_SLO.html
 const.PREFIX_TRACKER.html
 const.PREFIX_XSD.html
 containment.svg
 ctor.EndpointDBus.new.html
 ctor.EndpointHttp.new.html
 ctor.NamespaceManager.new.html
 ctor.Resource.new.html
 ctor.SparqlConnection.bus_new.html
 ctor.SparqlConnection.bus_new_finish.html
 ctor.SparqlConnection.new.html
 ctor.SparqlConnection.new_finish.html
 ctor.SparqlConnection.remote_new.html
 dc-ontology.html
 enum.DeserializeFlags.html
 enum.NotifierEventType.html
 enum.RdfFormat.html
 enum.SerializeFlags.html
 enum.SparqlValueType.html
 error.SparqlError.html
 example-interpretation-containment.svg
 examples.html
 flags.SparqlConnectionFlags.html
 fonts.css
 func.CHECK_VERSION.html
 func.check_version.html
 func.sparql_escape_string.html
 func.sparql_escape_uri.html
 func.sparql_escape_uri_printf.html
 func.sparql_escape_uri_vprintf.html
 func.sparql_get_ontology_nepomuk.html
 func.sparql_get_uuid_urn.html
 fzy.js
 go-up-symbolic.png
 index.html
 index.json
 interpretation.svg
 limits.html
 logo.svg
 main.js
 method.Batch.add_rdf.html
 method.Batch.add_resource.html
 method.Batch.add_sparql.html
 method.Batch.add_statement.html
 method.Batch.add_statementv.html
 method.Batch.execute.html
 method.Batch.execute_async.html
 method.Batch.execute_finish.html
 method.Batch.get_connection.html
 method.Endpoint.get_allowed_graphs.html
 method.Endpoint.get_allowed_services.html
 method.Endpoint.get_readonly.html
 method.Endpoint.get_sparql_connection.html
 method.Endpoint.set_allowed_graphs.html
 method.Endpoint.set_allowed_services.html
 method.Endpoint.set_readonly.html
 method.NamespaceManager.add_prefix.html
 method.NamespaceManager.compress_uri.html
 method.NamespaceManager.expand_uri.html
 method.NamespaceManager.foreach.html
 method.NamespaceManager.has_prefix.html
 method.NamespaceManager.lookup_prefix.html
 method.NamespaceManager.print_turtle.html
 method.Notifier.signal_subscribe.html
 method.Notifier.signal_unsubscribe.html
 method.NotifierEvent.get_event_type.html
 method.NotifierEvent.get_id.html
 method.NotifierEvent.get_urn.html
 method.Resource.add_boolean.html
 method.Resource.add_datetime.html
 method.Resource.add_double.html
 method.Resource.add_gvalue.html
 method.Resource.add_int.html
 method.Resource.add_int64.html
 method.Resource.add_relation.html
 method.Resource.add_string.html
 method.Resource.add_take_relation.html
 method.Resource.add_uri.html
 method.Resource.get_first_boolean.html
 method.Resource.get_first_datetime.html
 method.Resource.get_first_double.html
 method.Resource.get_first_int.html
 method.Resource.get_first_int64.html
 method.Resource.get_first_relation.html
 method.Resource.get_first_string.html
 method.Resource.get_first_uri.html
 method.Resource.get_identifier.html
 method.Resource.get_properties.html
 method.Resource.get_property_overwrite.html
 method.Resource.get_values.html
 method.Resource.identifier_compare_func.html
 method.Resource.print_jsonld.html
 method.Resource.print_rdf.html
 method.Resource.print_sparql_update.html
 method.Resource.print_turtle.html
 method.Resource.serialize.html
 method.Resource.set_boolean.html
 method.Resource.set_datetime.html
 method.Resource.set_double.html
 method.Resource.set_gvalue.html
 method.Resource.set_identifier.html
 method.Resource.set_int.html
 method.Resource.set_int64.html
 method.Resource.set_relation.html
 method.Resource.set_string.html
 method.Resource.set_take_relation.html
 method.Resource.set_uri.html
 method.SparqlConnection.close.html
 method.SparqlConnection.close_async.html
 method.SparqlConnection.close_finish.html
 method.SparqlConnection.create_batch.html
 method.SparqlConnection.create_notifier.html
 method.SparqlConnection.deserialize_async.html
 method.SparqlConnection.deserialize_finish.html
 method.SparqlConnection.get_namespace_manager.html
 method.SparqlConnection.load_statement_from_gresource.html
 method.SparqlConnection.map_connection.html
 method.SparqlConnection.query.html
 method.SparqlConnection.query_async.html
 method.SparqlConnection.query_finish.html
 method.SparqlConnection.query_statement.html
 method.SparqlConnection.serialize_async.html
 method.SparqlConnection.serialize_finish.html
 method.SparqlConnection.update.html
 method.SparqlConnection.update_array_async.html
 method.SparqlConnection.update_array_finish.html
 method.SparqlConnection.update_async.html
 method.SparqlConnection.update_blank.html
 method.SparqlConnection.update_blank_async.html
 method.SparqlConnection.update_blank_finish.html
 method.SparqlConnection.update_finish.html
 method.SparqlConnection.update_resource.html
 method.SparqlConnection.update_resource_async.html
 method.SparqlConnection.update_resource_finish.html
 method.SparqlConnection.update_statement.html
 method.SparqlCursor.close.html
 method.SparqlCursor.get_boolean.html
 method.SparqlCursor.get_connection.html
 method.SparqlCursor.get_datetime.html
 method.SparqlCursor.get_double.html
 method.SparqlCursor.get_integer.html
 method.SparqlCursor.get_langstring.html
 method.SparqlCursor.get_n_columns.html
 method.SparqlCursor.get_string.html
 method.SparqlCursor.get_value_type.html
 method.SparqlCursor.get_variable_name.html
 method.SparqlCursor.is_bound.html
 method.SparqlCursor.next.html
 method.SparqlCursor.next_async.html
 method.SparqlCursor.next_finish.html
 method.SparqlCursor.rewind.html
 method.SparqlStatement.bind_boolean.html
 method.SparqlStatement.bind_datetime.html
 method.SparqlStatement.bind_double.html
 method.SparqlStatement.bind_int.html
 method.SparqlStatement.bind_langstring.html
 method.SparqlStatement.bind_string.html
 method.SparqlStatement.clear_bindings.html
 method.SparqlStatement.execute.html
 method.SparqlStatement.execute_async.html
 method.SparqlStatement.execute_finish.html
 method.SparqlStatement.get_connection.html
 method.SparqlStatement.get_sparql.html
 method.SparqlStatement.serialize_async.html
 method.SparqlStatement.serialize_finish.html
 method.SparqlStatement.update.html
 method.SparqlStatement.update_async.html
 method.SparqlStatement.update_finish.html
 mfo-ontology.html
 migrating-2to3.html
 nao-ontology.html
 nco-ontology.html
 nfo-ontology.html
 nie-ontology.html
 nmm-ontology.html
 nrl-ontology.html
 ontologies.html
 osinfo-ontology.html
 overview.html
 performance.html
 property.Batch.connection.html
 property.Endpoint.allowed-graphs.html
 property.Endpoint.allowed-services.html
 property.Endpoint.readonly.html
 property.Endpoint.sparql-connection.html
 property.EndpointDBus.dbus-connection.html
 property.EndpointDBus.object-path.html
 property.EndpointHttp.http-certificate.html
 property.EndpointHttp.http-port.html
 property.Notifier.connection.html
 property.Resource.identifier.html
 property.SparqlCursor.connection.html
 property.SparqlCursor.n-columns.html
 property.SparqlStatement.connection.html
 property.SparqlStatement.sparql.html
 rdf-ontology.html
 rdfs-ontology.html
 sandboxing.html
 search.js
 security.html
 signal.EndpointDBus.block-call.html
 signal.EndpointHttp.block-remote-address.html
 signal.Notifier.events.html
 slo-ontology.html
 solarized-dark.css
 solarized-light.css
 sparql-and-tracker.html
 sparql-functions.html
 struct.NotifierEvent.html
 style.css
 tracker-ontology.html
 tutorial.html
 type_func.NamespaceManager.get_default.html
 type_func.Resource.deserialize.html
 type_func.SparqlConnection.bus_new_async.html
 type_func.SparqlConnection.new_async.html
 type_func.SparqlError.quark.html
 urlmap.js
 xsd-ontology.html


[FILE:159:manifests/plist.tools]
bin/tinysparql
etc/bash_completion.d/tinysparql
libexec/
 tinysparql-sql
 tinysparql-xdg-portal-3
share/dbus-1/services/org.freedesktop.portal.Tracker.service


[FILE:650:patches/patch-meson.build]
--- meson.build.orig	2025-10-13 18:52:32 UTC
+++ meson.build
@@ -206,14 +206,14 @@ result = cc.run('''
 
   int main (int argc, char *argv[]) {
     char *modifiers[] = { "%Y", "%C%y", "%4Y", "%2C%y", NULL };
-    time_t timestamp = -58979923200; /* 0101-01-01T01:01:01Z */
+    time_t timestamp = 0; /* 1970-01-01T00:00:00Z */
     char buf[100];
     struct tm tm;
     int i;
     gmtime_r (&timestamp, &tm);
     for (i = 0; modifiers[i]; i++) {
       strftime (buf, sizeof buf, modifiers[i], &tm);
-      if (strcmp (buf, "0101") == 0) {
+      if (strcmp (buf, "1970") == 0) {
         printf ("%s", modifiers[i]);
         return 0;
       }

