# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		liborcus
VERSION=		0.15.3
REVISION=		1
KEYWORDS=		devel misc
VARIANTS=		standard
SDESC[standard]=	File import library for spreadsheet documents
HOMEPAGE=		https://gitlab.com/orcus/orcus
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITLAB/orcus:orcus:0.15.3
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		mdds:single:standard
			bzip2:static:standard
			bzip2:shared:standard
BUILDRUN_DEPENDS=	boost-libraries:rest:python_default
			ixion:single:standard

USES=			pkgconfig zlib cmake python:build

FPC_EQUIVALENT=		devel/liborcus

INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		0.0.0
PLIST_SUB=		VER=0.15

LDFLAGS=		-lboost_program_options
			-lboost_thread
			-lboost_filesystem
CMAKE_ARGS=		-DMDDS_INCLUDEDIR:STRING="{{LOCALBASE}}/include/mdds-1.2"
			-DIXION_INCLUDEDIR:STRING="{{LOCALBASE}}/include/ixion-0.15"

post-patch:
	# fix module name
	${REINPLACE_CMD} -e 's|Zlib|ZLIB|' ${WRKSRC}/CMakeLists.txt

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/orcus*
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/lib*.so

[FILE:274:descriptions/desc.single]
Orcus is a library that provides a collection of standalone file processing
filters.  It is currently focused on providing filters for spreadsheet
documents, but filters for other productivity application types (such as
wordprocessor and presentation) are in consideration.


[FILE:104:distinfo]
81f0f9896404dd343d11ff8d17fe4a2d23a3dd3ba8ad2e6f1fd7ef18606f9d8e      8423133 orcus-orcus-0.15.3.tar.gz


[FILE:1700:manifests/plist.single]
bin/
 orcus-css-dump
 orcus-csv
 orcus-detect
 orcus-json
 orcus-ods
 orcus-styles-ods
 orcus-xls-xml
 orcus-xlsx
 orcus-xml
 orcus-yaml
 orcus-zip-dump
include/orcus-%%VER%%/orcus/
 base64.hpp
 cell_buffer.hpp
 config.hpp
 css_document_tree.hpp
 css_parser.hpp
 css_parser_base.hpp
 css_selector.hpp
 css_types.hpp
 csv_parser.hpp
 csv_parser_base.hpp
 dom_tree.hpp
 env.hpp
 exception.hpp
 format_detection.hpp
 global.hpp
 info.hpp
 interface.hpp
 json_document_tree.hpp
 json_global.hpp
 json_parser.hpp
 json_parser_base.hpp
 json_parser_thread.hpp
 json_structure_tree.hpp
 measurement.hpp
 orcus_csv.hpp
 orcus_gnumeric.hpp
 orcus_import_ods.hpp
 orcus_import_xlsx.hpp
 orcus_json.hpp
 orcus_ods.hpp
 orcus_xls_xml.hpp
 orcus_xlsx.hpp
 orcus_xml.hpp
 parser_base.hpp
 parser_global.hpp
 pstring.hpp
 sax_ns_parser.hpp
 sax_parser.hpp
 sax_parser_base.hpp
 sax_token_parser.hpp
 sax_token_parser_thread.hpp
 stream.hpp
 string_pool.hpp
 threaded_json_parser.hpp
 threaded_sax_token_parser.hpp
 tokens.hpp
 types.hpp
 xml_namespace.hpp
 xml_structure_tree.hpp
 yaml_document_tree.hpp
 yaml_parser.hpp
 yaml_parser_base.hpp
 zip_archive.hpp
 zip_archive_stream.hpp
include/orcus-%%VER%%/orcus/detail/
 parser_token_buffer.hpp
 thread.hpp
include/orcus-%%VER%%/orcus/mso/encryption_info.hpp
include/orcus-%%VER%%/orcus/spreadsheet/
 auto_filter.hpp
 config.hpp
 document.hpp
 export_interface.hpp
 factory.hpp
 import_interface.hpp
 import_interface_pivot.hpp
 import_interface_view.hpp
 pivot.hpp
 shared_strings.hpp
 sheet.hpp
 sheet_range.hpp
 styles.hpp
 types.hpp
 view.hpp
 view_types.hpp
lib/
 libliborcus-%%VER%%.so
 libliborcus-parser-%%VER%%.so
 libliborcus-spreadsheet-model-%%VER%%.so


[FILE:319:patches/patch-src_liborcus_json__map__tree.cpp]
--- src/liborcus/json_map_tree.cpp.orig	2019-10-10 00:46:55 UTC
+++ src/liborcus/json_map_tree.cpp
@@ -14,6 +14,8 @@
 
 namespace orcus {
 
+constexpr json_map_tree::child_position_type json_map_tree::node_child_default_position;
+
 namespace {
 
 void throw_path_error(const char* file, int line, const pstring& path)

