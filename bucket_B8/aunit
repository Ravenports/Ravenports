# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		aunit
VERSION=		2018
KEYWORDS=		devel ada
VARIANTS=		standard
SDESC[standard]=	Ada unit testing framework
HOMEPAGE=		http://libre.adacore.com/tools/aunit/
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://downloads.dragonlace.net/src/
DISTFILE[1]=		aunit-gpl-2018-20180524-src.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs
			examples

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			ada:primary gmake gprbuild

DISTNAME=		aunit-gpl-2018-src

LICENSE=		GPLv3+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}/COPYING3
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/include/aunit/framework/aunit.ads
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/aunit

INSTALL_REQ_TOOLCHAIN=	yes

post-patch:
	${REINPLACE_CMD} -e 's|LIBDIR|MYLIBDIR|' \
		${WRKSRC}/lib/gnat/aunit_shared.gpr

post-install:
	${RM} -r ${STAGEDIR}${PREFIX}/lib/gnat/manifests

[FILE:483:descriptions/desc.primary.standard]
AUnit is a set of Ada packages based on the xUnit family of unit test
frameworks. It is intended as a developer's tool to facilitate confident
writing and evolution of Ada software. It is purposely lightweight, as
one of its main goals is to make it easy to develop and run unit tests,
rather than to generate artifacts for process management. The framework
supports easy composition of sets of unit tests to provide flexibility
in determining what tests to run for a given purpose.


[FILE:113:distinfo]
4a1a1ee4b5b8535b675c4bc6767a22ecc26cf83a3c3c25749053d63b7604a07f       639544 aunit-gpl-2018-20180524-src.tar.gz


[FILE:1535:manifests/plist.primary.standard]
include/aunit/
 ada_containers-aunit_lists.adb
 ada_containers-aunit_lists.ads
 ada_containers.ads
 aunit-assertions-assert_exception.adb
 aunit-assertions.adb
 aunit-assertions.ads
 aunit-memory-utils.adb
 aunit-memory-utils.ads
 aunit-memory.adb
 aunit-memory.ads
 aunit-options.ads
 aunit-reporter-gnattest.adb
 aunit-reporter-gnattest.ads
 aunit-reporter-text.adb
 aunit-reporter-text.ads
 aunit-reporter-xml.adb
 aunit-reporter-xml.ads
 aunit-reporter.ads
 aunit-run.adb
 aunit-run.ads
 aunit-simple_test_cases-run_routine.adb
 aunit-simple_test_cases.adb
 aunit-simple_test_cases.ads
 aunit-test_caller.adb
 aunit-test_caller.ads
 aunit-test_cases-registration.adb
 aunit-test_cases.adb
 aunit-test_cases.ads
 aunit-test_filters.adb
 aunit-test_filters.ads
 aunit-test_fixtures.adb
 aunit-test_fixtures.ads
 aunit-test_results.adb
 aunit-test_results.ads
 aunit-test_suites.adb
 aunit-test_suites.ads
 aunit-tests.ads
 aunit-time_measure.adb
 aunit-time_measure.ads
 aunit.adb
 aunit.ads
lib/aunit/
 ada_containers-aunit_lists.ali
 ada_containers.ali
 aunit-assertions.ali
 aunit-memory-utils.ali
 aunit-memory.ali
 aunit-options.ali
 aunit-reporter-gnattest.ali
 aunit-reporter-text.ali
 aunit-reporter-xml.ali
 aunit-reporter.ali
 aunit-run.ali
 aunit-simple_test_cases.ali
 aunit-test_caller.ali
 aunit-test_cases.ali
 aunit-test_filters.ali
 aunit-test_fixtures.ali
 aunit-test_results.ali
 aunit-test_suites.ali
 aunit-tests.ali
 aunit-time_measure.ali
 aunit.ali
 libaunit.a
lib/gnat/aunit.gpr
share/gps/plug-ins/aunit.xml


[FILE:1335:manifests/plist.docs.standard]
share/doc/aunit/html/aunit_cb/
 .buildinfo
 aunit_cb.html
 genindex.html
 objects.inv
 search.html
 searchindex.js
share/doc/aunit/html/aunit_cb/_sources/aunit_cb.txt
share/doc/aunit/html/aunit_cb/_sources/aunit_cb/
 fixture.txt
 gps_support.txt
 installation_and_use.txt
 introduction.txt
 overview.txt
 reporting.txt
 suite.txt
 test_case.txt
 test_organization.txt
 using_aunit_with_restricted_run-time_libraries.txt
share/doc/aunit/html/aunit_cb/_sources/share/gnu_free_documentation_license.txt
share/doc/aunit/html/aunit_cb/_static/
 adacore_transparent.png
 ajax-loader.gif
 basic.css
 comment-bright.png
 comment-close.png
 comment.png
 contents.png
 doctools.js
 down-pressed.png
 down.png
 favicon.ico
 file.png
 jquery-1.11.1.js
 jquery.js
 minus.png
 navigation.png
 plus.png
 pygments.css
 searchtools.js
 sphinxdoc.css
 underscore-1.3.1.js
 underscore.js
 up-pressed.png
 up.png
 websupport.js
share/doc/aunit/html/aunit_cb/aunit_cb/
 fixture.html
 gps_support.html
 installation_and_use.html
 introduction.html
 overview.html
 reporting.html
 suite.html
 test_case.html
 test_organization.html
 using_aunit_with_restricted_run-time_libraries.html
share/doc/aunit/html/aunit_cb/share/gnu_free_documentation_license.html
share/doc/aunit/info/aunit_cb.info
share/doc/aunit/pdf/aunit_cb.pdf
share/doc/aunit/txt/aunit_cb.txt


[FILE:2962:manifests/plist.examples.standard]
share/examples/aunit/calculator/
 Makefile
 harness.gpr
share/examples/aunit/calculator/fixture/
 main_suite.adb
 main_suite.ads
 operands-ints-test-suite.adb
 operands-ints-test-suite.ads
 operations-addition-test-suite.ads
 operations-binary-gen_test-gen_suite.adb
 operations-binary-gen_test-gen_suite.ads
 operations-subtraction-test-suite.ads
 stack-test-suite.adb
 stack-test-suite.ads
 test_calculator.adb
share/examples/aunit/calculator/tested_lib/testlib.gpr
share/examples/aunit/calculator/tested_lib/src/
 operands-ints.adb
 operands-ints.ads
 operands.ads
 operations-addition.ads
 operations-binary.adb
 operations-binary.ads
 operations-ints.adb
 operations-ints.ads
 operations-subtraction.ads
 operations.ads
 stack.adb
 stack.ads
share/examples/aunit/calculator/tests/
 operands-ints-test.adb
 operands-ints-test.ads
 operations-addition-test.ads
 operations-addition_test_fixture.adb
 operations-addition_test_fixture.ads
 operations-binary-gen_test.adb
 operations-binary-gen_test.ads
 operations-subtraction-test.ads
 operations-subtraction_test_fixture.adb
 operations-subtraction_test_fixture.ads
 stack-test.adb
 stack-test.ads
share/examples/aunit/failures/
 Makefile
 harness.gpr
share/examples/aunit/failures/tested_lib/testlib.gpr
share/examples/aunit/failures/tested_lib/src/
 math.adb
 math.ads
share/examples/aunit/failures/tests/
 math-test.adb
 math-test.ads
 math_suite.adb
 math_suite.ads
 test_math.adb
share/examples/aunit/liskov/
 Makefile
 harness.gpr
share/examples/aunit/liskov/tested_lib/testlib.gpr
share/examples/aunit/liskov/tested_lib/src/
 rectangle.adb
 rectangle.ads
 shape.adb
 shape.ads
 square.adb
 square.ads
share/examples/aunit/liskov/tests/
 my_suite.adb
 my_suite.ads
 rectangle-tests-suite.adb
 rectangle-tests-suite.ads
 rectangle-tests.adb
 rectangle-tests.ads
 shape-tests.adb
 shape-tests.ads
 square-tests-suite.adb
 square-tests-suite.ads
 square-tests-suite_liskov.adb
 square-tests-suite_liskov.ads
 square-tests.adb
 square-tests.ads
 test_liskov.adb
share/examples/aunit/simple_test/
 Makefile
 harness.gpr
share/examples/aunit/simple_test/tested_lib/testlib.gpr
share/examples/aunit/simple_test/tested_lib/src/
 math.adb
 math.ads
share/examples/aunit/simple_test/tests/
 math-test.adb
 math-test.ads
 math_suite.adb
 math_suite.ads
 test_math.adb
share/examples/aunit/test_caller/Makefile
share/examples/aunit/test_caller/harness/harness.gpr
share/examples/aunit/test_caller/harness/src/
 math-test.adb
 math-test.ads
 math_suite.adb
 math_suite.ads
 test_math.adb
share/examples/aunit/test_caller/tested_lib/testlib.gpr
share/examples/aunit/test_caller/tested_lib/src/
 math.adb
 math.ads
share/examples/aunit/test_fixture/
 Makefile
 harness.gpr
share/examples/aunit/test_fixture/tested_lib/testlib.gpr
share/examples/aunit/test_fixture/tested_lib/src/
 math.adb
 math.ads
share/examples/aunit/test_fixture/tests/
 math-test.adb
 math-test.ads
 math_suite.adb
 math_suite.ads
 test_math.adb


[FILE:556:patches/patch-Makefile]
--- Makefile.orig	2017-12-20 16:28:37 UTC
+++ Makefile
@@ -4,7 +4,7 @@ GPRBUILD  = gprbuild
 GPRCLEAN = gprclean
 GPRINSTALL = gprinstall
 
-INSTALL:=$(shell exec=`which gprbuild`;if [ ! -x "$$exec" ]; then unset exec;fi;echo $$exec | sed -e 's/\/bin\/$(GPRBUILD).*//')
+INSTALL:=$(DESTDIR)$(PREFIX)
 
 ifeq ($(RTS),)
    RTS=full
@@ -50,7 +50,7 @@ endif
 
 install: install-clean
 	$(GPRINSTALL) $(GPROPTS) -p -f --prefix=$(INSTALL) \
-		--no-build-var lib/gnat/aunit.gpr
+	--project-subdir=lib/gnat --no-build-var lib/gnat/aunit.gpr
 
 .PHONY: doc
 doc:

