# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gdbm
VERSION=		1.20
KEYWORDS=		databases
VARIANTS=		standard static
SDESC[standard]=	GNU database manager
SDESC[static]=		GNU database manager (static-only without NLS)
HOMEPAGE=		http://www.gnu.org/software/gdbm/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/gdbm
DISTFILE[1]=		gdbm-1.20.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			nls
SPKGS[static]=		complete
			primary
			tools

OPTIONS_AVAILABLE=	STATIC
OPTIONS_STANDARD=	none
VOPTS[static]=		STATIC=ON

EXRUN[tools]=		readline:single:standard

USES=			gmake libtool:keepla solfix

LICENSE=		GPLv2+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"Protection for multiple"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/gdbm.h.in
LICENSE_SCHEME=		solo

INFO=			primary:gdbm
FPC_EQUIVALENT=		databases/gdbm
INFO_SUBDIR=		.

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-libgdbm-compat
			--enable-static

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		6.0.0

[STATIC].DESCRIPTION=			Build static library only variant
[STATIC].BUILD_DEPENDS_ON=		readline:single:standard
[STATIC].CFLAGS_ON=			-fPIC
					-DPIC
[STATIC].CONFIGURE_ARGS_OFF=		--enable-nls
					--enable-shared
[STATIC].CONFIGURE_ARGS_ON=		--disable-nls
					--disable-shared
[STATIC].USES_OFF=			readline
					gettext-runtime

post-patch:
	${REINPLACE_CMD} -e "s|LIBS = @LIBS@ -lc|LIBS = @LIBS@|" \
		-e "s|BINOWN = bin|BINOWN = root|" \
		-e "s|BINGRP = bin|BINGRP = wheel|" \
		-e "s|libgdbm.la libgdbm_compat.la|& gdbm.info|" \
			${WRKSRC}/Makefile.in

[FILE:226:descriptions/desc.primary]
The GNU dbm is a library of database functions that use extensible hashing
and works similar to the standard UNIX dbm functions.  These routines are
provided to a programmer needing to create and manipulate a hashed
database.


[FILE:312:descriptions/desc.primary.static]
The GNU dbm is a library of database functions that use extensible hashing
and works similar to the standard UNIX dbm functions.  These routines are
provided to a programmer needing to create and manipulate a hashed
database.

This package contains a static-only version of the library without
any binary tools.


[FILE:78:descriptions/desc.tools.static]
This package contains the tools of the static variant of the
gdbm ravenports.


[FILE:95:distinfo]
3aeac05648b3482a10a2da986b9f3a380a29ad650be80b9817a435fb8114a292       987628 gdbm-1.20.tar.gz


[FILE:349:manifests/plist.primary]
bin/
 gdbm_dump
 gdbm_load
 gdbmtool
include/
 dbm.h
 gdbm.h
 ndbm.h
lib/
 libgdbm.a
 libgdbm.la
 libgdbm.so
 libgdbm.so.%%SOMAJOR%%
 libgdbm.so.%%SOVERSION%%
 libgdbm_compat.a
 libgdbm_compat.la
 libgdbm_compat.so
 libgdbm_compat.so.4
 libgdbm_compat.so.4.0.0
share/man/man1/
 gdbm_dump.1.gz
 gdbm_load.1.gz
 gdbmtool.1.gz
share/man/man3/gdbm.3.gz


[FILE:507:manifests/plist.nls]
share/locale/da/LC_MESSAGES/gdbm.mo
share/locale/de/LC_MESSAGES/gdbm.mo
share/locale/eo/LC_MESSAGES/gdbm.mo
share/locale/es/LC_MESSAGES/gdbm.mo
share/locale/fi/LC_MESSAGES/gdbm.mo
share/locale/fr/LC_MESSAGES/gdbm.mo
share/locale/ja/LC_MESSAGES/gdbm.mo
share/locale/pl/LC_MESSAGES/gdbm.mo
share/locale/pt_BR/LC_MESSAGES/gdbm.mo
share/locale/ru/LC_MESSAGES/gdbm.mo
share/locale/sr/LC_MESSAGES/gdbm.mo
share/locale/sv/LC_MESSAGES/gdbm.mo
share/locale/uk/LC_MESSAGES/gdbm.mo
share/locale/vi/LC_MESSAGES/gdbm.mo


[FILE:122:manifests/plist.primary.static]
include/
 dbm.h
 gdbm.h
 ndbm.h
lib/
 libgdbm.a
 libgdbm.la
 libgdbm_compat.a
 libgdbm_compat.la
share/man/man3/gdbm.3.gz


[FILE:100:manifests/plist.tools.static]
bin/
 gdbm_dump
 gdbm_load
 gdbmtool
share/man/man1/
 gdbm_dump.1.gz
 gdbm_load.1.gz
 gdbmtool.1.gz

