# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		bc
VERSION=		1.07.1
KEYWORDS=		math
VARIANTS=		standard
SDESC[standard]=	GNU Command Line Calculator
HOMEPAGE=		http://www.gnu.org/software/bc/bc.html
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/bc
DISTFILE[1]=		bc-1.07.1.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		ed:single:standard

USES=			makeinfo readline

LICENSE=		GPLv3+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/dc/dc.h
LICENSE_SCHEME=		solo

INFO=			single:bc
			single:dc
INFO_SUBDIR=		.

INVALID_RPATH=		yes
MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-readline

[FILE:547:descriptions/desc.single]
Bc is an arbitrary precision calculator language.  Syntax is similar to C,
but differs in many substantial areas.  It supports interactive execution
of statements

It can also be used as a simple console-based calculator.

This GNU version of bc contains several extensions beyond traditional bc
implementations and the POSIX draft standard.

This package also includes dc, another arbitrary precision calculator.
Dc is a reverse-polish desk calculator which supports unlimited
precision arithmetic.  It also allows you to define and call macros.


[FILE:95:distinfo]
62adfca89b0a1c0164c2cdca59ca210c1d44c3ffc46daf9931cf4942664cb02a       419850 bc-1.07.1.tar.gz


[FILE:47:manifests/plist.single]
bin/
 bc
 dc
share/man/man1/
 bc.1.gz
 dc.1.gz


[FILE:469:patches/patch-bc_Makefile.in]
--- bc/Makefile.in.orig	2017-04-07 22:20:01 UTC
+++ bc/Makefile.in
@@ -627,7 +627,7 @@ global.o: libmath.h
 libmath.h: libmath.b $(fbcOBJ) $(LIBBC)
 	echo '{0}' > libmath.h
 	$(MAKE) global.o
-	$(LINK) -o fbc $(fbcOBJ) global.o $(LIBBC) $(LIBL) $(READLINELIB) $(LIBS)
+	$(CCLD) $(CFLAGS) $(LDFLAGS) -o fbc $(fbcOBJ) global.o $(LIBBC) $(LIBL) $(READLINELIB) $(LIBS)
 	./fbc -c $(srcdir)/libmath.b </dev/null >libmath.h
 	$(srcdir)/fix-libmath_h
 	rm -f ./fbc ./global.o


[FILE:148:patches/patch-bc_fix-libmath__h]
--- bc/fix-libmath_h.orig	2017-04-07 22:20:02 UTC
+++ bc/fix-libmath_h
@@ -1,3 +1,4 @@
+#!/bin/sh
 ed libmath.h <<EOS-EOS
 1,1s/^/{"/
 1,\$s/\$/",/

