# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		curl
VERSION=		8.15.0
KEYWORDS=		ftp net www
VARIANTS=		std embed
SDESC[std]=		Tool and library for transferring data with URLs
SDESC[embed]=		Tiny curl PIC, http/s, file, scp protocol only
HOMEPAGE=		https://curl.haxx.se/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://curl.haxx.se/download/
DISTFILE[1]=		curl-8.15.0.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			tools
			man
			examples
			docs
SPKGS[embed]=		set
			primary
			dev
			tools

OPTIONS_AVAILABLE=	EMBED
OPTIONS_STANDARD=	EMBED
VOPTS[embed]=		EMBED=ON

EXRUN[tools]=		primary
EXRUN[dev]=		libnghttp2:dev:std
			libressl:dev:std
			zlib:dev:std

USES=			cpe gmake libtool perl:build pkgconfig shebangfix
			zlib:build rootca:tools

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

CPE_PRODUCT=		libcurl
CPE_VENDOR=		haxx
FPC_EQUIVALENT=		ftp/curl
SHEBANG_FILES=		*/*.pl

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-werror
			--with-ca-bundle={{LOCALBASE}}/share/certs/ca-root-nss.crt
CONFIGURE_ENV=		LOCALBASE={{LOCALBASE}}

SOVERSION=		4.8.0

TEST_TARGET=		test

[EMBED].DESCRIPTION=			Tiny build - http/s, file, scp via libssh2
[EMBED].BUILDRUN_DEPENDS_OFF=		libnghttp2:primary:std
[EMBED].BUILD_DEPENDS_OFF=		libnghttp2:dev:std
					groff:primary:std
[EMBED].BUILD_DEPENDS_ON=		libssh2:dev:embed
					mbedtls:dev:std
[EMBED].CONFIGURE_ARGS_OFF=		--with-ssl={{OPENSSLBASE}}
					--with-mbedtls=no
[EMBED].CONFIGURE_ARGS_ON=		--with-mbedtls={{LOCALBASE}}
[EMBED].CPPFLAGS_OFF=			-I{{OPENSSLINC}}
[EMBED].LDFLAGS_OFF=			-L{{OPENSSLLIB}}
[EMBED].USES_OFF=			ssl

pre-configure-EMBED-ON:
	# copy pic library build script
	${CP} ${FILESDIR}/build_curl_pic.sh ${WRKSRC}/

post-build-EMBED-ON:
	(cd ${WRKSRC} && ${SH} ./build_curl_pic.sh)

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libcurl.so

post-install-EMBED-ON:
	${RM} -r ${STAGEDIR}${MANPREFIX}/man/man*
	${INSTALL_DATA} ${WRKSRC}/libcurl_pic.a ${STAGEDIR}${PREFIX}/lib/

pre-configure:
	${REINPLACE_CMD} -e '/^SUBDIRS = / s|$$| docs scripts|; /^DIST_SUBDIRS = / s| docs scripts||; /cd docs &&/d' \
		${WRKSRC}/Makefile.in
	${REINPLACE_CMD} -e 's|\(flags_dbg_off=\)".*"|\1""|; s|\(flags_opt_off=\)".*"|\1""|' \
		${WRKSRC}/configure
	${REINPLACE_CMD} -e 's|include <gssapi.h>|include <gssapi/gssapi.h>|' \
		${WRKSRC}/lib/curl_gssapi.h ${WRKSRC}/lib/urldata.h

post-install-EMBED-OFF:
	${MKDIR} ${STAGEDIR}${STD_DOCDIR}/libcurl \
		${STAGEDIR}${STD_EXAMPLESDIR}
	(cd ${WRKSRC}/docs/ && \
		${INSTALL_DATA} FAQ INSTALL KNOWN_BUGS THANKS TODO options-in-versions *.md ${STAGEDIR}${STD_DOCDIR}/)
	(cd ${WRKSRC}/docs/libcurl/ && ${INSTALL_DATA} \
		*.m4 ${STAGEDIR}${STD_DOCDIR}/libcurl/)
	(cd ${WRKSRC}/docs/examples/ && ${INSTALL_DATA} \
		README.md Makefile.example *.c *.cpp \
		${STAGEDIR}${STD_EXAMPLESDIR}/)

pre-configure-EMBED-OFF:
	# fix libcurl.pc
	${REINPLACE_CMD} -e '/^Libs.private:/ s|:|: -L${OPENSSLLIB}|' \
		${WRKSRC}/libcurl.pc.in

[FILE:845:descriptions/desc.primary]
Command line tool and library for transferring data with URLs.

curl is used in command lines or scripts to transfer data. It is also
used in cars, television sets, routers, printers, audio equipment, mobile
phones, tablets, settop boxes, media players and is the internet transfer
backbone for thousands of software applications affecting billions of
humans daily.

Protocols:
DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS,
MQTT, POP3, POP3S, RTSP, SMB, SMBS, SMTP, SMTPS, TELNET and TFTP

Not currently supported:
LDAP, LDAPS, RTMP, SCP & SFTP (see embed variant)

curl supports SSL certificates, HTTP POST, HTTP PUT, FTP uploading, HTTP
form based upload, proxies, HTTP/2, cookies, user+password authentication
(Basic, Plain, Digest, CRAM-MD5, NTLM, Negotiate and Kerberos),
file transfer resume, proxy tunneling and more.


[FILE:53:descriptions/desc.tools]
This package contains the curl command line program.


[FILE:116:descriptions/desc.primary.embed]
Minimal Command line tool and library for transferring data with URLs.

Protocols:        
FILE HTTP HTTPS SCP SFTP


[FILE:97:distinfo]
6cd0a8a5b126ddfda61c94dc2c3fc53481ba7a35461cf7c5ab66aa9d6775b609      2773156 curl-8.15.0.tar.xz


[FILE:55:manifests/plist.primary]
lib/
 libcurl.so.%%SOMAJOR%%
 libcurl.so.%%SOVERSION%%


[FILE:272:manifests/plist.dev]
%%EMBED-ON%%lib/libcurl_pic.a
bin/curl-config
include/curl/
 curl.h
 curlver.h
 easy.h
 header.h
 mprintf.h
 multi.h
 options.h
 stdcheaders.h
 system.h
 typecheck-gcc.h
 urlapi.h
 websockets.h
lib/
 libcurl.a
 libcurl.so
lib/pkgconfig/libcurl.pc
share/aclocal/libcurl.m4


[FILE:82:manifests/plist.tools]
bin/
 curl
 wcurl
share/fish/completions/curl.fish
share/zsh/site-functions/_curl


[FILE:12412:manifests/plist.man]
share/man/man1/
 curl-config.1
 curl.1
 wcurl.1
share/man/man3/
 CURLINFO_ACTIVESOCKET.3
 CURLINFO_APPCONNECT_TIME.3
 CURLINFO_APPCONNECT_TIME_T.3
 CURLINFO_CAINFO.3
 CURLINFO_CAPATH.3
 CURLINFO_CERTINFO.3
 CURLINFO_CONDITION_UNMET.3
 CURLINFO_CONNECT_TIME.3
 CURLINFO_CONNECT_TIME_T.3
 CURLINFO_CONN_ID.3
 CURLINFO_CONTENT_LENGTH_DOWNLOAD.3
 CURLINFO_CONTENT_LENGTH_DOWNLOAD_T.3
 CURLINFO_CONTENT_LENGTH_UPLOAD.3
 CURLINFO_CONTENT_LENGTH_UPLOAD_T.3
 CURLINFO_CONTENT_TYPE.3
 CURLINFO_COOKIELIST.3
 CURLINFO_EARLYDATA_SENT_T.3
 CURLINFO_EFFECTIVE_METHOD.3
 CURLINFO_EFFECTIVE_URL.3
 CURLINFO_FILETIME.3
 CURLINFO_FILETIME_T.3
 CURLINFO_FTP_ENTRY_PATH.3
 CURLINFO_HEADER_SIZE.3
 CURLINFO_HTTPAUTH_AVAIL.3
 CURLINFO_HTTPAUTH_USED.3
 CURLINFO_HTTP_CONNECTCODE.3
 CURLINFO_HTTP_VERSION.3
 CURLINFO_LASTSOCKET.3
 CURLINFO_LOCAL_IP.3
 CURLINFO_LOCAL_PORT.3
 CURLINFO_NAMELOOKUP_TIME.3
 CURLINFO_NAMELOOKUP_TIME_T.3
 CURLINFO_NUM_CONNECTS.3
 CURLINFO_OS_ERRNO.3
 CURLINFO_POSTTRANSFER_TIME_T.3
 CURLINFO_PRETRANSFER_TIME.3
 CURLINFO_PRETRANSFER_TIME_T.3
 CURLINFO_PRIMARY_IP.3
 CURLINFO_PRIMARY_PORT.3
 CURLINFO_PRIVATE.3
 CURLINFO_PROTOCOL.3
 CURLINFO_PROXYAUTH_AVAIL.3
 CURLINFO_PROXYAUTH_USED.3
 CURLINFO_PROXY_ERROR.3
 CURLINFO_PROXY_SSL_VERIFYRESULT.3
 CURLINFO_QUEUE_TIME_T.3
 CURLINFO_REDIRECT_COUNT.3
 CURLINFO_REDIRECT_TIME.3
 CURLINFO_REDIRECT_TIME_T.3
 CURLINFO_REDIRECT_URL.3
 CURLINFO_REFERER.3
 CURLINFO_REQUEST_SIZE.3
 CURLINFO_RESPONSE_CODE.3
 CURLINFO_RETRY_AFTER.3
 CURLINFO_RTSP_CLIENT_CSEQ.3
 CURLINFO_RTSP_CSEQ_RECV.3
 CURLINFO_RTSP_SERVER_CSEQ.3
 CURLINFO_RTSP_SESSION_ID.3
 CURLINFO_SCHEME.3
 CURLINFO_SIZE_DOWNLOAD.3
 CURLINFO_SIZE_DOWNLOAD_T.3
 CURLINFO_SIZE_UPLOAD.3
 CURLINFO_SIZE_UPLOAD_T.3
 CURLINFO_SPEED_DOWNLOAD.3
 CURLINFO_SPEED_DOWNLOAD_T.3
 CURLINFO_SPEED_UPLOAD.3
 CURLINFO_SPEED_UPLOAD_T.3
 CURLINFO_SSL_ENGINES.3
 CURLINFO_SSL_VERIFYRESULT.3
 CURLINFO_STARTTRANSFER_TIME.3
 CURLINFO_STARTTRANSFER_TIME_T.3
 CURLINFO_TLS_SESSION.3
 CURLINFO_TLS_SSL_PTR.3
 CURLINFO_TOTAL_TIME.3
 CURLINFO_TOTAL_TIME_T.3
 CURLINFO_USED_PROXY.3
 CURLINFO_XFER_ID.3
 CURLMOPT_CHUNK_LENGTH_PENALTY_SIZE.3
 CURLMOPT_CONTENT_LENGTH_PENALTY_SIZE.3
 CURLMOPT_MAXCONNECTS.3
 CURLMOPT_MAX_CONCURRENT_STREAMS.3
 CURLMOPT_MAX_HOST_CONNECTIONS.3
 CURLMOPT_MAX_PIPELINE_LENGTH.3
 CURLMOPT_MAX_TOTAL_CONNECTIONS.3
 CURLMOPT_PIPELINING.3
 CURLMOPT_PIPELINING_SERVER_BL.3
 CURLMOPT_PIPELINING_SITE_BL.3
 CURLMOPT_PUSHDATA.3
 CURLMOPT_PUSHFUNCTION.3
 CURLMOPT_SOCKETDATA.3
 CURLMOPT_SOCKETFUNCTION.3
 CURLMOPT_TIMERDATA.3
 CURLMOPT_TIMERFUNCTION.3
 CURLOPT_ABSTRACT_UNIX_SOCKET.3
 CURLOPT_ACCEPTTIMEOUT_MS.3
 CURLOPT_ACCEPT_ENCODING.3
 CURLOPT_ADDRESS_SCOPE.3
 CURLOPT_ALTSVC.3
 CURLOPT_ALTSVC_CTRL.3
 CURLOPT_APPEND.3
 CURLOPT_AUTOREFERER.3
 CURLOPT_AWS_SIGV4.3
 CURLOPT_BUFFERSIZE.3
 CURLOPT_CAINFO.3
 CURLOPT_CAINFO_BLOB.3
 CURLOPT_CAPATH.3
 CURLOPT_CA_CACHE_TIMEOUT.3
 CURLOPT_CERTINFO.3
 CURLOPT_CHUNK_BGN_FUNCTION.3
 CURLOPT_CHUNK_DATA.3
 CURLOPT_CHUNK_END_FUNCTION.3
 CURLOPT_CLOSESOCKETDATA.3
 CURLOPT_CLOSESOCKETFUNCTION.3
 CURLOPT_CONNECTTIMEOUT.3
 CURLOPT_CONNECTTIMEOUT_MS.3
 CURLOPT_CONNECT_ONLY.3
 CURLOPT_CONNECT_TO.3
 CURLOPT_CONV_FROM_NETWORK_FUNCTION.3
 CURLOPT_CONV_FROM_UTF8_FUNCTION.3
 CURLOPT_CONV_TO_NETWORK_FUNCTION.3
 CURLOPT_COOKIE.3
 CURLOPT_COOKIEFILE.3
 CURLOPT_COOKIEJAR.3
 CURLOPT_COOKIELIST.3
 CURLOPT_COOKIESESSION.3
 CURLOPT_COPYPOSTFIELDS.3
 CURLOPT_CRLF.3
 CURLOPT_CRLFILE.3
 CURLOPT_CURLU.3
 CURLOPT_CUSTOMREQUEST.3
 CURLOPT_DEBUGDATA.3
 CURLOPT_DEBUGFUNCTION.3
 CURLOPT_DEFAULT_PROTOCOL.3
 CURLOPT_DIRLISTONLY.3
 CURLOPT_DISALLOW_USERNAME_IN_URL.3
 CURLOPT_DNS_CACHE_TIMEOUT.3
 CURLOPT_DNS_INTERFACE.3
 CURLOPT_DNS_LOCAL_IP4.3
 CURLOPT_DNS_LOCAL_IP6.3
 CURLOPT_DNS_SERVERS.3
 CURLOPT_DNS_SHUFFLE_ADDRESSES.3
 CURLOPT_DNS_USE_GLOBAL_CACHE.3
 CURLOPT_DOH_SSL_VERIFYHOST.3
 CURLOPT_DOH_SSL_VERIFYPEER.3
 CURLOPT_DOH_SSL_VERIFYSTATUS.3
 CURLOPT_DOH_URL.3
 CURLOPT_ECH.3
 CURLOPT_EGDSOCKET.3
 CURLOPT_ERRORBUFFER.3
 CURLOPT_EXPECT_100_TIMEOUT_MS.3
 CURLOPT_FAILONERROR.3
 CURLOPT_FILETIME.3
 CURLOPT_FNMATCH_DATA.3
 CURLOPT_FNMATCH_FUNCTION.3
 CURLOPT_FOLLOWLOCATION.3
 CURLOPT_FORBID_REUSE.3
 CURLOPT_FRESH_CONNECT.3
 CURLOPT_FTPPORT.3
 CURLOPT_FTPSSLAUTH.3
 CURLOPT_FTP_ACCOUNT.3
 CURLOPT_FTP_ALTERNATIVE_TO_USER.3
 CURLOPT_FTP_CREATE_MISSING_DIRS.3
 CURLOPT_FTP_FILEMETHOD.3
 CURLOPT_FTP_SKIP_PASV_IP.3
 CURLOPT_FTP_SSL_CCC.3
 CURLOPT_FTP_USE_EPRT.3
 CURLOPT_FTP_USE_EPSV.3
 CURLOPT_FTP_USE_PRET.3
 CURLOPT_GSSAPI_DELEGATION.3
 CURLOPT_HAPPY_EYEBALLS_TIMEOUT_MS.3
 CURLOPT_HAPROXYPROTOCOL.3
 CURLOPT_HAPROXY_CLIENT_IP.3
 CURLOPT_HEADER.3
 CURLOPT_HEADERDATA.3
 CURLOPT_HEADERFUNCTION.3
 CURLOPT_HEADEROPT.3
 CURLOPT_HSTS.3
 CURLOPT_HSTSREADDATA.3
 CURLOPT_HSTSREADFUNCTION.3
 CURLOPT_HSTSWRITEDATA.3
 CURLOPT_HSTSWRITEFUNCTION.3
 CURLOPT_HSTS_CTRL.3
 CURLOPT_HTTP09_ALLOWED.3
 CURLOPT_HTTP200ALIASES.3
 CURLOPT_HTTPAUTH.3
 CURLOPT_HTTPGET.3
 CURLOPT_HTTPHEADER.3
 CURLOPT_HTTPPOST.3
 CURLOPT_HTTPPROXYTUNNEL.3
 CURLOPT_HTTP_CONTENT_DECODING.3
 CURLOPT_HTTP_TRANSFER_DECODING.3
 CURLOPT_HTTP_VERSION.3
 CURLOPT_IGNORE_CONTENT_LENGTH.3
 CURLOPT_INFILESIZE.3
 CURLOPT_INFILESIZE_LARGE.3
 CURLOPT_INTERFACE.3
 CURLOPT_INTERLEAVEDATA.3
 CURLOPT_INTERLEAVEFUNCTION.3
 CURLOPT_IOCTLDATA.3
 CURLOPT_IOCTLFUNCTION.3
 CURLOPT_IPRESOLVE.3
 CURLOPT_ISSUERCERT.3
 CURLOPT_ISSUERCERT_BLOB.3
 CURLOPT_KEEP_SENDING_ON_ERROR.3
 CURLOPT_KEYPASSWD.3
 CURLOPT_KRBLEVEL.3
 CURLOPT_LOCALPORT.3
 CURLOPT_LOCALPORTRANGE.3
 CURLOPT_LOGIN_OPTIONS.3
 CURLOPT_LOW_SPEED_LIMIT.3
 CURLOPT_LOW_SPEED_TIME.3
 CURLOPT_MAIL_AUTH.3
 CURLOPT_MAIL_FROM.3
 CURLOPT_MAIL_RCPT.3
 CURLOPT_MAIL_RCPT_ALLOWFAILS.3
 CURLOPT_MAXAGE_CONN.3
 CURLOPT_MAXCONNECTS.3
 CURLOPT_MAXFILESIZE.3
 CURLOPT_MAXFILESIZE_LARGE.3
 CURLOPT_MAXLIFETIME_CONN.3
 CURLOPT_MAXREDIRS.3
 CURLOPT_MAX_RECV_SPEED_LARGE.3
 CURLOPT_MAX_SEND_SPEED_LARGE.3
 CURLOPT_MIMEPOST.3
 CURLOPT_MIME_OPTIONS.3
 CURLOPT_NETRC.3
 CURLOPT_NETRC_FILE.3
 CURLOPT_NEW_DIRECTORY_PERMS.3
 CURLOPT_NEW_FILE_PERMS.3
 CURLOPT_NOBODY.3
 CURLOPT_NOPROGRESS.3
 CURLOPT_NOPROXY.3
 CURLOPT_NOSIGNAL.3
 CURLOPT_OPENSOCKETDATA.3
 CURLOPT_OPENSOCKETFUNCTION.3
 CURLOPT_PASSWORD.3
 CURLOPT_PATH_AS_IS.3
 CURLOPT_PINNEDPUBLICKEY.3
 CURLOPT_PIPEWAIT.3
 CURLOPT_PORT.3
 CURLOPT_POST.3
 CURLOPT_POSTFIELDS.3
 CURLOPT_POSTFIELDSIZE.3
 CURLOPT_POSTFIELDSIZE_LARGE.3
 CURLOPT_POSTQUOTE.3
 CURLOPT_POSTREDIR.3
 CURLOPT_PREQUOTE.3
 CURLOPT_PREREQDATA.3
 CURLOPT_PREREQFUNCTION.3
 CURLOPT_PRE_PROXY.3
 CURLOPT_PRIVATE.3
 CURLOPT_PROGRESSDATA.3
 CURLOPT_PROGRESSFUNCTION.3
 CURLOPT_PROTOCOLS.3
 CURLOPT_PROTOCOLS_STR.3
 CURLOPT_PROXY.3
 CURLOPT_PROXYAUTH.3
 CURLOPT_PROXYHEADER.3
 CURLOPT_PROXYPASSWORD.3
 CURLOPT_PROXYPORT.3
 CURLOPT_PROXYTYPE.3
 CURLOPT_PROXYUSERNAME.3
 CURLOPT_PROXYUSERPWD.3
 CURLOPT_PROXY_CAINFO.3
 CURLOPT_PROXY_CAINFO_BLOB.3
 CURLOPT_PROXY_CAPATH.3
 CURLOPT_PROXY_CRLFILE.3
 CURLOPT_PROXY_ISSUERCERT.3
 CURLOPT_PROXY_ISSUERCERT_BLOB.3
 CURLOPT_PROXY_KEYPASSWD.3
 CURLOPT_PROXY_PINNEDPUBLICKEY.3
 CURLOPT_PROXY_SERVICE_NAME.3
 CURLOPT_PROXY_SSLCERT.3
 CURLOPT_PROXY_SSLCERTTYPE.3
 CURLOPT_PROXY_SSLCERT_BLOB.3
 CURLOPT_PROXY_SSLKEY.3
 CURLOPT_PROXY_SSLKEYTYPE.3
 CURLOPT_PROXY_SSLKEY_BLOB.3
 CURLOPT_PROXY_SSLVERSION.3
 CURLOPT_PROXY_SSL_CIPHER_LIST.3
 CURLOPT_PROXY_SSL_OPTIONS.3
 CURLOPT_PROXY_SSL_VERIFYHOST.3
 CURLOPT_PROXY_SSL_VERIFYPEER.3
 CURLOPT_PROXY_TLS13_CIPHERS.3
 CURLOPT_PROXY_TLSAUTH_PASSWORD.3
 CURLOPT_PROXY_TLSAUTH_TYPE.3
 CURLOPT_PROXY_TLSAUTH_USERNAME.3
 CURLOPT_PROXY_TRANSFER_MODE.3
 CURLOPT_PUT.3
 CURLOPT_QUICK_EXIT.3
 CURLOPT_QUOTE.3
 CURLOPT_RANDOM_FILE.3
 CURLOPT_RANGE.3
 CURLOPT_READDATA.3
 CURLOPT_READFUNCTION.3
 CURLOPT_REDIR_PROTOCOLS.3
 CURLOPT_REDIR_PROTOCOLS_STR.3
 CURLOPT_REFERER.3
 CURLOPT_REQUEST_TARGET.3
 CURLOPT_RESOLVE.3
 CURLOPT_RESOLVER_START_DATA.3
 CURLOPT_RESOLVER_START_FUNCTION.3
 CURLOPT_RESUME_FROM.3
 CURLOPT_RESUME_FROM_LARGE.3
 CURLOPT_RTSP_CLIENT_CSEQ.3
 CURLOPT_RTSP_REQUEST.3
 CURLOPT_RTSP_SERVER_CSEQ.3
 CURLOPT_RTSP_SESSION_ID.3
 CURLOPT_RTSP_STREAM_URI.3
 CURLOPT_RTSP_TRANSPORT.3
 CURLOPT_SASL_AUTHZID.3
 CURLOPT_SASL_IR.3
 CURLOPT_SEEKDATA.3
 CURLOPT_SEEKFUNCTION.3
 CURLOPT_SERVER_RESPONSE_TIMEOUT.3
 CURLOPT_SERVER_RESPONSE_TIMEOUT_MS.3
 CURLOPT_SERVICE_NAME.3
 CURLOPT_SHARE.3
 CURLOPT_SOCKOPTDATA.3
 CURLOPT_SOCKOPTFUNCTION.3
 CURLOPT_SOCKS5_AUTH.3
 CURLOPT_SOCKS5_GSSAPI_NEC.3
 CURLOPT_SOCKS5_GSSAPI_SERVICE.3
 CURLOPT_SSH_AUTH_TYPES.3
 CURLOPT_SSH_COMPRESSION.3
 CURLOPT_SSH_HOSTKEYDATA.3
 CURLOPT_SSH_HOSTKEYFUNCTION.3
 CURLOPT_SSH_HOST_PUBLIC_KEY_MD5.3
 CURLOPT_SSH_HOST_PUBLIC_KEY_SHA256.3
 CURLOPT_SSH_KEYDATA.3
 CURLOPT_SSH_KEYFUNCTION.3
 CURLOPT_SSH_KNOWNHOSTS.3
 CURLOPT_SSH_PRIVATE_KEYFILE.3
 CURLOPT_SSH_PUBLIC_KEYFILE.3
 CURLOPT_SSLCERT.3
 CURLOPT_SSLCERTTYPE.3
 CURLOPT_SSLCERT_BLOB.3
 CURLOPT_SSLENGINE.3
 CURLOPT_SSLENGINE_DEFAULT.3
 CURLOPT_SSLKEY.3
 CURLOPT_SSLKEYTYPE.3
 CURLOPT_SSLKEY_BLOB.3
 CURLOPT_SSLVERSION.3
 CURLOPT_SSL_CIPHER_LIST.3
 CURLOPT_SSL_CTX_DATA.3
 CURLOPT_SSL_CTX_FUNCTION.3
 CURLOPT_SSL_EC_CURVES.3
 CURLOPT_SSL_ENABLE_ALPN.3
 CURLOPT_SSL_ENABLE_NPN.3
 CURLOPT_SSL_FALSESTART.3
 CURLOPT_SSL_OPTIONS.3
 CURLOPT_SSL_SESSIONID_CACHE.3
 CURLOPT_SSL_SIGNATURE_ALGORITHMS.3
 CURLOPT_SSL_VERIFYHOST.3
 CURLOPT_SSL_VERIFYPEER.3
 CURLOPT_SSL_VERIFYSTATUS.3
 CURLOPT_STDERR.3
 CURLOPT_STREAM_DEPENDS.3
 CURLOPT_STREAM_DEPENDS_E.3
 CURLOPT_STREAM_WEIGHT.3
 CURLOPT_SUPPRESS_CONNECT_HEADERS.3
 CURLOPT_TCP_FASTOPEN.3
 CURLOPT_TCP_KEEPALIVE.3
 CURLOPT_TCP_KEEPCNT.3
 CURLOPT_TCP_KEEPIDLE.3
 CURLOPT_TCP_KEEPINTVL.3
 CURLOPT_TCP_NODELAY.3
 CURLOPT_TELNETOPTIONS.3
 CURLOPT_TFTP_BLKSIZE.3
 CURLOPT_TFTP_NO_OPTIONS.3
 CURLOPT_TIMECONDITION.3
 CURLOPT_TIMEOUT.3
 CURLOPT_TIMEOUT_MS.3
 CURLOPT_TIMEVALUE.3
 CURLOPT_TIMEVALUE_LARGE.3
 CURLOPT_TLS13_CIPHERS.3
 CURLOPT_TLSAUTH_PASSWORD.3
 CURLOPT_TLSAUTH_TYPE.3
 CURLOPT_TLSAUTH_USERNAME.3
 CURLOPT_TRAILERDATA.3
 CURLOPT_TRAILERFUNCTION.3
 CURLOPT_TRANSFERTEXT.3
 CURLOPT_TRANSFER_ENCODING.3
 CURLOPT_UNIX_SOCKET_PATH.3
 CURLOPT_UNRESTRICTED_AUTH.3
 CURLOPT_UPKEEP_INTERVAL_MS.3
 CURLOPT_UPLOAD.3
 CURLOPT_UPLOAD_BUFFERSIZE.3
 CURLOPT_UPLOAD_FLAGS.3
 CURLOPT_URL.3
 CURLOPT_USERAGENT.3
 CURLOPT_USERNAME.3
 CURLOPT_USERPWD.3
 CURLOPT_USE_SSL.3
 CURLOPT_VERBOSE.3
 CURLOPT_WILDCARDMATCH.3
 CURLOPT_WRITEDATA.3
 CURLOPT_WRITEFUNCTION.3
 CURLOPT_WS_OPTIONS.3
 CURLOPT_XFERINFODATA.3
 CURLOPT_XFERINFOFUNCTION.3
 CURLOPT_XOAUTH2_BEARER.3
 CURLSHOPT_LOCKFUNC.3
 CURLSHOPT_SHARE.3
 CURLSHOPT_UNLOCKFUNC.3
 CURLSHOPT_UNSHARE.3
 CURLSHOPT_USERDATA.3
 curl_easy_cleanup.3
 curl_easy_duphandle.3
 curl_easy_escape.3
 curl_easy_getinfo.3
 curl_easy_header.3
 curl_easy_init.3
 curl_easy_nextheader.3
 curl_easy_option_by_id.3
 curl_easy_option_by_name.3
 curl_easy_option_next.3
 curl_easy_pause.3
 curl_easy_perform.3
 curl_easy_recv.3
 curl_easy_reset.3
 curl_easy_send.3
 curl_easy_setopt.3
 curl_easy_ssls_export.3
 curl_easy_ssls_import.3
 curl_easy_strerror.3
 curl_easy_unescape.3
 curl_easy_upkeep.3
 curl_escape.3
 curl_formadd.3
 curl_formfree.3
 curl_formget.3
 curl_free.3
 curl_getdate.3
 curl_getenv.3
 curl_global_cleanup.3
 curl_global_init.3
 curl_global_init_mem.3
 curl_global_sslset.3
 curl_global_trace.3
 curl_mime_addpart.3
 curl_mime_data.3
 curl_mime_data_cb.3
 curl_mime_encoder.3
 curl_mime_filedata.3
 curl_mime_filename.3
 curl_mime_free.3
 curl_mime_headers.3
 curl_mime_init.3
 curl_mime_name.3
 curl_mime_subparts.3
 curl_mime_type.3
 curl_mprintf.3
 curl_multi_add_handle.3
 curl_multi_assign.3
 curl_multi_cleanup.3
 curl_multi_fdset.3
 curl_multi_get_handles.3
 curl_multi_info_read.3
 curl_multi_init.3
 curl_multi_perform.3
 curl_multi_poll.3
 curl_multi_remove_handle.3
 curl_multi_setopt.3
 curl_multi_socket.3
 curl_multi_socket_action.3
 curl_multi_socket_all.3
 curl_multi_strerror.3
 curl_multi_timeout.3
 curl_multi_wait.3
 curl_multi_waitfds.3
 curl_multi_wakeup.3
 curl_pushheader_byname.3
 curl_pushheader_bynum.3
 curl_share_cleanup.3
 curl_share_init.3
 curl_share_setopt.3
 curl_share_strerror.3
 curl_slist_append.3
 curl_slist_free_all.3
 curl_strequal.3
 curl_strnequal.3
 curl_unescape.3
 curl_url.3
 curl_url_cleanup.3
 curl_url_dup.3
 curl_url_get.3
 curl_url_set.3
 curl_url_strerror.3
 curl_version.3
 curl_version_info.3
 curl_ws_meta.3
 curl_ws_recv.3
 curl_ws_send.3
 libcurl-easy.3
 libcurl-env-dbg.3
 libcurl-env.3
 libcurl-errors.3
 libcurl-multi.3
 libcurl-security.3
 libcurl-share.3
 libcurl-symbols.3
 libcurl-thread.3
 libcurl-tutorial.3
 libcurl-url.3
 libcurl-ws.3
 libcurl.3


[FILE:3265:patches/patch-configure]
--- configure.orig	2025-07-16 06:22:04 UTC
+++ configure
@@ -23494,14 +23494,14 @@ printf "%s\n" "found" >&6; }
     if test -z "$HAVE_LIBZ"; then
 
 
-      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for inflateEnd in -lz" >&5
-printf %s "checking for inflateEnd in -lz... " >&6; }
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for inflateEnd in -lz_pic" >&5
+printf %s "checking for inflateEnd in -lz_pic... " >&6; }
 if test ${ac_cv_lib_z_inflateEnd+y}
 then :
   printf %s "(cached) " >&6
 else $as_nop
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lz  $LIBS"
+LIBS="-lz_pic  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -23532,7 +23532,7 @@ if test "x$ac_cv_lib_z_inflateEnd" = xye
 then :
 
           HAVE_LIBZ="1"
-          ZLIB_LIBS="-lz"
+          ZLIB_LIBS="-lz_pic"
           LIBS="$ZLIB_LIBS $LIBS"
 
 else $as_nop
@@ -23563,7 +23563,7 @@ then :
   printf %s "(cached) " >&6
 else $as_nop
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lz  $LIBS"
+LIBS="-lz_pic  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -23594,7 +23594,7 @@ if test "x$ac_cv_lib_z_gzread" = xyes
 then :
 
                         HAVE_LIBZ="1"
-            ZLIB_LIBS="-lz"
+            ZLIB_LIBS="-lz_pic"
             LIBS="$ZLIB_LIBS $LIBS"
 
 else $as_nop
@@ -28626,7 +28626,7 @@ printf "%s\n" "found" >&6; }
   esac
 
     if test -n "$PREFIX_SSH2"; then
-    LIB_SSH2="-lssh2"
+    LIB_SSH2="-lssh2_pic"
     LD_SSH2=-L${PREFIX_SSH2}/lib$libsuff
     CPP_SSH2=-I${PREFIX_SSH2}/include
     DIR_SSH2=${PREFIX_SSH2}/lib$libsuff
@@ -28644,7 +28644,7 @@ then :
   printf %s "(cached) " >&6
 else $as_nop
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lssh2  $LIBS"
+LIBS="-lssh2_pic  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -28675,7 +28675,7 @@ if test "x$ac_cv_lib_ssh2_libssh2_free"
 then :
   printf "%s\n" "#define HAVE_LIBSSH2 1" >>confdefs.h
 
-  LIBS="-lssh2 $LIBS"
+  LIBS="-lssh2_pic $LIBS"
 
 fi
 
@@ -29928,32 +29928,33 @@ printf "%s\n" "found" >&6; }
       ;;
     off)
             LIB_RTMP="-lrtmp"
+            LD_RTMP=""
+            CPP_RTMP=""
+            DIR_RTMP=""
       ;;
     *)
             LIB_RTMP="-lrtmp"
+            LD_RTMP="-L${PREFIX_RTMP}/lib$libsuff"
+            CPP_RTMP="-I${PREFIX_RTMP}/include"
+            DIR_RTMP="${PREFIX_RTMP}/lib$libsuff"
       PREFIX_RTMP=$OPT_LIBRTMP
       ;;
   esac
 
-    if test -n "$PREFIX_RTMP"; then
-    LD_RTMP=-L${PREFIX_RTMP}/lib$libsuff
-    CPP_RTMP=-I${PREFIX_RTMP}/include
-    DIR_RTMP=${PREFIX_RTMP}/lib$libsuff
-  fi
 
   LDFLAGS="$LDFLAGS $LD_RTMP"
   LDFLAGSPC="$LDFLAGSPC $LD_RTMP"
   CPPFLAGS="$CPPFLAGS $CPP_RTMP"
   LIBS="$LIB_RTMP $LIBS"
 
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for RTMP_Init in -lrtmp" >&5
-printf %s "checking for RTMP_Init in -lrtmp... " >&6; }
+  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for RTMP_Init in $LIB_RTMP" >&5
+$as_echo_n "checking for RTMP_Init in $LIB_RTMP... " >&6; }
 if test ${ac_cv_lib_rtmp_RTMP_Init+y}
 then :
   printf %s "(cached) " >&6
 else $as_nop
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lrtmp  $LIBS"
+LIBS="$LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 


[FILE:499:files/build_curl_pic.sh]
#!/bin/sh
# copy this to $WRKSRC before running
# 50+ of these objects files are empty so check before archiving.

FILE_LIST="/tmp/object_files"

noreloc="
There are no relocations in this file."

entries=$(find lib/.libs/ lib/*/.libs -type f -regextype posix-extended -regex  ".*/*[.]o")

for xf in $entries; do
    output=$(readelf --relocs $xf)
    if [ "$output" != "$noreloc" ]; then
       echo "$xf" >> "$FILE_LIST"
    fi
done

ar -crsv libcurl_pic.a `cat "$FILE_LIST"`
ranlib libcurl_pic.a


[FILE:4812:files/special.mk]
ZQ+=	--with-schannel=no		# enable Windows native SSL/TLS
ZQ+=	--with-secure-transport=no	# enable Apple OS native SSL/TLS
ZQ+=	--with-amissl=no		# enable Amiga native SSL/TLS (AmiSSL)
ZQ+=	--with-gnutls=no		# where to look for GnuTLS
ZQ+=	--with-wolfssl=no		# where to look for WolfSSL
ZQ+=	--with-bearssl=no		# where to look for BearSSL
ZQ+=	--with-rustls=no		# where to look for rustls
ZQ+=	--with-test-caddy=no		# where to find caddy for testing
ZQ+=	--with-hyper=no			# Enable hyper usage
ZQ+=	--with-zlib=${LOCALBASE}	# Enable use of zlib
ZQ+=	--with-brotli=no		# Enable use of BROTLI
ZQ+=	--with-zstd=no			# Enable use of zstd
ZQ+=	--with-libpsl=no		# Support for libpsl cookie checking
ZQ+=	--with-libgsasl=no		# libgsasl support for SCRAM
ZQ+=	--with-libssh=no		# Enable libssh
ZQ+=	--with-wolfssh=no		# Enable wolfssh
ZQ+=	--with-librtmp=no		# Enable librtmp
ZQ+=	--with-winidn=no		# Enable Windows native IDN
ZQ+=	--with-libidn2=no		# Enable libidn2 usage
ZQ+=	--with-ngtcp2=no		# Enable ngtcp2 usage
ZQ+=	--with-nghttp3=no		# Enable nghttp3 usage
ZQ+=	--with-quiche=no		# Enable quiche usage
ZQ+=	--with-msh3=no			# Enable msh3 usage
ZQ+=	--enable-http=yes		# Enable HTTP support
ZQ+=	--enable-file=yes		# Enable FILE support
ZQ+=	--enable-ldap=no		# Enable LDAP support
ZQ+=	--enable-ldaps=no		# Enable LDAPS support
ZQ+=	--enable-libgcc=no		# Use libgcc when linking
ZQ+=	--enable-proxy=yes		# Enable proxy support
ZQ+=	--enable-ipv6=yes		# Enable IPv6 (with IPv4) support
ZQ+=	--enable-pthreads		# Enable POSIX threads (default for threaded resolver)
ZQ+=	--enable-verbose		# Enable verbose strings
ZQ+=	--enable-versioned-symbols=no	# Enable versioned symbols in shared library
ZQ+=	--enable-dnsshuffle=no		# Enable DNS shuffling
ZQ+=	--enable-sspi=no		# Enable SSPI (Windows native builds only)
ZQ+=	--enable-http-auth		# Enable HTTP authentication support
ZQ+=	--enable-basic-auth		# Enable basic authentication
ZQ+=	--enable-unix-sockets		# Enable Unix domain sockets
ZQ+=	--enable-socketpair		# Enable socketpair support
ZQ+=	--enable-bindlocal		# Enable local binding support
ZQ+=	--enable-netrc			# Enable netrc parsing
ZQ+=	--enable-progress-meter		# Enable progress-meter
ZQ+=	--enable-get-easy-options	# Enable curl_easy_options
ZQ+=	--enable-alt-svc		# Enable alt-svc support
ZQ+=	--enable-mime=yes		# Enable mime API support
ZQ+=	--enable-headers-api		# Enable headers-api support
ZQ+=	--enable-websockets=no		# Enable WebSockets support

ZQ+=	--with-zsh-functions-dir=${LOCALBASE}/share/zsh/site-functions
ZQ+=	--with-fish-functions-dir=${LOCALBASE}/share/fish/completions


.if "${VARIANT}" == "embed"
ZQ+=	--with-test-nghttpx=no		# where to find nghttpx for testing
ZQ+=	--with-nghttp2=no		# Enable nghttp2 usage
ZQ+=	--with-libssh2			# Enable libssh2
ZQ+=	--enable-ftp=no			# Enable FTP support
ZQ+=	--enable-rtsp=no		# Enable RTSP support
ZQ+=	--enable-dict=no		# Enable DICT support
ZQ+=	--enable-telnet=no		# Enable TELNET support
ZQ+=	--enable-tftp=no		# Enable TFTP support
ZQ+=	--enable-pop3=no		# Enable POP3 support
ZQ+=	--enable-imap=no		# Enable IMAP support
ZQ+=	--enable-smb=no			# Enable SMB/CIFS support
ZQ+=	--enable-smtp=no		# Enable SMTP support
ZQ+=	--enable-gopher=no		# Enable Gopher support
ZQ+=	--enable-mqtt=no		# Enable MQTT support
ZQ+=	--enable-manual=no		# Enable built-in manual
ZQ+=	--enable-libcurl-option=no	# Enable --libcurl C code generation support
ZQ+=	--enable-bearer-auth=no		# Enable bearer authentication
ZQ+=	--enable-digest-auth=no		# Enable digest authentication
ZQ+=	--enable-kerberos-auth=no	# Enable kerberos authentication
ZQ+=	--enable-negotiate-auth=no	# Enable negotiate authentication
ZQ+=	--enable-aws=no			# Enable AWS sig support
ZQ+=	--enable-ntlm=no		# Enable NTLM support
ZQ+=	--enable-tls-srp=no		# Enable TLS-SRP authentication
ZQ+=	--enable-cookies=no		# Enable cookies support
ZQ+=	--enable-doh=no			# Enable DoH support
ZQ+=	--enable-form-api=no		# Enable form API support
ZQ+=	--enable-dateparse=no		# Enable date parsing
ZQ+=	--enable-hsts=no		# Enable HSTS support

.else

ZQ+=	--with-test-nghttpx=nghttpx
ZQ+=	--with-nghttp2
ZQ+=	--with-libssh2=no
ZQ+=	--enable-ftp=yes
ZQ+=	--enable-rtsp=yes
ZQ+=	--enable-dict=yes
ZQ+=	--enable-telnet=yes
ZQ+=	--enable-tftp=yes
ZQ+=	--enable-pop3=yes
ZQ+=	--enable-imap=yes
ZQ+=	--enable-smb=yes
ZQ+=	--enable-smtp=yes
ZQ+=	--enable-gopher=yes
ZQ+=	--enable-mqtt=yes
ZQ+=	--enable-manual=yes
ZQ+=	--enable-libcurl-option=yes
ZQ+=	--enable-bearer-auth=yes
ZQ+=	--enable-digest-auth=yes
ZQ+=	--enable-kerberos-auth=yes
ZQ+=	--enable-negotiate-auth=yes
ZQ+=	--enable-aws=yes
ZQ+=	--enable-ntlm=yes
ZQ+=	--enable-tls-srp=yes
ZQ+=	--enable-cookies=yes
ZQ+=	--enable-doh=yes
ZQ+=	--enable-form-api=yes
ZQ+=	--enable-dateparse=yes
ZQ+=	--enable-hsts=yes

.endif

CONFIGURE_ARGS+=	${ZQ}
 
