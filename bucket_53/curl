# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		curl
VERSION=		8.6.0
KEYWORDS=		ftp net www
VARIANTS=		standard embed
SDESC[embed]=		Tiny curl PIC, http/s, file, scp protocol only
SDESC[standard]=	Tool and library for transferring data with URLs
HOMEPAGE=		https://curl.haxx.se/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://curl.haxx.se/download/
DISTFILE[1]=		curl-8.6.0.tar.xz:main
DF_INDEX=		1
SPKGS[embed]=		complete
			primary
			dev
SPKGS[standard]=	complete
			primary
			dev
			man
			examples
			docs

OPTIONS_AVAILABLE=	EMBED
OPTIONS_STANDARD=	EMBED
VOPTS[embed]=		EMBED=ON

BUILDRUN_DEPENDS=	nss:caroot:standard

USES=			cpe gmake libtool perl:build pkgconfig shebangfix
			zlib:build

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

CPE_PRODUCT=		libcurl
CPE_VENDOR=		haxx
FPC_EQUIVALENT=		ftp/curl
SHEBANG_FILES=		*/*.pl

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-werror
			--with-ca-bundle={{LOCALBASE}}/share/certs/ca-root-nss.crt
CONFIGURE_ENV=		LOCALBASE={{LOCALBASE}}

SOVERSION=		4.8.0

TEST_TARGET=		test

[EMBED].DESCRIPTION=			Tiny build - http/s, file, scp via libssh2
[EMBED].BUILDRUN_DEPENDS_OFF=		libnghttp2:primary:standard
[EMBED].BUILD_DEPENDS_OFF=		libnghttp2:dev:standard
					groff:primary:standard
[EMBED].BUILD_DEPENDS_ON=		libssh2:dev:embed
					mbedtls:dev:standard
[EMBED].CONFIGURE_ARGS_OFF=		--with-ssl={{OPENSSLBASE}}
					--with-mbedtls=no
[EMBED].CONFIGURE_ARGS_ON=		--with-mbedtls={{LOCALBASE}}
[EMBED].CPPFLAGS_OFF=			-I{{OPENSSLINC}}
[EMBED].LDFLAGS_OFF=			-L{{OPENSSLLIB}}
[EMBED].USES_OFF=			ssl

pre-configure-EMBED-ON:
	# copy pic library build script
	${CP} ${FILESDIR}/build_curl_pic.sh ${WRKSRC}/

post-build-EMBED-ON:
	(cd ${WRKSRC} && ${SH} ./build_curl_pic.sh)

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libcurl.so

post-install-EMBED-ON:
	${RM} -r ${STAGEDIR}${MANPREFIX}/man/man*
	${INSTALL_DATA} ${WRKSRC}/libcurl_pic.a ${STAGEDIR}${PREFIX}/lib/

pre-configure:
	${REINPLACE_CMD} -e '/^SUBDIRS = / s|$$| docs scripts|; /^DIST_SUBDIRS = / s| docs scripts||; /cd docs &&/d' \
		${WRKSRC}/Makefile.in
	${REINPLACE_CMD} -e 's|\(flags_dbg_off=\)".*"|\1""|; s|\(flags_opt_off=\)".*"|\1""|' \
		${WRKSRC}/configure
	${REINPLACE_CMD} -e 's|include <gssapi.h>|include <gssapi/gssapi.h>|' \
		${WRKSRC}/lib/curl_gssapi.h ${WRKSRC}/lib/urldata.h

post-install-EMBED-OFF:
	${MKDIR} ${STAGEDIR}${STD_DOCDIR}/libcurl \
		${STAGEDIR}${STD_EXAMPLESDIR}
	(cd ${WRKSRC}/docs/ && \
		${INSTALL_DATA} FAQ INSTALL KNOWN_BUGS MAIL-ETIQUETTE THANKS TODO options-in-versions *.md ${STAGEDIR}${STD_DOCDIR}/)
	(cd ${WRKSRC}/docs/libcurl/ && ${INSTALL_DATA} \
		*.m4 ${STAGEDIR}${STD_DOCDIR}/libcurl/)
	(cd ${WRKSRC}/docs/examples/ && ${INSTALL_DATA} \
		README.md Makefile.example *.c *.cpp \
		${STAGEDIR}${STD_EXAMPLESDIR}/)

pre-configure-EMBED-OFF:
	# fix libcurl.pc
	${REINPLACE_CMD} -e '/^Libs.private:/ s|:|: -L${OPENSSLLIB}|' \
		${WRKSRC}/libcurl.pc.in

[FILE:845:descriptions/desc.primary]
Command line tool and library for transferring data with URLs.

curl is used in command lines or scripts to transfer data. It is also
used in cars, television sets, routers, printers, audio equipment, mobile
phones, tablets, settop boxes, media players and is the internet transfer
backbone for thousands of software applications affecting billions of
humans daily.

Protocols:
DICT, FILE, FTP, FTPS, GOPHER, GOPHERS, HTTP, HTTPS, IMAP, IMAPS,
MQTT, POP3, POP3S, RTSP, SMB, SMBS, SMTP, SMTPS, TELNET and TFTP

Not currently supported:
LDAP, LDAPS, RTMP, SCP & SFTP (see embed variant)

curl supports SSL certificates, HTTP POST, HTTP PUT, FTP uploading, HTTP
form based upload, proxies, HTTP/2, cookies, user+password authentication
(Basic, Plain, Digest, CRAM-MD5, NTLM, Negotiate and Kerberos),
file transfer resume, proxy tunneling and more.


[FILE:116:descriptions/desc.primary.embed]
Minimal Command line tool and library for transferring data with URLs.

Protocols:        
FILE HTTP HTTPS SCP SFTP


[FILE:96:distinfo]
3ccd55d91af9516539df80625f818c734dc6f2ecf9bada33c76765e99121db15      2630108 curl-8.6.0.tar.xz


[FILE:143:manifests/plist.primary]
bin/
 curl
 curl-config
lib/
 libcurl.so.%%SOMAJOR%%
 libcurl.so.%%SOVERSION%%
share/fish/completions/curl.fish
share/zsh/site-functions/_curl


[FILE:256:manifests/plist.dev]
%%EMBED-ON%%lib/libcurl_pic.a
include/curl/
 curl.h
 curlver.h
 easy.h
 header.h
 mprintf.h
 multi.h
 options.h
 stdcheaders.h
 system.h
 typecheck-gcc.h
 urlapi.h
 websockets.h
lib/
 libcurl.a
 libcurl.so
lib/pkgconfig/libcurl.pc
share/aclocal/libcurl.m4


[FILE:13606:manifests/plist.man]
share/man/man1/
 curl-config.1.gz
 curl.1.gz
 mk-ca-bundle.1.gz
share/man/man3/
 CURLINFO_ACTIVESOCKET.3.gz
 CURLINFO_APPCONNECT_TIME.3.gz
 CURLINFO_APPCONNECT_TIME_T.3.gz
 CURLINFO_CAINFO.3.gz
 CURLINFO_CAPATH.3.gz
 CURLINFO_CERTINFO.3.gz
 CURLINFO_CONDITION_UNMET.3.gz
 CURLINFO_CONNECT_TIME.3.gz
 CURLINFO_CONNECT_TIME_T.3.gz
 CURLINFO_CONN_ID.3.gz
 CURLINFO_CONTENT_LENGTH_DOWNLOAD.3.gz
 CURLINFO_CONTENT_LENGTH_DOWNLOAD_T.3.gz
 CURLINFO_CONTENT_LENGTH_UPLOAD.3.gz
 CURLINFO_CONTENT_LENGTH_UPLOAD_T.3.gz
 CURLINFO_CONTENT_TYPE.3.gz
 CURLINFO_COOKIELIST.3.gz
 CURLINFO_EFFECTIVE_METHOD.3.gz
 CURLINFO_EFFECTIVE_URL.3.gz
 CURLINFO_FILETIME.3.gz
 CURLINFO_FILETIME_T.3.gz
 CURLINFO_FTP_ENTRY_PATH.3.gz
 CURLINFO_HEADER_SIZE.3.gz
 CURLINFO_HTTPAUTH_AVAIL.3.gz
 CURLINFO_HTTP_CONNECTCODE.3.gz
 CURLINFO_HTTP_VERSION.3.gz
 CURLINFO_LASTSOCKET.3.gz
 CURLINFO_LOCAL_IP.3.gz
 CURLINFO_LOCAL_PORT.3.gz
 CURLINFO_NAMELOOKUP_TIME.3.gz
 CURLINFO_NAMELOOKUP_TIME_T.3.gz
 CURLINFO_NUM_CONNECTS.3.gz
 CURLINFO_OS_ERRNO.3.gz
 CURLINFO_PRETRANSFER_TIME.3.gz
 CURLINFO_PRETRANSFER_TIME_T.3.gz
 CURLINFO_PRIMARY_IP.3.gz
 CURLINFO_PRIMARY_PORT.3.gz
 CURLINFO_PRIVATE.3.gz
 CURLINFO_PROTOCOL.3.gz
 CURLINFO_PROXYAUTH_AVAIL.3.gz
 CURLINFO_PROXY_ERROR.3.gz
 CURLINFO_PROXY_SSL_VERIFYRESULT.3.gz
 CURLINFO_QUEUE_TIME_T.3.gz
 CURLINFO_REDIRECT_COUNT.3.gz
 CURLINFO_REDIRECT_TIME.3.gz
 CURLINFO_REDIRECT_TIME_T.3.gz
 CURLINFO_REDIRECT_URL.3.gz
 CURLINFO_REFERER.3.gz
 CURLINFO_REQUEST_SIZE.3.gz
 CURLINFO_RESPONSE_CODE.3.gz
 CURLINFO_RETRY_AFTER.3.gz
 CURLINFO_RTSP_CLIENT_CSEQ.3.gz
 CURLINFO_RTSP_CSEQ_RECV.3.gz
 CURLINFO_RTSP_SERVER_CSEQ.3.gz
 CURLINFO_RTSP_SESSION_ID.3.gz
 CURLINFO_SCHEME.3.gz
 CURLINFO_SIZE_DOWNLOAD.3.gz
 CURLINFO_SIZE_DOWNLOAD_T.3.gz
 CURLINFO_SIZE_UPLOAD.3.gz
 CURLINFO_SIZE_UPLOAD_T.3.gz
 CURLINFO_SPEED_DOWNLOAD.3.gz
 CURLINFO_SPEED_DOWNLOAD_T.3.gz
 CURLINFO_SPEED_UPLOAD.3.gz
 CURLINFO_SPEED_UPLOAD_T.3.gz
 CURLINFO_SSL_ENGINES.3.gz
 CURLINFO_SSL_VERIFYRESULT.3.gz
 CURLINFO_STARTTRANSFER_TIME.3.gz
 CURLINFO_STARTTRANSFER_TIME_T.3.gz
 CURLINFO_TLS_SESSION.3.gz
 CURLINFO_TLS_SSL_PTR.3.gz
 CURLINFO_TOTAL_TIME.3.gz
 CURLINFO_TOTAL_TIME_T.3.gz
 CURLINFO_XFER_ID.3.gz
 CURLMOPT_CHUNK_LENGTH_PENALTY_SIZE.3.gz
 CURLMOPT_CONTENT_LENGTH_PENALTY_SIZE.3.gz
 CURLMOPT_MAXCONNECTS.3.gz
 CURLMOPT_MAX_CONCURRENT_STREAMS.3.gz
 CURLMOPT_MAX_HOST_CONNECTIONS.3.gz
 CURLMOPT_MAX_PIPELINE_LENGTH.3.gz
 CURLMOPT_MAX_TOTAL_CONNECTIONS.3.gz
 CURLMOPT_PIPELINING.3.gz
 CURLMOPT_PIPELINING_SERVER_BL.3.gz
 CURLMOPT_PIPELINING_SITE_BL.3.gz
 CURLMOPT_PUSHDATA.3.gz
 CURLMOPT_PUSHFUNCTION.3.gz
 CURLMOPT_SOCKETDATA.3.gz
 CURLMOPT_SOCKETFUNCTION.3.gz
 CURLMOPT_TIMERDATA.3.gz
 CURLMOPT_TIMERFUNCTION.3.gz
 CURLOPT_ABSTRACT_UNIX_SOCKET.3.gz
 CURLOPT_ACCEPTTIMEOUT_MS.3.gz
 CURLOPT_ACCEPT_ENCODING.3.gz
 CURLOPT_ADDRESS_SCOPE.3.gz
 CURLOPT_ALTSVC.3.gz
 CURLOPT_ALTSVC_CTRL.3.gz
 CURLOPT_APPEND.3.gz
 CURLOPT_AUTOREFERER.3.gz
 CURLOPT_AWS_SIGV4.3.gz
 CURLOPT_BUFFERSIZE.3.gz
 CURLOPT_CAINFO.3.gz
 CURLOPT_CAINFO_BLOB.3.gz
 CURLOPT_CAPATH.3.gz
 CURLOPT_CA_CACHE_TIMEOUT.3.gz
 CURLOPT_CERTINFO.3.gz
 CURLOPT_CHUNK_BGN_FUNCTION.3.gz
 CURLOPT_CHUNK_DATA.3.gz
 CURLOPT_CHUNK_END_FUNCTION.3.gz
 CURLOPT_CLOSESOCKETDATA.3.gz
 CURLOPT_CLOSESOCKETFUNCTION.3.gz
 CURLOPT_CONNECTTIMEOUT.3.gz
 CURLOPT_CONNECTTIMEOUT_MS.3.gz
 CURLOPT_CONNECT_ONLY.3.gz
 CURLOPT_CONNECT_TO.3.gz
 CURLOPT_CONV_FROM_NETWORK_FUNCTION.3.gz
 CURLOPT_CONV_FROM_UTF8_FUNCTION.3.gz
 CURLOPT_CONV_TO_NETWORK_FUNCTION.3.gz
 CURLOPT_COOKIE.3.gz
 CURLOPT_COOKIEFILE.3.gz
 CURLOPT_COOKIEJAR.3.gz
 CURLOPT_COOKIELIST.3.gz
 CURLOPT_COOKIESESSION.3.gz
 CURLOPT_COPYPOSTFIELDS.3.gz
 CURLOPT_CRLF.3.gz
 CURLOPT_CRLFILE.3.gz
 CURLOPT_CURLU.3.gz
 CURLOPT_CUSTOMREQUEST.3.gz
 CURLOPT_DEBUGDATA.3.gz
 CURLOPT_DEBUGFUNCTION.3.gz
 CURLOPT_DEFAULT_PROTOCOL.3.gz
 CURLOPT_DIRLISTONLY.3.gz
 CURLOPT_DISALLOW_USERNAME_IN_URL.3.gz
 CURLOPT_DNS_CACHE_TIMEOUT.3.gz
 CURLOPT_DNS_INTERFACE.3.gz
 CURLOPT_DNS_LOCAL_IP4.3.gz
 CURLOPT_DNS_LOCAL_IP6.3.gz
 CURLOPT_DNS_SERVERS.3.gz
 CURLOPT_DNS_SHUFFLE_ADDRESSES.3.gz
 CURLOPT_DNS_USE_GLOBAL_CACHE.3.gz
 CURLOPT_DOH_SSL_VERIFYHOST.3.gz
 CURLOPT_DOH_SSL_VERIFYPEER.3.gz
 CURLOPT_DOH_SSL_VERIFYSTATUS.3.gz
 CURLOPT_DOH_URL.3.gz
 CURLOPT_EGDSOCKET.3.gz
 CURLOPT_ERRORBUFFER.3.gz
 CURLOPT_EXPECT_100_TIMEOUT_MS.3.gz
 CURLOPT_FAILONERROR.3.gz
 CURLOPT_FILETIME.3.gz
 CURLOPT_FNMATCH_DATA.3.gz
 CURLOPT_FNMATCH_FUNCTION.3.gz
 CURLOPT_FOLLOWLOCATION.3.gz
 CURLOPT_FORBID_REUSE.3.gz
 CURLOPT_FRESH_CONNECT.3.gz
 CURLOPT_FTPPORT.3.gz
 CURLOPT_FTPSSLAUTH.3.gz
 CURLOPT_FTP_ACCOUNT.3.gz
 CURLOPT_FTP_ALTERNATIVE_TO_USER.3.gz
 CURLOPT_FTP_CREATE_MISSING_DIRS.3.gz
 CURLOPT_FTP_FILEMETHOD.3.gz
 CURLOPT_FTP_SKIP_PASV_IP.3.gz
 CURLOPT_FTP_SSL_CCC.3.gz
 CURLOPT_FTP_USE_EPRT.3.gz
 CURLOPT_FTP_USE_EPSV.3.gz
 CURLOPT_FTP_USE_PRET.3.gz
 CURLOPT_GSSAPI_DELEGATION.3.gz
 CURLOPT_HAPPY_EYEBALLS_TIMEOUT_MS.3.gz
 CURLOPT_HAPROXYPROTOCOL.3.gz
 CURLOPT_HAPROXY_CLIENT_IP.3.gz
 CURLOPT_HEADER.3.gz
 CURLOPT_HEADERDATA.3.gz
 CURLOPT_HEADERFUNCTION.3.gz
 CURLOPT_HEADEROPT.3.gz
 CURLOPT_HSTS.3.gz
 CURLOPT_HSTSREADDATA.3.gz
 CURLOPT_HSTSREADFUNCTION.3.gz
 CURLOPT_HSTSWRITEDATA.3.gz
 CURLOPT_HSTSWRITEFUNCTION.3.gz
 CURLOPT_HSTS_CTRL.3.gz
 CURLOPT_HTTP09_ALLOWED.3.gz
 CURLOPT_HTTP200ALIASES.3.gz
 CURLOPT_HTTPAUTH.3.gz
 CURLOPT_HTTPGET.3.gz
 CURLOPT_HTTPHEADER.3.gz
 CURLOPT_HTTPPOST.3.gz
 CURLOPT_HTTPPROXYTUNNEL.3.gz
 CURLOPT_HTTP_CONTENT_DECODING.3.gz
 CURLOPT_HTTP_TRANSFER_DECODING.3.gz
 CURLOPT_HTTP_VERSION.3.gz
 CURLOPT_IGNORE_CONTENT_LENGTH.3.gz
 CURLOPT_INFILESIZE.3.gz
 CURLOPT_INFILESIZE_LARGE.3.gz
 CURLOPT_INTERFACE.3.gz
 CURLOPT_INTERLEAVEDATA.3.gz
 CURLOPT_INTERLEAVEFUNCTION.3.gz
 CURLOPT_IOCTLDATA.3.gz
 CURLOPT_IOCTLFUNCTION.3.gz
 CURLOPT_IPRESOLVE.3.gz
 CURLOPT_ISSUERCERT.3.gz
 CURLOPT_ISSUERCERT_BLOB.3.gz
 CURLOPT_KEEP_SENDING_ON_ERROR.3.gz
 CURLOPT_KEYPASSWD.3.gz
 CURLOPT_KRBLEVEL.3.gz
 CURLOPT_LOCALPORT.3.gz
 CURLOPT_LOCALPORTRANGE.3.gz
 CURLOPT_LOGIN_OPTIONS.3.gz
 CURLOPT_LOW_SPEED_LIMIT.3.gz
 CURLOPT_LOW_SPEED_TIME.3.gz
 CURLOPT_MAIL_AUTH.3.gz
 CURLOPT_MAIL_FROM.3.gz
 CURLOPT_MAIL_RCPT.3.gz
 CURLOPT_MAIL_RCPT_ALLOWFAILS.3.gz
 CURLOPT_MAXAGE_CONN.3.gz
 CURLOPT_MAXCONNECTS.3.gz
 CURLOPT_MAXFILESIZE.3.gz
 CURLOPT_MAXFILESIZE_LARGE.3.gz
 CURLOPT_MAXLIFETIME_CONN.3.gz
 CURLOPT_MAXREDIRS.3.gz
 CURLOPT_MAX_RECV_SPEED_LARGE.3.gz
 CURLOPT_MAX_SEND_SPEED_LARGE.3.gz
 CURLOPT_MIMEPOST.3.gz
 CURLOPT_MIME_OPTIONS.3.gz
 CURLOPT_NETRC.3.gz
 CURLOPT_NETRC_FILE.3.gz
 CURLOPT_NEW_DIRECTORY_PERMS.3.gz
 CURLOPT_NEW_FILE_PERMS.3.gz
 CURLOPT_NOBODY.3.gz
 CURLOPT_NOPROGRESS.3.gz
 CURLOPT_NOPROXY.3.gz
 CURLOPT_NOSIGNAL.3.gz
 CURLOPT_OPENSOCKETDATA.3.gz
 CURLOPT_OPENSOCKETFUNCTION.3.gz
 CURLOPT_PASSWORD.3.gz
 CURLOPT_PATH_AS_IS.3.gz
 CURLOPT_PINNEDPUBLICKEY.3.gz
 CURLOPT_PIPEWAIT.3.gz
 CURLOPT_PORT.3.gz
 CURLOPT_POST.3.gz
 CURLOPT_POSTFIELDS.3.gz
 CURLOPT_POSTFIELDSIZE.3.gz
 CURLOPT_POSTFIELDSIZE_LARGE.3.gz
 CURLOPT_POSTQUOTE.3.gz
 CURLOPT_POSTREDIR.3.gz
 CURLOPT_PREQUOTE.3.gz
 CURLOPT_PREREQDATA.3.gz
 CURLOPT_PREREQFUNCTION.3.gz
 CURLOPT_PRE_PROXY.3.gz
 CURLOPT_PRIVATE.3.gz
 CURLOPT_PROGRESSDATA.3.gz
 CURLOPT_PROGRESSFUNCTION.3.gz
 CURLOPT_PROTOCOLS.3.gz
 CURLOPT_PROTOCOLS_STR.3.gz
 CURLOPT_PROXY.3.gz
 CURLOPT_PROXYAUTH.3.gz
 CURLOPT_PROXYHEADER.3.gz
 CURLOPT_PROXYPASSWORD.3.gz
 CURLOPT_PROXYPORT.3.gz
 CURLOPT_PROXYTYPE.3.gz
 CURLOPT_PROXYUSERNAME.3.gz
 CURLOPT_PROXYUSERPWD.3.gz
 CURLOPT_PROXY_CAINFO.3.gz
 CURLOPT_PROXY_CAINFO_BLOB.3.gz
 CURLOPT_PROXY_CAPATH.3.gz
 CURLOPT_PROXY_CRLFILE.3.gz
 CURLOPT_PROXY_ISSUERCERT.3.gz
 CURLOPT_PROXY_ISSUERCERT_BLOB.3.gz
 CURLOPT_PROXY_KEYPASSWD.3.gz
 CURLOPT_PROXY_PINNEDPUBLICKEY.3.gz
 CURLOPT_PROXY_SERVICE_NAME.3.gz
 CURLOPT_PROXY_SSLCERT.3.gz
 CURLOPT_PROXY_SSLCERTTYPE.3.gz
 CURLOPT_PROXY_SSLCERT_BLOB.3.gz
 CURLOPT_PROXY_SSLKEY.3.gz
 CURLOPT_PROXY_SSLKEYTYPE.3.gz
 CURLOPT_PROXY_SSLKEY_BLOB.3.gz
 CURLOPT_PROXY_SSLVERSION.3.gz
 CURLOPT_PROXY_SSL_CIPHER_LIST.3.gz
 CURLOPT_PROXY_SSL_OPTIONS.3.gz
 CURLOPT_PROXY_SSL_VERIFYHOST.3.gz
 CURLOPT_PROXY_SSL_VERIFYPEER.3.gz
 CURLOPT_PROXY_TLS13_CIPHERS.3.gz
 CURLOPT_PROXY_TLSAUTH_PASSWORD.3.gz
 CURLOPT_PROXY_TLSAUTH_TYPE.3.gz
 CURLOPT_PROXY_TLSAUTH_USERNAME.3.gz
 CURLOPT_PROXY_TRANSFER_MODE.3.gz
 CURLOPT_PUT.3.gz
 CURLOPT_QUICK_EXIT.3.gz
 CURLOPT_QUOTE.3.gz
 CURLOPT_RANDOM_FILE.3.gz
 CURLOPT_RANGE.3.gz
 CURLOPT_READDATA.3.gz
 CURLOPT_READFUNCTION.3.gz
 CURLOPT_REDIR_PROTOCOLS.3.gz
 CURLOPT_REDIR_PROTOCOLS_STR.3.gz
 CURLOPT_REFERER.3.gz
 CURLOPT_REQUEST_TARGET.3.gz
 CURLOPT_RESOLVE.3.gz
 CURLOPT_RESOLVER_START_DATA.3.gz
 CURLOPT_RESOLVER_START_FUNCTION.3.gz
 CURLOPT_RESUME_FROM.3.gz
 CURLOPT_RESUME_FROM_LARGE.3.gz
 CURLOPT_RTSP_CLIENT_CSEQ.3.gz
 CURLOPT_RTSP_REQUEST.3.gz
 CURLOPT_RTSP_SERVER_CSEQ.3.gz
 CURLOPT_RTSP_SESSION_ID.3.gz
 CURLOPT_RTSP_STREAM_URI.3.gz
 CURLOPT_RTSP_TRANSPORT.3.gz
 CURLOPT_SASL_AUTHZID.3.gz
 CURLOPT_SASL_IR.3.gz
 CURLOPT_SEEKDATA.3.gz
 CURLOPT_SEEKFUNCTION.3.gz
 CURLOPT_SERVER_RESPONSE_TIMEOUT.3.gz
 CURLOPT_SERVER_RESPONSE_TIMEOUT_MS.3.gz
 CURLOPT_SERVICE_NAME.3.gz
 CURLOPT_SHARE.3.gz
 CURLOPT_SOCKOPTDATA.3.gz
 CURLOPT_SOCKOPTFUNCTION.3.gz
 CURLOPT_SOCKS5_AUTH.3.gz
 CURLOPT_SOCKS5_GSSAPI_NEC.3.gz
 CURLOPT_SOCKS5_GSSAPI_SERVICE.3.gz
 CURLOPT_SSH_AUTH_TYPES.3.gz
 CURLOPT_SSH_COMPRESSION.3.gz
 CURLOPT_SSH_HOSTKEYDATA.3.gz
 CURLOPT_SSH_HOSTKEYFUNCTION.3.gz
 CURLOPT_SSH_HOST_PUBLIC_KEY_MD5.3.gz
 CURLOPT_SSH_HOST_PUBLIC_KEY_SHA256.3.gz
 CURLOPT_SSH_KEYDATA.3.gz
 CURLOPT_SSH_KEYFUNCTION.3.gz
 CURLOPT_SSH_KNOWNHOSTS.3.gz
 CURLOPT_SSH_PRIVATE_KEYFILE.3.gz
 CURLOPT_SSH_PUBLIC_KEYFILE.3.gz
 CURLOPT_SSLCERT.3.gz
 CURLOPT_SSLCERTTYPE.3.gz
 CURLOPT_SSLCERT_BLOB.3.gz
 CURLOPT_SSLENGINE.3.gz
 CURLOPT_SSLENGINE_DEFAULT.3.gz
 CURLOPT_SSLKEY.3.gz
 CURLOPT_SSLKEYTYPE.3.gz
 CURLOPT_SSLKEY_BLOB.3.gz
 CURLOPT_SSLVERSION.3.gz
 CURLOPT_SSL_CIPHER_LIST.3.gz
 CURLOPT_SSL_CTX_DATA.3.gz
 CURLOPT_SSL_CTX_FUNCTION.3.gz
 CURLOPT_SSL_EC_CURVES.3.gz
 CURLOPT_SSL_ENABLE_ALPN.3.gz
 CURLOPT_SSL_ENABLE_NPN.3.gz
 CURLOPT_SSL_FALSESTART.3.gz
 CURLOPT_SSL_OPTIONS.3.gz
 CURLOPT_SSL_SESSIONID_CACHE.3.gz
 CURLOPT_SSL_VERIFYHOST.3.gz
 CURLOPT_SSL_VERIFYPEER.3.gz
 CURLOPT_SSL_VERIFYSTATUS.3.gz
 CURLOPT_STDERR.3.gz
 CURLOPT_STREAM_DEPENDS.3.gz
 CURLOPT_STREAM_DEPENDS_E.3.gz
 CURLOPT_STREAM_WEIGHT.3.gz
 CURLOPT_SUPPRESS_CONNECT_HEADERS.3.gz
 CURLOPT_TCP_FASTOPEN.3.gz
 CURLOPT_TCP_KEEPALIVE.3.gz
 CURLOPT_TCP_KEEPIDLE.3.gz
 CURLOPT_TCP_KEEPINTVL.3.gz
 CURLOPT_TCP_NODELAY.3.gz
 CURLOPT_TELNETOPTIONS.3.gz
 CURLOPT_TFTP_BLKSIZE.3.gz
 CURLOPT_TFTP_NO_OPTIONS.3.gz
 CURLOPT_TIMECONDITION.3.gz
 CURLOPT_TIMEOUT.3.gz
 CURLOPT_TIMEOUT_MS.3.gz
 CURLOPT_TIMEVALUE.3.gz
 CURLOPT_TIMEVALUE_LARGE.3.gz
 CURLOPT_TLS13_CIPHERS.3.gz
 CURLOPT_TLSAUTH_PASSWORD.3.gz
 CURLOPT_TLSAUTH_TYPE.3.gz
 CURLOPT_TLSAUTH_USERNAME.3.gz
 CURLOPT_TRAILERDATA.3.gz
 CURLOPT_TRAILERFUNCTION.3.gz
 CURLOPT_TRANSFERTEXT.3.gz
 CURLOPT_TRANSFER_ENCODING.3.gz
 CURLOPT_UNIX_SOCKET_PATH.3.gz
 CURLOPT_UNRESTRICTED_AUTH.3.gz
 CURLOPT_UPKEEP_INTERVAL_MS.3.gz
 CURLOPT_UPLOAD.3.gz
 CURLOPT_UPLOAD_BUFFERSIZE.3.gz
 CURLOPT_URL.3.gz
 CURLOPT_USERAGENT.3.gz
 CURLOPT_USERNAME.3.gz
 CURLOPT_USERPWD.3.gz
 CURLOPT_USE_SSL.3.gz
 CURLOPT_VERBOSE.3.gz
 CURLOPT_WILDCARDMATCH.3.gz
 CURLOPT_WRITEDATA.3.gz
 CURLOPT_WRITEFUNCTION.3.gz
 CURLOPT_WS_OPTIONS.3.gz
 CURLOPT_XFERINFODATA.3.gz
 CURLOPT_XFERINFOFUNCTION.3.gz
 CURLOPT_XOAUTH2_BEARER.3.gz
 CURLSHOPT_LOCKFUNC.3.gz
 CURLSHOPT_SHARE.3.gz
 CURLSHOPT_UNLOCKFUNC.3.gz
 CURLSHOPT_UNSHARE.3.gz
 CURLSHOPT_USERDATA.3.gz
 curl_easy_cleanup.3.gz
 curl_easy_duphandle.3.gz
 curl_easy_escape.3.gz
 curl_easy_getinfo.3.gz
 curl_easy_header.3.gz
 curl_easy_init.3.gz
 curl_easy_nextheader.3.gz
 curl_easy_option_by_id.3.gz
 curl_easy_option_by_name.3.gz
 curl_easy_option_next.3.gz
 curl_easy_pause.3.gz
 curl_easy_perform.3.gz
 curl_easy_recv.3.gz
 curl_easy_reset.3.gz
 curl_easy_send.3.gz
 curl_easy_setopt.3.gz
 curl_easy_strerror.3.gz
 curl_easy_unescape.3.gz
 curl_easy_upkeep.3.gz
 curl_escape.3.gz
 curl_formadd.3.gz
 curl_formfree.3.gz
 curl_formget.3.gz
 curl_free.3.gz
 curl_getdate.3.gz
 curl_getenv.3.gz
 curl_global_cleanup.3.gz
 curl_global_init.3.gz
 curl_global_init_mem.3.gz
 curl_global_sslset.3.gz
 curl_global_trace.3.gz
 curl_mime_addpart.3.gz
 curl_mime_data.3.gz
 curl_mime_data_cb.3.gz
 curl_mime_encoder.3.gz
 curl_mime_filedata.3.gz
 curl_mime_filename.3.gz
 curl_mime_free.3.gz
 curl_mime_headers.3.gz
 curl_mime_init.3.gz
 curl_mime_name.3.gz
 curl_mime_subparts.3.gz
 curl_mime_type.3.gz
 curl_mprintf.3.gz
 curl_multi_add_handle.3.gz
 curl_multi_assign.3.gz
 curl_multi_cleanup.3.gz
 curl_multi_fdset.3.gz
 curl_multi_get_handles.3.gz
 curl_multi_info_read.3.gz
 curl_multi_init.3.gz
 curl_multi_perform.3.gz
 curl_multi_poll.3.gz
 curl_multi_remove_handle.3.gz
 curl_multi_setopt.3.gz
 curl_multi_socket.3.gz
 curl_multi_socket_action.3.gz
 curl_multi_socket_all.3.gz
 curl_multi_strerror.3.gz
 curl_multi_timeout.3.gz
 curl_multi_wait.3.gz
 curl_multi_wakeup.3.gz
 curl_pushheader_byname.3.gz
 curl_pushheader_bynum.3.gz
 curl_share_cleanup.3.gz
 curl_share_init.3.gz
 curl_share_setopt.3.gz
 curl_share_strerror.3.gz
 curl_slist_append.3.gz
 curl_slist_free_all.3.gz
 curl_strequal.3.gz
 curl_strnequal.3.gz
 curl_unescape.3.gz
 curl_url.3.gz
 curl_url_cleanup.3.gz
 curl_url_dup.3.gz
 curl_url_get.3.gz
 curl_url_set.3.gz
 curl_url_strerror.3.gz
 curl_version.3.gz
 curl_version_info.3.gz
 curl_ws_meta.3.gz
 curl_ws_recv.3.gz
 curl_ws_send.3.gz
 libcurl-easy.3.gz
 libcurl-env-dbg.3.gz
 libcurl-env.3.gz
 libcurl-errors.3.gz
 libcurl-multi.3.gz
 libcurl-security.3.gz
 libcurl-share.3.gz
 libcurl-symbols.3.gz
 libcurl-thread.3.gz
 libcurl-tutorial.3.gz
 libcurl-url.3.gz
 libcurl-ws.3.gz
 libcurl.3.gz


[FILE:5345:patches/patch-configure]
--- configure.orig	2024-01-29 15:53:31 UTC
+++ configure
@@ -4198,9 +4198,10 @@ printf "%s\n" "$as_me: LIBS note: LIBS s
       -I*)
         xc_bad_var_ldflags=yes
         ;;
-      -l* | --library=*)
-        xc_bad_var_ldflags=yes
-        ;;
+# Temporarily disable -l* flag check for SSP support (Mk/bsd.ssp.mk)
+#      -l* | --library=*)
+#        xc_bad_var_ldflags=yes
+#        ;;
     esac
   done
   if test $xc_bad_var_ldflags = yes; then
@@ -4270,9 +4271,10 @@ printf "%s\n" "$as_me: $xc_bad_var_msg l
   xc_bad_var_cflags=no
   for xc_word in $CFLAGS; do
     case "$xc_word" in
-      -D*)
-        xc_bad_var_cflags=yes
-        ;;
+# Temporarily disable -D* flag check (PR/177401, PR/180944)
+#      -D*)
+#        xc_bad_var_cflags=yes
+#        ;;
       -U*)
         xc_bad_var_cflags=yes
         ;;
@@ -18822,6 +18824,8 @@ printf "%s\n" "$honor_optimize_option" >
     #
     if test "$honor_optimize_option" = "yes"; then
 
+# Do not remove the user-supplied debug flags in CFLAGS (PR/150854)
+if false; then
     ac_var_stripped=""
   for word1 in $tmp_CFLAGS; do
     ac_var_strip_word="no"
@@ -18838,6 +18842,8 @@ printf "%s\n" "$honor_optimize_option" >
   squeeze tmp_CFLAGS
 
 
+# Do not remove the user-supplied optimization flags in CFLAGS (PR/150854)
+if false; then
     ac_var_stripped=""
   for word1 in $tmp_CPPFLAGS; do
     ac_var_strip_word="no"
@@ -18852,6 +18858,8 @@ printf "%s\n" "$honor_optimize_option" >
   done
     tmp_CPPFLAGS="$ac_var_stripped"
   squeeze tmp_CPPFLAGS
+fi
+fi
 
       if test "$want_optimize" = "yes"; then
         { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if compiler accepts optimizer enabling options" >&5
@@ -23791,7 +23799,7 @@ then :
   printf %s "(cached) " >&6
 else $as_nop
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lz  $LIBS"
+LIBS="-lz_pic  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -23822,7 +23830,7 @@ printf "%s\n" "$ac_cv_lib_z_inflateEnd"
 if test "x$ac_cv_lib_z_inflateEnd" = xyes
 then :
                      HAVE_LIBZ="1"
-                    ZLIB_LIBS="-lz"
+                    ZLIB_LIBS="-lz_pic"
                     LIBS="$ZLIB_LIBS $LIBS"
 else $as_nop
                      OPT_ZLIB="/usr/local"
@@ -23849,7 +23857,7 @@ then :
   printf %s "(cached) " >&6
 else $as_nop
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lz  $LIBS"
+LIBS="-lz_pic  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -23881,7 +23889,7 @@ if test "x$ac_cv_lib_z_gzread" = xyes
 then :
 
                                       HAVE_LIBZ="1"
-                   ZLIB_LIBS="-lz"
+                   ZLIB_LIBS="-lz_pic"
                    LIBS="$ZLIB_LIBS $LIBS"
 
 else $as_nop
@@ -29168,7 +29176,7 @@ printf "%s\n" "found" >&6; }
   esac
 
     if test -n "$PREFIX_SSH2"; then
-    LIB_SSH2="-lssh2"
+    LIB_SSH2="-lssh2_pic"
     LD_SSH2=-L${PREFIX_SSH2}/lib$libsuff
     CPP_SSH2=-I${PREFIX_SSH2}/include
     DIR_SSH2=${PREFIX_SSH2}/lib$libsuff
@@ -29185,7 +29193,7 @@ then :
   printf %s "(cached) " >&6
 else $as_nop
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lssh2  $LIBS"
+LIBS="-lssh2_pic  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -29217,7 +29225,7 @@ if test "x$ac_cv_lib_ssh2_libssh2_sessio
 then :
   printf "%s\n" "#define HAVE_LIBSSH2 1" >>confdefs.h
 
-  LIBS="-lssh2 $LIBS"
+  LIBS="-lssh2_pic $LIBS"
 
 fi
 
@@ -29748,31 +29756,31 @@ printf "%s\n" "found" >&6; }
     ;;
   off)
         LIB_RTMP="-lrtmp"
+        LD_RTMP=""
+        CPP_RTMP=""
+        DIR_RTMP=""
     ;;
   *)
         LIB_RTMP="-lrtmp"
+        LD_RTMP="-L${PREFIX_RTMP}/lib$libsuff"
+        CPP_RTMP="-I${PREFIX_RTMP}/include"
+        DIR_RTMP="${PREFIX_RTMP}/lib$libsuff"
     PREFIX_RTMP=$OPT_LIBRTMP
     ;;
   esac
 
-    if test -n "$PREFIX_RTMP"; then
-    LD_RTMP=-L${PREFIX_RTMP}/lib$libsuff
-    CPP_RTMP=-I${PREFIX_RTMP}/include
-    DIR_RTMP=${PREFIX_RTMP}/lib$libsuff
-  fi
-
   LDFLAGS="$LDFLAGS $LD_RTMP"
   CPPFLAGS="$CPPFLAGS $CPP_RTMP"
   LIBS="$LIB_RTMP $LIBS"
 
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for RTMP_Init in -lrtmp" >&5
-printf %s "checking for RTMP_Init in -lrtmp... " >&6; }
+  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for RTMP_Init in $LIB_RTMP" >&5
+$as_echo_n "checking for RTMP_Init in $LIB_RTMP... " >&6; }
 if test ${ac_cv_lib_rtmp_RTMP_Init+y}
 then :
   printf %s "(cached) " >&6
 else $as_nop
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lrtmp  $LIBS"
+LIBS="$LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -45884,9 +45892,10 @@ printf "%s\n" "$as_me: LIBS note: LIBS s
       -I*)
         xc_bad_var_ldflags=yes
         ;;
-      -l* | --library=*)
-        xc_bad_var_ldflags=yes
-        ;;
+# Temporarily disable -l* flag check for SSP support (Mk/bsd.ssp.mk)
+#      -l* | --library=*)
+#        xc_bad_var_ldflags=yes
+#        ;;
     esac
   done
   if test $xc_bad_var_ldflags = yes; then
@@ -45956,9 +45965,10 @@ printf "%s\n" "$as_me: $xc_bad_var_msg l
   xc_bad_var_cflags=no
   for xc_word in $CFLAGS; do
     case "$xc_word" in
-      -D*)
-        xc_bad_var_cflags=yes
-        ;;
+# Temporarily disable -D* flag check (PR/177401, PR/180944)
+#      -D*)
+#        xc_bad_var_cflags=yes
+#        ;;
       -U*)
         xc_bad_var_cflags=yes
         ;;


[FILE:1778:patches/patch-src_tool__operate.c]
--- src/tool_operate.c.orig	2024-01-23 15:21:49 UTC
+++ src/tool_operate.c
@@ -1121,20 +1121,7 @@ static CURLcode single_transfer(struct G
             DEBUGASSERT(!outs->filename);
           }
 
-          if(config->resume_from_current) {
-            /* We're told to continue from where we are now. Get the size
-               of the file as it is now and open it for append instead */
-            struct_stat fileinfo;
-            /* VMS -- Danger, the filesize is only valid for stream files */
-            if(0 == stat(per->outfile, &fileinfo))
-              /* set offset to current file size: */
-              config->resume_from = fileinfo.st_size;
-            else
-              /* let offset be 0 */
-              config->resume_from = 0;
-          }
-
-          if(config->resume_from) {
+          if(config->resume_from || config->resume_from_current) {
 #ifdef __VMS
             /* open file for output, forcing VMS output format into stream
                mode which is needed for stat() call above to always work. */
@@ -1151,6 +1138,19 @@ static CURLcode single_transfer(struct G
             }
             outs->fopened = TRUE;
             outs->stream = file;
+
+            if(config->resume_from_current) {
+              /* We're told to continue from where we are now. Get the size
+                 of the file as it is now */
+              struct_stat fileinfo;
+              if(0 == fstat(fileno(outs->stream), &fileinfo))
+                /* set offset to current file size: */
+                config->resume_from = fileinfo.st_size;
+              else
+                /* let offset be 0 */
+                config->resume_from = 0;
+            }
+
             outs->init = config->resume_from;
           }
           else {


[FILE:499:files/build_curl_pic.sh]
#!/bin/sh
# copy this to $WRKSRC before running
# 50+ of these objects files are empty so check before archiving.

FILE_LIST="/tmp/object_files"

noreloc="
There are no relocations in this file."

entries=$(find lib/.libs/ lib/*/.libs -type f -regextype posix-extended -regex  ".*/*[.]o")

for xf in $entries; do
    output=$(readelf --relocs $xf)
    if [ "$output" != "$noreloc" ]; then
       echo "$xf" >> "$FILE_LIST"
    fi
done

ar -crsv libcurl_pic.a `cat "$FILE_LIST"`
ranlib libcurl_pic.a


[FILE:4812:files/special.mk]
ZQ+=	--with-schannel=no		# enable Windows native SSL/TLS
ZQ+=	--with-secure-transport=no	# enable Apple OS native SSL/TLS
ZQ+=	--with-amissl=no		# enable Amiga native SSL/TLS (AmiSSL)
ZQ+=	--with-gnutls=no		# where to look for GnuTLS
ZQ+=	--with-wolfssl=no		# where to look for WolfSSL
ZQ+=	--with-bearssl=no		# where to look for BearSSL
ZQ+=	--with-rustls=no		# where to look for rustls
ZQ+=	--with-test-caddy=no		# where to find caddy for testing
ZQ+=	--with-hyper=no			# Enable hyper usage
ZQ+=	--with-zlib=${LOCALBASE}	# Enable use of zlib
ZQ+=	--with-brotli=no		# Enable use of BROTLI
ZQ+=	--with-zstd=no			# Enable use of zstd
ZQ+=	--with-libpsl=no		# Support for libpsl cookie checking
ZQ+=	--with-libgsasl=no		# libgsasl support for SCRAM
ZQ+=	--with-libssh=no		# Enable libssh
ZQ+=	--with-wolfssh=no		# Enable wolfssh
ZQ+=	--with-librtmp=no		# Enable librtmp
ZQ+=	--with-winidn=no		# Enable Windows native IDN
ZQ+=	--with-libidn2=no		# Enable libidn2 usage
ZQ+=	--with-ngtcp2=no		# Enable ngtcp2 usage
ZQ+=	--with-nghttp3=no		# Enable nghttp3 usage
ZQ+=	--with-quiche=no		# Enable quiche usage
ZQ+=	--with-msh3=no			# Enable msh3 usage
ZQ+=	--enable-http=yes		# Enable HTTP support
ZQ+=	--enable-file=yes		# Enable FILE support
ZQ+=	--enable-ldap=no		# Enable LDAP support
ZQ+=	--enable-ldaps=no		# Enable LDAPS support
ZQ+=	--enable-libgcc=no		# Use libgcc when linking
ZQ+=	--enable-proxy=yes		# Enable proxy support
ZQ+=	--enable-ipv6=yes		# Enable IPv6 (with IPv4) support
ZQ+=	--enable-pthreads		# Enable POSIX threads (default for threaded resolver)
ZQ+=	--enable-verbose		# Enable verbose strings
ZQ+=	--enable-versioned-symbols=no	# Enable versioned symbols in shared library
ZQ+=	--enable-dnsshuffle=no		# Enable DNS shuffling
ZQ+=	--enable-sspi=no		# Enable SSPI (Windows native builds only)
ZQ+=	--enable-http-auth		# Enable HTTP authentication support
ZQ+=	--enable-basic-auth		# Enable basic authentication
ZQ+=	--enable-unix-sockets		# Enable Unix domain sockets
ZQ+=	--enable-socketpair		# Enable socketpair support
ZQ+=	--enable-bindlocal		# Enable local binding support
ZQ+=	--enable-netrc			# Enable netrc parsing
ZQ+=	--enable-progress-meter		# Enable progress-meter
ZQ+=	--enable-get-easy-options	# Enable curl_easy_options
ZQ+=	--enable-alt-svc		# Enable alt-svc support
ZQ+=	--enable-mime=yes		# Enable mime API support
ZQ+=	--enable-headers-api		# Enable headers-api support
ZQ+=	--enable-websockets=no		# Enable WebSockets support

ZQ+=	--with-zsh-functions-dir=${LOCALBASE}/share/zsh/site-functions
ZQ+=	--with-fish-functions-dir=${LOCALBASE}/share/fish/completions


.if "${VARIANT}" == "embed"
ZQ+=	--with-test-nghttpx=no		# where to find nghttpx for testing
ZQ+=	--with-nghttp2=no		# Enable nghttp2 usage
ZQ+=	--with-libssh2			# Enable libssh2
ZQ+=	--enable-ftp=no			# Enable FTP support
ZQ+=	--enable-rtsp=no		# Enable RTSP support
ZQ+=	--enable-dict=no		# Enable DICT support
ZQ+=	--enable-telnet=no		# Enable TELNET support
ZQ+=	--enable-tftp=no		# Enable TFTP support
ZQ+=	--enable-pop3=no		# Enable POP3 support
ZQ+=	--enable-imap=no		# Enable IMAP support
ZQ+=	--enable-smb=no			# Enable SMB/CIFS support
ZQ+=	--enable-smtp=no		# Enable SMTP support
ZQ+=	--enable-gopher=no		# Enable Gopher support
ZQ+=	--enable-mqtt=no		# Enable MQTT support
ZQ+=	--enable-manual=no		# Enable built-in manual
ZQ+=	--enable-libcurl-option=no	# Enable --libcurl C code generation support
ZQ+=	--enable-bearer-auth=no		# Enable bearer authentication
ZQ+=	--enable-digest-auth=no		# Enable digest authentication
ZQ+=	--enable-kerberos-auth=no	# Enable kerberos authentication
ZQ+=	--enable-negotiate-auth=no	# Enable negotiate authentication
ZQ+=	--enable-aws=no			# Enable AWS sig support
ZQ+=	--enable-ntlm=no		# Enable NTLM support
ZQ+=	--enable-tls-srp=no		# Enable TLS-SRP authentication
ZQ+=	--enable-cookies=no		# Enable cookies support
ZQ+=	--enable-doh=no			# Enable DoH support
ZQ+=	--enable-form-api=no		# Enable form API support
ZQ+=	--enable-dateparse=no		# Enable date parsing
ZQ+=	--enable-hsts=no		# Enable HSTS support

.else

ZQ+=	--with-test-nghttpx=nghttpx
ZQ+=	--with-nghttp2
ZQ+=	--with-libssh2=no
ZQ+=	--enable-ftp=yes
ZQ+=	--enable-rtsp=yes
ZQ+=	--enable-dict=yes
ZQ+=	--enable-telnet=yes
ZQ+=	--enable-tftp=yes
ZQ+=	--enable-pop3=yes
ZQ+=	--enable-imap=yes
ZQ+=	--enable-smb=yes
ZQ+=	--enable-smtp=yes
ZQ+=	--enable-gopher=yes
ZQ+=	--enable-mqtt=yes
ZQ+=	--enable-manual=yes
ZQ+=	--enable-libcurl-option=yes
ZQ+=	--enable-bearer-auth=yes
ZQ+=	--enable-digest-auth=yes
ZQ+=	--enable-kerberos-auth=yes
ZQ+=	--enable-negotiate-auth=yes
ZQ+=	--enable-aws=yes
ZQ+=	--enable-ntlm=yes
ZQ+=	--enable-tls-srp=yes
ZQ+=	--enable-cookies=yes
ZQ+=	--enable-doh=yes
ZQ+=	--enable-form-api=yes
ZQ+=	--enable-dateparse=yes
ZQ+=	--enable-hsts=yes

.endif

CONFIGURE_ARGS+=	${ZQ}
 
