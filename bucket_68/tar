# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		tar
VERSION=		1.35
KEYWORDS=		archivers
VARIANTS=		standard noprefix
SDESC[noprefix]=	GNU tape archiver without 'g' prefix
SDESC[standard]=	GNU version of the traditional tape archiver
HOMEPAGE=		https://www.gnu.org/software/tar/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/tar
DISTFILE[1]=		tar-1.35.tar.xz:main
DF_INDEX=		1
SPKGS[noprefix]=	complete
			primary
			nls
			man
			info
SPKGS[standard]=	complete
			primary
			nls
			man
			info

OPTIONS_AVAILABLE=	NOPREFIX
OPTIONS_STANDARD=	none
VOPTS[noprefix]=	NOPREFIX=ON

USES=			cpe makeinfo iconv charsetfix gettext

LICENSE=		GPLv3+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"tar Header Block"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/tar.h
LICENSE_SCHEME=		solo

INFO=			info:tar
CPE_VENDOR=		gnu
FPC_EQUIVALENT=		archivers/gtar
INFO_SUBDIR=		.

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-nls
CONFIGURE_ENV=		DEFAULT_ARCHIVE=/dev/sa0
			DEFAULT_RMT_COMMAND=/etc/rmt
			gl_cv_func_mknod_works=yes

[NOPREFIX].DESCRIPTION=			Build without prefixing all programs with "g"
[NOPREFIX].CONFIGURE_ARGS_OFF=		--program-prefix=g

[FILE:620:descriptions/desc.primary.standard]
This is the Free Software Foundation's "tar" tape archiver.

GNU tar saves many files together into a single tape or disk archive,
and can restore individual files from the archive.  It includes
multivolume support, the ability to archive sparse files, automatic
archive compression/decompression, remote archives and special
features that allow tar to be used for incremental and full backups.
This distribution also includes rmt, the remote tape server.

Note that this port will install these utilities with a 'g' prefix,
e.g. gtar, but the man pages and info documentation will refer to
them without the 'g' prefix.


[FILE:456:descriptions/desc.primary.noprefix]
This is the Free Software Foundation's "tar" tape archiver.

GNU tar saves many files together into a single tape or disk archive,
and can restore individual files from the archive.  It includes
multivolume support, the ability to archive sparse files, automatic
archive compression/decompression, remote archives and special
features that allow tar to be used for incremental and full backups.
This distribution also includes rmt, the remote tape server.


[FILE:94:distinfo]
4d62ff37342ec7aed748535323930c7cf94acf71c3591882b26a7ea50f3edc16      2317208 tar-1.35.tar.xz


[FILE:22:manifests/plist.primary.standard]
bin/gtar
libexec/grmt


[FILE:1374:manifests/plist.nls]
share/locale/bg/LC_MESSAGES/tar.mo
share/locale/ca/LC_MESSAGES/tar.mo
share/locale/cs/LC_MESSAGES/tar.mo
share/locale/da/LC_MESSAGES/tar.mo
share/locale/de/LC_MESSAGES/tar.mo
share/locale/el/LC_MESSAGES/tar.mo
share/locale/eo/LC_MESSAGES/tar.mo
share/locale/es/LC_MESSAGES/tar.mo
share/locale/et/LC_MESSAGES/tar.mo
share/locale/eu/LC_MESSAGES/tar.mo
share/locale/fi/LC_MESSAGES/tar.mo
share/locale/fr/LC_MESSAGES/tar.mo
share/locale/ga/LC_MESSAGES/tar.mo
share/locale/gl/LC_MESSAGES/tar.mo
share/locale/hr/LC_MESSAGES/tar.mo
share/locale/hu/LC_MESSAGES/tar.mo
share/locale/id/LC_MESSAGES/tar.mo
share/locale/it/LC_MESSAGES/tar.mo
share/locale/ja/LC_MESSAGES/tar.mo
share/locale/ka/LC_MESSAGES/tar.mo
share/locale/ko/LC_MESSAGES/tar.mo
share/locale/ky/LC_MESSAGES/tar.mo
share/locale/ms/LC_MESSAGES/tar.mo
share/locale/nb/LC_MESSAGES/tar.mo
share/locale/nl/LC_MESSAGES/tar.mo
share/locale/pl/LC_MESSAGES/tar.mo
share/locale/pt/LC_MESSAGES/tar.mo
share/locale/pt_BR/LC_MESSAGES/tar.mo
share/locale/ro/LC_MESSAGES/tar.mo
share/locale/ru/LC_MESSAGES/tar.mo
share/locale/sk/LC_MESSAGES/tar.mo
share/locale/sl/LC_MESSAGES/tar.mo
share/locale/sr/LC_MESSAGES/tar.mo
share/locale/sv/LC_MESSAGES/tar.mo
share/locale/tr/LC_MESSAGES/tar.mo
share/locale/uk/LC_MESSAGES/tar.mo
share/locale/vi/LC_MESSAGES/tar.mo
share/locale/zh_CN/LC_MESSAGES/tar.mo
share/locale/zh_TW/LC_MESSAGES/tar.mo


[FILE:50:manifests/plist.man.standard]
share/man/man1/gtar.1.gz
share/man/man8/grmt.8.gz


[FILE:20:manifests/plist.primary.noprefix]
bin/tar
libexec/rmt


[FILE:48:manifests/plist.man.noprefix]
share/man/man1/tar.1.gz
share/man/man8/rmt.8.gz


[FILE:538:patches/patch-configure]
Hack to disable shared library detection, so configure won't try
to link with "/usr/local/lib/libiconv.so -static".

--- configure.orig	2023-07-18 06:39:11 UTC
+++ configure
@@ -51811,7 +51811,7 @@ fi
 printf "%s\n" "$acl_cv_rpath" >&6; }
   wl="$acl_cv_wl"
   acl_libext="$acl_cv_libext"
-  acl_shlibext="$acl_cv_shlibext"
+  acl_shlibext="${SHLIBEXT-$acl_cv_shlibext}"
   acl_libname_spec="$acl_cv_libname_spec"
   acl_library_names_spec="$acl_cv_library_names_spec"
   acl_hardcode_libdir_flag_spec="$acl_cv_hardcode_libdir_flag_spec"


[FILE:432:patches/patch-src_Makefile.in]
--- src/Makefile.in.orig	2023-07-18 06:39:15 UTC
+++ src/Makefile.in
@@ -1793,7 +1793,8 @@ AM_CFLAGS = $(WARN_CFLAGS) $(WERROR_CFLA
 tar_LDADD = $(LIBS) ../lib/libtar.a ../gnu/libgnu.a\
  $(LIB_ACL) $(LIB_CLOCK_GETTIME) $(LIB_EACCESS)\
  $(LIB_GETRANDOM) $(LIB_HARD_LOCALE) $(FILE_HAS_ACL_LIB) $(LIB_MBRTOWC)\
- $(LIB_SELINUX) $(LIB_SETLOCALE_NULL)
+ $(LIB_SELINUX) $(LIB_SETLOCALE_NULL) \
+ $(LIBINTL) $(LIBICONV)
 
 all: all-am
 

