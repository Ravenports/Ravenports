# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		tar
VERSION=		1.32
KEYWORDS=		archivers
VARIANTS=		standard nls noprefix
SDESC[nls]=		GNU tape archiver with native language support
SDESC[noprefix]=	GNU tape archiver without 'g' prefix
SDESC[standard]=	GNU version of the traditional tape archiver
HOMEPAGE=		https://www.gnu.org/software/tar/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/tar
DISTFILE[1]=		tar-1.32.tar.xz:main
DF_INDEX=		1
SPKGS[nls]=		single
SPKGS[noprefix]=	single
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	NLS NOPREFIX
OPTIONS_STANDARD=	none
VOPTS[nls]=		NLS=ON NOPREFIX=OFF
VOPTS[noprefix]=	NLS=ON NOPREFIX=ON

USES=			cpe makeinfo iconv:build charsetfix

LICENSE=		GPLv3+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"tar Header Block"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/tar.h
LICENSE_SCHEME=		solo

INFO=			single:tar
CPE_VENDOR=		gnu
FPC_EQUIVALENT=		archivers/gtar
INFO_SUBDIR=		.

MUST_CONFIGURE=		gnu
CONFIGURE_ENV=		DEFAULT_ARCHIVE=/dev/sa0
			DEFAULT_RMT_COMMAND=/etc/rmt
			gl_cv_func_mknod_works=yes

[NLS].CONFIGURE_ENABLE_BOTH=		nls
[NLS].USES_ON=				gettext-runtime

[NOPREFIX].DESCRIPTION=			Build without prefixing all programs with "g"
[NOPREFIX].CONFIGURE_ARGS_OFF=		--program-prefix=g

[FILE:620:descriptions/desc.single.standard]
This is the Free Software Foundation's "tar" tape archiver.

GNU tar saves many files together into a single tape or disk archive,
and can restore individual files from the archive.  It includes
multivolume support, the ability to archive sparse files, automatic
archive compression/decompression, remote archives and special
features that allow tar to be used for incremental and full backups.
This distribution also includes rmt, the remote tape server.

Note that this port will install these utilities with a 'g' prefix,
e.g. gtar, but the man pages and info documentation will refer to
them without the 'g' prefix.


[FILE:697:descriptions/desc.single.nls]
This is the Free Software Foundation's "tar" tape archiver.

GNU tar saves many files together into a single tape or disk archive,
and can restore individual files from the archive.  It includes
multivolume support, the ability to archive sparse files, automatic
archive compression/decompression, remote archives and special
features that allow tar to be used for incremental and full backups.
This distribution also includes rmt, the remote tape server.

Note that this port will install these utilities with a 'g' prefix,
e.g. gtar, but the man pages and info documentation will refer to
them without the 'g' prefix.  Also, this version has native language
support unlike the standard variant.


[FILE:499:descriptions/desc.single.noprefix]
This is the Free Software Foundation's "tar" tape archiver.

GNU tar saves many files together into a single tape or disk archive,
and can restore individual files from the archive.  It includes
multivolume support, the ability to archive sparse files, automatic
archive compression/decompression, remote archives and special
features that allow tar to be used for incremental and full backups.
This distribution also includes rmt, the remote tape server.

This variant has native language support.


[FILE:94:distinfo]
d0d3ae07f103323be809bc3eac0dcc386d52c5262499fe05511ac4788af1fdd8      2103348 tar-1.32.tar.xz


[FILE:72:manifests/plist.single.standard]
bin/gtar
libexec/grmt
share/man/man1/gtar.1.gz
share/man/man8/grmt.8.gz


[FILE:1411:manifests/plist.single.nls]
bin/gtar
libexec/grmt
share/man/man1/gtar.1.gz
share/man/man8/grmt.8.gz
share/locale/bg/LC_MESSAGES/tar.mo
share/locale/ca/LC_MESSAGES/tar.mo
share/locale/cs/LC_MESSAGES/tar.mo
share/locale/da/LC_MESSAGES/tar.mo
share/locale/de/LC_MESSAGES/tar.mo
share/locale/el/LC_MESSAGES/tar.mo
share/locale/eo/LC_MESSAGES/tar.mo
share/locale/es/LC_MESSAGES/tar.mo
share/locale/et/LC_MESSAGES/tar.mo
share/locale/eu/LC_MESSAGES/tar.mo
share/locale/fi/LC_MESSAGES/tar.mo
share/locale/fr/LC_MESSAGES/tar.mo
share/locale/ga/LC_MESSAGES/tar.mo
share/locale/gl/LC_MESSAGES/tar.mo
share/locale/hr/LC_MESSAGES/tar.mo
share/locale/hu/LC_MESSAGES/tar.mo
share/locale/id/LC_MESSAGES/tar.mo
share/locale/it/LC_MESSAGES/tar.mo
share/locale/ja/LC_MESSAGES/tar.mo
share/locale/ko/LC_MESSAGES/tar.mo
share/locale/ky/LC_MESSAGES/tar.mo
share/locale/ms/LC_MESSAGES/tar.mo
share/locale/nb/LC_MESSAGES/tar.mo
share/locale/nl/LC_MESSAGES/tar.mo
share/locale/pl/LC_MESSAGES/tar.mo
share/locale/pt/LC_MESSAGES/tar.mo
share/locale/pt_BR/LC_MESSAGES/tar.mo
share/locale/ro/LC_MESSAGES/tar.mo
share/locale/ru/LC_MESSAGES/tar.mo
share/locale/sk/LC_MESSAGES/tar.mo
share/locale/sl/LC_MESSAGES/tar.mo
share/locale/sr/LC_MESSAGES/tar.mo
share/locale/sv/LC_MESSAGES/tar.mo
share/locale/tr/LC_MESSAGES/tar.mo
share/locale/uk/LC_MESSAGES/tar.mo
share/locale/vi/LC_MESSAGES/tar.mo
share/locale/zh_CN/LC_MESSAGES/tar.mo
share/locale/zh_TW/LC_MESSAGES/tar.mo


[FILE:1407:manifests/plist.single.noprefix]
bin/tar
libexec/rmt
share/man/man1/tar.1.gz
share/man/man8/rmt.8.gz
share/locale/bg/LC_MESSAGES/tar.mo
share/locale/ca/LC_MESSAGES/tar.mo
share/locale/cs/LC_MESSAGES/tar.mo
share/locale/da/LC_MESSAGES/tar.mo
share/locale/de/LC_MESSAGES/tar.mo
share/locale/el/LC_MESSAGES/tar.mo
share/locale/eo/LC_MESSAGES/tar.mo
share/locale/es/LC_MESSAGES/tar.mo
share/locale/et/LC_MESSAGES/tar.mo
share/locale/eu/LC_MESSAGES/tar.mo
share/locale/fi/LC_MESSAGES/tar.mo
share/locale/fr/LC_MESSAGES/tar.mo
share/locale/ga/LC_MESSAGES/tar.mo
share/locale/gl/LC_MESSAGES/tar.mo
share/locale/hr/LC_MESSAGES/tar.mo
share/locale/hu/LC_MESSAGES/tar.mo
share/locale/id/LC_MESSAGES/tar.mo
share/locale/it/LC_MESSAGES/tar.mo
share/locale/ja/LC_MESSAGES/tar.mo
share/locale/ko/LC_MESSAGES/tar.mo
share/locale/ky/LC_MESSAGES/tar.mo
share/locale/ms/LC_MESSAGES/tar.mo
share/locale/nb/LC_MESSAGES/tar.mo
share/locale/nl/LC_MESSAGES/tar.mo
share/locale/pl/LC_MESSAGES/tar.mo
share/locale/pt/LC_MESSAGES/tar.mo
share/locale/pt_BR/LC_MESSAGES/tar.mo
share/locale/ro/LC_MESSAGES/tar.mo
share/locale/ru/LC_MESSAGES/tar.mo
share/locale/sk/LC_MESSAGES/tar.mo
share/locale/sl/LC_MESSAGES/tar.mo
share/locale/sr/LC_MESSAGES/tar.mo
share/locale/sv/LC_MESSAGES/tar.mo
share/locale/tr/LC_MESSAGES/tar.mo
share/locale/uk/LC_MESSAGES/tar.mo
share/locale/vi/LC_MESSAGES/tar.mo
share/locale/zh_CN/LC_MESSAGES/tar.mo
share/locale/zh_TW/LC_MESSAGES/tar.mo


[FILE:533:patches/patch-configure]
Hack to disable shared library detection, so configure won't try
to link with "/usr/local/lib/libiconv.so -static".

--- configure.orig	2019-02-23 12:55:32 UTC
+++ configure
@@ -36944,7 +36944,7 @@ fi
 $as_echo "$acl_cv_rpath" >&6; }
   wl="$acl_cv_wl"
   acl_libext="$acl_cv_libext"
-  acl_shlibext="$acl_cv_shlibext"
+  acl_shlibext="${SHLIBEXT-$acl_cv_shlibext}"
   acl_libname_spec="$acl_cv_libname_spec"
   acl_library_names_spec="$acl_cv_library_names_spec"
   acl_hardcode_libdir_flag_spec="$acl_cv_hardcode_libdir_flag_spec"


[FILE:597:patches/patch-gnu_error.c]
Fix remfiles01.at and remfiles02.at: error() needs to fetch the
name set by set_program_name().

--- gnu/error.c.orig	2019-01-02 18:15:58 UTC
+++ gnu/error.c
@@ -42,8 +42,6 @@
 # define USE_UNLOCKED_IO 0
 # define _GL_ATTRIBUTE_FORMAT_PRINTF(a, b)
 # define _GL_ARG_NONNULL(a)
-#else
-# include "getprogname.h"
 #endif
 
 #if USE_UNLOCKED_IO
@@ -119,7 +117,7 @@ int strerror_r (int errnum, char *buf, s
 #  endif
 # endif
 
-#define program_name getprogname ()
+extern char *program_name;
 
 # if GNULIB_STRERROR_R_POSIX || HAVE_STRERROR_R || defined strerror_r
 #  define __strerror_r strerror_r

