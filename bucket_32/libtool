# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libtool
VERSION=		2.5.4
KEYWORDS=		devel
VARIANTS=		std
SDESC[std]=		Generic shared library support script
HOMEPAGE=		https://www.gnu.org/software/libtool/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/libtool
DISTFILE[1]=		libtool-2.5.4.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			cpe

LICENSE=		GPLv2+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^\#\# ------ \#\#"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/libtoolize.in
LICENSE_SCHEME=		solo

CPE_PRODUCT=		libtool
CPE_VENDOR=		gnu
FPC_EQUIVALENT=		devel/libtool

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-ltdl-install

VAR_OPSYS[sunos]=	CONFIGURE_ENV=LT_SYS_LIBRARY_PATH=/lib/amd64:/usr/lib/amd64

post-patch:
	${RM} ${WRKSRC}/doc/*.info*
	${REINPLACE_CMD} -e "/INFO_DEPS =/d" ${WRKSRC}/Makefile.in
	${FIND} ${WRKSRC} -type f | ${XARGS} ${TOUCH}

post-install-sunos:
	# During OmniOS bootstrap, the nawk system() command is simply ignored.
	# hopefully this self-corrects.  To complete the bootstrap, use this hack
	${AWK} '/^\. ["]/{exit}; {print}' ${WRKSRC}/libtoolize > /tmp/libtoolize
	${CAT} ${WRKSRC}/build-aux/funclib.sh >> /tmp/libtoolize
	${CAT} ${WRKSRC}/build-aux/options-parser >> /tmp/libtoolize
	${CAT} ${WRKSRC}/build-aux/extract-trace >> /tmp/libtoolize
	${ECHO} "" >> /tmp/libtoolize
	${AWK} '/^# Set a version string./,EOF' ${WRKSRC}/libtoolize >> /tmp/libtoolize
	${INSTALL_SCRIPT} /tmp/libtoolize ${STAGEDIR}${PREFIX}/bin/libtoolize

[FILE:262:descriptions/desc.primary]
This is GNU Libtool, a generic library support script.  Libtool hides
the complexity of using shared libraries behind a consistent, portable
interface.

To use libtool, add the new generic library building commands to your
Makefile, Makefile.in, or Makefile.am.


[FILE:99:distinfo]
f81f5860666b0bc7d84baddefa60d1cb9fa6fceb2398cc3baca6afaa60266675      1056924 libtool-2.5.4.tar.xz


[FILE:712:manifests/plist.primary]
bin/
 libtool
 libtoolize
share/aclocal/
 libtool.m4
 ltargz.m4
 ltdl.m4
 ltoptions.m4
 ltsugar.m4
 ltversion.m4
 lt~obsolete.m4
share/libtool/
 COPYING.LIB
 Makefile.am
 Makefile.in
 README
 aclocal.m4
 config-h.in
 configure
 configure.ac
 lt__alloc.c
 lt__argz.c
 lt__dirent.c
 lt__strl.c
 lt_dlloader.c
 lt_error.c
 ltdl.c
 ltdl.h
 ltdl.mk
 slist.c
share/libtool/build-aux/
 compile
 config.guess
 config.sub
 depcomp
 install-sh
 ltmain.sh
 missing
share/libtool/libltdl/
 lt__alloc.h
 lt__argz_.h
 lt__dirent.h
 lt__glibc.h
 lt__private.h
 lt__strl.h
 lt_dlloader.h
 lt_error.h
 lt_system.h
 slist.h
share/libtool/loaders/
 dld_link.c
 dlopen.c
 dyld.c
 load_add_on.c
 loadlibrary.c
 preopen.c
 shl_load.c


[FILE:41:manifests/plist.man]
share/man/man1/
 libtool.1
 libtoolize.1


[FILE:487:patches/patch-m4_libtool.m4]
--- m4/libtool.m4.orig	2024-11-20 19:01:08 UTC
+++ m4/libtool.m4
@@ -2699,7 +2699,7 @@ darwin* | rhapsody*)
   version_type=darwin
   need_lib_prefix=no
   need_version=no
-  library_names_spec='$libname$release$major$shared_ext $libname$shared_ext'
+  library_names_spec='$libname$release$versuffix$shared_ext $libname$release$major$shared_ext $libname$shared_ext'
   soname_spec='$libname$release$major$shared_ext'
   shlibpath_overrides_runpath=yes
   shlibpath_var=DYLD_LIBRARY_PATH

