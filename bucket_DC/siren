# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		siren
VERSION=		0.8
KEYWORDS=		audio
VARIANTS=		standard
SDESC[standard]=	Text-based audio player
HOMEPAGE=		https://www.kariliq.nl/siren/
CONTACT=		Leonid_Bobrov[mazocomp@disroot.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://cdn.openbsd.org/pub/OpenBSD/distfiles/
			https://www.kariliq.nl/siren/dist
DISTFILE[1]=		siren-0.8.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	flac:primary:standard
			ffmpeg:primary:standard
			libao:primary:standard
			libid3tag:single:standard
			libmad:single:standard
			libsndfile:primary:standard
			libvorbis:primary:standard
			mpg123:single:standard
			opusfile:primary:standard
			sndio:single:standard
			wavpack:single:standard

USES=			ncurses pkgconfig

LICENSE=		ISCL:single
LICENSE_FILE=		ISCL:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		audio/siren

MUST_CONFIGURE=		yes
CONFIGURE_ARGS=		aac=no
			alsa=no
			debug=no
			mandir={{MANPREFIX}}/man
			oss=no
			portaudio=no
			prefix={{PREFIX}}
			pulse=no
			sun=no

CFLAGS=			-I{{NCURSESINC}}

post-extract:
	${REINPLACE_CMD} -e 's|-lcurses|-lncurses|' ${WRKSRC}/configure

[FILE:210:descriptions/desc.single]
Siren is a text-based audio player for UNIX-like operating systems.
Various aspects of Siren have been inspired by cmus. Supported file
formats include Ogg Vorbis, MP3, Opus, FLAC, AAC, WavPack, WAVE and
AIFF.


[FILE:95:distinfo]
5ee79aec712f3605c720fd92af93e8a7258d734f48b97dcb09e15baad3d049e3       100553 siren-0.8.tar.gz


[FILE:164:manifests/plist.single]
bin/siren
lib/siren/ip/
 ffmpeg.so
 flac.so
 mad.so
 mpg123.so
 opus.so
 sndfile.so
 vorbis.so
 wavpack.so
lib/siren/op/
 ao.so
 sndio.so
share/man/man1/siren.1.gz


[FILE:309:patches/patch-compat_tree.h]
--- compat/tree.h.orig	2018-09-28 12:31:52.435530000 +0300
+++ compat/tree.h	2018-09-28 12:33:41.057478000 +0300
@@ -27,6 +27,8 @@
 #ifndef	_SYS_TREE_H_
 #define	_SYS_TREE_H_
 
+#include <stddef.h>
+
 /*
  * This file defines data structures for different types of trees:
  * splay trees and red-black trees.

