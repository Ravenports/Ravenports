# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		wget2
VERSION=		2.0.0
KEYWORDS=		net ftp www
VARIANTS=		standard
SDESC[standard]=	File retrieval tool using HTTP, HTTPS, and FTP
HOMEPAGE=		https://gitlab.com/gnuwget/wget2
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/wget
DISTFILE[1]=		wget2-2.0.0.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			nls

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		Zstandard:static:standard
			bzip2:static:standard
			doxygen:single:standard
BUILDRUN_DEPENDS=	Zstandard:shared:standard
			pcre2:primary:standard
			libidn2:primary:standard
			brotli:single:standard
			xz:single:standard
			lzip:single:standard
			gnutls:primary:standard
			libpsl:single:standard
			libnghttp2:single:standard
			bzip2:shared:standard
			gpgme:primary:standard
RUN_DEPENDS=		nss:caroot:standard

USES=			cpe gmake pkgconfig zlib iconv libtool makeinfo
			python:build gettext-runtime gettext-tools

CPE_PRODUCT=		wget
CPE_VENDOR=		gnu

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-openssl=no
			--with-ssl=gnutls
			--without-libhsts
			--without-libidn
			--without-pcre

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes

post-install:
	${RM} ${STAGEDIR}${PREFIX}/bin/wget2_noinstall

[FILE:2176:descriptions/desc.primary]
GNU Wget2 is the successor of GNU Wget, a file and recursive website
downloader.  Some features:

* Support for HTTP/1.1 and HTTP/2.0 protocol
* brotli decompression support (Accept-Encoding: br)
* zstandard decompression support, RFC8478 (Accept-Encoding: zstd)
* lzip decompression support, (Accept-Encoding: lzip)
* HPKP - HTTP Public Key Pinning (RFC7469) with persistent database
* TCP Fast Open for plain text and for HTTPS
* TLS Session Resumption including persistent session data cache
* TLS False Start (with GnuTLS >= 3.5.0)
* HTTP2 support via nghttp2 and GnuTLS ALPN including streaming/pipelining
* Use libpsl for cookie domain checking (using Public Suffix List)
* Support link conversion (-k/--convert-links and -K/--backup-converted)
* Support for RFC 6266 compliant Content-Disposition
* RFC 6797 HSTS (HTTP Strict Transport Security)
* Support for bzip2 Content-Encoding / Accept-Encoding compression type
* Support for XZ Content-Encoding / Accept-Encoding compression type
* Support scanning RSS 2.0 feeds.
* Support scanning Atom 1.0 feeds.
* Support scanning URLs from local Sitemap XML file
* Support scanning sitemap files given in robots.txt
* Support arbitrary number of proxies for parallel downloads
* Multithreaded download of single files (option --chunk-size)
* Internationalized Domain Names in Applications
* ICEcast / SHOUTcast support via library (see examples/getstream.c)
* respect /robots.txt "Robot Exclusion Standard" / <META name="robots">
* IDN support for international domains
* proxy support
* cookies (session/non-session), detection of supercookies via PSL
* recursive download of websites with or without spanning hosts
* download of single web pages / resources
* zlib/gzip compressed HTTP/HTTPS downloads (gzip, deflate)
* number of parallel download threads is adjustable
* support for keep-alive connections
* included CSS, HTML, XML parser needed for recursive downloads
* gettext support
* HTTPS via libgnutls (and basic WolfSSL support)
* support for Metalink RFC 6249 (Metalink/HTTP: Mirrors and Hashes)
* support for Metalink RFC 5854 (Metalink Download Description Formats)
* DNS lookup cache
* IPv4 and IPv6 support


[FILE:97:distinfo]
4fe2fba0abb653ecc1cc180bea7f04212c17e8fe05c85aaac8baeac4cd241544      3565643 wget2-2.0.0.tar.gz


[FILE:2539:manifests/plist.primary]
bin/wget2
include/
 wget.h
 wgetver.h
lib/
 libwget.a
 libwget.so
 libwget.so.1
 libwget.so.1.0.0
 libwget_alloc.a
 libwget_alloc.so
 libwget_alloc.so.1
 libwget_alloc.so.1.0.0
 libwget_common.a
 libwget_common.so
 libwget_common.so.1
 libwget_common.so.1.0.0
 libwget_css.a
 libwget_css.so
 libwget_css.so.1
 libwget_css.so.1.0.0
 libwget_decompress.a
 libwget_decompress.so
 libwget_decompress.so.1
 libwget_decompress.so.1.0.0
 libwget_dns.a
 libwget_dns.so
 libwget_dns.so.1
 libwget_dns.so.1.0.0
 libwget_dnscache.a
 libwget_dnscache.so
 libwget_dnscache.so.1
 libwget_dnscache.so.1.0.0
 libwget_encoding.a
 libwget_encoding.so
 libwget_encoding.so.1
 libwget_encoding.so.1.0.0
 libwget_hashfile.a
 libwget_hashfile.so
 libwget_hashfile.so.1
 libwget_hashfile.so.1.0.0
 libwget_hpkp_db.a
 libwget_hpkp_db.so
 libwget_hpkp_db.so.1
 libwget_hpkp_db.so.1.0.0
 libwget_hsts.a
 libwget_hsts.so
 libwget_hsts.so.1
 libwget_hsts.so.1.0.0
 libwget_http_parse.a
 libwget_http_parse.so
 libwget_http_parse.so.1
 libwget_http_parse.so.1.0.0
 libwget_io.a
 libwget_io.so
 libwget_io.so.1
 libwget_io.so.1.0.0
 libwget_ip.a
 libwget_ip.so
 libwget_ip.so.1
 libwget_ip.so.1.0.0
 libwget_iri.a
 libwget_iri.so
 libwget_iri.so.1
 libwget_iri.so.1.0.0
 libwget_logger.a
 libwget_logger.so
 libwget_logger.so.1
 libwget_logger.so.1.0.0
 libwget_metalink.a
 libwget_metalink.so
 libwget_metalink.so.1
 libwget_metalink.so.1.0.0
 libwget_netrc.a
 libwget_netrc.so
 libwget_netrc.so.1
 libwget_netrc.so.1.0.0
 libwget_ocsp.a
 libwget_ocsp.so
 libwget_ocsp.so.1
 libwget_ocsp.so.1.0.0
 libwget_progress.a
 libwget_progress.so
 libwget_progress.so.1
 libwget_progress.so.1.0.0
 libwget_robots.a
 libwget_robots.so
 libwget_robots.so.1
 libwget_robots.so.1.0.0
 libwget_thread.a
 libwget_thread.so
 libwget_thread.so.1
 libwget_thread.so.1.0.0
 libwget_tls_session.a
 libwget_tls_session.so
 libwget_tls_session.so.1
 libwget_tls_session.so.1.0.0
 libwget_xml.a
 libwget_xml.so
 libwget_xml.so.1
 libwget_xml.so.1.0.0
lib/pkgconfig/libwget.pc
share/man/man3/
 libwget-base64.3.gz
 libwget-bitmap.3.gz
 libwget-console.3.gz
 libwget-dns-caching.3.gz
 libwget-dns.3.gz
 libwget-error.3.gz
 libwget-hash.3.gz
 libwget-hashmap.3.gz
 libwget-io.3.gz
 libwget-ip.3.gz
 libwget-list.3.gz
 libwget-mem.3.gz
 libwget-net.3.gz
 libwget-parse_atom.3.gz
 libwget-parse_sitemap.3.gz
 libwget-printf.3.gz
 libwget-random.3.gz
 libwget-robots.3.gz
 libwget-stringmap.3.gz
 libwget-thread.3.gz
 libwget-utils.3.gz
 libwget-vector.3.gz
 libwget-xalloc.3.gz
 libwget-xml.3.gz


[FILE:1005:manifests/plist.nls]
share/locale/ca/LC_MESSAGES/wget2.mo
share/locale/cs/LC_MESSAGES/wget2.mo
share/locale/de/LC_MESSAGES/wget2.mo
share/locale/eo/LC_MESSAGES/wget2.mo
share/locale/es/LC_MESSAGES/wget2.mo
share/locale/et/LC_MESSAGES/wget2.mo
share/locale/fi/LC_MESSAGES/wget2.mo
share/locale/fr/LC_MESSAGES/wget2.mo
share/locale/ga/LC_MESSAGES/wget2.mo
share/locale/hr/LC_MESSAGES/wget2.mo
share/locale/hu/LC_MESSAGES/wget2.mo
share/locale/id/LC_MESSAGES/wget2.mo
share/locale/it/LC_MESSAGES/wget2.mo
share/locale/ja/LC_MESSAGES/wget2.mo
share/locale/nb/LC_MESSAGES/wget2.mo
share/locale/nl/LC_MESSAGES/wget2.mo
share/locale/pl/LC_MESSAGES/wget2.mo
share/locale/pt_BR/LC_MESSAGES/wget2.mo
share/locale/ro/LC_MESSAGES/wget2.mo
share/locale/ru/LC_MESSAGES/wget2.mo
share/locale/sk/LC_MESSAGES/wget2.mo
share/locale/sr/LC_MESSAGES/wget2.mo
share/locale/sv/LC_MESSAGES/wget2.mo
share/locale/tr/LC_MESSAGES/wget2.mo
share/locale/uk/LC_MESSAGES/wget2.mo
share/locale/vi/LC_MESSAGES/wget2.mo
share/locale/zh_CN/LC_MESSAGES/wget2.mo


[FILE:389:patches/patch-config.h.in]
--- config.h.in.orig	2021-09-12 11:37:51 UTC
+++ config.h.in
@@ -2474,11 +2474,7 @@
 # define _GL_ATTRIBUTE_NOINLINE
 #endif
 
-#if _GL_HAS_ATTRIBUTE (nonnull)
-# define _GL_ATTRIBUTE_NONNULL(args) __attribute__ ((__nonnull__ args))
-#else
 # define _GL_ATTRIBUTE_NONNULL(args)
-#endif
 
 #if _GL_HAS_ATTRIBUTE (nonstring)
 # define _GL_ATTRIBUTE_NONSTRING __attribute__ ((__nonstring__))


[FILE:420:patches/patch-lib_libc-config.h]
--- lib/libc-config.h.orig	2021-01-10 18:23:45 UTC
+++ lib/libc-config.h
@@ -32,6 +32,11 @@
 
 #include <config.h>
 
+#if defined __FreeBSD__ || defined __DragonFly__
+#undef __nonnull
+#define	__nonnull(...)
+#endif
+
 /* On glibc this includes <features.h> and <sys/cdefs.h> and #defines
    _FEATURES_H, __WORDSIZE, and __set_errno.  On FreeBSD 11 it
    includes <sys/cdefs.h> which defines __nonnull.  Elsewhere it

