# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libjxl
VERSION=		0.11.2
KEYWORDS=		graphics
VARIANTS=		std
SDESC[std]=		JPEG XL image format reference implementation
HOMEPAGE=		https://jpeg.org/jpegxl/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main sjpeg skcms
SITES[main]=		GITHUB/libjxl:libjxl:v0.11.2
SITES[sjpeg]=		GITHUB/webmproject:sjpeg:94e0df6:third_party/sjpeg
SITES[skcms]=		GITHUB/jbeich:skcms:96d9171:third_party/skcms
DISTFILE[1]=		generated:main
DISTFILE[2]=		generated:skcms
DISTFILE[3]=		generated:sjpeg
DF_INDEX=		1 2 3
SPKGS[std]=		set
			primary
			tools
			dev
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		asciidoc:single:std
			openexr:dev:std
			brotli:dev:std
			highway:dev:std
			libavif:dev:std
			openexr:primary:std
			libavif:primary:std
			jpeg-turbo:primary:std
			zlib:primary:std
			png:primary:std
			giflib:primary:std
			lcms2:dev:std
BUILDRUN_DEPENDS=	brotli:primary:std
			highway:primary:std
			lcms2:primary:std
EXRUN[tools]=		primary
			openexr:primary:std
			libavif:primary:std
			jpeg-turbo:primary:std
			zlib:primary:std
			png:primary:std
			giflib:primary:std
EXRUN[dev]=		highway:dev:std
			brotli:dev:std

USES=			cpe cmake pkgconfig mime-info:primary gif:build
			jpeg:build png:build zlib:build
GNOME_COMPONENTS=	gdkpixbuf

LICENSE=		BSD3CLAUSE:primary
LICENSE_FILE=		BSD3CLAUSE:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

CPE_VENDOR=		libjxl_project
FPC_EQUIVALENT=		graphics/libjxl

SOVERSION=		0.11.2
PLIST_SUB=		SOMAJMIN=0.11

CMAKE_ARGS=		-DJPEGXL_ENABLE_MANPAGES:BOOL=ON
			-DJPEGXL_ENABLE_OPENEXR:BOOL=ON
			-DJPEGXL_ENABLE_PLUGINS:BOOL=ON
			-DJPEGXL_ENABLE_PLUGIN_GIMP210:BOOL=OFF
			-DJPEGXL_FORCE_SYSTEM_BROTLI:BOOL=ON
			-DBUILD_TESTING:BOOL=OFF
			-DCMAKE_POLICY_VERSION_MINIMUM=3.5

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/*
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libjx*.so
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/gdk-pixbuf-2.0/*/loaders/libpixbufloader-jxl.so

[FILE:280:descriptions/desc.primary]
The JPEG XL Image Coding System (ISO/IEC 18181) has a rich feature set
and is particularly optimised for responsive web environments, so that
content renders well on a wide range of devices. Moreover, it includes
several features that help transition from the legacy JPEG format.


[FILE:59:descriptions/desc.tools]
This package contains tools based on the JPEG XML library.


[FILE:323:distinfo]
ab38928f7f6248e2a98cc184956021acb927b16a0dee71b4d260dc040a4320ea      1882762 libjxl-libjxl-0.11.2.tar.gz
bc08c0c6d64d1d89b203323aa079805170c5f18e2a6d63f3d983d273eaa61443     10060803 jbeich-skcms-96d9171.tar.gz
f5436bf0b79739c7470d6a0d4e8fa514d2f3e75ad5b88ad364dee484d345e4d1      2481181 webmproject-sjpeg-94e0df6.tar.gz


[FILE:233:manifests/plist.primary]
lib/
 libjxl.so.%%SOMAJMIN%%
 libjxl.so.%%SOVERSION%%
 libjxl_cms.so.%%SOMAJMIN%%
 libjxl_cms.so.%%SOVERSION%%
 libjxl_threads.so.%%SOMAJMIN%%
 libjxl_threads.so.%%SOVERSION%%
lib/gdk-pixbuf-2.0/2.10.0/loaders/libpixbufloader-jxl.so


[FILE:109:manifests/plist.tools]
bin/
 benchmark_xl
 cjxl
 djxl
 jxlinfo
share/mime/packages/image-jxl.xml
share/thumbnailers/jxl.thumbnailer


[FILE:525:manifests/plist.dev]
include/jxl/
 cms.h
 cms_interface.h
 codestream_header.h
 color_encoding.h
 compressed_icc.h
 decode.h
 decode_cxx.h
 encode.h
 encode_cxx.h
 gain_map.h
 jxl_cms_export.h
 jxl_export.h
 jxl_threads_export.h
 memory_manager.h
 parallel_runner.h
 resizable_parallel_runner.h
 resizable_parallel_runner_cxx.h
 stats.h
 thread_parallel_runner.h
 thread_parallel_runner_cxx.h
 types.h
 version.h
lib/
 libjxl.so
 libjxl_cms.so
 libjxl_extras_codec.a
 libjxl_threads.so
lib/pkgconfig/
 libjxl.pc
 libjxl_cms.pc
 libjxl_threads.pc


[FILE:32:manifests/plist.man]
share/man/man1/
 cjxl.1
 djxl.1

