# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gcab
VERSION=		1.3
KEYWORDS=		archivers
VARIANTS=		standard
SDESC[standard]=	Cabinet file library and tool
HOMEPAGE=		https://wiki.gnome.org/msitools
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNOME/gcab/1.3
DISTFILE[1]=		gcab-1.3.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		vala:single:standard
			gtk-doc:single:standard

USES=			cpe gettext-tools gmake libtool pkgconfig meson
GNOME_COMPONENTS=	glib intltool introspection

CPE_VENDOR=		gnome
FPC_EQUIVALENT=		archivers/gcab
MESON_ARGS=		-Dtests=false

post-install:
	${MKDIR} ${STAGEDIR}${STD_DOCDIR:H}
	${MV} ${STAGEDIR}${PREFIX}/share/gtk-doc/html/gcab \
		${STAGEDIR}${STD_DOCDIR:H}
	${RM} -r ${STAGEDIR}${PREFIX}/share/gtk-doc

[FILE:226:descriptions/desc.primary]
Gcab is a utility and library mainly made to create Cabinet files, using
GObject/GIO API and provides GIR bindings.
 - creation supports plain and basic MSZIP compression
 - can open and list files from cabinet, no extraction


[FILE:94:distinfo]
10304cc8f6b550cf9f53fb3cebfb529c49394e982ef7e66e3fca9776c60a68e7        77900 gcab-1.3.tar.xz


[FILE:1491:manifests/plist.primary]
bin/gcab
include/libgcab-1.0/libgcab.h
include/libgcab-1.0/libgcab/
 gcab-cabinet.h
 gcab-enums.h
 gcab-file.h
 gcab-folder.h
lib/
 libgcab-1.0.so
 libgcab-1.0.so.0
 libgcab-1.0.so.0.0.0
lib/girepository-1.0/GCab-1.0.typelib
lib/pkgconfig/libgcab-1.0.pc
share/gir-1.0/GCab-1.0.gir
share/locale/bs/LC_MESSAGES/gcab.mo
share/locale/cs/LC_MESSAGES/gcab.mo
share/locale/da/LC_MESSAGES/gcab.mo
share/locale/de/LC_MESSAGES/gcab.mo
share/locale/el/LC_MESSAGES/gcab.mo
share/locale/en_GB/LC_MESSAGES/gcab.mo
share/locale/es/LC_MESSAGES/gcab.mo
share/locale/eu/LC_MESSAGES/gcab.mo
share/locale/fi/LC_MESSAGES/gcab.mo
share/locale/fr/LC_MESSAGES/gcab.mo
share/locale/fur/LC_MESSAGES/gcab.mo
share/locale/gl/LC_MESSAGES/gcab.mo
share/locale/hu/LC_MESSAGES/gcab.mo
share/locale/id/LC_MESSAGES/gcab.mo
share/locale/lt/LC_MESSAGES/gcab.mo
share/locale/lv/LC_MESSAGES/gcab.mo
share/locale/nb/LC_MESSAGES/gcab.mo
share/locale/nl/LC_MESSAGES/gcab.mo
share/locale/oc/LC_MESSAGES/gcab.mo
share/locale/pl/LC_MESSAGES/gcab.mo
share/locale/pt/LC_MESSAGES/gcab.mo
share/locale/pt_BR/LC_MESSAGES/gcab.mo
share/locale/ro/LC_MESSAGES/gcab.mo
share/locale/ru/LC_MESSAGES/gcab.mo
share/locale/sl/LC_MESSAGES/gcab.mo
share/locale/sr/LC_MESSAGES/gcab.mo
share/locale/sr@latin/LC_MESSAGES/gcab.mo
share/locale/sv/LC_MESSAGES/gcab.mo
share/locale/tg/LC_MESSAGES/gcab.mo
share/locale/tr/LC_MESSAGES/gcab.mo
share/locale/zh_CN/LC_MESSAGES/gcab.mo
share/man/man1/gcab.1.gz
share/vala/vapi/
 libgcab-1.0.deps
 libgcab-1.0.vapi


[FILE:353:manifests/plist.docs]
share/doc/gcab/
 annotation-glossary.html
 api-index-0-5.html
 api-index-0-6.html
 api-index-1-0.html
 api-index-deprecated.html
 api-index-full.html
 ch01.html
 gcab-GCabCabinet.html
 gcab-GCabFile.html
 gcab-GCabFolder.html
 home.png
 index.html
 left-insensitive.png
 left.png
 right-insensitive.png
 right.png
 style.css
 up-insensitive.png
 up.png


[FILE:586:patches/patch-meson.build]
--- meson.build.orig	2018-12-09 16:53:57 UTC
+++ meson.build
@@ -19,7 +19,6 @@ lt_version = '@0@.@1@.@2@'.format(lt_cur
 
 # get suported warning flags
 test_args = [
-  '-fstack-protector-strong',
   '-Waggregate-return',
   '-Wunused',
   '-Warray-bounds',
@@ -76,10 +75,7 @@ endforeach
 # enable full RELRO where possible
 # FIXME: until https://github.com/mesonbuild/meson/issues/1140 is fixed
 global_link_args = []
-test_link_args = [
-  '-Wl,-z,relro',
-  '-Wl,-z,now',
-]
+test_link_args = []
 foreach arg: test_link_args
   if cc.has_argument(arg)
     global_link_args += arg

