# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gcab
VERSION=		1.6
KEYWORDS=		archivers
VARIANTS=		std
SDESC[std]=		Cabinet file library and tool
HOMEPAGE=		https://wiki.gnome.org/msitools
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNOME/gcab/1.6
DISTFILE[1]=		gcab-1.6.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			tools
			dev
			nls
			man
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		vala:primary:std
EXRUN[tools]=		gcab:primary:std

USES=			cpe gmake libtool pkgconfig meson gtk-doc
GNOME_COMPONENTS=	glib intltool introspection

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^\#include"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/gcab.c
LICENSE_SCHEME=		solo

CPE_VENDOR=		gnome
FPC_EQUIVALENT=		archivers/gcab
MESON_ARGS=		-Dtests=false

SOVERSION=		0.3.0

VAR_OPSYS[sunos]=	LDFLAGS=-lintl

[FILE:226:descriptions/desc.primary]
Gcab is a utility and library mainly made to create Cabinet files, using
GObject/GIO API and provides GIR bindings.
 - creation supports plain and basic MSZIP compression
 - can open and list files from cabinet, no extraction


[FILE:37:descriptions/desc.tools]
This package contains the gcab tool.


[FILE:94:distinfo]
2f0c9615577c4126909e251f9de0626c3ee7a152376c15b5544df10fc87e560b        82088 gcab-1.6.tar.xz


[FILE:181:manifests/plist.primary]
lib/
 libgcab-1.0.so.%%SOMAJOR%%
 libgcab-1.0.so.%%SOVERSION%%
lib/girepository-1.0/GCab-1.0.typelib
share/gir-1.0/GCab-1.0.gir
share/vala/vapi/
 libgcab-1.0.deps
 libgcab-1.0.vapi


[FILE:9:manifests/plist.tools]
bin/gcab


[FILE:165:manifests/plist.dev]
include/libgcab-1.0/libgcab.h
include/libgcab-1.0/libgcab/
 gcab-cabinet.h
 gcab-enums.h
 gcab-file.h
 gcab-folder.h
lib/libgcab-1.0.so
lib/pkgconfig/libgcab-1.0.pc


[FILE:1276:manifests/plist.nls]
share/locale/bs/LC_MESSAGES/gcab.mo
share/locale/cs/LC_MESSAGES/gcab.mo
share/locale/da/LC_MESSAGES/gcab.mo
share/locale/de/LC_MESSAGES/gcab.mo
share/locale/el/LC_MESSAGES/gcab.mo
share/locale/en_GB/LC_MESSAGES/gcab.mo
share/locale/es/LC_MESSAGES/gcab.mo
share/locale/eu/LC_MESSAGES/gcab.mo
share/locale/fi/LC_MESSAGES/gcab.mo
share/locale/fr/LC_MESSAGES/gcab.mo
share/locale/fur/LC_MESSAGES/gcab.mo
share/locale/gl/LC_MESSAGES/gcab.mo
share/locale/hr/LC_MESSAGES/gcab.mo
share/locale/hu/LC_MESSAGES/gcab.mo
share/locale/id/LC_MESSAGES/gcab.mo
share/locale/ja/LC_MESSAGES/gcab.mo
share/locale/ka/LC_MESSAGES/gcab.mo
share/locale/lt/LC_MESSAGES/gcab.mo
share/locale/lv/LC_MESSAGES/gcab.mo
share/locale/nb/LC_MESSAGES/gcab.mo
share/locale/nl/LC_MESSAGES/gcab.mo
share/locale/oc/LC_MESSAGES/gcab.mo
share/locale/pl/LC_MESSAGES/gcab.mo
share/locale/pt/LC_MESSAGES/gcab.mo
share/locale/pt_BR/LC_MESSAGES/gcab.mo
share/locale/ro/LC_MESSAGES/gcab.mo
share/locale/ru/LC_MESSAGES/gcab.mo
share/locale/sl/LC_MESSAGES/gcab.mo
share/locale/sr/LC_MESSAGES/gcab.mo
share/locale/sr@latin/LC_MESSAGES/gcab.mo
share/locale/sv/LC_MESSAGES/gcab.mo
share/locale/tg/LC_MESSAGES/gcab.mo
share/locale/tr/LC_MESSAGES/gcab.mo
share/locale/uk/LC_MESSAGES/gcab.mo
share/locale/zh_CN/LC_MESSAGES/gcab.mo


[FILE:22:manifests/plist.man]
share/man/man1/gcab.1


[FILE:373:manifests/plist.docs]
share/doc/gcab/
 annotation-glossary.html
 api-index-0-5.html
 api-index-0-6.html
 api-index-1-0.html
 api-index-1-4.html
 api-index-deprecated.html
 api-index-full.html
 ch01.html
 gcab-GCabCabinet.html
 gcab-GCabFile.html
 gcab-GCabFolder.html
 home.png
 index.html
 left-insensitive.png
 left.png
 right-insensitive.png
 right.png
 style.css
 up-insensitive.png
 up.png


[FILE:538:patches/patch-meson.build]
--- meson.build.orig	2023-07-04 22:51:50 UTC
+++ meson.build
@@ -73,17 +73,11 @@ foreach arg: test_args
   endif
 endforeach
 
-if not meson.is_cross_build()
-  add_project_arguments('-fstack-protector-strong', language : 'c')
-endif
 
 # enable full RELRO where possible
 # FIXME: until https://github.com/mesonbuild/meson/issues/1140 is fixed
 global_link_args = []
-test_link_args = [
-  '-Wl,-z,relro',
-  '-Wl,-z,now',
-]
+test_link_args = []
 foreach arg: test_link_args
   if cc.has_link_argument(arg)
     global_link_args += arg

