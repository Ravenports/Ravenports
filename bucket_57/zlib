# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		zlib
VERSION=		1.2.11
KEYWORDS=		archivers
VARIANTS=		standard
SDESC[standard]=	Ubiquitous compression library
HOMEPAGE=		http://www.zlib.net
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://www.zlib.net/
DISTFILE[1]=		zlib-1.2.11.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			static
			shared

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

MUST_CONFIGURE=		yes
CONFIGURE_ENV=		prefix="{{PREFIX}}"
			cflags="{{CFLAGS}}"

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libz.${LIBEXT}

[FILE:628:descriptions/desc.static]
zlib is designed to be a free, general-purpose, legally unencumbered -- 
that is, not covered by any patents -- lossless data-compression library
for use on virtually any computer hardware and operating system. The
zlib data format is itself portable across platforms. Unlike the LZW
compression method used in Unix compress(1) and in the GIF image format,
the compression method currently used in zlib essentially never expands
the data.  zlib's memory footprint is also independent of the input data 
and can be reduced, if necessary, at some cost in compression.

This is the core package that excludes the shared libraries.


[FILE:168:descriptions/desc.shared]
A Massively Spiffy Yet Delicately Unobtrusive Compression Library
(Also Free, Not to Mention Unencumbered by Patents)

This package contains only the shared libraries.


[FILE:97:distinfo]
c3e5e9fdd5004dcb542feda5ee4f0ff0744628baf8ed2dd5d66f8ca1197cb1a1       607698 zlib-1.2.11.tar.gz


[FILE:84:manifests/plist.static]
include/
 zconf.h
 zlib.h
lib/libz.a
lib/pkgconfig/zlib.pc
share/man/man3/zlib.3.gz


[FILE:41:manifests/plist.shared]
lib/
 libz.so
 libz.so.1
 libz.so.1.2.11


[FILE:1028:patches/patch-configure]
--- configure.orig	2016-12-31 18:06:40 UTC
+++ configure
@@ -207,6 +207,8 @@ if test "$gcc" -eq 1 && ($cc -c $test.c)
     uname=`(uname -s || echo unknown) 2>/dev/null`
   fi
   case "$uname" in
+  SunOS)
+	LDSHARED=${LDSHARED-"$cc -shared -Wl,-soname,libz.so.1"} ;;
   Linux* | linux* | GNU | GNU/* | solaris*)
         LDSHARED=${LDSHARED-"$cc -shared -Wl,-soname,libz.so.1,--version-script,${SRCDIR}zlib.map"} ;;
   *BSD | *bsd* | DragonFly)
@@ -241,12 +243,7 @@ if test "$gcc" -eq 1 && ($cc -c $test.c)
              SHAREDLIBV=libz.$VER$shared_ext
              SHAREDLIBM=libz.$VER1$shared_ext
              LDSHARED=${LDSHARED-"$cc -dynamiclib -install_name $libdir/$SHAREDLIBM -compatibility_version $VER1 -current_version $VER3"}
-             if libtool -V 2>&1 | grep Apple > /dev/null; then
-                 AR="libtool"
-             else
-                 AR="/usr/bin/libtool"
-             fi
-             ARFLAGS="-o" ;;
+             ;;
   *)             LDSHARED=${LDSHARED-"$cc -shared"} ;;
   esac
 else

