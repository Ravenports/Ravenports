# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		ImageMagick
VERSION=		7.0.8-12
KEYWORDS=		graphics
VARIANTS=		standard x11
SDESC[x11]=		Image manipulation tool suite with X support
SDESC[standard]=	Suite to create, edit, compose, or convert images
HOMEPAGE=		https://www.imagemagick.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://www.imagemagick.org/download/
			http://www.imagemagick.org/download/legacy/
			http://ftp.surfnet.nl/pub/ImageMagick/
DISTFILE[1]=		ImageMagick-7.0.8-12.tar.xz:main
DF_INDEX=		1
SPKGS[x11]=		complete
			primary
			docs
SPKGS[standard]=	complete
			primary
			docs

OPTIONS_AVAILABLE=	X11
OPTIONS_STANDARD=	none
VOPTS[x11]=		X11=ON

BUILD_DEPENDS=		bzip2:static:standard
BUILDRUN_DEPENDS=	bzip2:shared:standard
			libltdl:single:standard
			fontconfig:primary:standard
			freetype:primary:standard
			fftw:single:standard
			WebP:single:standard
			graphviz:primary:standard
			ghostscript:primary:standard
			openjpeg:single:standard
			jbigkit:single:standard
			lcms2:primary:standard
			xz:single:standard
			liblqr:primary:standard
			tiff:primary:standard

USES=			cpe shebangfix gmake libtool:keepla perl:build
			pkgconfig gettext-runtime jpeg png
GNOME_COMPONENTS=	libxml2 glib

LICENSE=		CUSTOM1:primary
LICENSE_NAME=		CUSTOM1:"ImageMagick License"
LICENSE_FILE=		CUSTOM1:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

CPE_PRODUCT=		imagemagick
CPE_VENDOR=		imagemagick
FPC_EQUIVALENT=		graphics/ImageMagic7
SHEBANG_FILES=		www/source/examples.pl

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-fftw
			--with-fontconfig
			--with-freetype
			--with-webp
			--with-gslib
			--with-modules
			--with-threads
			--without-dps
			--without-fpx
			--without-djvu
			--without-openexr
			--without-perl
			--without-wmf
			--enable-hdri
			--disable-openmp
CONFIGURE_ENV=		MAKE={{MAKE_CMD}}
			PTHREAD_LIBS="-lpthread"

INSTALL_REQ_TOOLCHAIN=	yes
PLIST_SUB=		VERSION=7.0.8

CFLAGS=			-I{{LOCALBASE}}/include/graphviz
LDFLAGS=		-L{{LOCALBASE}}/lib/graphviz
			-lpthread

[X11].DESCRIPTION=			Variant with X support
[X11].BUILDRUN_DEPENDS_ON=		ghostscript:x11:standard
					librsvg:primary:standard
[X11].CONFIGURE_ARGS_OFF=		--without-pango
[X11].CONFIGURE_WITH_BOTH=		rsvg
					x
[X11].GNOME_COMPONENTS_ON=		pango
					cairo
					gdkpixbuf
[X11].XORG_COMPONENTS_ON=		sm
					ice
					x11
					xext
					xt

post-patch:
	# strip library name of variable parts that can change due to
	# the HDRI and Q16 option
	${REINPLACE_CMD}  -e 's|_@MAGICK_ABI_SUFFIX@||g; \
		s|\.@MAGICK_ABI_SUFFIX@||g' \
		${WRKSRC}/Makefile.in
	${REINPLACE_CMD} -e 's|@\.@MAGICK_ABI_SUFFIX@|@|g' \
		${WRKSRC}/PerlMagick/Makefile.PL.in \
		${WRKSRC}/PerlMagick/quantum/Makefile.PL.in \
		${WRKSRC}/Magick++/lib/Magick++.pc.in \
		${WRKSRC}/MagickCore/MagickCore.pc.in \
		${WRKSRC}/MagickWand/MagickWand.pc.in

post-install:
.for j in coder.xml colors.xml delegates.xml log.xml magic.xml mime.xml \
	policy.xml quantization-table.xml thresholds.xml \
	type-apple.xml type-dejavu.xml type-ghostscript.xml \
	type-urw-base35.xml type-windows.xml type.xml
	${MV} ${STAGEDIR}${PREFIX}/etc/ImageMagick-7/${j} \
	      ${STAGEDIR}${PREFIX}/etc/ImageMagick-7/${j}.sample
.endfor
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/ImageMagick-7.0.8/modules-*/*/*.so
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libMag*.so

[FILE:300:descriptions/desc.primary]
ImageMagick is a package for display and interactive manipulation of
images. The package includes tools for image conversion, annotation,
compositing, animation, and creating montages. ImageMagick can read and
write many of the more popular image formats (e.g. JPEG, TIFF, PNM, XPM,
Photo CD, etc.).


[FILE:106:distinfo]
48df5877fe85603940310fe5c811a89af416882b60379918a95dcd4de6582b55      8630340 ImageMagick-7.0.8-12.tar.xz


[FILE:5718:manifests/plist.primary]
@sample etc/ImageMagick-7/coder.xml.sample
@sample etc/ImageMagick-7/colors.xml.sample
@sample etc/ImageMagick-7/delegates.xml.sample
@sample etc/ImageMagick-7/log.xml.sample
@sample etc/ImageMagick-7/magic.xml.sample
@sample etc/ImageMagick-7/mime.xml.sample
@sample etc/ImageMagick-7/policy.xml.sample
@sample etc/ImageMagick-7/quantization-table.xml.sample
@sample etc/ImageMagick-7/thresholds.xml.sample
@sample etc/ImageMagick-7/type-apple.xml.sample
@sample etc/ImageMagick-7/type-dejavu.xml.sample
@sample etc/ImageMagick-7/type-ghostscript.xml.sample
@sample etc/ImageMagick-7/type-urw-base35.xml.sample
@sample etc/ImageMagick-7/type-windows.xml.sample
@sample etc/ImageMagick-7/type.xml.sample
%%X11-ON%%lib/ImageMagick-%%VERSION%%/modules-Q16HDRI/coders/
 x.la
 x.so
 xwd.la
 xwd.so
bin/
 Magick++-config
 MagickCore-config
 MagickWand-config
 animate
 compare
 composite
 conjure
 convert
 display
 identify
 import
 magick
 magick-script
 mogrify
 montage
 stream
include/ImageMagick-7/Magick++.h
include/ImageMagick-7/Magick++/
 Blob.h
 CoderInfo.h
 Color.h
 Drawable.h
 Exception.h
 Functions.h
 Geometry.h
 Image.h
 Include.h
 Montage.h
 Pixels.h
 ResourceLimits.h
 STL.h
 SecurityPolicy.h
 Statistic.h
 TypeMetric.h
include/ImageMagick-7/MagickCore/
 MagickCore.h
 animate.h
 annotate.h
 artifact.h
 attribute.h
 blob.h
 cache-view.h
 cache.h
 channel.h
 cipher.h
 client.h
 coder.h
 color.h
 colormap.h
 colorspace.h
 compare.h
 composite.h
 compress.h
 configure.h
 constitute.h
 decorate.h
 delegate.h
 deprecate.h
 display.h
 distort.h
 distribute-cache.h
 draw.h
 effect.h
 enhance.h
 exception.h
 feature.h
 fourier.h
 fx.h
 gem.h
 geometry.h
 histogram.h
 identify.h
 image-view.h
 image.h
 layer.h
 linked-list.h
 list.h
 locale_.h
 log.h
 magic.h
 magick-baseconfig.h
 magick-config.h
 magick-type.h
 magick.h
 matrix.h
 memory_.h
 method-attribute.h
 methods.h
 mime.h
 module.h
 monitor.h
 montage.h
 morphology.h
 nt-base.h
 opencl.h
 option.h
 paint.h
 pixel-accessor.h
 pixel.h
 policy.h
 prepress.h
 profile.h
 property.h
 quantize.h
 quantum.h
 random_.h
 registry.h
 resample.h
 resize.h
 resource_.h
 segment.h
 semaphore.h
 shear.h
 signature.h
 splay-tree.h
 static.h
 statistic.h
 stream.h
 string_.h
 studio.h
 threshold.h
 timer.h
 token.h
 transform.h
 type.h
 utility.h
 version.h
 vision.h
 widget.h
 xml-tree.h
 xwindow.h
include/ImageMagick-7/MagickWand/
 MagickWand.h
 animate.h
 compare.h
 composite.h
 conjure.h
 convert.h
 deprecate.h
 display.h
 drawing-wand.h
 identify.h
 import.h
 magick-cli.h
 magick-image.h
 magick-property.h
 method-attribute.h
 mogrify.h
 montage.h
 operation.h
 pixel-iterator.h
 pixel-wand.h
 stream.h
 wand-view.h
 wandcli.h
lib/
 libMagick++-7.a
 libMagick++-7.la
 libMagick++-7.so
 libMagick++-7.so.4
 libMagick++-7.so.4.0.0
 libMagickCore-7.a
 libMagickCore-7.la
 libMagickCore-7.so
 libMagickCore-7.so.6
 libMagickCore-7.so.6.0.0
 libMagickWand-7.a
 libMagickWand-7.la
 libMagickWand-7.so
 libMagickWand-7.so.6
 libMagickWand-7.so.6.0.0
lib/ImageMagick-%%VERSION%%/config-Q16HDRI/configure.xml
lib/ImageMagick-%%VERSION%%/modules-Q16HDRI/coders/
 aai.la
 aai.so
 art.la
 art.so
 avs.la
 avs.so
 bgr.la
 bgr.so
 bmp.la
 bmp.so
 braille.la
 braille.so
 cals.la
 cals.so
 caption.la
 caption.so
 cin.la
 cin.so
 cip.la
 cip.so
 clip.la
 clip.so
 cmyk.la
 cmyk.so
 cut.la
 cut.so
 dcm.la
 dcm.so
 dds.la
 dds.so
 debug.la
 debug.so
 dib.la
 dib.so
 dng.la
 dng.so
 dot.la
 dot.so
 dpx.la
 dpx.so
 ept.la
 ept.so
 fax.la
 fax.so
 fits.la
 fits.so
 gif.la
 gif.so
 gradient.la
 gradient.so
 gray.la
 gray.so
 hald.la
 hald.so
 hdr.la
 hdr.so
 histogram.la
 histogram.so
 hrz.la
 hrz.so
 html.la
 html.so
 icon.la
 icon.so
 info.la
 info.so
 inline.la
 inline.so
 ipl.la
 ipl.so
 jbig.la
 jbig.so
 jnx.la
 jnx.so
 jp2.la
 jp2.so
 jpeg.la
 jpeg.so
 json.la
 json.so
 label.la
 label.so
 mac.la
 mac.so
 magick.la
 magick.so
 map.la
 map.so
 mask.la
 mask.so
 mat.la
 mat.so
 matte.la
 matte.so
 meta.la
 meta.so
 miff.la
 miff.so
 mono.la
 mono.so
 mpc.la
 mpc.so
 mpeg.la
 mpeg.so
 mpr.la
 mpr.so
 msl.la
 msl.so
 mtv.la
 mtv.so
 mvg.la
 mvg.so
 null.la
 null.so
 otb.la
 otb.so
 palm.la
 palm.so
 pango.la
 pango.so
 pattern.la
 pattern.so
 pcd.la
 pcd.so
 pcl.la
 pcl.so
 pcx.la
 pcx.so
 pdb.la
 pdb.so
 pdf.la
 pdf.so
 pes.la
 pes.so
 pgx.la
 pgx.so
 pict.la
 pict.so
 pix.la
 pix.so
 plasma.la
 plasma.so
 png.la
 png.so
 pnm.la
 pnm.so
 ps.la
 ps.so
 ps2.la
 ps2.so
 ps3.la
 ps3.so
 psd.la
 psd.so
 pwp.la
 pwp.so
 raw.la
 raw.so
 rgb.la
 rgb.so
 rgf.la
 rgf.so
 rla.la
 rla.so
 rle.la
 rle.so
 scr.la
 scr.so
 sct.la
 sct.so
 sfw.la
 sfw.so
 sgi.la
 sgi.so
 sixel.la
 sixel.so
 stegano.la
 stegano.so
 sun.la
 sun.so
 svg.la
 svg.so
 tga.la
 tga.so
 thumbnail.la
 thumbnail.so
 tiff.la
 tiff.so
 tile.la
 tile.so
 tim.la
 tim.so
 ttf.la
 ttf.so
 txt.la
 txt.so
 uil.la
 uil.so
 url.la
 url.so
 uyvy.la
 uyvy.so
 vicar.la
 vicar.so
 vid.la
 vid.so
 viff.la
 viff.so
 vips.la
 vips.so
 wbmp.la
 wbmp.so
 webp.la
 webp.so
 wpg.la
 wpg.so
 xbm.la
 xbm.so
 xc.la
 xc.so
 xcf.la
 xcf.so
 xpm.la
 xpm.so
 xps.la
 xps.so
 xtrn.la
 xtrn.so
 ycbcr.la
 ycbcr.so
 yuv.la
 yuv.so
lib/ImageMagick-%%VERSION%%/modules-Q16HDRI/filters/
 analyze.la
 analyze.so
lib/pkgconfig/
 ImageMagick-7.pc
 ImageMagick.pc
 Magick++-7.pc
 Magick++.pc
 MagickCore-7.pc
 MagickCore.pc
 MagickWand-7.pc
 MagickWand.pc
share/ImageMagick-7/
 english.xml
 francais.xml
 locale.xml
share/man/man1/
 ImageMagick.1.gz
 Magick++-config.1.gz
 MagickCore-config.1.gz
 MagickWand-config.1.gz
 animate.1.gz
 compare.1.gz
 composite.1.gz
 conjure.1.gz
 convert.1.gz
 display.1.gz
 identify.1.gz
 import.1.gz
 magick-script.1.gz
 magick.1.gz
 mogrify.1.gz
 montage.1.gz
 stream.1.gz

