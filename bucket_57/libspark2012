# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libspark2012
VERSION=		2012
KEYWORDS=		devel ada
VARIANTS=		standard
SDESC[standard]=	SPARK 2012 Spark.Ada library
HOMEPAGE=		http://www.spark-2014.org
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://downloads.dragonlace.net/src/
DISTFILE[1]=		libspark2012-2012.tar.bz2:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gprbuild

LICENSE=		GPLv3+:single
LICENSE_SCHEME=		solo
LICENSE_FILE=		GPLv3+:{{WRDIR}}/LICENSE

post-extract:
	${AWK} '/^$$/ {exit}; {print}' ${WRKSRC}/src/spark.ads \
		> ${WRKDIR}/LICENSE

[FILE:265:descriptions/desc.single]
At least one port requires exactly the Spark.Ada library that came
with SPARK 2012.  SPARK itself is not in ports -- SPARK 2014 is the
first version planned to arrive -- so this is a separately packaged
SPARK 2012 library to be compiled with the GNAT Ada compiler.


[FILE:104:distinfo]
862e6b23ff44aea02ab10a4dcc2c00a9893231286d51a6bc587230366c936db2        23773 libspark2012-2012.tar.bz2


[FILE:1556:manifests/plist.single]
include/spark2012/
 spark-ada-command_line-unbounded_string.adb
 spark-ada-command_line-unbounded_string.ads
 spark-ada-command_line.adb
 spark-ada-command_line.ads
 spark-ada-containers.ads
 spark-ada-strings-maps-not_spark.adb
 spark-ada-strings-maps-not_spark.ads
 spark-ada-strings-maps.adb
 spark-ada-strings-maps.ads
 spark-ada-strings-not_spark.adb
 spark-ada-strings-not_spark.ads
 spark-ada-strings-unbounded-not_spark.adb
 spark-ada-strings-unbounded-not_spark.ads
 spark-ada-strings-unbounded.adb
 spark-ada-strings-unbounded.ads
 spark-ada-strings.ads
 spark-ada-text_io-not_spark.adb
 spark-ada-text_io-not_spark.ads
 spark-ada-text_io-unbounded_string.adb
 spark-ada-text_io-unbounded_string.ads
 spark-ada-text_io.adb
 spark-ada-text_io.ads
 spark-ada.ads
 spark-crypto-debug.adb
 spark-crypto-debug.ads
 spark-crypto-hash-skein.adb
 spark-crypto-hash-skein.ads
 spark-crypto-hash.ads
 spark-crypto.ads
 spark-unsigned.adb
 spark-unsigned.ads
 spark.ads
lib/gnat/spark2012.gpr
lib/spark2012/
 libspark2012.a
 spark-ada-command_line-unbounded_string.ali
 spark-ada-command_line.ali
 spark-ada-containers.ali
 spark-ada-strings-maps-not_spark.ali
 spark-ada-strings-maps.ali
 spark-ada-strings-not_spark.ali
 spark-ada-strings-unbounded-not_spark.ali
 spark-ada-strings-unbounded.ali
 spark-ada-strings.ali
 spark-ada-text_io-not_spark.ali
 spark-ada-text_io-unbounded_string.ali
 spark-ada-text_io.ali
 spark-ada.ali
 spark-crypto-debug.ali
 spark-crypto-hash-skein.ali
 spark-crypto-hash.ali
 spark-crypto.ali
 spark-unsigned.ali
 spark.ali


[FILE:781:patches/patch-Makefile]
--- Makefile.orig	2014-02-17 05:26:40.000000000 -0500
+++ Makefile
@@ -1,23 +1,13 @@
-all: nada
+all: build
 
-nada:
-
-build-orig:
+build:
 	gnatmake -p -P build_spark2012
 
 install:
 	mkdir -p ${DESTDIR}${PREFIX}/lib/gnat \
-		 ${DESTDIR}${PREFIX}/include/spark2012
-	${BSD_INSTALL_DATA} spark2012.gpr \
-		${DESTDIR}${PREFIX}/lib/gnat
-	${BSD_INSTALL_DATA} src/*.ad[bs] \
-		${DESTDIR}${PREFIX}/include/spark2012
-
-install-orig:
-	mkdir -p ${DESTDIR}${PREFIX}/lib/gnat \
 		 ${DESTDIR}${PREFIX}/lib/spark2012 \
 		 ${DESTDIR}${PREFIX}/include/spark2012
-	${BSD_INSTALL_LIB} src/build/lib/libspark2012.a \
+	${BSD_INSTALL_DATA} src/build/lib/libspark2012.a \
 		${DESTDIR}${PREFIX}/lib/spark2012
 	${BSD_INSTALL_DATA} src/build/lib/*.ali \
 		${DESTDIR}${PREFIX}/lib/spark2012


[FILE:377:patches/patch-spark2012.gpr]
--- spark2012.gpr.orig	2014-02-17 05:33:24.000000000 -0500
+++ spark2012.gpr
@@ -1,5 +1,10 @@
 project SPARK2012 is
 
+   for Languages use ("Ada");
    for Source_Dirs use ("../../include/spark2012");
+   for Library_Dir use "../../lib/spark2012";
+   for Library_Name use "spark2012";
+   for Library_Kind use "static";
+   for Externally_Built use "True";
 
 end SPARK2012;

