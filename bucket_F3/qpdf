# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		qpdf
VERSION=		8.4.0
KEYWORDS=		print
VARIANTS=		standard
SDESC[standard]=	Command-line tools for transforming PDF files
HOMEPAGE=		none
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		SF/qpdf/qpdf/8.4.0
DISTFILE[1]=		qpdf-8.4.0.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gmake jpeg libtool zlib c++:primary

LICENSE=		ART20:primary APACHE20:primary
LICENSE_TERMS=		primary:{{WRKSRC}}/NOTICE.md
LICENSE_FILE=		ART20:{{WRKSRC}}/Artistic-2.0
			APACHE20:{{WRKSRC}}/LICENSE.txt
LICENSE_SCHEME=		dual

FPC_EQUIVALENT=		print/qpdf

MUST_CONFIGURE=		gnu

SOVERSION=		21.4.0

[FILE:933:descriptions/desc.primary]
QPDF is a program that can be used to linearize (web-optimize), encrypt
(password-protect), decrypt, and inspect PDF files from the command-line. 
It does these and other structural, content-preserving transformations on
PDF files, reading a PDF file as input and creating a new one as output. 
It also provides many useful capabilities to developers of PDF-producing
software or for people who just want to look at the innards of a PDF file
to learn more about how they work.

QPDF understands PDF files that use compressed object streams (supported
by newer PDF applications) and can convert such files into those that can
be read with older viewers.  It can also be used for checking PDF files
for structural errors, inspecting stream contents, or extracting objects
from PDF files.  QPDF is not PDF content creation or viewing software --
it does not have the capability to create PDF files from scratch or to
display PDF files.


[FILE:96:distinfo]
39018f3bff700c68e41f6d44ea9f7842e2a5af200a80b2cdec7fa32a4abac4a0     16981811 qpdf-8.4.0.tar.gz


[FILE:1043:manifests/plist.primary]
bin/
 fix-qdf
 qpdf
 zlib-flate
include/qpdf/
 Buffer.hh
 BufferInputSource.hh
 ClosedFileInputSource.hh
 Constants.h
 DLL.h
 FileInputSource.hh
 InputSource.hh
 JSON.hh
 Pipeline.hh
 Pl_Buffer.hh
 Pl_Concatenate.hh
 Pl_Count.hh
 Pl_DCT.hh
 Pl_Discard.hh
 Pl_Flate.hh
 Pl_QPDFTokenizer.hh
 Pl_RunLength.hh
 Pl_StdioFile.hh
 PointerHolder.hh
 QPDF.hh
 QPDFAcroFormDocumentHelper.hh
 QPDFAnnotationObjectHelper.hh
 QPDFDocumentHelper.hh
 QPDFExc.hh
 QPDFFormFieldObjectHelper.hh
 QPDFNameTreeObjectHelper.hh
 QPDFNumberTreeObjectHelper.hh
 QPDFObjGen.hh
 QPDFObject.hh
 QPDFObjectHandle.hh
 QPDFObjectHelper.hh
 QPDFOutlineDocumentHelper.hh
 QPDFOutlineObjectHelper.hh
 QPDFPageDocumentHelper.hh
 QPDFPageLabelDocumentHelper.hh
 QPDFPageObjectHelper.hh
 QPDFSystemError.hh
 QPDFTokenizer.hh
 QPDFWriter.hh
 QPDFXRefEntry.hh
 QTC.hh
 QUtil.hh
 RandomDataProvider.hh
 Types.h
 qpdf-c.h
lib/
 libqpdf.a
 libqpdf.so
 libqpdf.so.%%SOMAJOR%%
 libqpdf.so.%%SOVERSION%%
lib/pkgconfig/libqpdf.pc
share/man/man1/
 fix-qdf.1.gz
 qpdf.1.gz
 zlib-flate.1.gz


[FILE:67:manifests/plist.docs]
share/doc/qpdf/
 qpdf-manual.html
 qpdf-manual.pdf
 stylesheet.css


[FILE:936:patches/patch-make_libtool.mk]
--- make/libtool.mk.orig	2018-08-18 14:56:19 UTC
+++ make/libtool.mk
@@ -1,7 +1,7 @@
 # --- Required interface definitions ---
 
-# LIBTOOL needs bash
-SHELL=/bin/bash
+# LIBTOOL needs sh
+SHELL?=/bin/sh
 
 OBJ=o
 LOBJ=lo
@@ -112,14 +112,14 @@ install: all
 	./mkinstalldirs $(DESTDIR)$(includedir)/qpdf
 	./mkinstalldirs $(DESTDIR)$(docdir)
 	./mkinstalldirs $(DESTDIR)$(mandir)/man1
-	$(LIBTOOL) --mode=install ./install-sh \
+	$(LIBTOOL) --mode=install ./install-sh -s \
 		libqpdf/$(OUTPUT_DIR)/libqpdf.la \
 		$(DESTDIR)$(libdir)/libqpdf.la
 	$(LIBTOOL) --finish $(DESTDIR)$(libdir)
-	$(LIBTOOL) --mode=install ./install-sh \
+	$(LIBTOOL) --mode=install ./install-sh -s \
 		qpdf/$(OUTPUT_DIR)/qpdf \
 		$(DESTDIR)$(bindir)/qpdf
-	$(LIBTOOL) --mode=install ./install-sh \
+	$(LIBTOOL) --mode=install ./install-sh -s \
 		zlib-flate/$(OUTPUT_DIR)/zlib-flate \
 		$(DESTDIR)$(bindir)/zlib-flate
 	cp qpdf/fix-qdf $(DESTDIR)$(bindir)

