# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		tumbler
VERSION=		4.20.0
KEYWORDS=		deskutils
VARIANTS=		std
SDESC[std]=		D-Bus thumbnailing service for Xfce
HOMEPAGE=		https://gitlab.xfce.org/xfce/tumbler/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://archive.xfce.org/src/xfce/tumbler/4.20/
DISTFILE[1]=		tumbler-4.20.0.tar.bz2:main
DIST_SUBDIR=		xfce
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			docs
			nls
			plugcover
			plugepub
			plugfont
			plugimage
			plugodf
			plugpdf
			plugvideo

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		cairo:dev:std
			curl:dev:std
			libnghttp2:dev:std
			gstreamer1:dev:std
			gstreamer1-plugins-base:dev:std
			libarchive:dev:std
			libexif:dev:std
			libgepub:dev:std
			libsoup:dev:std
			libxfce4util:dev:std
			poppler:dev:std
			poppler:glibdev:std
			poppler-data:dev:std
			webkit2:dev:api41
BUILDRUN_DEPENDS=	libxfce4util:primary:std
EXRUN[plugimage]=	primary
			libexif:primary:std
EXRUN[plugepub]=	primary
			libgepub:primary:std
			webkit2:primary:api41
EXRUN[plugvideo]=	primary
			gstreamer1:primary:std
			gstreamer1-plugins:single:std
EXRUN[plugcover]=	primary
			curl:primary:std
EXRUN[plugpdf]=		primary
			poppler:primary:std
			poppler:glib:std

USES=			freetype gmake gtk-doc iconv jpeg libtool png
			pkgconfig ssl zlib python:build,sutools
GNOME_COMPONENTS=	gdkpixbuf glib gtk3 intltool libgsf libxml2

LICENSE=		GPLv2+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/tumbler/tumbler.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		deskutils/xfce4-tumbler

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-nls
			--enable-cover-thumbnailer
			--enable-font-thumbnailer
			--enable-gstreamer-thumbnailer
			--enable-jpeg-thumbnailer
			--enable-odf-thumbnailer
			--enable-pixbuf-thumbnailer

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		0.0.0
SUB_FILES=		messages-primary.ucl

VAR_OPSYS[sunos]=	LDFLAGS=-lintl

post-install:
	${MV} ${STAGEDIR}${PREFIX}/share/gtk-doc/html/tumbler \
		${STAGEDIR}${PREFIX}/share/doc/tumbler
	${RM} -r ${STAGEDIR}${PREFIX}/share/gtk-doc
	${RM} -r ${STAGEDIR}${PREFIX}/lib/systemd

[FILE:290:descriptions/desc.primary]
The Tumbler package contains a D-Bus thumbnailing service based on the 
thumbnail management D-Bus specification. This is useful for generating 
thumbnail images of files. The tumbler.rc configuration file can be used 
to enable/disable a plugin and set priority, location and size limits.


[FILE:62:descriptions/desc.plugcover]
This subpackage contains the Cover thumbnailer plugin (curl).


[FILE:65:descriptions/desc.plugepub]
This subpackage contains the Epub thumbnailer plugin (libgepub).


[FILE:65:descriptions/desc.plugfont]
This subpackage contains the Font thumbnailer plugin (freetype).


[FILE:86:descriptions/desc.plugimage]
This subpackage contains the Images thumbnailer plugin (JPEG + libexif + 
GdkPixbuf).


[FILE:62:descriptions/desc.plugodf]
This subpackage contains the ODF thumbnailer plugin (libgsf).


[FILE:66:descriptions/desc.plugpdf]
This subpackage contains the PDF/PS thumbnailer plugin (poppler).


[FILE:67:descriptions/desc.plugvideo]
This subpackage contains the Video thumbnailer plugin (GStreamer).


[FILE:106:distinfo]
74b1647d55926547e98bfac70838ff63c5a84299a5e10c81c38d1fab90e25880       706804 xfce/tumbler-4.20.0.tar.bz2


[FILE:478:manifests/plist.primary]
etc/xdg/tumbler/tumbler.rc
lib/
 libtumbler-1.so.%%SOMAJOR%%
 libtumbler-1.so.%%SOVERSION%%
lib/tumbler-1/tumblerd
lib/tumbler-1/plugins/tumbler-desktop-thumbnailer.so
lib/tumbler-1/plugins/cache/
 tumbler-cache-plugin.so
 tumbler-xdg-cache.so
share/dbus-1/services/
 org.xfce.Tumbler.Cache1.service
 org.xfce.Tumbler.Manager1.service
 org.xfce.Tumbler.Thumbnailer1.service
share/icons/hicolor/32x32/apps/org.xfce.tumbler.png
share/icons/hicolor/64x64/apps/org.xfce.tumbler.png


[FILE:430:manifests/plist.dev]
include/tumbler-1/tumbler/
 tumbler-abstract-thumbnailer.h
 tumbler-cache-plugin.h
 tumbler-cache.h
 tumbler-config.h
 tumbler-enum-types.h
 tumbler-error.h
 tumbler-file-info.h
 tumbler-marshal.h
 tumbler-provider-factory.h
 tumbler-provider-plugin.h
 tumbler-thumbnail-flavor.h
 tumbler-thumbnail.h
 tumbler-thumbnailer-provider.h
 tumbler-thumbnailer.h
 tumbler-util.h
 tumbler.h
lib/libtumbler-1.so
lib/pkgconfig/tumbler-1.pc


[FILE:755:manifests/plist.docs]
share/doc/tumbler/
 TumblerAbstractThumbnailer.html
 TumblerCache.html
 TumblerCachePlugin.html
 TumblerFileInfo.html
 TumblerProviderFactory.html
 TumblerProviderPlugin.html
 TumblerThumbnail.html
 TumblerThumbnailFlavor.html
 TumblerThumbnailer.html
 TumblerThumbnailerProvider.html
 api-index-full.html
 extension-api.html
 extension-tutorial.html
 home.png
 index.html
 left-insensitive.png
 left.png
 miscellaneous.html
 object-tree.html
 pt01.html
 right-insensitive.png
 right.png
 style.css
 thumbnails.html
 tumbler-Error-Domain-and-Types.html
 tumbler-Various-Enumeration-Types.html
 tumbler-Version-Information-and-Compatibility-Checks.html
 tumbler-tumbler-marshal.html
 tumbler-tumbler-util.html
 tumbler.devhelp2
 up-insensitive.png
 up.png


[FILE:2328:manifests/plist.nls]
share/locale/ar/LC_MESSAGES/tumbler.mo
share/locale/ast/LC_MESSAGES/tumbler.mo
share/locale/be/LC_MESSAGES/tumbler.mo
share/locale/bg/LC_MESSAGES/tumbler.mo
share/locale/bn/LC_MESSAGES/tumbler.mo
share/locale/ca/LC_MESSAGES/tumbler.mo
share/locale/cs/LC_MESSAGES/tumbler.mo
share/locale/da/LC_MESSAGES/tumbler.mo
share/locale/de/LC_MESSAGES/tumbler.mo
share/locale/el/LC_MESSAGES/tumbler.mo
share/locale/en_AU/LC_MESSAGES/tumbler.mo
share/locale/en_CA/LC_MESSAGES/tumbler.mo
share/locale/en_GB/LC_MESSAGES/tumbler.mo
share/locale/es/LC_MESSAGES/tumbler.mo
share/locale/et/LC_MESSAGES/tumbler.mo
share/locale/eu/LC_MESSAGES/tumbler.mo
share/locale/fi/LC_MESSAGES/tumbler.mo
share/locale/fr/LC_MESSAGES/tumbler.mo
share/locale/gl/LC_MESSAGES/tumbler.mo
share/locale/he/LC_MESSAGES/tumbler.mo
share/locale/hi/LC_MESSAGES/tumbler.mo
share/locale/hr/LC_MESSAGES/tumbler.mo
share/locale/hu/LC_MESSAGES/tumbler.mo
share/locale/hy_AM/LC_MESSAGES/tumbler.mo
share/locale/hye/LC_MESSAGES/tumbler.mo
share/locale/id/LC_MESSAGES/tumbler.mo
share/locale/is/LC_MESSAGES/tumbler.mo
share/locale/it/LC_MESSAGES/tumbler.mo
share/locale/ja/LC_MESSAGES/tumbler.mo
share/locale/kab/LC_MESSAGES/tumbler.mo
share/locale/kk/LC_MESSAGES/tumbler.mo
share/locale/ko/LC_MESSAGES/tumbler.mo
share/locale/lt/LC_MESSAGES/tumbler.mo
share/locale/lv/LC_MESSAGES/tumbler.mo
share/locale/ms/LC_MESSAGES/tumbler.mo
share/locale/nb/LC_MESSAGES/tumbler.mo
share/locale/nl/LC_MESSAGES/tumbler.mo
share/locale/nn/LC_MESSAGES/tumbler.mo
share/locale/oc/LC_MESSAGES/tumbler.mo
share/locale/pa/LC_MESSAGES/tumbler.mo
share/locale/pl/LC_MESSAGES/tumbler.mo
share/locale/pt/LC_MESSAGES/tumbler.mo
share/locale/pt_BR/LC_MESSAGES/tumbler.mo
share/locale/ro/LC_MESSAGES/tumbler.mo
share/locale/ru/LC_MESSAGES/tumbler.mo
share/locale/si/LC_MESSAGES/tumbler.mo
share/locale/sk/LC_MESSAGES/tumbler.mo
share/locale/sl/LC_MESSAGES/tumbler.mo
share/locale/sq/LC_MESSAGES/tumbler.mo
share/locale/sr/LC_MESSAGES/tumbler.mo
share/locale/sv/LC_MESSAGES/tumbler.mo
share/locale/te/LC_MESSAGES/tumbler.mo
share/locale/th/LC_MESSAGES/tumbler.mo
share/locale/tr/LC_MESSAGES/tumbler.mo
share/locale/ug/LC_MESSAGES/tumbler.mo
share/locale/uk/LC_MESSAGES/tumbler.mo
share/locale/zh_CN/LC_MESSAGES/tumbler.mo
share/locale/zh_HK/LC_MESSAGES/tumbler.mo
share/locale/zh_TW/LC_MESSAGES/tumbler.mo


[FILE:51:manifests/plist.plugcover]
lib/tumbler-1/plugins/tumbler-cover-thumbnailer.so


[FILE:51:manifests/plist.plugepub]
lib/tumbler-1/plugins/tumbler-gepub-thumbnailer.so


[FILE:50:manifests/plist.plugfont]
lib/tumbler-1/plugins/tumbler-font-thumbnailer.so


[FILE:83:manifests/plist.plugimage]
lib/tumbler-1/plugins/
 tumbler-jpeg-thumbnailer.so
 tumbler-pixbuf-thumbnailer.so


[FILE:49:manifests/plist.plugodf]
lib/tumbler-1/plugins/tumbler-odf-thumbnailer.so


[FILE:53:manifests/plist.plugpdf]
lib/tumbler-1/plugins/tumbler-poppler-thumbnailer.so


[FILE:49:manifests/plist.plugvideo]
lib/tumbler-1/plugins/tumbler-gst-thumbnailer.so


[FILE:450:patches/patch-tumblerd__tumbler.rc]
--- tumblerd/tumbler.rc.orig	2022-12-05 11:10:53 UTC
+++ tumblerd/tumbler.rc
@@ -36,7 +36,7 @@ MaxFileSize=0
 # RAW image files using libopenraw (the libopenraw pixbuf loader is kind of
 # broken, hence the priority)
 [RawThumbnailer]
-Disabled=false
+Disabled=true
 Priority=3
 Locations=
 Excludes=
@@ -67,7 +67,7 @@ MaxFileSize=0
 
 # ffmpegthumbnailer plugin
 [FfmpegThumbnailer]
-Disabled=false
+Disabled=true
 Priority=2
 Locations=
 Excludes=


[FILE:374:files/messages-primary.ucl.in]
primary: {
  type: "install"
  message: <<EOM
To override the default configuration, you must copy the rc-file:

	mkdir ~/.config/tumbler
	cp %%PREFIX%%/etc/xdg/tumbler/tumbler.rc ~/.config/tumbler

Various plugins are packaged in separate subpackages.
The COVER plugin requires manual configuration.

For more information see http://docs.xfce.org/xfce/thunar/tumbler
EOM
}

