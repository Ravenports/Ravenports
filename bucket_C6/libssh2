# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libssh2
VERSION=		1.11.0
REVISION=		2
KEYWORDS=		security devel
VARIANTS=		std embed
SDESC[std]=		SSH2 protocol library with OpenSSL backend
SDESC[embed]=		SSH2 protocol library with MBedTLS backend
HOMEPAGE=		https://www.libssh2.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://www.libssh2.org/download/
DISTFILE[1]=		libssh2-1.11.0.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			man
			docs
SPKGS[embed]=		set
			primary
			dev
			man
			docs

OPTIONS_AVAILABLE=	EMBED
OPTIONS_STANDARD=	EMBED
VOPTS[embed]=		EMBED=ON

USES=			cpe cmake zlib:build

LICENSE=		BSD3CLAUSE:primary
LICENSE_FILE=		BSD3CLAUSE:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		security/libssh2

SOVERSION=		1.0.1

CMAKE_ARGS=		-DZLIB_USE_STATIC_LIBS:BOOL=ON

[EMBED].DESCRIPTION=			Select MBedTLS for cryptography backend
[EMBED].BUILD_DEPENDS_ON=		mbedtls:dev:std
[EMBED].CMAKE_ARGS_OFF=			-DOPENSSL_ROOT_DIR="{{OPENSSLBASE}}"
[EMBED].USES_OFF=			ssl

pre-configure-EMBED-ON:
	${REINPLACE_CMD} -e 's/lssh2/lssh2_pic/' ${WRKSRC}/libssh2.pc.in

post-build-EMBED-ON:
	# assemble PIC library
	cd ${BUILD_WRKSRC} &&\
		${AR} -crsv libssh2_pic.a \
		src/CMakeFiles/libssh2_shared.dir/*.c.o \
		&& ranlib libssh2_pic.a

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libssh2.so

post-install-EMBED-ON:
	${INSTALL_DATA} ${BUILD_WRKSRC}/libssh2_pic.a ${STAGEDIR}${PREFIX}/lib/

[FILE:198:descriptions/desc.primary]
libssh2 is a client-side C library implementing the SSH2 protocol. It
supports regular terminal, SCP and SFTP sessions; port forwarding;
password, key-based and keyboard-interactive authentication.


[FILE:100:distinfo]
3736161e41e2693324deb38c26cfdc3efe6209d634ba4258db1cecff6a5ad461      1053562 libssh2-1.11.0.tar.gz


[FILE:55:manifests/plist.primary]
lib/
 libssh2.so.%%SOMAJOR%%
 libssh2.so.%%SOVERSION%%


[FILE:237:manifests/plist.dev]
%%EMBED-ON%%lib/libssh2_pic.a
include/
 libssh2.h
 libssh2_publickey.h
 libssh2_sftp.h
lib/
 libssh2.a
 libssh2.so
lib/cmake/libssh2/
 Libssh2Config-release.cmake
 Libssh2Config.cmake
 Libssh2ConfigVersion.cmake
lib/pkgconfig/libssh2.pc


[FILE:5184:manifests/plist.man]
share/man/man3/
 libssh2_agent_connect.3
 libssh2_agent_disconnect.3
 libssh2_agent_free.3
 libssh2_agent_get_identity.3
 libssh2_agent_get_identity_path.3
 libssh2_agent_init.3
 libssh2_agent_list_identities.3
 libssh2_agent_set_identity_path.3
 libssh2_agent_sign.3
 libssh2_agent_userauth.3
 libssh2_banner_set.3
 libssh2_base64_decode.3
 libssh2_channel_close.3
 libssh2_channel_direct_streamlocal_ex.3
 libssh2_channel_direct_tcpip.3
 libssh2_channel_direct_tcpip_ex.3
 libssh2_channel_eof.3
 libssh2_channel_exec.3
 libssh2_channel_flush.3
 libssh2_channel_flush_ex.3
 libssh2_channel_flush_stderr.3
 libssh2_channel_forward_accept.3
 libssh2_channel_forward_cancel.3
 libssh2_channel_forward_listen.3
 libssh2_channel_forward_listen_ex.3
 libssh2_channel_free.3
 libssh2_channel_get_exit_signal.3
 libssh2_channel_get_exit_status.3
 libssh2_channel_handle_extended_data.3
 libssh2_channel_handle_extended_data2.3
 libssh2_channel_ignore_extended_data.3
 libssh2_channel_open_ex.3
 libssh2_channel_open_session.3
 libssh2_channel_process_startup.3
 libssh2_channel_read.3
 libssh2_channel_read_ex.3
 libssh2_channel_read_stderr.3
 libssh2_channel_receive_window_adjust.3
 libssh2_channel_receive_window_adjust2.3
 libssh2_channel_request_auth_agent.3
 libssh2_channel_request_pty.3
 libssh2_channel_request_pty_ex.3
 libssh2_channel_request_pty_size.3
 libssh2_channel_request_pty_size_ex.3
 libssh2_channel_send_eof.3
 libssh2_channel_set_blocking.3
 libssh2_channel_setenv.3
 libssh2_channel_setenv_ex.3
 libssh2_channel_shell.3
 libssh2_channel_signal_ex.3
 libssh2_channel_subsystem.3
 libssh2_channel_wait_closed.3
 libssh2_channel_wait_eof.3
 libssh2_channel_window_read.3
 libssh2_channel_window_read_ex.3
 libssh2_channel_window_write.3
 libssh2_channel_window_write_ex.3
 libssh2_channel_write.3
 libssh2_channel_write_ex.3
 libssh2_channel_write_stderr.3
 libssh2_channel_x11_req.3
 libssh2_channel_x11_req_ex.3
 libssh2_crypto_engine.3
 libssh2_exit.3
 libssh2_free.3
 libssh2_hostkey_hash.3
 libssh2_init.3
 libssh2_keepalive_config.3
 libssh2_keepalive_send.3
 libssh2_knownhost_add.3
 libssh2_knownhost_addc.3
 libssh2_knownhost_check.3
 libssh2_knownhost_checkp.3
 libssh2_knownhost_del.3
 libssh2_knownhost_free.3
 libssh2_knownhost_get.3
 libssh2_knownhost_init.3
 libssh2_knownhost_readfile.3
 libssh2_knownhost_readline.3
 libssh2_knownhost_writefile.3
 libssh2_knownhost_writeline.3
 libssh2_poll.3
 libssh2_poll_channel_read.3
 libssh2_publickey_add.3
 libssh2_publickey_add_ex.3
 libssh2_publickey_init.3
 libssh2_publickey_list_fetch.3
 libssh2_publickey_list_free.3
 libssh2_publickey_remove.3
 libssh2_publickey_remove_ex.3
 libssh2_publickey_shutdown.3
 libssh2_scp_recv.3
 libssh2_scp_recv2.3
 libssh2_scp_send.3
 libssh2_scp_send64.3
 libssh2_scp_send_ex.3
 libssh2_session_abstract.3
 libssh2_session_banner_get.3
 libssh2_session_banner_set.3
 libssh2_session_block_directions.3
 libssh2_session_callback_set.3
 libssh2_session_disconnect.3
 libssh2_session_disconnect_ex.3
 libssh2_session_flag.3
 libssh2_session_free.3
 libssh2_session_get_blocking.3
 libssh2_session_get_read_timeout.3
 libssh2_session_get_timeout.3
 libssh2_session_handshake.3
 libssh2_session_hostkey.3
 libssh2_session_init.3
 libssh2_session_init_ex.3
 libssh2_session_last_errno.3
 libssh2_session_last_error.3
 libssh2_session_method_pref.3
 libssh2_session_methods.3
 libssh2_session_set_blocking.3
 libssh2_session_set_last_error.3
 libssh2_session_set_read_timeout.3
 libssh2_session_set_timeout.3
 libssh2_session_startup.3
 libssh2_session_supported_algs.3
 libssh2_sftp_close.3
 libssh2_sftp_close_handle.3
 libssh2_sftp_closedir.3
 libssh2_sftp_fsetstat.3
 libssh2_sftp_fstat.3
 libssh2_sftp_fstat_ex.3
 libssh2_sftp_fstatvfs.3
 libssh2_sftp_fsync.3
 libssh2_sftp_get_channel.3
 libssh2_sftp_init.3
 libssh2_sftp_last_error.3
 libssh2_sftp_lstat.3
 libssh2_sftp_mkdir.3
 libssh2_sftp_mkdir_ex.3
 libssh2_sftp_open.3
 libssh2_sftp_open_ex.3
 libssh2_sftp_open_ex_r.3
 libssh2_sftp_open_r.3
 libssh2_sftp_opendir.3
 libssh2_sftp_read.3
 libssh2_sftp_readdir.3
 libssh2_sftp_readdir_ex.3
 libssh2_sftp_readlink.3
 libssh2_sftp_realpath.3
 libssh2_sftp_rename.3
 libssh2_sftp_rename_ex.3
 libssh2_sftp_rewind.3
 libssh2_sftp_rmdir.3
 libssh2_sftp_rmdir_ex.3
 libssh2_sftp_seek.3
 libssh2_sftp_seek64.3
 libssh2_sftp_setstat.3
 libssh2_sftp_shutdown.3
 libssh2_sftp_stat.3
 libssh2_sftp_stat_ex.3
 libssh2_sftp_statvfs.3
 libssh2_sftp_symlink.3
 libssh2_sftp_symlink_ex.3
 libssh2_sftp_tell.3
 libssh2_sftp_tell64.3
 libssh2_sftp_unlink.3
 libssh2_sftp_unlink_ex.3
 libssh2_sftp_write.3
 libssh2_sign_sk.3
 libssh2_trace.3
 libssh2_trace_sethandler.3
 libssh2_userauth_authenticated.3
 libssh2_userauth_banner.3
 libssh2_userauth_hostbased_fromfile.3
 libssh2_userauth_hostbased_fromfile_ex.3
 libssh2_userauth_keyboard_interactive.3
 libssh2_userauth_keyboard_interactive_ex.3
 libssh2_userauth_list.3
 libssh2_userauth_password.3
 libssh2_userauth_password_ex.3
 libssh2_userauth_publickey.3
 libssh2_userauth_publickey_fromfile.3
 libssh2_userauth_publickey_fromfile_ex.3
 libssh2_userauth_publickey_frommemory.3
 libssh2_userauth_publickey_sk.3
 libssh2_version.3


[FILE:91:manifests/plist.docs]
share/doc/libssh2/
 AUTHORS
 BINDINGS.md
 COPYING
 HACKING.md
 NEWS
 README
 RELEASE-NOTES

