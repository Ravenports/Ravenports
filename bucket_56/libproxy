# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libproxy
VERSION=		0.5.9
REVISION=		1
KEYWORDS=		net devel
VARIANTS=		std
SDESC[std]=		Library for automatic proxy configuration mgmt
HOMEPAGE=		https://libproxy.github.io/libproxy
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/libproxy:libproxy:0.5.9
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			tools
			man
			docs

OPTIONS_AVAILABLE=	VALA
OPTIONS_STANDARD=	VALA
OPT_ON[all]=		VALA

BUILD_DEPENDS=		duktape:dev:std
			bash:primary:std
			python-gi-docgen:set:python_default
BUILDRUN_DEPENDS=	duktape:primary:std
EXRUN[dev]=		glib:dev:std

USES=			cpe meson pkgconfig shebangfix zlib:build

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/libproxy/proxy.h
LICENSE_SCHEME=		solo

CPE_VENDOR=		libproxy_project
FPC_EQUIVALENT=		net/libproxy
MESON_ARGS=		-Dconfig-gnome=false
			-Dconfig-sysconfig=false
			-Dconfig-windows=false
			-Dconfig-osx=false
			-Dconfig-kde=false
			-Dconfig-env=true
			-Ddocs=true
			-Dtests=false
			-Dpacrunner-duktape=true
			-Dcurl=false
SHEBANG_FILES=		data/*.sh

SOVERSION=		0.5.9
PLIST_SUB=		VERSION=0.5.9

LDFLAGS=		-Wl,-rpath,{{PREFIX}}/lib/libproxy
VAR_OPSYS[sunos]=	LDFLAGS=-lsocket
			LDFLAGS=-lnsl

[VALA].DESCRIPTION=			Build with Vala binding
[VALA].BUILDRUN_DEPENDS_ON=		dbus:primary:std
[VALA].BUILD_DEPENDS_ON=		vala:primary:std
					dbus:dev:std
[VALA].CMAKE_ARGS_OFF=			-Dvapi=false
					-Dintrospection=false
[VALA].CMAKE_ARGS_ON=			-Dvapi=true
					-Dintrospection=true
[VALA].GNOME_COMPONENTS_ON=		introspection

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/proxy
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libproxy.so
	# relocate docs
	${MV} ${STAGEDIR}${PREFIX}/share/doc/libproxy-1.0 ${STAGEDIR}${STD_DOCDIR}

[FILE:218:descriptions/desc.primary]
Libproxy is a library that provides automatic proxy configuration 
management. It supports various programming language bindings and is able 
to work with GConf/Gsettings for GNOME or kreadconfig/kreadconfig5 for KDE.


[FILE:41:descriptions/desc.tools]
this package contains the proxy program.


[FILE:109:distinfo]
a1976c3ac4affedc17e6d40cf78c9d8eca6751520ea3cbbec1a8850f7ded1565        58165 libproxy-libproxy-0.5.9.tar.gz


[FILE:208:manifests/plist.primary]
lib/
 libproxy.so.%%SOVERSION%%
 libproxy.so.1
lib/girepository-1.0/Libproxy-1.0.typelib
lib/libproxy/libpxbackend-1.0.so
share/gir-1.0/Libproxy-1.0.gir
share/vala/vapi/
 libproxy-1.0.deps
 libproxy-1.0.vapi


[FILE:71:manifests/plist.dev]
include/libproxy/proxy.h
lib/libproxy.so
lib/pkgconfig/libproxy-1.0.pc


[FILE:10:manifests/plist.tools]
bin/proxy


[FILE:23:manifests/plist.man]
share/man/man8/proxy.8


[FILE:1382:manifests/plist.docs]
share/doc/libproxy/
 RedHatDisplay-Black.woff
 RedHatDisplay-Black.woff2
 RedHatDisplay-BlackItalic.woff
 RedHatDisplay-BlackItalic.woff2
 RedHatDisplay-Bold.woff
 RedHatDisplay-Bold.woff2
 RedHatDisplay-BoldItalic.woff
 RedHatDisplay-BoldItalic.woff2
 RedHatDisplay-Italic.woff
 RedHatDisplay-Italic.woff2
 RedHatDisplay-Medium.woff
 RedHatDisplay-Medium.woff2
 RedHatDisplay-MediumItalic.woff
 RedHatDisplay-MediumItalic.woff2
 RedHatDisplay-Regular.woff
 RedHatDisplay-Regular.woff2
 RedHatText-Bold.woff
 RedHatText-Bold.woff2
 RedHatText-BoldItalic.woff
 RedHatText-BoldItalic.woff2
 RedHatText-Italic.woff
 RedHatText-Italic.woff2
 RedHatText-Medium.woff
 RedHatText-Medium.woff2
 RedHatText-MediumItalic.woff
 RedHatText-MediumItalic.woff2
 RedHatText-Regular.woff
 RedHatText-Regular.woff2
 SourceCodePro-It.ttf.woff
 SourceCodePro-Regular.ttf.woff
 SourceCodePro-Semibold.ttf.woff
 applications.html
 architecture.html
 build-steps.html
 configuration-logic.html
 ctor.ProxyFactory.new.html
 fonts.css
 fzy.js
 go-up-symbolic.png
 index.html
 index.json
 libproxy-1.0.devhelp2
 libproxy.svg
 main.js
 method.ProxyFactory.free.html
 method.ProxyFactory.get_proxies.html
 perl.html
 proxy-authentication.html
 python.html
 ruby.html
 search.js
 solarized-dark.css
 solarized-light.css
 struct.ProxyFactory.html
 style.css
 type_func.ProxyFactory.free_proxies.html
 vala.html


[FILE:406:patches/patch-src_backend_plugins_pacrunner-duktape_pacrunner-duktape.c]
--- src/backend/plugins/pacrunner-duktape/pacrunner-duktape.c.orig	2024-07-19 19:33:22 UTC
+++ src/backend/plugins/pacrunner-duktape/pacrunner-duktape.c
@@ -29,6 +29,10 @@
 #include <netinet/in.h>
 #endif
 
+#if defined(__FreeBSD__) || defined(__DragonFly__) || defined(__NetBSD__)
+#include <netinet/in.h>
+#endif
+
 #include "pacrunner-duktape.h"
 #include "pacutils.h"
 #include "px-plugin-pacrunner.h"

