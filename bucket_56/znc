# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		znc
VERSION=		1.9.0
KEYWORDS=		irc
VARIANTS=		standard
SDESC[standard]=	Advanced IRC bouncer
HOMEPAGE=		https://wiki.znc.in/ZNC
CONTACT=		nobody

DOWNLOAD_GROUPS=	main cctz csocket
SITES[main]=		GITHUB/znc:znc:znc-1.9.0
SITES[cctz]=		GITHUB/google:cctz:49ba88f:third_party/cctz
SITES[csocket]=		GITHUB/jimloco:Csocket:81d27e6:third_party/Csocket
DISTFILE[1]=		generated:main
DISTFILE[2]=		generated:csocket
DISTFILE[3]=		generated:cctz
DF_INDEX=		1 2 3
SPKGS[standard]=	complete
			primary
			dev
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		swig:primary:standard
			icu:dev:standard
BUILDRUN_DEPENDS=	icu:primary:standard
			cyrus-sasl:primary:standard

USERS=			znc
GROUPS=			znc
USERGROUP_SPKG=		primary

USES=			cpe cmake iconv pkgconfig ssl:openssl30 tcl perl
			python zlib

LICENSE=		APACHE20:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		APACHE20:{{WRKSRC}}/LICENSE
LICENSE_AWK=		TERMS:"ZNC_H"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/include/znc/znc.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		irc/znc

RC_SUBR=		znc:primary
SUB_FILES=		pkg-message-primary

CMAKE_ARGS=		-DCYRUS:BOOL=ON
			-DZLIB:BOOL=ON
			-DWANT_TCL:BOOL=TRUE
			-DWANT_PERL:BOOL=TRUE
			-DWANT_PYTHON:BOOL=TRUE

post-install:
	${MKDIR} ${STAGEDIR}${PREFIX}/etc/znc
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/znc
	${FIND} ${STAGEDIR}${PREFIX}/lib -name "*.so" | ${XARGS} ${STRIP_CMD}

[FILE:233:descriptions/desc.primary]
ZNC is an advanced IRC bouncer with features that include support for
multiple users, playback buffers, DCC bouncing, SASL authentication
and SSL encryption. It can be extended with dynamically loaded modules
written in C++ or Perl.


[FILE:317:distinfo]
028f73f38a76ff8a77311a5e61b808123e512ee571bf049d669eed0ee9692740      1489017 znc-znc-znc-1.9.0.tar.gz
88fee67c200b0adaf944a9a6a08eb789745d3f0a789993facc3d160de11cb566        55935 jimloco-Csocket-81d27e6.tar.gz
bbd4e639cf951a01e8a37326173648f3bce0a978e2c3ecd69a0ca5378ee574c7       218239 google-cctz-49ba88f.tar.gz


[FILE:3184:manifests/plist.primary]
bin/
 znc
 znc-buildmod
lib/znc/
 admindebug.so
 adminlog.so
 alias.so
 autoattach.so
 autocycle.so
 autoop.so
 autoreply.so
 autovoice.so
 awaynick.so
 awaystore.so
 block_motd.so
 blockuser.so
 bouncedcc.so
 buffextras.so
 cert.so
 certauth.so
 chansaver.so
 clearbufferonmsg.so
 clientnotify.so
 controlpanel.so
 corecaps.so
 crypt.so
 ctcpflood.so
 cyrusauth.so
 dcc.so
 disconkick.so
 fail2ban.so
 flooddetach.so
 identfile.so
 imapauth.so
 keepnick.so
 kickrejoin.so
 lastseen.so
 listsockets.so
 log.so
 missingmotd.so
 modperl.so
 modpython.so
 modtcl.so
 modules_online.so
 nickserv.so
 notes.so
 notify_connect.so
 perform.so
 perleval.pm
 pyeval.py
 raw.so
 route_replies.so
 sample.so
 samplewebapi.so
 sasl.so
 savebuff.so
 schat.so
 send_raw.so
 shell.so
 simple_away.so
 stickychan.so
 stripcontrols.so
 watch.so
 webadmin.so
lib/znc/modperl/
 ZNC.pm
 ZNC.so
 startup.pl
lib/znc/modpython/
 _znc_core.so
 znc.py
 znc_core.py
share/znc/modtcl/
 binds.tcl
 modtcl.tcl
share/znc/modules/blockuser/tmpl/blockuser_WebadminUser.tmpl
share/znc/modules/cert/tmpl/index.tmpl
share/znc/modules/certauth/tmpl/index.tmpl
share/znc/modules/lastseen/tmpl/
 index.tmpl
 lastseen_WebadminUser.tmpl
share/znc/modules/listsockets/tmpl/index.tmpl
share/znc/modules/notes/files/trash.gif
share/znc/modules/notes/tmpl/index.tmpl
share/znc/modules/perform/tmpl/index.tmpl
share/znc/modules/q/tmpl/index.tmpl
share/znc/modules/samplewebapi/tmpl/index.tmpl
share/znc/modules/sasl/tmpl/index.tmpl
share/znc/modules/send_raw/files/select.js
share/znc/modules/send_raw/tmpl/index.tmpl
share/znc/modules/stickychan/tmpl/
 index.tmpl
 stickychan_WebadminChan.tmpl
share/znc/modules/webadmin/files/
 webadmin.css
 webadmin.js
share/znc/modules/webadmin/tmpl/
 add_edit_chan.tmpl
 add_edit_network.tmpl
 add_edit_user.tmpl
 del_network.tmpl
 del_user.tmpl
 encoding_settings.tmpl
 index.tmpl
 listusers.tmpl
 settings.tmpl
 traffic.tmpl
share/znc/translations/
 bg-BG
 de-DE
 es-ES
 fr-FR
 id-ID
 it-IT
 nl-NL
 pl-PL
 pt-BR
 pt-PT
 ru-RU
 tr-TR
share/znc/webskins/_default_/pub/
 External.png
 _default_.css
 favicon.ico
 global.css
 jquery-1.11.2.js
 jquery-1.11.2.min.js
 jquery-ui-sortable.1.11.4.css
 jquery-ui-sortable.1.11.4.js
 jquery-ui-sortable.1.11.4.min.css
 jquery-ui-sortable.1.11.4.min.js
 robots.txt
 selectize-0.12.1.css
 selectize-standalone-0.12.1.js
 selectize-standalone-0.12.1.min.js
share/znc/webskins/_default_/tmpl/
 Banner.tmpl
 BaseHeader.tmpl
 BreadCrumbs.tmpl
 DocType.tmpl
 Error.tmpl
 ExtraHeader.tmpl
 Footer.tmpl
 FooterTag.tmpl
 Header.tmpl
 InfoBar.tmpl
 LoginBar.tmpl
 LowerBanner.tmpl
 Menu.tmpl
 MessageBar.tmpl
 Options.tmpl
 _csrf_check.tmpl
 index.tmpl
share/znc/webskins/dark-clouds/pub/
 clouds-header.jpg
 dark-clouds.css
 favicon.ico
share/znc/webskins/dark-clouds/tmpl/
 Banner.tmpl
 FooterTag.tmpl
 Header.tmpl
 LowerBanner.tmpl
share/znc/webskins/forest/pub/
 favicon.ico
 forest-header.png
 forest.css
share/znc/webskins/forest/tmpl/
 Banner.tmpl
 FooterTag.tmpl
 Header.tmpl
 LowerBanner.tmpl
share/znc/webskins/ice/pub/
 favicon.ico
 ice.css
 linkbg.jpg
 pagebg.gif
share/znc/webskins/ice/tmpl/
 FooterTag.tmpl
 Header.tmpl
@dir(znc,znc,755) etc/znc


[FILE:597:manifests/plist.dev]
share/znc/cmake/
 CMakeFindDependencyMacroPC.cmake
 ZNCConfig.cmake
 ZNCConfigVersion.cmake
 use_homebrew.cmake
 znc_internal-release.cmake
 znc_internal.cmake
 znc_public.cmake
include/znc/
 Buffer.h
 Chan.h
 Client.h
 Config.h
 Csocket.h
 ExecSock.h
 FileUtils.h
 HTTPSock.h
 IRCNetwork.h
 IRCSock.h
 Listener.h
 MD5.h
 Message.h
 Modules.h
 Nick.h
 Query.h
 SHA256.h
 SSLVerifyHost.h
 Server.h
 Socket.h
 Template.h
 Threads.h
 Translation.h
 User.h
 Utils.h
 WebModules.h
 ZNCDebug.h
 ZNCString.h
 defines.h
 main.h
 version.h
 znc.h
 znc_export_lib_export.h
 zncconfig.h
lib/pkgconfig/znc.pc


[FILE:45:manifests/plist.man]
share/man/man1/
 znc-buildmod.1.gz
 znc.1.gz


[FILE:754:files/pkg-message-primary.in]
*****************************************************************************

# Configuration

 Configs written before ZNC 0.206 can't be read anymore!
  
 To generate a basic configuration file, run znc --makeconf after installation.
 It is NOT a good idea to create a new config file manually.

 For generate your config file using znc user, execute:

   su -m znc -c 'znc -d %%ETCDIR%% --makeconf'
   or
   sudo -u znc znc -d %%ETCDIR%% --makeconf

 http://wiki.znc.in/Configuration

# Modules

 If you upgrade your ZNC version you must recompile all your external modules,
 ZNC ABI is not stable.

   znc-buildmod <modulename>.cpp

 http://wiki.znc.in/Compiling_modules

*****************************************************************************


[FILE:825:files/znc.in]
#!/bin/sh
#
# PROVIDE: znc
# REQUIRE: LOGIN DAEMON
# KEYWORD: shutdown
#
# Add the following line to /etc/rc.conf to enable znc:
#
# znc_enable:       Set to NO by default. Set it to YES to enable it.
# znc_conf_dir:     Directory where znc configuration
#                   data is stored.
#                   Default: %%PREFIX%%/etc/znc
# znc_user:         The user account znc runs as what
#                   you want it to be. It uses 'znc' user by
#                   default. Do not sets it as empty or it will run
#                   as root.
#

. /etc/rc.subr

name=znc
rcvar=${name}_enable

command=%%PREFIX%%/bin/znc

load_rc_config ${name}

: ${znc_enable:="NO"}
: ${znc_user:="znc"}
: ${znc_conf_dir="%%PREFIX%%/etc/znc"}

znc_flags=" \
	${znc_conf_dir:+-d ${znc_conf_dir}} \
	${znc_flags}"

run_rc_command "$1"

