# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		librsync
VERSION=		2.3.1
KEYWORDS=		net devel
VARIANTS=		standard
SDESC[standard]=	Library for delta compression of streams
HOMEPAGE=		https://librsync.github.io/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://github.com/librsync/librsync/releases/download/v2.3.1/
DISTFILE[1]=		librsync-2.3.1.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	popt:single:standard

USES=			cpe cmake

LICENSE=		LGPL21+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"_RSYNC_H"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/librsync.h
LICENSE_SCHEME=		solo

CPE_VENDOR=		librsync_project
FPC_EQUIVALENT=		net/librsync

SOVERSION=		2.3.1

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/rdiff
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/librsync.so

[FILE:877:descriptions/desc.single]
librsync is a library for calculating and applying network deltas, with an
interface designed to ease integration into diverse network applications.

librsync encapsulates the core algorithms of the rsync protocol, which help
with efficient calculation of the differences between two files. The rsync
algorithm is different from most differencing algorithms because it does
not require the presence of the two files to calculate the delta. Instead,
it requires a set of checksums of each block of one file, which together
form a signature for that file. Blocks at any in the other file which have
the same checksum are likely to be identical, and whatever remains is the
difference.

This algorithm transfers the differences between two files without needing
both files on the same system.  librsync is for building other programs
that transfer files as efficiently as rsync. 


[FILE:100:distinfo]
dbd7eb643665691bdf4009174461463737b19b4814b789baad62914cabfe4569       194573 librsync-2.3.1.tar.gz


[FILE:175:manifests/plist.single]
bin/rdiff
include/
 librsync.h
 librsync_export.h
lib/
 librsync.so
 librsync.so.%%SOMAJOR%%
 librsync.so.%%SOVERSION%%
share/man/man1/rdiff.1.gz
share/man/man3/librsync.3.gz


[FILE:956:patches/patch-CMakeLists.txt]
--- CMakeLists.txt.orig	2020-05-19 00:51:32 UTC
+++ CMakeLists.txt
@@ -144,6 +144,12 @@ message (STATUS "PROJECT_NAME  = ${PROJE
 message (STATUS "BUILD_HOSTNAME = ${BUILD_HOSTNAME}")
 message (STATUS "CMAKE_SYSTEM = ${CMAKE_SYSTEM}")
 
+# We need to be able to #include "file" from a few places,
+# * The original source dir
+# * The generated source dir
+include_directories(${CMAKE_CURRENT_BINARY_DIR}/src)
+include_directories(${CMAKE_CURRENT_SOURCE_DIR}/src)
+
 # Find POPT
 find_package(POPT)
 if (POPT_FOUND)
@@ -312,12 +318,6 @@ enable_testing()
 # Create conf files
 configure_file(${CMAKE_CURRENT_SOURCE_DIR}/src/config.h.cmake ${CMAKE_CURRENT_BINARY_DIR}/src/config.h)
 
-# We need to be able to #include "file" from a few places,
-# * The original source dir
-# * The generated source dir
-include_directories(${CMAKE_CURRENT_BINARY_DIR}/src)
-include_directories(${CMAKE_CURRENT_SOURCE_DIR}/src)
-
 
 ########### next target ###############
 

