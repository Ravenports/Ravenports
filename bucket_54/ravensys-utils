# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		ravensys-utils
VERSION=		1.5.2
REVISION=		1
KEYWORDS=		raven sysutils
VARIANTS=		standard prevdbsd prevfbsd prevlinux
SDESC[prevdbsd]=	System root tools for previous DragonFly
SDESC[prevlinux]=	System root tools for previous Linux
SDESC[standard]=	Consistent tools for Ravenports system root
SDESC[prevfbsd]=	System root tools for previous FreeBSD
HOMEPAGE=		https://github.com/ravenports/ravensys-utils
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/ravenports:ravensys-utils:v1.5.2
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[prevdbsd]=	complete
			primary
			man
SPKGS[prevlinux]=	complete
			primary
			man
SPKGS[standard]=	complete
			primary
			man
SPKGS[prevfbsd]=	complete
			primary
			man

OPTIONS_AVAILABLE=	PREV_DBSD PREV_FBSD PREV_LINUX
OPTIONS_STANDARD=	none
VOPTS[prevdbsd]=	PREV_DBSD=ON PREV_FBSD=OFF PREV_LINUX=OFF
VOPTS[prevlinux]=	PREV_DBSD=OFF PREV_FBSD=OFF PREV_LINUX=ON
VOPTS[prevfbsd]=	PREV_DBSD=OFF PREV_FBSD=ON PREV_LINUX=OFF

B_DEPS[sunos]=		libbsd4sol:single:standard musl-fts:single:standard
B_DEPS[linux]=		libbsd:dev:standard libbsd:primary:standard

USES=			cmake ssl:build

LICENSE=		CUSTOM1:primary
LICENSE_NAME=		CUSTOM1:"ravensys-utils: all tools feature BSD-like license"
LICENSE_FILE=		CUSTOM1:{{WRKSRC}}/LICENSES.aggregated
LICENSE_SCHEME=		solo

INFRASTRUCTURE=		yes
CMAKE_ARGS=		-DRAVENOPSYS:STRING="{{SYSTEM:H:H:H:H:H}}"
			-DRAVENPLAT:STRING="{{SYSTEM:H:H:H:H:T}}"
			-DRAVENKERNEL:STRING="{{SYSTEM:H:H:T}}"
			-DRAVENRELEASE:STRING="{{SYSTEM:H:T}}"
			-DRAVENMAJOR:STRING="{{SYSTEM:T}}"
			-DRAVDEST:STRING="{{STAGEDIR}}"
VAR_OPSYS[freebsd]=	MAKEFILE_LINE=SYSTEM=FreeBSD/amd64/x86_64/1302001/13.2/13
VAR_OPSYS[sunos]=	MAKEFILE_LINE=SYSTEM=SunOS/i86pc/x86_64/510200910/5.10/5.10
VAR_OPSYS[linux]=	MAKEFILE_LINE=SYSTEM=Linux/x86_64/x86_64/610000/6.1.0/6.1
VAR_OPSYS[darwin]=	MAKEFILE_LINE=SYSTEM=Darwin/x86_64/x86_64/170700/17.7.0/17
VAR_OPSYS[netbsd]=	MAKEFILE_LINE=SYSTEM=NetBSD/x86_64/x86_64/902000000/10.0/10
VAR_OPSYS[dragonfly]=	MAKEFILE_LINE=SYSTEM=DragonFly/x86_64/x86_64/600400/6.4/6.4
VAR_OPSYS[midnightbsd]=	MAKEFILE_LINE=SYSTEM=MidnightBSD/amd64/x86_64/300005/3.0.0/3

[PREV_DBSD].DESCRIPTION=		Hardcode uname values to older DragonFly release
[PREV_DBSD].MAKEFILE_ON=		SYSTEM=DragonFly/x86_64/x86_64/600200/6.2/6.2
[PREV_DBSD].ONLY_FOR_OPSYS_ON=		dragonfly

[PREV_FBSD].DESCRIPTION=		Hardcode uname values to older FreeBSD release
[PREV_FBSD].MAKEFILE_ON=		SYSTEM=FreeBSD/amd64/x86_64/1202000/12.2/12
[PREV_FBSD].ONLY_FOR_OPSYS_ON=		freebsd

[PREV_LINUX].DESCRIPTION=		Hardcode uname values to older Linux release
[PREV_LINUX].MAKEFILE_ON=		SYSTEM=Linux/x86_64/x86_64/440053/4.4.0/4.4
[PREV_LINUX].ONLY_FOR_OPSYS_ON=		linux

post-install:
.for prog in md5 mtree patch ravensys-uname which rpcgen
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/${prog}
.endfor
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/libexec/ld

[FILE:214:descriptions/desc.primary]
Consistent utilities for the Ravenports system root

This package provides the following programs:
  - patch
  - which
  - sha256
  - md5
  - mtree
  - uname
  - ld (selector)

It also provides a dummy dl library.


[FILE:117:distinfo]
9edd05b948cdff615ea8ee6c18a8da3a4dbf760f07a509ed5195686a86f265b3       115995 ravenports-ravensys-utils-1.5.2.tar.gz


[FILE:118:manifests/plist.primary]
%%ONLY-NETBSD%%bin/bsd_realpath
bin/
 md5
 mtree
 patch
 ravensys-uname
 rpcgen
 sha256
 which
lib/libdl.a
libexec/ld


[FILE:101:manifests/plist.man]
%%ONLY-NETBSD%%share/man/man1/bsd_realpath.1.gz
share/man/man1/
 patch.1.gz
 rpcgen.1.gz
 which.1.gz

