# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gstreamer1-plugins-x264
VERSION=		1.16.0
KEYWORDS=		multimedia
VARIANTS=		standard
SDESC[standard]=	GStreamer1 H.264 video encoder plugin
HOMEPAGE=		https://gstreamer.freedesktop.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://gstreamer.freedesktop.org/src/gst-plugins-ugly/
DISTFILE[1]=		gst-plugins-ugly-1.16.0.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		gstreamer1-plugins-ugly:single:standard
BUILDRUN_DEPENDS=	gstreamer1-plugins-base:single:standard
			gstreamer1:single:standard
			x264:library:standard

USES=			gmake pkgconfig libtool
GNOME_COMPONENTS=	glib introspection

DISTNAME=		gst-plugins-ugly-1.16.0

FPC_EQUIVALENT=		audio/gstreamer1-plugins-a52dec

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-default-audiosink="osssink"
			--with-default-audiosrc="osssrc"
			--disable-a52dec
			--disable-amrnb
			--disable-amrwb
			--disable-cdio
			--disable-dvdread
			--disable-mpeg2dec
			--disable-sidplay
			--enable-x264

BUILD_WRKSRC=		{{WRKSRC}}/ext/x264

INSTALL_WRKSRC=		{{WRKSRC}}/ext/x264
INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
PLIST_SUB=		GSTVER=1.0
			PLUGIN=x264

CFLAGS=			-Wno-format

post-patch:
	${REINPLACE_CMD} -e 's|FLAGS -Werror|FLAGS|' ${WRKSRC}/configure

[FILE:50:descriptions/desc.single]
This package contains the x264 GStreamer1 plugin.


[FILE:109:distinfo]
e30964c5f031c32289e0b25e176c3c95a5737f2052dfc81d0f7427ef0233a4c2       887516 gst-plugins-ugly-1.16.0.tar.xz


[FILE:95:manifests/plist.single]
lib/gstreamer-%%GSTVER%%/libgst%%PLUGIN%%.so
share/gstreamer-%%GSTVER%%/presets/GstX264Enc.prs

