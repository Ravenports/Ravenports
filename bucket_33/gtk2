# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gtk2
VERSION=		2.24.33
REVISION=		1
KEYWORDS=		x11_toolkits
VARIANTS=		standard
SDESC[standard]=	Gimp Toolkit for X11 GUI
HOMEPAGE=		https://www.gtk.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNOME/gtk+/2.24
DISTFILE[1]=		gtk+-2.24.33.tar.xz:main
DIST_SUBDIR=		gnome2
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			nls

OPTIONS_AVAILABLE=	CUPS INTROSPECTION
OPTIONS_STANDARD=	none

USES=			gettext-tools gmake libtool pkgconfig
			gnome-icons:primary perl:build python:build
			shebangfix cpe
GNOME_COMPONENTS=	atk cairo gdkpixbuf pango
XORG_COMPONENTS=	xext x11 xinerama xi xrandr xcursor xfixes xdamage
			xcomposite

DISTNAME=		gtk+-2.24.33

CPE_PRODUCT=		gtk\+
CPE_VENDOR=		gtk
FPC_EQUIVALENT=		x11-toolkits/gtk20
SHEBANG_FILES=		gtk/gtk-builder-convert

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-xinput=yes

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
PLIST_SUB=		LIBVERSION=0.2400.33
			GTK_VERSION=2.10.0
			LIBGAILVER=18.0.1

VAR_OPSYS[sunos]=	LDFLAGS=-lintl

[INTROSPECTION].DESCRIPTION=		Build with introspection
[INTROSPECTION].CONFIGURE_ENABLE_BOTH=	introspection
[INTROSPECTION].GNOME_COMPONENTS_ON=	introspection

[CUPS].BROKEN_ON=			CUPS option not supported yet
[CUPS].BUILDRUN_DEPENDS_ON=		cups:single:standard
[CUPS].CONFIGURE_ENABLE_BOTH=		cups

post-install:
	${MKDIR} ${STAGEDIR}${PREFIX}/lib/gtk-2.0/modules
	${MKDIR} ${STAGEDIR}${PREFIX}/lib/gtk-2.0/2.10.0/engines
	${MKDIR} ${STAGEDIR}${PREFIX}/lib/gtk-2.0/2.10.0/loaders
	${MKDIR} ${STAGEDIR}${PREFIX}/lib/gtk-2.0/2.10.0/modules

pre-configure:
	${REINPLACE_CMD} -e 's|[{]libdir[}]/locale|{datadir}/locale|g' \
		${WRKSRC}/configure

[FILE:226:descriptions/desc.primary]
GTK+, or the GIMP Toolkit, is a multi-platform toolkit for creating
graphical user interfaces. Offering a complete set of widgets, GTK+
is suitable for projects ranging from small one-off tools to complete
application suites.


[FILE:105:distinfo]
ac2ac757f5942d318a311a54b0c80b5ef295f299c2a73c632f6bfb1ff49cc6da     12661828 gnome2/gtk+-2.24.33.tar.xz


[FILE:6473:manifests/plist.primary]
%%CUPS-ON%%lib/gtk-2.0/%%GTK_VERSION%%/printbackends/libprintbackend-cups.so
%%INTROSPECTION-ON%%lib/girepository-1.0/
 Gdk-2.0.typelib
 GdkX11-2.0.typelib
 Gtk-2.0.typelib
%%INTROSPECTION-ON%%share/gir-1.0/
 Gdk-2.0.gir
 GdkX11-2.0.gir
 Gtk-2.0.gir
bin/
 gtk-builder-convert
 gtk-demo
 gtk-query-immodules-2.0
etc/gtk-2.0/im-multipress.conf
include/gail-1.0/gail/gailwidget.h
include/gail-1.0/libgail-util/
 gail-util.h
 gailmisc.h
 gailtextutil.h
include/gtk-2.0/gdkconfig.h
include/gtk-2.0/gdk/
 gdk.h
 gdkapplaunchcontext.h
 gdkcairo.h
 gdkcolor.h
 gdkcursor.h
 gdkdisplay.h
 gdkdisplaymanager.h
 gdkdnd.h
 gdkdrawable.h
 gdkenumtypes.h
 gdkevents.h
 gdkfont.h
 gdkgc.h
 gdki18n.h
 gdkimage.h
 gdkinput.h
 gdkkeys.h
 gdkkeysyms-compat.h
 gdkkeysyms.h
 gdkpango.h
 gdkpixbuf.h
 gdkpixmap.h
 gdkprivate.h
 gdkproperty.h
 gdkregion.h
 gdkrgb.h
 gdkscreen.h
 gdkselection.h
 gdkspawn.h
 gdktestutils.h
 gdktypes.h
 gdkvisual.h
 gdkwindow.h
 gdkx.h
include/gtk-2.0/gtk/
 gtk.h
 gtkaboutdialog.h
 gtkaccelgroup.h
 gtkaccellabel.h
 gtkaccelmap.h
 gtkaccessible.h
 gtkaction.h
 gtkactiongroup.h
 gtkactivatable.h
 gtkadjustment.h
 gtkalignment.h
 gtkarrow.h
 gtkaspectframe.h
 gtkassistant.h
 gtkbbox.h
 gtkbin.h
 gtkbindings.h
 gtkbox.h
 gtkbuildable.h
 gtkbuilder.h
 gtkbutton.h
 gtkcalendar.h
 gtkcelleditable.h
 gtkcelllayout.h
 gtkcellrenderer.h
 gtkcellrendereraccel.h
 gtkcellrenderercombo.h
 gtkcellrendererpixbuf.h
 gtkcellrendererprogress.h
 gtkcellrendererspin.h
 gtkcellrendererspinner.h
 gtkcellrenderertext.h
 gtkcellrenderertoggle.h
 gtkcellview.h
 gtkcheckbutton.h
 gtkcheckmenuitem.h
 gtkclipboard.h
 gtkclist.h
 gtkcolorbutton.h
 gtkcolorsel.h
 gtkcolorseldialog.h
 gtkcombo.h
 gtkcombobox.h
 gtkcomboboxentry.h
 gtkcomboboxtext.h
 gtkcontainer.h
 gtkctree.h
 gtkcurve.h
 gtkdebug.h
 gtkdialog.h
 gtkdnd.h
 gtkdrawingarea.h
 gtkeditable.h
 gtkentry.h
 gtkentrybuffer.h
 gtkentrycompletion.h
 gtkenums.h
 gtkeventbox.h
 gtkexpander.h
 gtkfilechooser.h
 gtkfilechooserbutton.h
 gtkfilechooserdialog.h
 gtkfilechooserwidget.h
 gtkfilefilter.h
 gtkfilesel.h
 gtkfixed.h
 gtkfontbutton.h
 gtkfontsel.h
 gtkframe.h
 gtkgamma.h
 gtkgc.h
 gtkhandlebox.h
 gtkhbbox.h
 gtkhbox.h
 gtkhpaned.h
 gtkhruler.h
 gtkhscale.h
 gtkhscrollbar.h
 gtkhseparator.h
 gtkhsv.h
 gtkiconfactory.h
 gtkicontheme.h
 gtkiconview.h
 gtkimage.h
 gtkimagemenuitem.h
 gtkimcontext.h
 gtkimcontextsimple.h
 gtkimmodule.h
 gtkimmulticontext.h
 gtkinfobar.h
 gtkinputdialog.h
 gtkinvisible.h
 gtkitem.h
 gtkitemfactory.h
 gtklabel.h
 gtklayout.h
 gtklinkbutton.h
 gtklist.h
 gtklistitem.h
 gtkliststore.h
 gtkmain.h
 gtkmarshal.h
 gtkmenu.h
 gtkmenubar.h
 gtkmenuitem.h
 gtkmenushell.h
 gtkmenutoolbutton.h
 gtkmessagedialog.h
 gtkmisc.h
 gtkmodules.h
 gtkmountoperation.h
 gtknotebook.h
 gtkobject.h
 gtkoffscreenwindow.h
 gtkoldeditable.h
 gtkoptionmenu.h
 gtkorientable.h
 gtkpagesetup.h
 gtkpaned.h
 gtkpapersize.h
 gtkpixmap.h
 gtkplug.h
 gtkpreview.h
 gtkprintcontext.h
 gtkprintoperation.h
 gtkprintoperationpreview.h
 gtkprintsettings.h
 gtkprivate.h
 gtkprogress.h
 gtkprogressbar.h
 gtkradioaction.h
 gtkradiobutton.h
 gtkradiomenuitem.h
 gtkradiotoolbutton.h
 gtkrange.h
 gtkrc.h
 gtkrecentaction.h
 gtkrecentchooser.h
 gtkrecentchooserdialog.h
 gtkrecentchoosermenu.h
 gtkrecentchooserwidget.h
 gtkrecentfilter.h
 gtkrecentmanager.h
 gtkruler.h
 gtkscale.h
 gtkscalebutton.h
 gtkscrollbar.h
 gtkscrolledwindow.h
 gtkselection.h
 gtkseparator.h
 gtkseparatormenuitem.h
 gtkseparatortoolitem.h
 gtksettings.h
 gtkshow.h
 gtksignal.h
 gtksizegroup.h
 gtksocket.h
 gtkspinbutton.h
 gtkspinner.h
 gtkstatusbar.h
 gtkstatusicon.h
 gtkstock.h
 gtkstyle.h
 gtktable.h
 gtktearoffmenuitem.h
 gtktestutils.h
 gtktext.h
 gtktextbuffer.h
 gtktextbufferrichtext.h
 gtktextchild.h
 gtktextdisplay.h
 gtktextiter.h
 gtktextlayout.h
 gtktextmark.h
 gtktexttag.h
 gtktexttagtable.h
 gtktextview.h
 gtktipsquery.h
 gtktoggleaction.h
 gtktogglebutton.h
 gtktoggletoolbutton.h
 gtktoolbar.h
 gtktoolbutton.h
 gtktoolitem.h
 gtktoolitemgroup.h
 gtktoolpalette.h
 gtktoolshell.h
 gtktooltip.h
 gtktooltips.h
 gtktree.h
 gtktreednd.h
 gtktreeitem.h
 gtktreemodel.h
 gtktreemodelfilter.h
 gtktreemodelsort.h
 gtktreeselection.h
 gtktreesortable.h
 gtktreestore.h
 gtktreeview.h
 gtktreeviewcolumn.h
 gtktypebuiltins.h
 gtktypeutils.h
 gtkuimanager.h
 gtkvbbox.h
 gtkvbox.h
 gtkversion.h
 gtkviewport.h
 gtkvolumebutton.h
 gtkvpaned.h
 gtkvruler.h
 gtkvscale.h
 gtkvscrollbar.h
 gtkvseparator.h
 gtkwidget.h
 gtkwindow.h
include/gtk-unix-print-2.0/gtk/
 gtkpagesetupunixdialog.h
 gtkprinter.h
 gtkprintjob.h
 gtkprintunixdialog.h
 gtkunixprint.h
lib/
 libgailutil.so
 libgailutil.so.%%LIBGAILVER%%
 libgailutil.so.18
 libgdk-x11-2.0.so
 libgdk-x11-2.0.so.%%LIBVERSION%%
 libgdk-x11-2.0.so.0
 libgtk-x11-2.0.so
 libgtk-x11-2.0.so.%%LIBVERSION%%
 libgtk-x11-2.0.so.0
lib/gtk-2.0/%%GTK_VERSION%%/engines/libpixmap.so
lib/gtk-2.0/%%GTK_VERSION%%/immodules/
 im-am-et.so
 im-cedilla.so
 im-cyrillic-translit.so
 im-inuktitut.so
 im-ipa.so
 im-multipress.so
 im-thai.so
 im-ti-er.so
 im-ti-et.so
 im-viqr.so
 im-xim.so
lib/gtk-2.0/%%GTK_VERSION%%/printbackends/
 libprintbackend-file.so
 libprintbackend-lpr.so
lib/gtk-2.0/modules/
 libferret.so
 libgail.so
lib/pkgconfig/
 gail.pc
 gdk-2.0.pc
 gdk-x11-2.0.pc
 gtk+-2.0.pc
 gtk+-unix-print-2.0.pc
 gtk+-x11-2.0.pc
share/aclocal/gtk-2.0.m4
share/gtk-2.0/demo/
 alphatest.png
 apple-red.png
 appwindow.c
 assistant.c
 background.jpg
 builder.c
 button_box.c
 changedisplay.c
 clipboard.c
 colorsel.c
 combobox.c
 demo.ui
 dialog.c
 drawingarea.c
 editable_cells.c
 entry_buffer.c
 entry_completion.c
 expander.c
 floppybuddy.gif
 gnome-applets.png
 gnome-calendar.png
 gnome-foot.png
 gnome-fs-directory.png
 gnome-fs-regular.png
 gnome-gimp.png
 gnome-gmush.png
 gnome-gsame.png
 gnu-keys.png
 gtk-logo-rgb.gif
 hypertext.c
 iconview.c
 iconview_edit.c
 images.c
 infobar.c
 links.c
 list_store.c
 menus.c
 offscreen_window.c
 offscreen_window2.c
 panes.c
 pickers.c
 pixbufs.c
 printing.c
 rotated_text.c
 search_entry.c
 sizegroup.c
 spinner.c
 stock_browser.c
 textscroll.c
 textview.c
 toolpalette.c
 tree_store.c
 ui_manager.c
share/themes/Default/gtk-2.0-key/gtkrc
share/themes/Emacs/gtk-2.0-key/gtkrc
share/themes/Raleigh/gtk-2.0/gtkrc
@dir lib/gtk-2.0/%%GTK_VERSION%%/loaders
@dir lib/gtk-2.0/%%GTK_VERSION%%/modules
@postexec %D/bin/gtk-query-immodules-2.0 --update-cache > /dev/null 2>&1 || /usr/bin/true
@rmtry lib/gtk-2.0/%%GTK_VERSION%%/immodules.cache


[FILE:6364:manifests/plist.nls]
share/locale/af/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/am/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ang/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ar/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/as/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ast/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/az/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/az_IR/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/be/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/be@latin/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/bg/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/bn/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/bn_IN/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/br/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/bs/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ca/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ca@valencia/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/crh/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/cs/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/cy/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/da/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/de/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/dz/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/el/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/en_CA/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/en_GB/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/eo/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/es/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/et/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/eu/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/fa/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/fi/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/fr/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ga/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/gl/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/gu/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/he/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/hi/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/hr/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/hu/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/hy/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ia/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/id/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/io/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/is/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/it/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ja/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ka/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/kk/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/kn/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ko/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ku/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/li/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/lt/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/lv/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/mai/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/mi/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/mk/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ml/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/mn/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/mr/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ms/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/my/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/nb/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/nds/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ne/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/nl/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/nn/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/nso/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/oc/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/or/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/pa/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/pl/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ps/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/pt/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/pt_BR/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ro/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ru/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/rw/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/si/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/sk/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/sl/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/sq/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/sr/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/sr@ije/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/sr@latin/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/sv/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ta/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/te/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/th/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/tk/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/tr/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/tt/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ug/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/uk/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/ur/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/uz/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/uz@cyrillic/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/vi/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/wa/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/xh/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/yi/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/zh_CN/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/zh_HK/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo
share/locale/zh_TW/LC_MESSAGES/
 gtk20-properties.mo
 gtk20.mo


[FILE:414:patches/patch-Makefile.in]
--- Makefile.in.orig	2020-12-21 01:10:40 UTC
+++ Makefile.in
@@ -565,7 +565,7 @@ XVFB_START = \
 	|| { echo "Gtk+Tests:ERROR: Failed to start Xvfb environment for X11 target tests."; exit 1; } \
 	&& DISPLAY=:$$XID && export DISPLAY
 
-SRC_SUBDIRS = gdk gtk modules demos tests perf
+SRC_SUBDIRS = gdk gtk modules demos perf
 SUBDIRS = po po-properties $(SRC_SUBDIRS) docs m4macros build
 
 # require automake 1.4


[FILE:365:patches/patch-docs_Makefile.in]
--- docs/Makefile.in.orig	2020-12-21 01:10:40 UTC
+++ docs/Makefile.in
@@ -314,7 +314,7 @@ LT_CURRENT_MINUS_AGE = @LT_CURRENT_MINUS
 LT_SYS_LIBRARY_PATH = @LT_SYS_LIBRARY_PATH@
 LT_VERSION_INFO = @LT_VERSION_INFO@
 MAINT = @MAINT@
-MAKEINFO = @MAKEINFO@
+MAKEINFO = @MAKEINFO@ --no-split
 MANIFEST_TOOL = @MANIFEST_TOOL@
 MATH_LIB = @MATH_LIB@
 MKDIR_P = @MKDIR_P@


[FILE:376:patches/patch-docs_reference_Makefile.in]
--- docs/reference/Makefile.in.orig	2020-12-21 01:10:40 UTC
+++ docs/reference/Makefile.in
@@ -450,7 +450,7 @@ XVFB_START = \
 	|| { echo "Gtk+Tests:ERROR: Failed to start Xvfb environment for X11 target tests."; exit 1; } \
 	&& DISPLAY=:$$XID && export DISPLAY
 
-SUBDIRS = gdk gtk libgail-util
+SUBDIRS = #gdk gtk libgail-util
 GITIGNOREFILES = */*.1
 all: all-recursive
 


[FILE:572:patches/patch-docs_reference_gtk_Makefile.in]
--- docs/reference/gtk/Makefile.in.orig	2020-12-21 01:10:41 UTC
+++ docs/reference/gtk/Makefile.in
@@ -878,7 +878,7 @@ GTK_DOC_V_PDF_ = $(GTK_DOC_V_PDF_@AM_DEF
 GTK_DOC_V_PDF_0 = @echo "  DOC   Building PDF";
 
 ########################################################################
-@ENABLE_MAN_TRUE@man_MANS = gtk-query-immodules-2.0.1 gtk-update-icon-cache.1 gtk-builder-convert.1
+@ENABLE_MAN_TRUE@man_MANS = gtk-query-immodules-2.0.1 gtk-builder-convert.1
 @ENABLE_MAN_TRUE@BUILT_EXTRA_DIST = $(man_MANS)
 @ENABLE_MAN_TRUE@DISTCLEANFILES = $(man_MANS)
 all: all-am


[FILE:370:patches/patch-gdk-2.0.pc.in]
--- gdk-2.0.pc.in.orig	2020-12-18 05:29:39 UTC
+++ gdk-2.0.pc.in
@@ -9,4 +9,4 @@ Description: GTK+ Drawing Kit (${target}
 Version: @VERSION@
 Requires: @GDK_PACKAGES@
 Libs: -L${libdir} -lgdk-${target}-@GTK_API_VERSION@ @GDK_EXTRA_LIBS@
-Cflags: -I${includedir}/gtk-2.0 -I${libdir}/gtk-2.0/include @GDK_EXTRA_CFLAGS@
+Cflags: -I${includedir}/gtk-2.0 @GDK_EXTRA_CFLAGS@


[FILE:301:patches/patch-gdk_Makefile.in]
--- gdk/Makefile.in.orig	2020-12-21 01:10:41 UTC
+++ gdk/Makefile.in
@@ -1096,7 +1096,7 @@ EXTRA_HEADERS =
 #
 # Rule to install gdkconfig.h header file
 #
-configexecincludedir = $(libdir)/gtk-2.0/include
+configexecincludedir = $(prefix)/include/gtk-2.0
 
 #note: not gdkconfig.h
 BUILT_SOURCES = \


[FILE:1471:patches/patch-gtk_Makefile.in]
--- gtk/Makefile.in.orig	2020-12-21 01:10:41 UTC
+++ gtk/Makefile.in
@@ -182,8 +182,7 @@ host_triplet = @host@
 @HAVE_INTROSPECTION_TRUE@@USE_X11_TRUE@am__append_15 = --add-include-path=$(top_builddir)/gdk/x11
 @HAVE_INTROSPECTION_TRUE@am__append_16 = Gtk-2.0.gir
 @HAVE_INTROSPECTION_TRUE@am__append_17 = $(gir_DATA) $(typelibs_DATA)
-bin_PROGRAMS = gtk-query-immodules-2.0$(EXEEXT) \
-	gtk-update-icon-cache$(EXEEXT)
+bin_PROGRAMS = gtk-query-immodules-2.0$(EXEEXT)
 subdir = gtk
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/introspection.m4 \
@@ -2014,7 +2013,7 @@ SUBDIRS = theme-bits . tests
 DIST_SUBDIRS = theme-bits tests
 @HAVE_CUPS_FALSE@@HAVE_PAPI_CUPS_FALSE@@HAVE_PAPI_FALSE@GTK_PRINT_BACKENDS = file,lpr
 @HAVE_CUPS_FALSE@@HAVE_PAPI_CUPS_FALSE@@HAVE_PAPI_TRUE@GTK_PRINT_BACKENDS = file,papi
-@HAVE_CUPS_TRUE@@HAVE_PAPI_CUPS_FALSE@GTK_PRINT_BACKENDS = file,cups
+@HAVE_CUPS_TRUE@@HAVE_PAPI_CUPS_FALSE@GTK_PRINT_BACKENDS = file,cups,lpr
 @HAVE_PAPI_CUPS_TRUE@GTK_PRINT_BACKENDS = file,papi,cups
 GTK_BASE_CFLAGS_DEFINES = \
 	-DGTK_VERSION=\"$(GTK_VERSION)\"		\
@@ -7523,7 +7522,7 @@ gtkbuiltincache.h: @REBUILD@ stamp-icons
 	$(gtk_update_icon_cache_program) --force --ignore-theme-index		\
 	   --include-image-data							\
 	   --source builtin_icons stock-icons > gtkbuiltincache.h.tmp &&        \
-	mv gtkbuiltincache.h.tmp gtkbuiltincache.h
+	mv gtkbuiltincache.h.tmp gtkbuiltincache.h ||: true
 
 install-data-local:
 


[FILE:580:patches/patch-gtk_gtkbuilderparser.c]
--- gtk/gtkbuilderparser.c.orig	2020-12-18 05:29:40 UTC
+++ gtk/gtkbuilderparser.c
@@ -1051,7 +1051,7 @@ end_element (GMarkupParseContext *contex
 /* Called for character data */
 /* text is not nul-terminated */
 static void
-text (GMarkupParseContext *context,
+XXXtext (GMarkupParseContext *context,
       const gchar         *text,
       gsize                text_len,
       gpointer             user_data,
@@ -1106,7 +1106,7 @@ free_info (CommonInfo *info)
 static const GMarkupParser parser = {
   start_element,
   end_element,
-  text,
+  XXXtext,
   NULL,
   NULL
 };


[FILE:490:patches/patch-gtk_gtksearchenginesimple.c]
$NetBSD: patch-gtk_gtksearchenginesimple.c,v 1.1 2017/05/23 15:35:21 jperkin Exp $

Don't define _XOPEN_SOURCE on SunOS when using >= C99.

--- gtk/gtksearchenginesimple.c.orig	2020-12-18 05:29:40 UTC
+++ gtk/gtksearchenginesimple.c
@@ -27,7 +27,9 @@
  * export ftw() and friends only if _XOPEN_SOURCE and _GNU_SOURCE
  * are defined. see bug #444097.
  */
+#if !defined(__sun) || __STDC_VERSION__ - 0 < 199901L
 #define _XOPEN_SOURCE 500
+#endif
 #define _GNU_SOURCE 
 
 #ifdef HAVE_FTW_H


[FILE:318:patches/patch-gtk_updateiconcache.c]
--- gtk/updateiconcache.c.orig	2020-12-18 05:50:58 UTC
+++ gtk/updateiconcache.c
@@ -1554,7 +1554,7 @@ opentmp:
   if (!validate_file (tmp_cache_path))
     {
       g_printerr (_("The generated cache was invalid.\n"));
-      /*g_unlink (tmp_cache_path);*/
+      g_unlink (tmp_cache_path);
       exit (1);
     }
 

