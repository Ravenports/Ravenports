# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		proj
VERSION=		4.9.3
KEYWORDS=		graphics geography
VARIANTS=		standard
SDESC[standard]=	Cartographic Projections Library
HOMEPAGE=		https://github.com/OSGeo/proj.4
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://download.osgeo.org/proj/
DISTFILE[1]=		proj-4.9.3.tar.gz:main
DISTFILE[2]=		proj-datumgrid-1.6.zip:main
DF_INDEX=		1 2
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gmake libtool

EXTRACT_DIRTY=		2

LICENSE=		MIT:single
LICENSE_SCHEME=		solo
LICENSE_FILE=		MIT:{{WRKSRC}}/COPYING

FPC_EQUIVALENT=		graphics/proj

MUST_CONFIGURE=		gnu

INSTALL_TARGET=		install-strip
SOVERSION=		12.0.0

post-extract:
	${MV} ${WRKDIR}/proj_2/* ${WRKSRC}/nad/

[FILE:213:descriptions/desc.single]
PROJ is a generic coordinate transformation software, that transforms
coordinates from one coordinate reference system (CRS) to another.
This includes cartographic projections as well as geodetic
transformations.


[FILE:197:distinfo]
6984542fea333488de5c82eea58d699e4aff4b359200a9971537cd7e047185f7       921448 proj-4.9.3.tar.gz
054e7b63b474926c79f25fbe5cd8760351e8d93e5a167b5473e993c01bb08866      2766762 proj-datumgrid-1.6.zip


[FILE:569:manifests/plist.single]
bin/
 cs2cs
 geod
 invgeod
 invproj
 nad2bin
 proj
include/
 geodesic.h
 org_proj4_PJ.h
 org_proj4_Projections.h
 proj_api.h
 projects.h
lib/
 libproj.a
 libproj.so
 libproj.so.%%SOMAJOR%%
 libproj.so.%%SOVERSION%%
lib/pkgconfig/proj.pc
share/man/man1/
 cs2cs.1.gz
 geod.1.gz
 proj.1.gz
share/man/man3/
 geodesic.3.gz
 pj_init.3.gz
share/proj/
 CH
 FL
 GL27
 IGNF
 MD
 TN
 WI
 WO
 alaska
 conus
 epsg
 esri
 esri.extra
 hawaii
 nad.lst
 nad27
 nad83
 ntf_r93.gsb
 ntv1_can.dat
 null
 nzgd2kgrid0005.gsb
 other.extra
 proj_def.dat
 prvi
 stgeorge
 stlrnc
 stpaul
 world


[FILE:497:patches/patch-src-pj_mutex.c]
--- src/pj_mutex.c.orig	2016-08-29 18:47:58 UTC
+++ src/pj_mutex.c
@@ -124,7 +124,7 @@ void pj_acquire_lock()
         pthread_mutex_lock( &pj_precreated_lock);
 
         pthread_mutexattr_init(&mutex_attr);
-#ifdef HAVE_PTHREAD_MUTEX_RECURSIVE
+#if defined(HAVE_PTHREAD_MUTEX_RECURSIVE) || defined(__FreeBSD__) || defined(__DragonFly__)
         pthread_mutexattr_settype(&mutex_attr, PTHREAD_MUTEX_RECURSIVE);
 #else
         pthread_mutexattr_settype(&mutex_attr, PTHREAD_MUTEX_RECURSIVE_NP);

