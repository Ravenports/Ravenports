# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		tree
VERSION=		2.1.0
KEYWORDS=		sysutils
VARIANTS=		standard
SDESC[standard]=	Display tree-view of directories
HOMEPAGE=		https://gitlab.com/OldManProgrammer/unix-tree
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://fossies.org/linux/misc/
DISTFILE[1]=		tree-2.1.0.tgz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gmake

LICENSE=		GPLv2+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/LICENSE
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/tree.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		sysutils/tree

post-patch:
	${REINPLACE_CMD} -e 's|__TARGET__|${PREFIX}/share/xsl/docbook/manpages|' \
		${WRKSRC}/Makefile

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/tree ${STAGEDIR}${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/doc/*.1 ${STAGEDIR}${MAN1PREFIX}/man/man1

[FILE:197:descriptions/desc.single]
Tree is a recursive directory listing command that produces a depth 
indented listing of files, which is colorized ala dircolors if the 
LS_COLORS environment variable is set and output is to tty.


[FILE:93:distinfo]
0160c535bff2b0dc6a830b9944e981e3427380f63e748da96ced7071faebabf6        59189 tree-2.1.0.tgz


[FILE:34:manifests/plist.single]
bin/tree
share/man/man1/tree.1.gz


[FILE:497:patches/patch-Makefile]
--- Makefile.orig	2022-12-26 19:15:45 UTC
+++ Makefile
@@ -33,13 +33,13 @@ OBJS=tree.o list.o hash.o color.o file.o
 
 # Linux defaults:
 #CFLAGS+=-ggdb -std=c11 -pedantic -Wall -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64
-CFLAGS+=-O3 -std=c11 -pedantic -Wall -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64
 #LDFLAGS+=-s
 
 # Uncomment for FreeBSD:
 #CC=cc
 #CFLAGS+=-O2 -Wall -fomit-frame-pointer
 #LDFLAGS+=-s
+CFLAGS+=-Wall -fomit-frame-pointer
 
 # Uncomment for OpenBSD:
 #TREE_DEST=colortree

