# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		zziplib
VERSION=		0.13.80
KEYWORDS=		devel
VARIANTS=		std
SDESC[std]=		Provide transparent read access to zipped data
HOMEPAGE=		https://github.com/gdraheim/zziplib
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/gdraheim:zziplib:v0.13.80
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			man
			docs
			tools

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		sdl1:primary:std
			xmlto:primary:std
			zip:primary:std
			bash:primary:std
EXRUN[tools]=		primary

USES=			shebangfix pkgconfig zlib cmake gmake cpe
			python:build
SDL_COMPONENTS=		sdl2

LICENSE=		LGPL20:primary MPL:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL20:{{WRKSRC}}/docs/COPYING.LIB
			MPL:{{WRKSRC}}/docs/COPYING.MPL
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/zzip/zzip.h
LICENSE_SCHEME=		dual

CPE_VENDOR=		zziplib_project
FPC_EQUIVALENT=		devel/zziplib
SHEBANG_FILES=		docs/*.py

INSTALL_TARGET=		install install-man install-docs
INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		13.0.80

CMAKE_ARGS=		-DBUILD_SHARED_LIBS:BOOL=ON
			-DZZIPSDL:BOOL=ON

post-install:
.for l in zzip zzipfseeko zzipmmapped zzipwrap
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/lib${l}-0.so
.endfor
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/*

pre-configure:
	# NetBSD mkdir doesn't recognize -v
	${REINPLACE_CMD} -e 's/mkdir -vp/mkdir -p/g' \
		${WRKSRC}/docs/CMakeLists.txt

[FILE:258:descriptions/desc.primary]
zziplib provides read access to zipped files in a zip-archive, using 
compression based solely on free algorithms provided by zlib. It also 
provides a functionality to overlay the archive filesystem with the 
filesystem of the operating system environment.


[FILE:39:descriptions/desc.tools]
This subackage provides zziplib tools.


[FILE:110:distinfo]
21f40d111c0f7a398cfee3b0a30b20c5d92124b08ea4290055fbfe7bdd53a22c      1192948 gdraheim-zziplib-0.13.80.tar.gz


[FILE:447:manifests/plist.primary]
lib/
 libzzip-0.so.%%SOMAJOR%%
 libzzip-0.so.%%SOVERSION%%
 libzzip-0.so.10
 libzzip-0.so.11
 libzzip-0.so.12
 libzzipfseeko-0.so.%%SOMAJOR%%
 libzzipfseeko-0.so.%%SOVERSION%%
 libzzipfseeko-0.so.10
 libzzipfseeko-0.so.11
 libzzipfseeko-0.so.12
 libzzipmmapped-0.so.%%SOMAJOR%%
 libzzipmmapped-0.so.%%SOVERSION%%
 libzzipmmapped-0.so.10
 libzzipmmapped-0.so.11
 libzzipmmapped-0.so.12
 libzzipwrap-0.so.%%SOMAJOR%%
 libzzipwrap-0.so.%%SOVERSION%%


[FILE:650:manifests/plist.dev]
include/
 zzip-io.h
 zzip.h
 zziplib.h
include/SDL_rwops_zzip/
 SDL_rwops_zzip.c
 SDL_rwops_zzip.h
include/zzip/
 _config.h
 _msvc.h
 cdecl.h
 conf.h
 cstdint.h
 fetch.h
 file.h
 format.h
 fseeko.h
 info.h
 lib.h
 memdisk.h
 mmapped.h
 plugin.h
 stdint.h
 types.h
 wrap.h
 write.h
 zzip.h
 zzip32.h
lib/
 libzzip-0.so
 libzzip.so
 libzzipfseeko-0.so
 libzzipfseeko.so
 libzzipmmapped-0.so
 libzzipmmapped.so
 libzzipwrap-0.so
 libzzipwrap.so
lib/cmake/zziplib/
 zziplib-config.cmake
 zziplibTargets-release.cmake
 zziplibTargets.cmake
lib/pkgconfig/
 SDL_rwops_zzip.pc
 zzipfseeko.pc
 zziplib.pc
 zzipmmapped.pc
 zzipwrap.pc
share/aclocal/zziplib.m4


[FILE:1364:manifests/plist.man]
share/man/man3/
 __zzip_fetch_disk_trailer.3
 __zzip_parse_root_directory.3
 __zzip_try_open.3
 zzip_close.3
 zzip_closedir.3
 zzip_compr_str.3
 zzip_dir_alloc.3
 zzip_dir_alloc_ext_io.3
 zzip_dir_close.3
 zzip_dir_fdopen.3
 zzip_dir_fdopen_ext_io.3
 zzip_dir_free.3
 zzip_dir_open.3
 zzip_dir_open_ext_io.3
 zzip_dir_read.3
 zzip_dir_real.3
 zzip_dir_stat.3
 zzip_dirfd.3
 zzip_dirhandle.3
 zzip_entry_data_offset.3
 zzip_entry_fclose.3
 zzip_entry_feof.3
 zzip_entry_ffile.3
 zzip_entry_findfile.3
 zzip_entry_findfirst.3
 zzip_entry_findmatch.3
 zzip_entry_findnext.3
 zzip_entry_fopen.3
 zzip_entry_fread.3
 zzip_entry_fread_file_header.3
 zzip_entry_free.3
 zzip_entry_strdup_name.3
 zzip_errno.3
 zzip_error.3
 zzip_fclose.3
 zzip_file_close.3
 zzip_file_open.3
 zzip_file_read.3
 zzip_file_real.3
 zzip_file_stat.3
 zzip_filesize.3
 zzip_filesize32.3
 zzip_fopen.3
 zzip_fread.3
 zzip_freopen.3
 zzip_fstat.3
 zzip_get_default_io.3
 zzip_inflate_init.3
 zzip_init_io.3
 zzip_io_size_off_t.3
 zzip_open.3
 zzip_open_ext_io.3
 zzip_open_shared_io.3
 zzip_opendir.3
 zzip_opendir_ext_io.3
 zzip_read.3
 zzip_readdir.3
 zzip_realdir.3
 zzip_realfd.3
 zzip_rewind.3
 zzip_rewinddir.3
 zzip_seek.3
 zzip_seek32.3
 zzip_seekdir.3
 zzip_seekdir32.3
 zzip_seterror.3
 zzip_strerror.3
 zzip_strerror_of.3
 zzip_tell.3
 zzip_tell32.3
 zzip_telldir.3
 zzip_telldir32.3


[FILE:2309:manifests/plist.docs]
share/doc/zziplib/
 64on32.html
 64on32.print.html
 COPYING.LIB
 COPYING.MPL
 COPYING.ZLIB
 ChangeLog
 README.MD
 README.MSVC6
 README.SDL
 SDL_rwops_zzcat.c
 SDL_rwops_zzip.c
 SDL_rwops_zzip.h
 changes.html
 changes.print.html
 configs.html
 configs.print.html
 copying.html
 copying.print.html
 developer.html
 developer.print.html
 download.html
 download.print.html
 faq.html
 faq.print.html
 fseeko.html
 fseeko.print.html
 functions.html
 functions.print.html
 future.html
 future.print.html
 history.html
 history.print.html
 index.html
 memdisk.html
 memdisk.print.html
 mmapped.html
 mmapped.print.html
 notes.html
 notes.print.html
 referentials.html
 referentials.print.html
 sdocbook.css
 sfx-make.html
 sfx-make.print.html
 site.html
 site.print.html
 zip-php.html
 zip-php.print.html
 zzcat.c
 zzdir.c
 zzip-api.html
 zzip-api.print.html
 zzip-basics.html
 zzip-basics.print.html
 zzip-crypt.html
 zzip-crypt.print.html
 zzip-cryptoid.html
 zzip-cryptoid.print.html
 zzip-extio.html
 zzip-extio.print.html
 zzip-extras.html
 zzip-extras.print.html
 zzip-file.html
 zzip-file.print.html
 zzip-index.html
 zzip-index.print.html
 zzip-parse.html
 zzip-parse.print.html
 zzip-sdl-rwops.html
 zzip-sdl-rwops.print.html
 zzip-xor.html
 zzip-xor.print.html
 zzip-zip.html
 zzip-zip.print.html
 zzipfseeko.html
 zziplib.html
 zzipmmapped.html
 zziptest.c
 zzobfuscated.c
 zzxorcat.c
 zzxorcopy.c
 zzxordir.c
share/doc/zziplib/man/
 __zzip_fetch_disk_trailer.3.html
 __zzip_parse_root_directory.3.html
 __zzip_try_open.3.html
 index.html
 zzip_closedir.3.html
 zzip_compr_str.3.html
 zzip_dir_alloc_ext_io.3.html
 zzip_dir_fdopen.3.html
 zzip_dir_free.3.html
 zzip_dir_open.3.html
 zzip_dir_stat.3.html
 zzip_dirhandle.3.html
 zzip_entry_data_offset.3.html
 zzip_entry_findfile.3.html
 zzip_entry_fopen.3.html
 zzip_errno.3.html
 zzip_error.3.html
 zzip_fclose.3.html
 zzip_file_close.3.html
 zzip_file_open.3.html
 zzip_file_read.3.html
 zzip_file_real.3.html
 zzip_filesize.3.html
 zzip_fopen.3.html
 zzip_inflate_init.3.html
 zzip_init_io.3.html
 zzip_io_size_off_t.3.html
 zzip_open.3.html
 zzip_opendir.3.html
 zzip_read.3.html
 zzip_readdir.3.html
 zzip_rewind.3.html
 zzip_rewinddir.3.html
 zzip_seek.3.html
 zzip_strerror.3.html
 zzip_tell.3.html
 zzipfseeko.html
 zziplib.html
 zzipmmapped.html


[FILE:105:manifests/plist.tools]
bin/
 unzip-mem
 unzzip
 unzzip-big
 unzzip-mem
 unzzip-mix
 zzcat
 zzdir
 zzxorcat
 zzxorcopy
 zzxordir


[FILE:423:patches/patch-SDL_CMakeLists.txt]
--- SDL/CMakeLists.txt.orig	2025-05-30 06:42:56 UTC
+++ SDL/CMakeLists.txt
@@ -71,7 +71,7 @@ add_custom_command(OUTPUT SDL_rwops_zzip
 add_custom_target(pkgconfig-sdl ALL DEPENDS SDL_rwops_zzip.pc)
 
 install(FILES ${CMAKE_CURRENT_BINARY_DIR}/SDL_rwops_zzip.pc
-        DESTINATION "${CMAKE_INSTALL_DATADIR}/pkgconfig" )
+        DESTINATION "${CMAKE_INSTALL_LIBDIR}/pkgconfig" )
 endif(ZZIP_PKGCONFIG)
 endif(SDL_FOUND)
 

