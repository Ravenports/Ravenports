# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		asciidoc
VERSION=		9.0.0rc2
KEYWORDS=		textproc python
VARIANTS=		standard
SDESC[standard]=	Text document format for short documents
HOMEPAGE=		https://asciidoc.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/asciidoc:asciidoc-py3:9.0.0rc2
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	docbook-xsl:primary:standard

USES=			autoreconf gmake shebangfix python
GNOME_COMPONENTS=	libxslt

LICENSE=		GPLv2+:single
LICENSE_TERMS=		single:{{WRKSRC}}/COPYRIGHT
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		textproc/asciidoc
SHEBANG_GLOB=		*.py
SHEBANG_OLD_PYTHON=	"/usr/bin/env python3"

MUST_CONFIGURE=		gnu

post-patch:
	${REINPLACE_CMD} \
		-e '/^INSTALL_PROG/ s|INSTALL_PROGRAM|INSTALL_SCRIPT|' \
		-e 's|\.conf|&.sample|' \
		-e 's|python3 |${PYTHON_CMD} |' \
		${WRKSRC}/Makefile.in
	CONF_FILES=$$(${FIND} ${WRKSRC} -name "*.conf"); \
	for conf_file in $${CONF_FILES}; do \
		${CP} $${conf_file} $${conf_file}.sample; \
	done

post-install:
	${MKDIR} ${STAGEDIR}${PYTHON_SITELIBDIR}/
	${INSTALL_DATA} ${WRKSRC}/asciidocapi.py ${STAGEDIR}${PYTHON_SITELIBDIR}/

[FILE:192:descriptions/desc.single]
AsciiDoc is a text document format for writing short documents, articles,
books and UNIX man pages. AsciiDoc files can be translated to HTML and
DocBook markups using the asciidoc(1) command.


[FILE:116:distinfo]
ae4730dccaa9d5026e7d7f1bccc0cb28ebfc71e62f10151082e8a00d90708cbb      1145229 asciidoc-asciidoc-py3-9.0.0rc2.tar.gz


[FILE:2680:manifests/plist.single]
@sample etc/asciidoc/asciidoc.conf.sample
@sample etc/asciidoc/docbook45.conf.sample
@sample etc/asciidoc/docbook5.conf.sample
@sample etc/asciidoc/filters/code/code-filter.conf.sample
@sample etc/asciidoc/filters/graphviz/graphviz-filter.conf.sample
@sample etc/asciidoc/filters/latex/latex-filter.conf.sample
@sample etc/asciidoc/filters/music/music-filter.conf.sample
@sample etc/asciidoc/filters/source/source-highlight-filter.conf.sample
@sample etc/asciidoc/help.conf.sample
@sample etc/asciidoc/html4.conf.sample
@sample etc/asciidoc/html5.conf.sample
@sample etc/asciidoc/lang-ca.conf.sample
@sample etc/asciidoc/lang-cs.conf.sample
@sample etc/asciidoc/lang-de.conf.sample
@sample etc/asciidoc/lang-el.conf.sample
@sample etc/asciidoc/lang-en.conf.sample
@sample etc/asciidoc/lang-es.conf.sample
@sample etc/asciidoc/lang-fi.conf.sample
@sample etc/asciidoc/lang-fr.conf.sample
@sample etc/asciidoc/lang-hu.conf.sample
@sample etc/asciidoc/lang-id.conf.sample
@sample etc/asciidoc/lang-it.conf.sample
@sample etc/asciidoc/lang-ja.conf.sample
@sample etc/asciidoc/lang-nl.conf.sample
@sample etc/asciidoc/lang-pl.conf.sample
@sample etc/asciidoc/lang-pt-BR.conf.sample
@sample etc/asciidoc/lang-ro.conf.sample
@sample etc/asciidoc/lang-ru.conf.sample
@sample etc/asciidoc/lang-sv.conf.sample
@sample etc/asciidoc/lang-uk.conf.sample
@sample etc/asciidoc/latex.conf.sample
@sample etc/asciidoc/slidy.conf.sample
@sample etc/asciidoc/text.conf.sample
@sample etc/asciidoc/xhtml11-quirks.conf.sample
@sample etc/asciidoc/xhtml11.conf.sample
%%PYTHON_SITELIBDIR%%/asciidocapi.py
bin/
 a2x
 a2x.py
 asciidoc
 asciidoc.py
etc/asciidoc/lang-zh-CN.conf.sample
etc/asciidoc/dblatex/
 asciidoc-dblatex.sty
 asciidoc-dblatex.xsl
etc/asciidoc/docbook-xsl/
 chunked.xsl
 common.xsl
 epub.xsl
 fo.xsl
 htmlhelp.xsl
 manpage.xsl
 text.xsl
 xhtml.xsl
etc/asciidoc/filters/unwraplatex.py
etc/asciidoc/filters/code/code-filter.py
etc/asciidoc/filters/graphviz/graphviz2png.py
etc/asciidoc/filters/latex/latex2img.py
etc/asciidoc/filters/music/music2png.py
etc/asciidoc/images/icons/
 README
 caution.png
 example.png
 home.png
 important.png
 next.png
 note.png
 prev.png
 tip.png
 up.png
 warning.png
etc/asciidoc/images/icons/callouts/
 1.png
 10.png
 11.png
 12.png
 13.png
 14.png
 15.png
 2.png
 3.png
 4.png
 5.png
 6.png
 7.png
 8.png
 9.png
etc/asciidoc/javascripts/
 ASCIIMathML.js
 LaTeXMathML.js
 asciidoc.js
 slidy.js
 toc.js
etc/asciidoc/stylesheets/
 asciidoc.css
 docbook-xsl.css
 pygments.css
 slidy.css
 toc2.css
 xhtml11-quirks.css
etc/asciidoc/themes/flask/flask.css
etc/asciidoc/themes/volnitsky/volnitsky.css
share/man/man1/
 a2x.1.gz
 asciidoc.1.gz
 testasciidoc.1.gz


[FILE:469:patches/patch-docbook-xsl_manpage.xsl]
--- docbook-xsl/manpage.xsl.orig	2020-03-12 00:31:53 UTC
+++ docbook-xsl/manpage.xsl
@@ -9,7 +9,7 @@
   a machine by machine basis.
 -->
 <xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
-<xsl:import href="http://docbook.sourceforge.net/release/xsl/current/manpages/docbook.xsl"/>
+<xsl:import href="http://cdn.docbook.org/release/xsl/current/manpages/docbook.xsl"/>
 <xsl:import href="common.xsl"/>
 
 <!-- Only render the link text -->

