# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libfm-qt
VERSION=		1.3.0
KEYWORDS=		x11
VARIANTS=		standard
SDESC[standard]=	Core library of PCManFM-Qt file manager
HOMEPAGE=		https://lxqt.github.io/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://github.com/lxqt/libfm-qt/releases/download/1.3.0/
DISTFILE[1]=		libfm-qt-1.3.0.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			dev
			lang

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		qt5-qttools:single:standard
			lxqt-build-tools:single:standard
BUILDRUN_DEPENDS=	menu-cache:single:standard
			libexif:primary:standard
			qt5-qtbase:primary:standard
			qt5-qtx11extras:single:standard

USES=			cmake pkgconfig mime-info:primary perl:build
GNOME_COMPONENTS=	glib
XORG_COMPONENTS=	x11 xcb

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/LICENSE
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/libfmqt.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		x11/libfm-qt

SOVERSION=		13.0.0

CMAKE_ARGS=		-DCMAKE_PREFIX_PATH:PATH="{{PREFIX}}/lib/qt5/cmake/"
VAR_OPSYS[netbsd]=	LDFLAGS=-pthread

post-install:
	${RM} -r ${STAGEDIR}${PREFIX}/include/libfm-qt/tests
	${RMDIR} ${STAGEDIR}${PREFIX}/include/libfm-qt/translations
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/lib*.so

[FILE:119:descriptions/desc.primary]
libfm-qt is the Qt port of libfm, a library providing components to build
desktop file managers which belongs to LXDE.


[FILE:100:distinfo]
1d55f7fede34896d2597d69d8b8404dbb47eb4eb07059109f7c5f668b85c59e6       388256 libfm-qt-1.3.0.tar.xz


[FILE:148:manifests/plist.primary]
lib/
 libfm-qt.so.%%SOMAJOR%%
 libfm-qt.so.%%SOVERSION%%
share/libfm-qt/
 archivers.list
 terminals.list
share/mime/packages/libfm-qt-mimetypes.xml


[FILE:1882:manifests/plist.dev]
include/libfm-qt/
 appchoosercombobox.h
 appchooserdialog.h
 applaunchcontext.h
 appmenuview.h
 appmenuview_p.h
 bookmarkaction.h
 browsehistory.h
 cachedfoldermodel.h
 colorbutton.h
 createnewmenu.h
 customaction_p.h
 dirtreemodel.h
 dirtreemodelitem.h
 dirtreeview.h
 dndactionmenu.h
 dnddest.h
 editbookmarksdialog.h
 execfiledialog_p.h
 filedialog.h
 filedialog_p.h
 filedialoghelper.h
 filelauncher.h
 filemenu.h
 filemenu_p.h
 fileoperation.h
 fileoperationdialog.h
 fileoperationdialog_p.h
 filepropsdialog.h
 filesearchdialog.h
 fm-qt_export.h
 fm-search.h
 folderitemdelegate.h
 foldermenu.h
 foldermodel.h
 foldermodelitem.h
 folderview.h
 folderview_p.h
 fontbutton.h
 libfmqt.h
 libfmqtglobals.h
 mountoperation.h
 mountoperationpassworddialog_p.h
 mountoperationquestiondialog_p.h
 pathbar.h
 pathbar_p.h
 pathedit.h
 pathedit_p.h
 placesmodel.h
 placesmodelitem.h
 placesview.h
 proxyfoldermodel.h
 renamedialog.h
 sidepane.h
 utilities.h
 utilities_p.h
 xdndworkaround.h
include/libfm-qt/core/
 archiver.h
 basicfilelauncher.h
 bookmarks.h
 cstrptr.h
 deletejob.h
 dirlistjob.h
 filechangeattrjob.h
 fileinfo.h
 fileinfo_p.h
 fileinfojob.h
 filelinkjob.h
 filemonitor.h
 fileoperationjob.h
 filepath.h
 filesysteminfojob.h
 filetransferjob.h
 folder.h
 folderconfig.h
 gioptrs.h
 gobjectptr.h
 iconinfo.h
 iconinfo_p.h
 job.h
 job_p.h
 mimetype.h
 templates.h
 terminal.h
 thumbnailer.h
 thumbnailjob.h
 totalsizejob.h
 trashjob.h
 untrashjob.h
 userinfocache.h
 volumemanager.h
include/libfm-qt/core/legacy/
 fm-app-info.h
 fm-config.h
 glib-compat.h
include/libfm-qt/core/vfs/
 fm-file.h
 fm-xml-file.h
include/libfm-qt/customactions/
 fileaction.h
 fileactioncondition.h
 fileactionprofile.h
lib/libfm-qt.so
lib/pkgconfig/libfm-qt.pc
share/cmake/fm-qt/
 fm-qt-config-version.cmake
 fm-qt-config.cmake
 fm-qt-targets-%%CMAKE_BUILD_TYPE%%.cmake
 fm-qt-targets.cmake


[FILE:686:manifests/plist.lang]
share/libfm-qt/translations/
 libfm-qt_ar.qm
 libfm-qt_arn.qm
 libfm-qt_ast.qm
 libfm-qt_bg.qm
 libfm-qt_ca.qm
 libfm-qt_cs.qm
 libfm-qt_cy.qm
 libfm-qt_da.qm
 libfm-qt_de.qm
 libfm-qt_el.qm
 libfm-qt_en_GB.qm
 libfm-qt_es.qm
 libfm-qt_et.qm
 libfm-qt_fr.qm
 libfm-qt_gl.qm
 libfm-qt_he.qm
 libfm-qt_hi.qm
 libfm-qt_hr.qm
 libfm-qt_hu.qm
 libfm-qt_id.qm
 libfm-qt_it.qm
 libfm-qt_ja.qm
 libfm-qt_kk.qm
 libfm-qt_ko.qm
 libfm-qt_lt.qm
 libfm-qt_lv.qm
 libfm-qt_nb_NO.qm
 libfm-qt_nl.qm
 libfm-qt_or.qm
 libfm-qt_pl.qm
 libfm-qt_pt.qm
 libfm-qt_pt_BR.qm
 libfm-qt_ru.qm
 libfm-qt_si.qm
 libfm-qt_sk.qm
 libfm-qt_sl.qm
 libfm-qt_tr.qm
 libfm-qt_uk.qm
 libfm-qt_zh_CN.qm
 libfm-qt_zh_TW.qm


[FILE:539:patches/patch-src_CMakeLists.txt]
--- src/CMakeLists.txt.orig	2023-04-15 15:07:33 UTC
+++ src/CMakeLists.txt
@@ -229,7 +229,7 @@ set(REQUIRED_QT "Qt5Widgets >= ${QT_MINI
 configure_file(libfm-qt.pc.in lib${LIBFM_QT_LIBRARY_NAME}.pc @ONLY)
 # FreeBSD loves to install files to different locations
 # https://www.freebsd.org/doc/handbook/dirstructure.html
-if(${CMAKE_SYSTEM_NAME} STREQUAL "FreeBSD")
+if(${CMAKE_SYSTEM_NAME} STREQUAL "nosystem")
     install(FILES
         "${CMAKE_CURRENT_BINARY_DIR}/lib${LIBFM_QT_LIBRARY_NAME}.pc"
         DESTINATION libdata/pkgconfig

