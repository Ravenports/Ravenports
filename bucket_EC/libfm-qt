# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libfm-qt
VERSION=		2.1.0
KEYWORDS=		x11
VARIANTS=		std
SDESC[std]=		Core library of PCManFM-Qt file manager
HOMEPAGE=		https://lxqt.github.io/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://github.com/lxqt/libfm-qt/releases/download/2.1.0/
DISTFILE[1]=		libfm-qt-2.1.0.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			lang

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		lxqt-build-tools:single:std
			qt6-qtbase:dev:std
			qt6-qttools:set:std
			libexif:dev:std
BUILDRUN_DEPENDS=	libexif:primary:std
			lxqt-menu-data:single:std
			menu-cache:single:std
			qt6-qtbase:primary:std

USES=			cmake pkgconfig mime-info:primary perl:build
GNOME_COMPONENTS=	glib
XORG_COMPONENTS=	x11 xcb

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/LICENSE
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/libfmqt.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		x11/libfm-qt

SOVERSION=		15.0.0

LDFLAGS=		-pthread
CMAKE_ARGS=		-DCMAKE_PREFIX_PATH:PATH="{{PREFIX}}/lib/qt6/cmake/"

post-install:
	${RM} -r ${STAGEDIR}${PREFIX}/include/libfm-qt6/tests
	${RMDIR} ${STAGEDIR}${PREFIX}/include/libfm-qt6/translations
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/lib*.so

[FILE:119:descriptions/desc.primary]
libfm-qt is the Qt port of libfm, a library providing components to build
desktop file managers which belongs to LXDE.


[FILE:100:distinfo]
bfa03ee1d8ae9e50f33b31d50a5cb0ffbca5e6d6f5dd3a0df04c8300fc1a29d7       418828 libfm-qt-2.1.0.tar.xz


[FILE:152:manifests/plist.primary]
lib/
 libfm-qt6.so.%%SOMAJOR%%
 libfm-qt6.so.%%SOVERSION%%
share/libfm-qt6/
 archivers.list
 terminals.list
share/mime/packages/libfm-qt6-mimetypes.xml


[FILE:1882:manifests/plist.dev]
include/libfm-qt6/
 appchoosercombobox.h
 appchooserdialog.h
 applaunchcontext.h
 appmenuview.h
 appmenuview_p.h
 bookmarkaction.h
 browsehistory.h
 cachedfoldermodel.h
 colorbutton.h
 createnewmenu.h
 customaction_p.h
 dirtreemodel.h
 dirtreemodelitem.h
 dirtreeview.h
 dndactionmenu.h
 dnddest.h
 editbookmarksdialog.h
 execfiledialog_p.h
 filedialog.h
 filedialog_p.h
 filedialoghelper.h
 filelauncher.h
 filemenu.h
 filemenu_p.h
 fileoperation.h
 fileoperationdialog.h
 fileoperationdialog_p.h
 filepropsdialog.h
 filesearchdialog.h
 fm-qt6_export.h
 fm-search.h
 folderitemdelegate.h
 foldermenu.h
 foldermodel.h
 foldermodelitem.h
 folderview.h
 folderview_p.h
 fontbutton.h
 libfmqt.h
 libfmqtglobals.h
 mountoperation.h
 mountoperationpassworddialog_p.h
 mountoperationquestiondialog_p.h
 pathbar.h
 pathbar_p.h
 pathedit.h
 pathedit_p.h
 placesmodel.h
 placesmodelitem.h
 placesview.h
 proxyfoldermodel.h
 renamedialog.h
 sidepane.h
 utilities.h
 utilities_p.h
 xdndworkaround.h
include/libfm-qt6/core/
 archiver.h
 basicfilelauncher.h
 bookmarks.h
 cstrptr.h
 deletejob.h
 dirlistjob.h
 filechangeattrjob.h
 fileinfo.h
 fileinfo_p.h
 fileinfojob.h
 filelinkjob.h
 filemonitor.h
 fileoperationjob.h
 filepath.h
 filesysteminfojob.h
 filetransferjob.h
 folder.h
 folderconfig.h
 gioptrs.h
 gobjectptr.h
 iconinfo.h
 iconinfo_p.h
 job.h
 job_p.h
 mimetype.h
 templates.h
 terminal.h
 thumbnailer.h
 thumbnailjob.h
 totalsizejob.h
 trashjob.h
 untrashjob.h
 userinfocache.h
 volumemanager.h
include/libfm-qt6/core/legacy/
 fm-app-info.h
 fm-config.h
 glib-compat.h
include/libfm-qt6/core/vfs/
 fm-file.h
 fm-xml-file.h
include/libfm-qt6/customactions/
 fileaction.h
 fileactioncondition.h
 fileactionprofile.h
lib/libfm-qt6.so
lib/pkgconfig/libfm-qt6.pc
share/cmake/fm-qt6/
 fm-qt6-config-version.cmake
 fm-qt6-config.cmake
 fm-qt6-targets-release.cmake
 fm-qt6-targets.cmake


[FILE:784:manifests/plist.lang]
share/libfm-qt6/translations/
 libfm-qt_ar.qm
 libfm-qt_arn.qm
 libfm-qt_ast.qm
 libfm-qt_bg.qm
 libfm-qt_ca.qm
 libfm-qt_cs.qm
 libfm-qt_cy.qm
 libfm-qt_da.qm
 libfm-qt_de.qm
 libfm-qt_el.qm
 libfm-qt_en_GB.qm
 libfm-qt_es.qm
 libfm-qt_et.qm
 libfm-qt_eu.qm
 libfm-qt_fi.qm
 libfm-qt_fr.qm
 libfm-qt_fur.qm
 libfm-qt_gl.qm
 libfm-qt_he.qm
 libfm-qt_hi.qm
 libfm-qt_hr.qm
 libfm-qt_hu.qm
 libfm-qt_id.qm
 libfm-qt_ie.qm
 libfm-qt_it.qm
 libfm-qt_ja.qm
 libfm-qt_kk.qm
 libfm-qt_ko.qm
 libfm-qt_lg.qm
 libfm-qt_lt.qm
 libfm-qt_lv.qm
 libfm-qt_nb_NO.qm
 libfm-qt_nl.qm
 libfm-qt_or.qm
 libfm-qt_pa.qm
 libfm-qt_pl.qm
 libfm-qt_pt.qm
 libfm-qt_pt_BR.qm
 libfm-qt_ru.qm
 libfm-qt_si.qm
 libfm-qt_sk.qm
 libfm-qt_sl.qm
 libfm-qt_tr.qm
 libfm-qt_uk.qm
 libfm-qt_zh_CN.qm
 libfm-qt_zh_TW.qm


[FILE:539:patches/patch-src_CMakeLists.txt]
--- src/CMakeLists.txt.orig	2024-11-05 05:16:30 UTC
+++ src/CMakeLists.txt
@@ -228,7 +228,7 @@ set(REQUIRED_QT "Qt6Widgets >= ${QT_MINI
 configure_file(libfm-qt.pc.in lib${LIBFM_QT_LIBRARY_NAME}.pc @ONLY)
 # FreeBSD loves to install files to different locations
 # https://www.freebsd.org/doc/handbook/dirstructure.html
-if(${CMAKE_SYSTEM_NAME} STREQUAL "FreeBSD")
+if(${CMAKE_SYSTEM_NAME} STREQUAL "nosystem")
     install(FILES
         "${CMAKE_CURRENT_BINARY_DIR}/lib${LIBFM_QT_LIBRARY_NAME}.pc"
         DESTINATION libdata/pkgconfig

