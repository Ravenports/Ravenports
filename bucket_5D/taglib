# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		taglib
VERSION=		2.0.1
KEYWORDS=		audio
VARIANTS=		std
SDESC[std]=		Library for reading and editing audio meta data
HOMEPAGE=		https://taglib.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://taglib.org/releases/
DISTFILE[1]=		taglib-2.0.1.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		utf8cpp:single:std

USES=			cmake cpe c++:primary zlib

LICENSE=		LGPL21:primary MPL:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21:{{WRKSRC}}/COPYING.LGPL
			MPL:{{WRKSRC}}/COPYING.MPL
LICENSE_AWK=		TERMS:"TAGLIB_H"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/taglib/toolkit/taglib.h
LICENSE_SCHEME=		dual

CPE_VENDOR=		scott_wheeler
FPC_EQUIVALENT=		audio/taglib

SOVERSION=		2.0.1

CXXFLAGS=		-I{{LOCALBASE}}/include/utf8cpp
CMAKE_ARGS=		-DWITH_ASF:BOOL=ON
			-DWITH_MP4:BOOL=ON
			-DBUILD_SHARED_LIBS:BOOL=ON

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/lib*.so

[FILE:253:descriptions/desc.primary]
TagLib is a library for reading and editing the meta-data of several
popular audio formats. Currently it supports both ID3v1 and ID3v2 for MP3
files, Ogg Vorbis comments and ID3 tags and Vorbis comments in FLAC, MPC,
Speex, WavPack and TrueAudio files.


[FILE:98:distinfo]
08c0a27b96aa5c4e23060fe0b6f93102ee9091a9385257b9d0ddcf467de0d925      1432624 taglib-2.0.1.tar.gz


[FILE:105:manifests/plist.primary]
lib/
 libtag.so.%%SOMAJOR%%
 libtag.so.%%SOVERSION%%
 libtag_c.so.%%SOMAJOR%%
 libtag_c.so.%%SOVERSION%%


[FILE:1973:manifests/plist.dev]
bin/taglib-config
include/taglib/
 aifffile.h
 aiffproperties.h
 apefile.h
 apefooter.h
 apeitem.h
 apeproperties.h
 apetag.h
 asfattribute.h
 asffile.h
 asfpicture.h
 asfproperties.h
 asftag.h
 attachedpictureframe.h
 audioproperties.h
 chapterframe.h
 commentsframe.h
 dsdiffdiintag.h
 dsdifffile.h
 dsdiffproperties.h
 dsffile.h
 dsfproperties.h
 eventtimingcodesframe.h
 fileref.h
 flacfile.h
 flacmetadatablock.h
 flacpicture.h
 flacproperties.h
 generalencapsulatedobjectframe.h
 id3v1genres.h
 id3v1tag.h
 id3v2.h
 id3v2extendedheader.h
 id3v2footer.h
 id3v2frame.h
 id3v2framefactory.h
 id3v2header.h
 id3v2synchdata.h
 id3v2tag.h
 infotag.h
 itfile.h
 itproperties.h
 modfile.h
 modfilebase.h
 modproperties.h
 modtag.h
 mp4atom.h
 mp4coverart.h
 mp4file.h
 mp4item.h
 mp4itemfactory.h
 mp4properties.h
 mp4tag.h
 mpcfile.h
 mpcproperties.h
 mpegfile.h
 mpegheader.h
 mpegproperties.h
 oggfile.h
 oggflacfile.h
 oggpage.h
 oggpageheader.h
 opusfile.h
 opusproperties.h
 ownershipframe.h
 podcastframe.h
 popularimeterframe.h
 privateframe.h
 relativevolumeframe.h
 rifffile.h
 s3mfile.h
 s3mproperties.h
 speexfile.h
 speexproperties.h
 synchronizedlyricsframe.h
 tableofcontentsframe.h
 tag.h
 tag_c.h
 taglib.h
 taglib_export.h
 tbytevector.h
 tbytevectorlist.h
 tbytevectorstream.h
 tdebuglistener.h
 textidentificationframe.h
 tfile.h
 tfilestream.h
 tiostream.h
 tlist.h
 tlist.tcc
 tmap.h
 tmap.tcc
 tpicturetype.h
 tpropertymap.h
 trueaudiofile.h
 trueaudioproperties.h
 tstring.h
 tstringlist.h
 tvariant.h
 tversionnumber.h
 uniquefileidentifierframe.h
 unknownframe.h
 unsynchronizedlyricsframe.h
 urllinkframe.h
 vorbisfile.h
 vorbisproperties.h
 wavfile.h
 wavpackfile.h
 wavpackproperties.h
 wavproperties.h
 xingheader.h
 xiphcomment.h
 xmfile.h
 xmproperties.h
lib/
 libtag.so
 libtag_c.so
lib/cmake/taglib/
 taglib-config-version.cmake
 taglib-config.cmake
 taglib-targets-release.cmake
 taglib-targets.cmake
lib/pkgconfig/
 taglib.pc
 taglib_c.pc


[FILE:1386:patches/patch-CMakeLists.txt]
--- CMakeLists.txt.orig	2024-04-09 17:55:08 UTC
+++ CMakeLists.txt
@@ -148,35 +148,6 @@ if(TRACE_IN_RELEASE)
   set(TRACE_IN_RELEASE TRUE)
 endif()
 
-find_package(utf8cpp QUIET)
-if(utf8cpp_FOUND)
-  message(STATUS "Using utfcpp ${utf8cpp_VERSION} from ${utf8cpp_CONFIG}")
-else()
-  find_path(utf8cpp_INCLUDE_DIR NAMES utf8.h PATH_SUFFIXES utf8cpp
-            DOC "utf8cpp include directory")
-  mark_as_advanced(utf8cpp_INCLUDE_DIR)
-  include(FindPackageHandleStandardArgs)
-  find_package_handle_standard_args(utf8cpp REQUIRED_VARS utf8cpp_INCLUDE_DIR)
-  if(utf8cpp_FOUND)
-    set(utf8cpp_INCLUDE_DIRS "${utf8cpp_INCLUDE_DIR}")
-    if(NOT TARGET utf8::cpp)
-      add_library(utf8::cpp INTERFACE IMPORTED)
-      set_target_properties(utf8::cpp PROPERTIES
-        INTERFACE_INCLUDE_DIRECTORIES "${utf8cpp_INCLUDE_DIR}")
-    endif()
-    message(STATUS "Using utfcpp from ${utf8cpp_INCLUDE_DIR}")
-  else()
-    if(EXISTS ${CMAKE_CURRENT_SOURCE_DIR}/3rdparty/utfcpp/CMakeLists.txt)
-      add_subdirectory("3rdparty/utfcpp")
-      message(STATUS "Using utfcpp from ${utf8cpp_SOURCE_DIR}")
-    else()
-      message(FATAL_ERROR
-        "utfcpp not found. Either install package (probably utfcpp, utf8cpp, or libutfcpp-dev) "
-        "or fetch the git submodule using\n"
-        "git submodule update --init")
-    endif()
-  endif()
-endif()
 
 add_subdirectory(taglib)
 

