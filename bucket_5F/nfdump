# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		nfdump
VERSION=		1.6.23
KEYWORDS=		net_mgmt
VARIANTS=		standard
SDESC[standard]=	Tools to collect and process netflow data
HOMEPAGE=		https://github.com/phaag/nfdump
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/phaag:nfdump:v1.6.23
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	rrdtool:primary:standard
			libpcap:single:standard

USES=			cpe autoreconf libtool pkgconfig

LICENSE=		BSD3CLAUSE:single
LICENSE_FILE=		BSD3CLAUSE:{{WRKSRC}}/BSD-license.txt
LICENSE_SCHEME=		solo

CPE_VENDOR=		nfdump_project
FPC_EQUIVALENT=		net-mgmt/nfdump

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-rrdpath={{LOCALBASE}}
			--enable-nftrack
			--enable-readpcap
			--enable-nfpcapd
			--enable-sflow
			--enable-nfprofile
			--enable-fixtimebug
			--enable-nsel
			--disable-influxdb
			--disable-compat15

SINGLE_JOB=		yes

INSTALL_TARGET=		install-strip
PLIST_SUB=		VERSION=1.6.23

post-patch:
	${REINPLACE_CMD} 's|-ggdb||' ${WRKSRC}/bin/Makefile.am

[FILE:735:descriptions/desc.single]
NFDUMP tools support netflow v5, v7 and v9 capturing and processing.

nfcapd - netflow capture daemon.
Reads the netflow data from the network and stores the data into files.

nfdump - netflow dump.
Reads the netflow data from the files stored by nfcapd. It's syntax is
similar to tcpdump. If you like tcpdump you will like nfdump.

nfprofile - netflow profiler.
Reads the netflow data from the files stored by nfcapd. Filters the netflow
data according to the specified filter sets (profiles) and stores the
filtered data into files for later use.

nfreplay - netflow replay.
Reads the netflow data from the files stored by nfcapd and sends it over
the network to another host.

ft2nfdump - flow-tools to nfdump - optional component.


[FILE:105:distinfo]
8c5a7959e66bb90fcbd8ad508933a14ebde4ccf7f4ae638d8f18c9473c63af33       568879 phaag-nfdump-1.6.23.tar.gz


[FILE:274:manifests/plist.single]
bin/
 nfanon
 nfcapd
 nfdump
 nfexpire
 nfpcapd
 nfprofile
 nfreplay
 nftrack
 sfcapd
lib/
 libnfdump-%%VERSION%%.so
 libnfdump.a
 libnfdump.so
share/man/man1/
 ft2nfdump.1.gz
 nfanon.1.gz
 nfcapd.1.gz
 nfdump.1.gz
 nfexpire.1.gz
 nfprofile.1.gz
 nfreplay.1.gz
 sfcapd.1.gz


[FILE:242:patches/patch-bin_ipfrag.c]
--- bin/ipfrag.c.orig	2021-05-06 15:52:39 UTC
+++ bin/ipfrag.c
@@ -37,6 +37,7 @@
 #include <string.h>
 #include <errno.h>
 #include <sys/types.h>
+#include <sys/socket.h>
 #ifdef HAVE_NETINET_IN_SYSTM_H
 #include <netinet/in_systm.h>
 #endif

