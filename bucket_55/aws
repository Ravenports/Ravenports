# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		aws
VERSION=		23.0.0
KEYWORDS=		www ada
VARIANTS=		standard
SDESC[standard]=	Adacore Ada Web Server and framework
HOMEPAGE=		https://github.com/AdaCore/aws
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main tparser
SITES[main]=		GITHUB/adacore:aws:v23.0.0
SITES[tparser]=		GITHUB/adacore:templates-parser:7b0d0f5:templates_parser
DISTFILE[1]=		generated:main
DISTFILE[2]=		generated:tparser
DF_INDEX=		1 2
SPKGS[standard]=	complete
			primary
			examples
			docs

OPTIONS_AVAILABLE=	SHARED IPV6 DEBUG
OPTIONS_STANDARD=	SHARED IPV6 DEBUG
OPT_ON[all]=		SHARED

BUILD_DEPENDS=		python-Sphinx:single:python_default
BUILDRUN_DEPENDS=	xmlada:primary:standard
			gnatcoll-core:primary:standard

USES=			ada:primary gmake gprbuild python:py27,build
			shebangfix ssl

LICENSE=		GPLv3+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING3
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/core/aws.ads
LICENSE_SCHEME=		solo

SHEBANG_FILES=		tools/awsascb

MUST_CONFIGURE=		yes
CONFIGURE_ARGS=		prefix={{PREFIX}}
			DEFAULT_LIBRARY_TYPE=static
			PROCESSORS={{MAKE_JOBS_NUMBER}}
			GCC=ada
			PYTHON=python{{PYTHON_VER}}
			XMLADA=true
			SOCKET=openssl
			LPATH={{OPENSSLLIB}}
			ZLIB=false
			ASIS=false
			CFLAGS=-I{{OPENSSLINC}}

INSTALL_REQ_TOOLCHAIN=	yes

[DEBUG].CONFIGURE_ARGS_ON=		DEBUG=true

[IPV6].DESCRIPTION=			Support IPv6 instead of IPv4
[IPV6].CONFIGURE_ARGS_OFF=		NETLIB=ipv4
[IPV6].CONFIGURE_ARGS_ON=		NETLIB=ipv6
[IPV6].MAKEFILE_OFF=			NAME_IP6=--
					NAME_IP4=
[IPV6].MAKEFILE_ON=			NAME_IP6=
					NAME_IP4=--

[SHARED].DESCRIPTION=			Build shared libraries in addition to static ones
[SHARED].CONFIGURE_ARGS_OFF=		ENABLE_SHARED=false
[SHARED].CONFIGURE_ARGS_ON=		ENABLE_SHARED=true

post-patch:
	${REINPLACE_CMD} \
		-e 's|@ADDITIONAL_RPATH@|${LOCALBASE}/lib:${OPENSSLLIB}|' \
		${WRKSRC}/aws.gpr \
		${WRKSRC}/src/src.gpr \
		${WRKSRC}/include/include.gpr
	${REINPLACE_CMD} -e 's|latexpdf||' ${WRKSRC}/Makefile
	${REINPLACE_CMD} -e 's|GPROPTS = |GPROPTS = -v |' ${WRKSRC}/Makefile

do-build:
	# We cannot use a redefined BUILD_TARGET because MAKE_JOBS_SAFE is set
	# for PROCESSORS, but that also sets -j for gmake which breaks build
	(cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} \
		${MAKE_CMD} ${MAKE_ARGS} build build-doc)

post-install-SHARED-ON:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/aws.relocatable/libaws.so

post-install:
	${RM} -r ${STAGEDIR}${PREFIX}/share/gpr/manifests
	${RM} ${STAGEDIR}${PREFIX}/include/aws.relocatable/Makefile
	${RM} ${STAGEDIR}${PREFIX}/include/aws.static/Makefile
	${MKDIR} ${STAGEDIR}${PREFIX}/share/gpr \
		${STAGEDIR}${PREFIX}/share/gps/plug-ins
	cd ${WRKSRC}/gps && ${INSTALL_DATA} *.xml aws.py \
		${STAGEDIR}${PREFIX}/share/gps/plug-ins
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/[tw]*
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/a[dw][as][2_r]*

do-configure:
	(cd ${WRKSRC} && ${SETENV} ${CONFIGURE_ENV} \
		${MAKE_CMD} setup ${CONFIGURE_ARGS})

do-test:
	(cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} \
		GPR_PROJECT_PATH="${STAGEDIR}${PREFIX}/share/gpr:${LOCALBASE}/share/gpr" \
		${MAKE_CMD} ${CONFIGURE_ARGS} run_regtests)

[FILE:1035:descriptions/desc.primary]
AWS stands for Ada Web Server, but it is more than just another webserver...

AWS is a complete framework to develop web based applications.  The main
part of the framework is the embedded web server.  This small yet powerful
web server can be embedded into your application so your application will be
able to talk with a standard web browser such as Microsoft Internet Explorer
or Netscape Communicator.  Around this web server, a lot of services have
been developed.

The framework includes:
  * seb parameters module         * session server
  * SOAP support                  * WSDL generation from Ada
  * template parser               * AJAX support
  * HTTPS/SSL support             * large server support
  * virtual hosting support       * server push
  * directory browser             * status page
  * log module                    * hotplug module
  * light communications API      * configuration API
  * client API                    * web page service
  * SMTP support                  * LDAP support
  * Jabber support


[FILE:222:distinfo]
c63cec91ddf6ac55382f27e31ccd2dc17aabd7c713a70e39e2dab257a77d832c      2390842 adacore-aws-23.0.0.tar.gz
33e9fd2b08d1bd80cbc3ca146cc969ce5953a8992acf99ede2e3ddae4761b912       224466 adacore-templates-parser-7b0d0f5.tar.gz


[FILE:29113:manifests/plist.primary]
%%IPV6-OFF%%%%SHARED-ON%%include/aws.relocatable/aws-net-std__ipv4.adb
%%IPV6-OFF%%%%SHARED-ON%%lib/aws.relocatable/aws-net-std__ipv4.ali
%%IPV6-OFF%%include/aws.static/aws-net-std__ipv4.adb
%%IPV6-OFF%%lib/aws.static/aws-net-std__ipv4.ali
%%IPV6-ON%%%%SHARED-ON%%include/aws.relocatable/aws-net-std__ipv6.adb
%%IPV6-ON%%%%SHARED-ON%%lib/aws.relocatable/aws-net-std__ipv6.ali
%%IPV6-ON%%include/aws.static/aws-net-std__ipv6.adb
%%IPV6-ON%%lib/aws.static/aws-net-std__ipv6.ali
%%SHARED-ON%%include/aws.relocatable/
 aws-attachments.adb
 aws-attachments.ads
 aws-client-hotplug.adb
 aws-client-hotplug.ads
 aws-client-http_utils.adb
 aws-client-http_utils.ads
 aws-client-xml-input_sources.adb
 aws-client-xml-input_sources.ads
 aws-client-xml.ads
 aws-client.adb
 aws-client.ads
 aws-communication-client.adb
 aws-communication-client.ads
 aws-communication-server.adb
 aws-communication-server.ads
 aws-communication.adb
 aws-communication.ads
 aws-config-ini.adb
 aws-config-ini.ads
 aws-config-set.adb
 aws-config-set.ads
 aws-config-utils.adb
 aws-config-utils.ads
 aws-config.adb
 aws-config.ads
 aws-containers-key_value.ads
 aws-containers-memory_streams.ads
 aws-containers-string_vectors.ads
 aws-containers-tables-set.ads
 aws-containers-tables.adb
 aws-containers-tables.ads
 aws-containers.ads
 aws-cookie.adb
 aws-cookie.ads
 aws-default.ads
 aws-digest.adb
 aws-digest.ads
 aws-dispatchers-callback.adb
 aws-dispatchers-callback.ads
 aws-dispatchers.adb
 aws-dispatchers.ads
 aws-exceptions.ads
 aws-headers-set.adb
 aws-headers-set.ads
 aws-headers-values.adb
 aws-headers-values.ads
 aws-headers.adb
 aws-headers.ads
 aws-hotplug-get_status.adb
 aws-hotplug-get_status.ads
 aws-hotplug.adb
 aws-hotplug.ads
 aws-http2-connection.adb
 aws-http2-connection.ads
 aws-http2-frame-continuation.adb
 aws-http2-frame-continuation.ads
 aws-http2-frame-data.adb
 aws-http2-frame-data.ads
 aws-http2-frame-goaway.adb
 aws-http2-frame-goaway.ads
 aws-http2-frame-headers.adb
 aws-http2-frame-headers.ads
 aws-http2-frame-list.ads
 aws-http2-frame-ping.adb
 aws-http2-frame-ping.ads
 aws-http2-frame-priority.adb
 aws-http2-frame-priority.ads
 aws-http2-frame-push_promise.adb
 aws-http2-frame-push_promise.ads
 aws-http2-frame-rst_stream.adb
 aws-http2-frame-rst_stream.ads
 aws-http2-frame-settings.adb
 aws-http2-frame-settings.ads
 aws-http2-frame-window_update.adb
 aws-http2-frame-window_update.ads
 aws-http2-frame.adb
 aws-http2-frame.ads
 aws-http2-hpack-huffman.adb
 aws-http2-hpack-huffman.ads
 aws-http2-hpack-table.adb
 aws-http2-hpack-table.ads
 aws-http2-hpack.adb
 aws-http2-hpack.ads
 aws-http2-message-list.ads
 aws-http2-message.adb
 aws-http2-message.ads
 aws-http2-stream-set.ads
 aws-http2-stream.adb
 aws-http2-stream.ads
 aws-http2.adb
 aws-http2.ads
 aws-jabber-client.adb
 aws-jabber-client.ads
 aws-jabber-digest_md5.adb
 aws-jabber-digest_md5.ads
 aws-jabber.ads
 aws-log.adb
 aws-log.ads
 aws-messages.adb
 aws-messages.ads
 aws-mime.adb
 aws-mime.ads
 aws-net-acceptors.adb
 aws-net-acceptors.ads
 aws-net-buffered.adb
 aws-net-buffered.ads
 aws-net-generic_sets.adb
 aws-net-generic_sets.ads
 aws-net-log-callbacks.adb
 aws-net-log-callbacks.ads
 aws-net-log.adb
 aws-net-log.ads
 aws-net-memory.adb
 aws-net-memory.ads
 aws-net-poll_events-g_poll.adb
 aws-net-poll_events-g_poll.ads
 aws-net-poll_events-wait__native.adb
 aws-net-poll_events.adb
 aws-net-poll_events.ads
 aws-net-sets.ads
 aws-net-ssl-certificate-impl__openssl.adb
 aws-net-ssl-certificate-impl__openssl.ads
 aws-net-ssl-certificate.adb
 aws-net-ssl-certificate.ads
 aws-net-ssl-rsa_dh_generators.adb
 aws-net-ssl-rsa_dh_generators.ads
 aws-net-ssl.ads
 aws-net-ssl__openssl.adb
 aws-net-std.ads
 aws-net-stream_io.adb
 aws-net-stream_io.ads
 aws-net-websocket-handshake_error.adb
 aws-net-websocket-handshake_error.ads
 aws-net-websocket-protocol-draft76.adb
 aws-net-websocket-protocol-draft76.ads
 aws-net-websocket-protocol-rfc6455.adb
 aws-net-websocket-protocol-rfc6455.ads
 aws-net-websocket-protocol.ads
 aws-net-websocket-registry-control.adb
 aws-net-websocket-registry-control.ads
 aws-net-websocket-registry-utils.adb
 aws-net-websocket-registry-utils.ads
 aws-net-websocket-registry.adb
 aws-net-websocket-registry.ads
 aws-net-websocket.adb
 aws-net-websocket.ads
 aws-net.adb
 aws-net.ads
 aws-os_lib.ads
 aws-parameters-set.adb
 aws-parameters-set.ads
 aws-parameters.adb
 aws-parameters.ads
 aws-pop.adb
 aws-pop.ads
 aws-resources-embedded.adb
 aws-resources-embedded.ads
 aws-resources-files.adb
 aws-resources-files.ads
 aws-resources-streams-disk-once.adb
 aws-resources-streams-disk-once.ads
 aws-resources-streams-disk.adb
 aws-resources-streams-disk.ads
 aws-resources-streams-memory-zlib.adb
 aws-resources-streams-memory-zlib.ads
 aws-resources-streams-memory.adb
 aws-resources-streams-memory.ads
 aws-resources-streams-pipe.adb
 aws-resources-streams-pipe.ads
 aws-resources-streams-zlib.adb
 aws-resources-streams-zlib.ads
 aws-resources-streams.adb
 aws-resources-streams.ads
 aws-resources.adb
 aws-resources.ads
 aws-response-set.adb
 aws-response-set.ads
 aws-response.adb
 aws-response.ads
 aws-server-context.ads
 aws-server-get_status.adb
 aws-server-get_status.ads
 aws-server-hotplug.adb
 aws-server-hotplug.ads
 aws-server-http_utils.adb
 aws-server-http_utils.ads
 aws-server-log.adb
 aws-server-log.ads
 aws-server-protocol_handler.adb
 aws-server-protocol_handler_v2.adb
 aws-server-push.adb
 aws-server-push.ads
 aws-server-status.adb
 aws-server-status.ads
 aws-server.adb
 aws-server.ads
 aws-services-callbacks.adb
 aws-services-callbacks.ads
 aws-services-directory.adb
 aws-services-directory.ads
 aws-services-dispatchers-linker.adb
 aws-services-dispatchers-linker.ads
 aws-services-dispatchers-method.adb
 aws-services-dispatchers-method.ads
 aws-services-dispatchers-timer.adb
 aws-services-dispatchers-timer.ads
 aws-services-dispatchers-transient_pages.adb
 aws-services-dispatchers-transient_pages.ads
 aws-services-dispatchers-uri.adb
 aws-services-dispatchers-uri.ads
 aws-services-dispatchers-virtual_host.adb
 aws-services-dispatchers-virtual_host.ads
 aws-services-dispatchers.ads
 aws-services-download.adb
 aws-services-download.ads
 aws-services-page_server.adb
 aws-services-page_server.ads
 aws-services-split_pages-alpha-bounded.adb
 aws-services-split_pages-alpha-bounded.ads
 aws-services-split_pages-alpha.adb
 aws-services-split_pages-alpha.ads
 aws-services-split_pages-shared.adb
 aws-services-split_pages-shared.ads
 aws-services-split_pages-uniform-alpha.adb
 aws-services-split_pages-uniform-alpha.ads
 aws-services-split_pages-uniform-overlapping.adb
 aws-services-split_pages-uniform-overlapping.ads
 aws-services-split_pages-uniform.adb
 aws-services-split_pages-uniform.ads
 aws-services-split_pages.adb
 aws-services-split_pages.ads
 aws-services-transient_pages-control.adb
 aws-services-transient_pages-control.ads
 aws-services-transient_pages.adb
 aws-services-transient_pages.ads
 aws-services-web_block-context.adb
 aws-services-web_block-context.ads
 aws-services-web_block-registry.adb
 aws-services-web_block-registry.ads
 aws-services-web_block.ads
 aws-services-web_mail.adb
 aws-services-web_mail.ads
 aws-services.ads
 aws-session-control.adb
 aws-session-control.ads
 aws-session.adb
 aws-session.ads
 aws-smtp-authentication-plain.adb
 aws-smtp-authentication-plain.ads
 aws-smtp-authentication.ads
 aws-smtp-client.adb
 aws-smtp-client.ads
 aws-smtp-messages-set.adb
 aws-smtp-messages-set.ads
 aws-smtp-messages.adb
 aws-smtp-messages.ads
 aws-smtp-server.adb
 aws-smtp-server.ads
 aws-smtp.adb
 aws-smtp.ads
 aws-status-set.adb
 aws-status-set.ads
 aws-status-translate_set.adb
 aws-status-translate_set.ads
 aws-status-translate_table.adb
 aws-status-translate_table.ads
 aws-status.adb
 aws-status.ads
 aws-templates.ads
 aws-translator-conversion.adb
 aws-translator.adb
 aws-translator.ads
 aws-url-raise_url_error.adb
 aws-url-raise_url_error.ads
 aws-url-set.adb
 aws-url-set.ads
 aws-url.adb
 aws-url.ads
 aws-utils-streams.adb
 aws-utils-streams.ads
 aws-utils.adb
 aws-utils.ads
 aws.ads
 crypto_lib.gpr
 dl_lib.gpr
 include.gpr
 memory_streams.adb
 memory_streams.ads
 readme.txt
 soap-client-callback.ads
 soap-client.adb
 soap-client.ads
 soap-dispatchers-callback.adb
 soap-dispatchers-callback.ads
 soap-dispatchers.adb
 soap-dispatchers.ads
 soap-message-payload.adb
 soap-message-payload.ads
 soap-message-reader.adb
 soap-message-reader.ads
 soap-message-response-error.adb
 soap-message-response-error.ads
 soap-message-response.adb
 soap-message-response.ads
 soap-message-xml.adb
 soap-message-xml.ads
 soap-message.adb
 soap-message.ads
 soap-name_space.adb
 soap-name_space.ads
 soap-parameters.adb
 soap-parameters.ads
 soap-types-untyped.adb
 soap-types-untyped.ads
 soap-types.adb
 soap-types.ads
 soap-utils.adb
 soap-utils.ads
 soap-wsdl-name_spaces.adb
 soap-wsdl-name_spaces.ads
 soap-wsdl-schema.adb
 soap-wsdl-schema.ads
 soap-wsdl.adb
 soap-wsdl.ads
 soap-xml.adb
 soap-xml.ads
 soap.ads
 src.gpr
 ssl-thin__openssl.ads
 ssl.ads
 ssl.gpr
 ssl_lib.gpr
 templates_parser-cached_files.adb
 templates_parser-configuration__aws.ads
 templates_parser-data.adb
 templates_parser-debug.adb
 templates_parser-debug.ads
 templates_parser-definitions.adb
 templates_parser-expr.adb
 templates_parser-filter.adb
 templates_parser-input.ads
 templates_parser-input__aws.adb
 templates_parser-macro.adb
 templates_parser-print_tree.adb
 templates_parser-query.adb
 templates_parser-query.ads
 templates_parser-simplifier.adb
 templates_parser-utils.adb
 templates_parser-utils.ads
 templates_parser-version.adb
 templates_parser-xml.adb
 templates_parser-xml.ads
 templates_parser.adb
 templates_parser.ads
 templates_parser_tasking.ads
 templates_parser_tasking__standard_tasking.adb
 wrappers.c
 zlib-streams.adb
 zlib-streams.ads
 zlib-thin.adb
 zlib-thin.ads
 zlib.adb
 zlib.ads
%%SHARED-ON%%lib/libaws.so
%%SHARED-ON%%lib/aws.relocatable/
 aws-attachments.ali
 aws-client-hotplug.ali
 aws-client-http_utils.ali
 aws-client-xml-input_sources.ali
 aws-client-xml.ali
 aws-client.ali
 aws-communication-client.ali
 aws-communication-server.ali
 aws-communication.ali
 aws-config-ini.ali
 aws-config-set.ali
 aws-config-utils.ali
 aws-config.ali
 aws-containers-key_value.ali
 aws-containers-memory_streams.ali
 aws-containers-string_vectors.ali
 aws-containers-tables-set.ali
 aws-containers-tables.ali
 aws-containers.ali
 aws-cookie.ali
 aws-default.ali
 aws-digest.ali
 aws-dispatchers-callback.ali
 aws-dispatchers.ali
 aws-exceptions.ali
 aws-headers-set.ali
 aws-headers-values.ali
 aws-headers.ali
 aws-hotplug-get_status.ali
 aws-hotplug.ali
 aws-http2-connection.ali
 aws-http2-frame-continuation.ali
 aws-http2-frame-data.ali
 aws-http2-frame-goaway.ali
 aws-http2-frame-headers.ali
 aws-http2-frame-list.ali
 aws-http2-frame-ping.ali
 aws-http2-frame-priority.ali
 aws-http2-frame-push_promise.ali
 aws-http2-frame-rst_stream.ali
 aws-http2-frame-settings.ali
 aws-http2-frame-window_update.ali
 aws-http2-frame.ali
 aws-http2-hpack-huffman.ali
 aws-http2-hpack-table.ali
 aws-http2-hpack.ali
 aws-http2-message-list.ali
 aws-http2-message.ali
 aws-http2-stream-set.ali
 aws-http2-stream.ali
 aws-http2.ali
 aws-jabber-client.ali
 aws-jabber-digest_md5.ali
 aws-jabber.ali
 aws-log.ali
 aws-messages.ali
 aws-mime.ali
 aws-net-acceptors.ali
 aws-net-buffered.ali
 aws-net-generic_sets.ali
 aws-net-log-callbacks.ali
 aws-net-log.ali
 aws-net-memory.ali
 aws-net-poll_events-g_poll.ali
 aws-net-poll_events.ali
 aws-net-sets.ali
 aws-net-ssl-certificate-impl__openssl.ali
 aws-net-ssl-certificate.ali
 aws-net-ssl-rsa_dh_generators.ali
 aws-net-ssl__openssl.ali
 aws-net-stream_io.ali
 aws-net-websocket-handshake_error.ali
 aws-net-websocket-protocol-draft76.ali
 aws-net-websocket-protocol-rfc6455.ali
 aws-net-websocket-protocol.ali
 aws-net-websocket-registry-control.ali
 aws-net-websocket-registry-utils.ali
 aws-net-websocket-registry.ali
 aws-net-websocket.ali
 aws-net.ali
 aws-os_lib.ali
 aws-parameters-set.ali
 aws-parameters.ali
 aws-pop.ali
 aws-resources-embedded.ali
 aws-resources-files.ali
 aws-resources-streams-disk-once.ali
 aws-resources-streams-disk.ali
 aws-resources-streams-memory-zlib.ali
 aws-resources-streams-memory.ali
 aws-resources-streams-pipe.ali
 aws-resources-streams-zlib.ali
 aws-resources-streams.ali
 aws-resources.ali
 aws-response-set.ali
 aws-response.ali
 aws-server-context.ali
 aws-server-get_status.ali
 aws-server-hotplug.ali
 aws-server-http_utils.ali
 aws-server-log.ali
 aws-server-push.ali
 aws-server-status.ali
 aws-server.ali
 aws-services-callbacks.ali
 aws-services-directory.ali
 aws-services-dispatchers-linker.ali
 aws-services-dispatchers-method.ali
 aws-services-dispatchers-timer.ali
 aws-services-dispatchers-transient_pages.ali
 aws-services-dispatchers-uri.ali
 aws-services-dispatchers-virtual_host.ali
 aws-services-dispatchers.ali
 aws-services-download.ali
 aws-services-page_server.ali
 aws-services-split_pages-alpha-bounded.ali
 aws-services-split_pages-alpha.ali
 aws-services-split_pages-shared.ali
 aws-services-split_pages-uniform-alpha.ali
 aws-services-split_pages-uniform-overlapping.ali
 aws-services-split_pages-uniform.ali
 aws-services-split_pages.ali
 aws-services-transient_pages-control.ali
 aws-services-transient_pages.ali
 aws-services-web_block-context.ali
 aws-services-web_block-registry.ali
 aws-services-web_block.ali
 aws-services-web_mail.ali
 aws-services.ali
 aws-session-control.ali
 aws-session.ali
 aws-smtp-authentication-plain.ali
 aws-smtp-authentication.ali
 aws-smtp-client.ali
 aws-smtp-messages-set.ali
 aws-smtp-messages.ali
 aws-smtp-server.ali
 aws-smtp.ali
 aws-status-set.ali
 aws-status-translate_set.ali
 aws-status-translate_table.ali
 aws-status.ali
 aws-templates.ali
 aws-translator.ali
 aws-url-raise_url_error.ali
 aws-url-set.ali
 aws-url.ali
 aws-utils-streams.ali
 aws-utils.ali
 aws.ali
 libaws.so
 memory_streams.ali
 soap-client-callback.ali
 soap-client.ali
 soap-dispatchers-callback.ali
 soap-dispatchers.ali
 soap-message-payload.ali
 soap-message-reader.ali
 soap-message-response-error.ali
 soap-message-response.ali
 soap-message-xml.ali
 soap-message.ali
 soap-name_space.ali
 soap-parameters.ali
 soap-types-untyped.ali
 soap-types.ali
 soap-utils.ali
 soap-wsdl-name_spaces.ali
 soap-wsdl-schema.ali
 soap-wsdl.ali
 soap-xml.ali
 soap.ali
 ssl-thin__openssl.ali
 ssl.ali
 templates_parser-configuration__aws.ali
 templates_parser-debug.ali
 templates_parser-input__aws.ali
 templates_parser-query.ali
 templates_parser-utils.ali
 templates_parser-xml.ali
 templates_parser.ali
 templates_parser_tasking__standard_tasking.ali
 zlib-streams.ali
 zlib-thin.ali
 zlib.ali
bin/
 aws_password
 awsascb
 awsres
 templates2ada
 templatespp
 webxref
 wsdl2aws
include/aws.static/
 aws-attachments.adb
 aws-attachments.ads
 aws-client-hotplug.adb
 aws-client-hotplug.ads
 aws-client-http_utils.adb
 aws-client-http_utils.ads
 aws-client-xml-input_sources.adb
 aws-client-xml-input_sources.ads
 aws-client-xml.ads
 aws-client.adb
 aws-client.ads
 aws-communication-client.adb
 aws-communication-client.ads
 aws-communication-server.adb
 aws-communication-server.ads
 aws-communication.adb
 aws-communication.ads
 aws-config-ini.adb
 aws-config-ini.ads
 aws-config-set.adb
 aws-config-set.ads
 aws-config-utils.adb
 aws-config-utils.ads
 aws-config.adb
 aws-config.ads
 aws-containers-key_value.ads
 aws-containers-memory_streams.ads
 aws-containers-string_vectors.ads
 aws-containers-tables-set.ads
 aws-containers-tables.adb
 aws-containers-tables.ads
 aws-containers.ads
 aws-cookie.adb
 aws-cookie.ads
 aws-default.ads
 aws-digest.adb
 aws-digest.ads
 aws-dispatchers-callback.adb
 aws-dispatchers-callback.ads
 aws-dispatchers.adb
 aws-dispatchers.ads
 aws-exceptions.ads
 aws-headers-set.adb
 aws-headers-set.ads
 aws-headers-values.adb
 aws-headers-values.ads
 aws-headers.adb
 aws-headers.ads
 aws-hotplug-get_status.adb
 aws-hotplug-get_status.ads
 aws-hotplug.adb
 aws-hotplug.ads
 aws-http2-connection.adb
 aws-http2-connection.ads
 aws-http2-frame-continuation.adb
 aws-http2-frame-continuation.ads
 aws-http2-frame-data.adb
 aws-http2-frame-data.ads
 aws-http2-frame-goaway.adb
 aws-http2-frame-goaway.ads
 aws-http2-frame-headers.adb
 aws-http2-frame-headers.ads
 aws-http2-frame-list.ads
 aws-http2-frame-ping.adb
 aws-http2-frame-ping.ads
 aws-http2-frame-priority.adb
 aws-http2-frame-priority.ads
 aws-http2-frame-push_promise.adb
 aws-http2-frame-push_promise.ads
 aws-http2-frame-rst_stream.adb
 aws-http2-frame-rst_stream.ads
 aws-http2-frame-settings.adb
 aws-http2-frame-settings.ads
 aws-http2-frame-window_update.adb
 aws-http2-frame-window_update.ads
 aws-http2-frame.adb
 aws-http2-frame.ads
 aws-http2-hpack-huffman.adb
 aws-http2-hpack-huffman.ads
 aws-http2-hpack-table.adb
 aws-http2-hpack-table.ads
 aws-http2-hpack.adb
 aws-http2-hpack.ads
 aws-http2-message-list.ads
 aws-http2-message.adb
 aws-http2-message.ads
 aws-http2-stream-set.ads
 aws-http2-stream.adb
 aws-http2-stream.ads
 aws-http2.adb
 aws-http2.ads
 aws-jabber-client.adb
 aws-jabber-client.ads
 aws-jabber-digest_md5.adb
 aws-jabber-digest_md5.ads
 aws-jabber.ads
 aws-log.adb
 aws-log.ads
 aws-messages.adb
 aws-messages.ads
 aws-mime.adb
 aws-mime.ads
 aws-net-acceptors.adb
 aws-net-acceptors.ads
 aws-net-buffered.adb
 aws-net-buffered.ads
 aws-net-generic_sets.adb
 aws-net-generic_sets.ads
 aws-net-log-callbacks.adb
 aws-net-log-callbacks.ads
 aws-net-log.adb
 aws-net-log.ads
 aws-net-memory.adb
 aws-net-memory.ads
 aws-net-poll_events-g_poll.adb
 aws-net-poll_events-g_poll.ads
 aws-net-poll_events-wait__native.adb
 aws-net-poll_events.adb
 aws-net-poll_events.ads
 aws-net-sets.ads
 aws-net-ssl-certificate-impl__openssl.adb
 aws-net-ssl-certificate-impl__openssl.ads
 aws-net-ssl-certificate.adb
 aws-net-ssl-certificate.ads
 aws-net-ssl-rsa_dh_generators.adb
 aws-net-ssl-rsa_dh_generators.ads
 aws-net-ssl.ads
 aws-net-ssl__openssl.adb
 aws-net-std.ads
 aws-net-stream_io.adb
 aws-net-stream_io.ads
 aws-net-websocket-handshake_error.adb
 aws-net-websocket-handshake_error.ads
 aws-net-websocket-protocol-draft76.adb
 aws-net-websocket-protocol-draft76.ads
 aws-net-websocket-protocol-rfc6455.adb
 aws-net-websocket-protocol-rfc6455.ads
 aws-net-websocket-protocol.ads
 aws-net-websocket-registry-control.adb
 aws-net-websocket-registry-control.ads
 aws-net-websocket-registry-utils.adb
 aws-net-websocket-registry-utils.ads
 aws-net-websocket-registry.adb
 aws-net-websocket-registry.ads
 aws-net-websocket.adb
 aws-net-websocket.ads
 aws-net.adb
 aws-net.ads
 aws-os_lib.ads
 aws-parameters-set.adb
 aws-parameters-set.ads
 aws-parameters.adb
 aws-parameters.ads
 aws-pop.adb
 aws-pop.ads
 aws-resources-embedded.adb
 aws-resources-embedded.ads
 aws-resources-files.adb
 aws-resources-files.ads
 aws-resources-streams-disk-once.adb
 aws-resources-streams-disk-once.ads
 aws-resources-streams-disk.adb
 aws-resources-streams-disk.ads
 aws-resources-streams-memory-zlib.adb
 aws-resources-streams-memory-zlib.ads
 aws-resources-streams-memory.adb
 aws-resources-streams-memory.ads
 aws-resources-streams-pipe.adb
 aws-resources-streams-pipe.ads
 aws-resources-streams-zlib.adb
 aws-resources-streams-zlib.ads
 aws-resources-streams.adb
 aws-resources-streams.ads
 aws-resources.adb
 aws-resources.ads
 aws-response-set.adb
 aws-response-set.ads
 aws-response.adb
 aws-response.ads
 aws-server-context.ads
 aws-server-get_status.adb
 aws-server-get_status.ads
 aws-server-hotplug.adb
 aws-server-hotplug.ads
 aws-server-http_utils.adb
 aws-server-http_utils.ads
 aws-server-log.adb
 aws-server-log.ads
 aws-server-protocol_handler.adb
 aws-server-protocol_handler_v2.adb
 aws-server-push.adb
 aws-server-push.ads
 aws-server-status.adb
 aws-server-status.ads
 aws-server.adb
 aws-server.ads
 aws-services-callbacks.adb
 aws-services-callbacks.ads
 aws-services-directory.adb
 aws-services-directory.ads
 aws-services-dispatchers-linker.adb
 aws-services-dispatchers-linker.ads
 aws-services-dispatchers-method.adb
 aws-services-dispatchers-method.ads
 aws-services-dispatchers-timer.adb
 aws-services-dispatchers-timer.ads
 aws-services-dispatchers-transient_pages.adb
 aws-services-dispatchers-transient_pages.ads
 aws-services-dispatchers-uri.adb
 aws-services-dispatchers-uri.ads
 aws-services-dispatchers-virtual_host.adb
 aws-services-dispatchers-virtual_host.ads
 aws-services-dispatchers.ads
 aws-services-download.adb
 aws-services-download.ads
 aws-services-page_server.adb
 aws-services-page_server.ads
 aws-services-split_pages-alpha-bounded.adb
 aws-services-split_pages-alpha-bounded.ads
 aws-services-split_pages-alpha.adb
 aws-services-split_pages-alpha.ads
 aws-services-split_pages-shared.adb
 aws-services-split_pages-shared.ads
 aws-services-split_pages-uniform-alpha.adb
 aws-services-split_pages-uniform-alpha.ads
 aws-services-split_pages-uniform-overlapping.adb
 aws-services-split_pages-uniform-overlapping.ads
 aws-services-split_pages-uniform.adb
 aws-services-split_pages-uniform.ads
 aws-services-split_pages.adb
 aws-services-split_pages.ads
 aws-services-transient_pages-control.adb
 aws-services-transient_pages-control.ads
 aws-services-transient_pages.adb
 aws-services-transient_pages.ads
 aws-services-web_block-context.adb
 aws-services-web_block-context.ads
 aws-services-web_block-registry.adb
 aws-services-web_block-registry.ads
 aws-services-web_block.ads
 aws-services-web_mail.adb
 aws-services-web_mail.ads
 aws-services.ads
 aws-session-control.adb
 aws-session-control.ads
 aws-session.adb
 aws-session.ads
 aws-smtp-authentication-plain.adb
 aws-smtp-authentication-plain.ads
 aws-smtp-authentication.ads
 aws-smtp-client.adb
 aws-smtp-client.ads
 aws-smtp-messages-set.adb
 aws-smtp-messages-set.ads
 aws-smtp-messages.adb
 aws-smtp-messages.ads
 aws-smtp-server.adb
 aws-smtp-server.ads
 aws-smtp.adb
 aws-smtp.ads
 aws-status-set.adb
 aws-status-set.ads
 aws-status-translate_set.adb
 aws-status-translate_set.ads
 aws-status-translate_table.adb
 aws-status-translate_table.ads
 aws-status.adb
 aws-status.ads
 aws-templates.ads
 aws-translator-conversion.adb
 aws-translator.adb
 aws-translator.ads
 aws-url-raise_url_error.adb
 aws-url-raise_url_error.ads
 aws-url-set.adb
 aws-url-set.ads
 aws-url.adb
 aws-url.ads
 aws-utils-streams.adb
 aws-utils-streams.ads
 aws-utils.adb
 aws-utils.ads
 aws.ads
 crypto_lib.gpr
 dl_lib.gpr
 include.gpr
 memory_streams.adb
 memory_streams.ads
 readme.txt
 soap-client-callback.ads
 soap-client.adb
 soap-client.ads
 soap-dispatchers-callback.adb
 soap-dispatchers-callback.ads
 soap-dispatchers.adb
 soap-dispatchers.ads
 soap-message-payload.adb
 soap-message-payload.ads
 soap-message-reader.adb
 soap-message-reader.ads
 soap-message-response-error.adb
 soap-message-response-error.ads
 soap-message-response.adb
 soap-message-response.ads
 soap-message-xml.adb
 soap-message-xml.ads
 soap-message.adb
 soap-message.ads
 soap-name_space.adb
 soap-name_space.ads
 soap-parameters.adb
 soap-parameters.ads
 soap-types-untyped.adb
 soap-types-untyped.ads
 soap-types.adb
 soap-types.ads
 soap-utils.adb
 soap-utils.ads
 soap-wsdl-name_spaces.adb
 soap-wsdl-name_spaces.ads
 soap-wsdl-schema.adb
 soap-wsdl-schema.ads
 soap-wsdl.adb
 soap-wsdl.ads
 soap-xml.adb
 soap-xml.ads
 soap.ads
 src.gpr
 ssl-thin__openssl.ads
 ssl.ads
 ssl.gpr
 ssl_lib.gpr
 templates_parser-cached_files.adb
 templates_parser-configuration__aws.ads
 templates_parser-data.adb
 templates_parser-debug.adb
 templates_parser-debug.ads
 templates_parser-definitions.adb
 templates_parser-expr.adb
 templates_parser-filter.adb
 templates_parser-input.ads
 templates_parser-input__aws.adb
 templates_parser-macro.adb
 templates_parser-print_tree.adb
 templates_parser-query.adb
 templates_parser-query.ads
 templates_parser-simplifier.adb
 templates_parser-utils.adb
 templates_parser-utils.ads
 templates_parser-version.adb
 templates_parser-xml.adb
 templates_parser-xml.ads
 templates_parser.adb
 templates_parser.ads
 templates_parser_tasking.ads
 templates_parser_tasking__standard_tasking.adb
 wrappers.c
 zlib-streams.adb
 zlib-streams.ads
 zlib-thin.adb
 zlib-thin.ads
 zlib.adb
 zlib.ads
lib/aws.static/
 aws-attachments.ali
 aws-client-hotplug.ali
 aws-client-http_utils.ali
 aws-client-xml-input_sources.ali
 aws-client-xml.ali
 aws-client.ali
 aws-communication-client.ali
 aws-communication-server.ali
 aws-communication.ali
 aws-config-ini.ali
 aws-config-set.ali
 aws-config-utils.ali
 aws-config.ali
 aws-containers-key_value.ali
 aws-containers-memory_streams.ali
 aws-containers-string_vectors.ali
 aws-containers-tables-set.ali
 aws-containers-tables.ali
 aws-containers.ali
 aws-cookie.ali
 aws-default.ali
 aws-digest.ali
 aws-dispatchers-callback.ali
 aws-dispatchers.ali
 aws-exceptions.ali
 aws-headers-set.ali
 aws-headers-values.ali
 aws-headers.ali
 aws-hotplug-get_status.ali
 aws-hotplug.ali
 aws-http2-connection.ali
 aws-http2-frame-continuation.ali
 aws-http2-frame-data.ali
 aws-http2-frame-goaway.ali
 aws-http2-frame-headers.ali
 aws-http2-frame-list.ali
 aws-http2-frame-ping.ali
 aws-http2-frame-priority.ali
 aws-http2-frame-push_promise.ali
 aws-http2-frame-rst_stream.ali
 aws-http2-frame-settings.ali
 aws-http2-frame-window_update.ali
 aws-http2-frame.ali
 aws-http2-hpack-huffman.ali
 aws-http2-hpack-table.ali
 aws-http2-hpack.ali
 aws-http2-message-list.ali
 aws-http2-message.ali
 aws-http2-stream-set.ali
 aws-http2-stream.ali
 aws-http2.ali
 aws-jabber-client.ali
 aws-jabber-digest_md5.ali
 aws-jabber.ali
 aws-log.ali
 aws-messages.ali
 aws-mime.ali
 aws-net-acceptors.ali
 aws-net-buffered.ali
 aws-net-generic_sets.ali
 aws-net-log-callbacks.ali
 aws-net-log.ali
 aws-net-memory.ali
 aws-net-poll_events-g_poll.ali
 aws-net-poll_events.ali
 aws-net-sets.ali
 aws-net-ssl-certificate-impl__openssl.ali
 aws-net-ssl-certificate.ali
 aws-net-ssl-rsa_dh_generators.ali
 aws-net-ssl__openssl.ali
 aws-net-stream_io.ali
 aws-net-websocket-handshake_error.ali
 aws-net-websocket-protocol-draft76.ali
 aws-net-websocket-protocol-rfc6455.ali
 aws-net-websocket-protocol.ali
 aws-net-websocket-registry-control.ali
 aws-net-websocket-registry-utils.ali
 aws-net-websocket-registry.ali
 aws-net-websocket.ali
 aws-net.ali
 aws-os_lib.ali
 aws-parameters-set.ali
 aws-parameters.ali
 aws-pop.ali
 aws-resources-embedded.ali
 aws-resources-files.ali
 aws-resources-streams-disk-once.ali
 aws-resources-streams-disk.ali
 aws-resources-streams-memory-zlib.ali
 aws-resources-streams-memory.ali
 aws-resources-streams-pipe.ali
 aws-resources-streams-zlib.ali
 aws-resources-streams.ali
 aws-resources.ali
 aws-response-set.ali
 aws-response.ali
 aws-server-context.ali
 aws-server-get_status.ali
 aws-server-hotplug.ali
 aws-server-http_utils.ali
 aws-server-log.ali
 aws-server-push.ali
 aws-server-status.ali
 aws-server.ali
 aws-services-callbacks.ali
 aws-services-directory.ali
 aws-services-dispatchers-linker.ali
 aws-services-dispatchers-method.ali
 aws-services-dispatchers-timer.ali
 aws-services-dispatchers-transient_pages.ali
 aws-services-dispatchers-uri.ali
 aws-services-dispatchers-virtual_host.ali
 aws-services-dispatchers.ali
 aws-services-download.ali
 aws-services-page_server.ali
 aws-services-split_pages-alpha-bounded.ali
 aws-services-split_pages-alpha.ali
 aws-services-split_pages-shared.ali
 aws-services-split_pages-uniform-alpha.ali
 aws-services-split_pages-uniform-overlapping.ali
 aws-services-split_pages-uniform.ali
 aws-services-split_pages.ali
 aws-services-transient_pages-control.ali
 aws-services-transient_pages.ali
 aws-services-web_block-context.ali
 aws-services-web_block-registry.ali
 aws-services-web_block.ali
 aws-services-web_mail.ali
 aws-services.ali
 aws-session-control.ali
 aws-session.ali
 aws-smtp-authentication-plain.ali
 aws-smtp-authentication.ali
 aws-smtp-client.ali
 aws-smtp-messages-set.ali
 aws-smtp-messages.ali
 aws-smtp-server.ali
 aws-smtp.ali
 aws-status-set.ali
 aws-status-translate_set.ali
 aws-status-translate_table.ali
 aws-status.ali
 aws-templates.ali
 aws-translator.ali
 aws-url-raise_url_error.ali
 aws-url-set.ali
 aws-url.ali
 aws-utils-streams.ali
 aws-utils.ali
 aws.ali
 libaws.a
 memory_streams.ali
 soap-client-callback.ali
 soap-client.ali
 soap-dispatchers-callback.ali
 soap-dispatchers.ali
 soap-message-payload.ali
 soap-message-reader.ali
 soap-message-response-error.ali
 soap-message-response.ali
 soap-message-xml.ali
 soap-message.ali
 soap-name_space.ali
 soap-parameters.ali
 soap-types-untyped.ali
 soap-types.ali
 soap-utils.ali
 soap-wsdl-name_spaces.ali
 soap-wsdl-schema.ali
 soap-wsdl.ali
 soap-xml.ali
 soap.ali
 ssl-thin__openssl.ali
 ssl.ali
 templates_parser-configuration__aws.ali
 templates_parser-debug.ali
 templates_parser-input__aws.ali
 templates_parser-query.ali
 templates_parser-utils.ali
 templates_parser-xml.ali
 templates_parser.ali
 templates_parser_tasking__standard_tasking.ali
 zlib-streams.ali
 zlib-thin.ali
 zlib.ali
share/gpr/aws.gpr
share/gps/plug-ins/
 ada2wsdl.xml
 aws.py
 aws.xml
 aws_api.xml
 wsdl2aws.xml


[FILE:382:patches/patch-aws.gpr]
--- aws.gpr.orig	2022-09-20 17:13:06 UTC
+++ aws.gpr
@@ -44,7 +44,7 @@ aggregate library project AWS is
             when "Windows_NT" =>
                for Library_Options use ("-lwsock32", "-lws2_32");
             when others =>
-               null;
+               for Library_Options use ("-Wl,-rpath,@ADDITIONAL_RPATH@");
          end case;
 
          case Shared.LDAP is


[FILE:2294:patches/patch-config_src_aws-net-std____ipv4.adb]
--- config/src/aws-net-std__ipv4.adb.orig	2022-09-20 17:13:06 UTC
+++ config/src/aws-net-std__ipv4.adb
@@ -65,11 +65,6 @@ package body AWS.Net.Std is
    --  Set the socket to the non-blocking mode.
    --  AWS is not using blocking sockets internally.
 
-   To_GNAT : constant array (Family_Type) of Sockets.Family_Type :=
-               (Family_Inet   => Sockets.Family_Inet,
-                Family_Inet6  => Sockets.Family_Inet6,
-                Family_Unspec => Sockets.Family_Inet);
-
    -------------------
    -- Accept_Socket --
    -------------------
@@ -141,9 +136,16 @@ package body AWS.Net.Std is
             Option => (Sockets.Reuse_Address, Enabled => True));
       end if;
 
-      Sockets.Bind_Socket
-        (Socket.S.FD,
-         (To_GNAT (Family), Inet_Addr, Sockets.Port_Type (Port)));
+      case Family is
+      when Family_Inet | Family_Unspec =>
+         Sockets.Bind_Socket
+           (Socket.S.FD,
+            (Sockets.Family_Inet, Inet_Addr, Sockets.Port_Type (Port)));
+      when Family_Inet6 =>
+         Sockets.Bind_Socket
+           (Socket.S.FD,
+            (Sockets.Family_Inet6, Inet_Addr, Sockets.Port_Type (Port)));
+      end case;
 
    exception
       when E : Sockets.Socket_Error | Sockets.Host_Error =>
@@ -210,9 +212,16 @@ package body AWS.Net.Std is
 
       Socket.S := new Socket_Hidden;
 
-      Sock_Addr := (To_GNAT (Family),
-                    Get_Inet_Addr (Host, Passive => False),
-                    Sockets.Port_Type (Port));
+      case Family is
+      when Family_Inet | Family_Unspec =>
+         Sock_Addr := (Sockets.Family_Inet,
+                       Get_Inet_Addr (Host, Passive => False),
+                       Sockets.Port_Type (Port));
+      when Family_Inet6 =>
+         Sock_Addr := (Sockets.Family_Inet6,
+                       Get_Inet_Addr (Host, Passive => False),
+                       Sockets.Port_Type (Port));
+      end case;
 
       Sockets.Create_Socket (Socket.S.FD);
       Close_On_Exception := True;
@@ -679,6 +688,7 @@ package body AWS.Net.Std is
 
    overriding procedure Set_Close_On_Exec (Socket : Socket_Type) is
       Status : Boolean;
+      pragma Unreferenced (Status);
    begin
       Sockets.Set_Close_On_Exec (Socket.S.FD, True, Status);
    end Set_Close_On_Exec;


[FILE:307:patches/patch-config_ssl_openssl_wrappers.c]
--- config/ssl/openssl/wrappers.c.orig	2022-09-20 17:13:06 UTC
+++ config/ssl/openssl/wrappers.c
@@ -115,7 +115,7 @@ unsigned long __aws_OpenSSL_version_num(
 
 void __aws_OPENSSL_thread_stop(void)
 {
-  OPENSSL_thread_stop();
+  __aws_OPENSSL_thread_stop();
 }
 
 const char * __aws_OpenSSL_version(int t)


[FILE:357:patches/patch-include_include.gpr]
--- include/include.gpr.orig	2022-09-20 17:13:06 UTC
+++ include/include.gpr
@@ -31,6 +31,7 @@ library project Include is
 
    for Library_Name use "aws_include";
    for Library_Kind use Shared.Library_Type;
+   for Library_Options use ("-Wl,-rpath,@ADDITIONAL_RPATH@");
    for Leading_Library_Options use Shared.Leading_Library_Options;
 
    ---------


[FILE:433:patches/patch-regtests_0043__check__mem_test.opt]
--- regtests/0043_check_mem/test.opt.orig	2022-09-20 17:13:06 UTC
+++ regtests/0043_check_mem/test.opt
@@ -1,3 +1,11 @@
 !ssl DEAD
 !xmlada DEAD
+x86-dragonfly DEAD "no gnatmem"
+x86-freebsd DEAD "no gnatmem"
+x86-openbsd DEAD "no gnatmem"
+x86-netbsd DEAD "no gnatmem"
+x86_64-dragonfly DEAD "no gnatmem"
+x86_64-freebsd DEAD "no gnatmem"
+x86_64-openbsd DEAD "no gnatmem"
+x86_64-netbsd DEAD "no gnatmem"
 darwin DEAD "no gnatmem"


[FILE:445:patches/patch-regtests_0213__check__mem__nossl_test.opt]
--- regtests/0213_check_mem_nossl/test.opt.orig	2022-09-20 17:13:06 UTC
+++ regtests/0213_check_mem_nossl/test.opt
@@ -1,3 +1,11 @@
 !xmlada DEAD
 !lal DEAD
+x86-dragonfly DEAD "no gnatmem"
+x86-freebsd DEAD "no gnatmem"
+x86-openbsd DEAD "no gnatmem"
+x86-netbsd DEAD "no gnatmem"
+x86_64-dragonfly DEAD "no gnatmem"
+x86_64-freebsd DEAD "no gnatmem"
+x86_64-openbsd DEAD "no gnatmem"
+x86_64-netbsd DEAD "no gnatmem"
 darwin DEAD "no gnatmem"


[FILE:441:patches/patch-src_core_aws-net.adb]
--- src/core/aws-net.adb.orig	2022-09-20 17:13:06 UTC
+++ src/core/aws-net.adb
@@ -661,7 +661,7 @@ package body AWS.Net is
 
          --  to be shure that it is S1 and S2 connected together
 
-         exit when Peer_Addr (STC (S2)) = Local_Host
+         exit when Peer_Addr (STC (S2)) = Get_Addr (STC (S1))
            and then Peer_Port (STC (S2)) = Get_Port (STC (S1))
            and then Peer_Port (STC (S1)) = Get_Port (STC (S2));
 


[FILE:800:patches/patch-src_core_aws-server-http__utils.adb]
Current_Process_Id is not available on GCC 6.x

--- src/core/aws-server-http_utils.adb.orig	2022-09-20 17:13:06 UTC
+++ src/core/aws-server-http_utils.adb
@@ -38,7 +38,6 @@ with Ada.Strings.Unbounded;
 with Ada.Text_IO;
 
 with GNAT.MD5;
-with GNAT.OS_Lib;
 with GNAT.Regexp;
 
 with AWS.Digest;
@@ -937,9 +936,7 @@ package body AWS.Server.HTTP_Utils is
       -------------------------
 
       function Get_File_Upload_UID return String is
-         use GNAT;
-         Pid : constant Natural := Integer'Max
-                 (0, OS_Lib.Pid_To_Integer (OS_Lib.Current_Process_Id));
+         Pid : constant Natural := 0;
          --  On OS where Current_Process_Id is not support -1 is returned. We
          --  ensure that in this case the Pid is set to 0 in this case.
          UID : Natural;


[FILE:355:patches/patch-src_core_aws-server.adb]
--- src/core/aws-server.adb.orig	2022-09-20 17:13:06 UTC
+++ src/core/aws-server.adb
@@ -970,7 +970,7 @@ package body AWS.Server is
 
          S.Phase := Wait_For_Client;
 
-         Reference := S.Wait_For_Data'Access;
+         Reference := S.Wait_For_Data'Unchecked_Access;
       end Get_Wait_For_Data;
 
       -------------------------------------


[FILE:380:patches/patch-src_src.gpr]
--- src/src.gpr.orig	2022-09-20 17:13:06 UTC
+++ src/src.gpr
@@ -70,7 +70,7 @@ library project Src is
             when "Windows_NT" =>
                for Library_Options use ("-lwsock32", "-lws2_32");
             when others =>
-               null;
+               for Library_Options use ("-Wl,-rpath,@ADDITIONAL_RPATH@");
          end case;
 
          case Shared.LDAP is


[FILE:220:patches/patch-ssl__crypto_lib.gpr]
--- ssl/crypto_lib.gpr.orig	2022-09-20 17:13:06 UTC
+++ ssl/crypto_lib.gpr
@@ -20,7 +20,6 @@
 
 with "../.build/projects/aws_config";
 with "../.build/projects/aws_lib_shared";
-with "dl_lib";
 
 project Crypto_Lib is
 

