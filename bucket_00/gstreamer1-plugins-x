# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gstreamer1-plugins-x
VERSION=		1.16.2
KEYWORDS=		multimedia x11
VARIANTS=		standard
SDESC[standard]=	GStreamer1 X and Xvideo output plugins plugin
HOMEPAGE=		https://gstreamer.freedesktop.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://gstreamer.freedesktop.org/src/gst-plugins-base/
DISTFILE[1]=		gst-plugins-base-1.16.2.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		gstreamer1-plugins-base:single:standard
BUILDRUN_DEPENDS=	gstreamer1:single:standard

USES=			gmake pkgconfig libtool
GNOME_COMPONENTS=	glib introspection

DISTNAME=		gst-plugins-base-1.16.2

FPC_EQUIVALENT=		x11/gstreamer1-plugins-x

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-default-audiosink="osssink"
			--with-default-audiosrc="osssrc"
			--disable-adder
			--disable-alsa
			--disable-app
			--disable-audioconvert
			--disable-audiomixer
			--disable-audiorate
			--disable-audioresample
			--disable-audiotestsrc
			--disable-compositor
			--disable-cdparanoia
			--disable-encoding
			--disable-gio
			--disable-gl
			--disable-ivorbis
			--disable-libvisual
			--disable-ogg
			--disable-opus
			--disable-overlaycomposition
			--disable-pango
			--disable-playback
			--disable-rawparse
			--disable-subparse
			--disable-tcp
			--disable-theora
			--disable-typefind
			--disable-videoconvert
			--disable-videorate
			--disable-videoscale
			--disable-videotestsrc
			--disable-volume
			--enable-x
			--enable-xvideo
			--enable-xshm

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
PLIST_SUB=		GSTVER=1.0
			PLUGIN=x

CFLAGS=			-Wno-format

post-patch:
	${REINPLACE_CMD} -e 's|FLAGS -Werror|FLAGS|' ${WRKSRC}/configure
	${FIND} ${WRKSRC}/ext ${WRKSRC}/sys -name Makefile.in |\
	${XARGS} ${REINPLACE_CMD} -E \
	-e '/la_DEPENDENCIES/,/am__DEPENDENCIES/s|[$$][(]top_builddir[)]/gst-libs/.*.la||' \
	-e 's|[@$$][(]?GST_API_VERSION[@)]\.la|$$\{VERSION\}|g'
	${FIND} ${WRKSRC} -name "Makefile.in" |\
		${XARGS} ${GREP} -l "enum_headers = " |\
		${XARGS} ${REINPLACE_CMD} -e '/enum_headers =/ s|\\#include|#include|'

post-install:
	${RM} -r ${STAGEDIR}${PREFIX}/bin
	${RM} -r ${STAGEDIR}${PREFIX}/include
	${RM} -r ${STAGEDIR}${PREFIX}/lib/girepository-1.0
	${RM} -r ${STAGEDIR}${PREFIX}/lib/gstreamer-1.0/include
	${RM} -r ${STAGEDIR}${PREFIX}/lib/pkgconfig
	${RM} -r ${STAGEDIR}${PREFIX}/share
	${RM} ${STAGEDIR}${PREFIX}/lib/lib*
	${RM} ${STAGEDIR}${PREFIX}/lib/gstreamer-1.0/libgstpbtypes.so

[FILE:66:descriptions/desc.single]
This package contains the X and Xvideo output GStreamer1 plugins.


[FILE:109:distinfo]
b13e73e2fe74a4166552f9577c3dcb24bed077021b9c7fa600d910ec6987816a      3939868 gst-plugins-base-1.16.2.tar.xz


[FILE:69:manifests/plist.single]
lib/gstreamer-%%GSTVER%%/
 libgstximagesink.so
 libgstxvimagesink.so

