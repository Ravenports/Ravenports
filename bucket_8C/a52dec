# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		a52dec
VERSION=		0.8.0
KEYWORDS=		audio
VARIANTS=		standard
SDESC[standard]=	ATSC A/52 stream decoder and library
HOMEPAGE=		https://git.adelielinux.org/community/a52dec/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://distfiles.adelielinux.org/source/a52dec/
DISTFILE[1]=		a52dec-0.8.0.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gmake libtool

FPC_EQUIVALENT=		audio/liba52

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-oss
			--enable-shared

INSTALL_TARGET=		install-strip

post-install:
	${INSTALL_DATA} ${WRKSRC}/liba52/a52_internal.h \
		${STAGEDIR}${PREFIX}/include/a52dec

pre-configure:
	${REINPLACE_CMD} -E \
		-e 's!-O3!${CFLAGS}!' \
		-e 's!-mcpu=[^"]+"!"!' \
		-e '/-prefer-non-pic/d' \
		 ${WRKSRC}/configure

[FILE:410:descriptions/desc.single]
liba52 is a free library for decoding ATSC A/52 streams. The A/52 standard
is used in a variety of applications, including digital television and DVD.
It is also known as AC-3.

The main goals in liba52 development are: portability, reusability,
precision, and speed.

This package also contains a52dec, which decodes ATSC A/52 streams, and
also includes a demultiplexer for mpeg-1 and mpeg-2 program streams.


[FILE:98:distinfo]
03c181ce9c3fe0d2f5130de18dab9bd8bc63c354071515aa56983c74a9cffcc9       456192 a52dec-0.8.0.tar.gz


[FILE:231:manifests/plist.single]
bin/
 a52dec
 extract_a52
include/a52dec/
 a52.h
 a52_internal.h
 attributes.h
 audio_out.h
 mm_accel.h
lib/
 liba52.a
 liba52.so
 liba52.so.0
 liba52.so.0.0.0
lib/pkgconfig/liba52.pc
share/man/man1/
 a52dec.1.gz
 extract_a52.1.gz


[FILE:1185:patches/patch-configure]
--- configure.intermediate	2022-11-05 09:23:51 UTC
+++ configure
@@ -14791,25 +14791,6 @@ fi
 
 
 
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if libtool supports -prefer-non-pic flag" >&5
-printf %s "checking if libtool supports -prefer-non-pic flag... " >&6; }
-    mkdir ac_test_libtool; cd ac_test_libtool; ac_cv_libtool_non_pic=no
-    echo "int g (int i); int f (int i) {return g (i);}" >f.c
-    echo "int (* hook) (int) = 0; int g (int i) {if (hook) i = hook (i); return i + 1;}" >g.c
-    ../libtool --mode=compile $CC $CFLAGS -prefer-non-pic \
-		-c f.c >/dev/null 2>&1 && \
-	../libtool --mode=compile $CC $CFLAGS -prefer-non-pic \
-		-c g.c >/dev/null 2>&1 && \
-	../libtool --mode=link $CC $CFLAGS -prefer-non-pic -o libfoo.la \
-		-rpath / f.lo g.lo >/dev/null 2>&1 &&
-	ac_cv_libtool_non_pic=yes
-    cd ..; rm -fr ac_test_libtool; { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_libtool_non_pic" >&5
-printf "%s\n" "$ac_cv_libtool_non_pic" >&6; }
-    if test x"$ac_cv_libtool_non_pic" = x"yes"; then
-	LIBA52_CFLAGS="$LIBA52_CFLAGS -prefer-non-pic"
-    else
-	:
-    fi
 
 # Check whether --enable-fixed was given.
 if test ${enable_fixed+y}

