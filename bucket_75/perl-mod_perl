# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		perl-mod_perl
VERSION=		2.0.13
KEYWORDS=		perl
VARIANTS=		538 540
SDESC[540]=		Persistent Perl interpreter for web server (5.40)
SDESC[538]=		Persistent Perl interpreter for web server (5.38)
HOMEPAGE=		none
CONTACT=		Perl_Automaton[perl@ironwolf.systems]

DOWNLOAD_GROUPS=	main
SITES[main]=		CPAN/ID:S/SH/SHAY
DISTFILE[1]=		mod_perl-2.0.13.tar.gz:main
DF_INDEX=		1
SPKGS[540]=		single
SPKGS[538]=		single

OPTIONS_AVAILABLE=	PERL_538 PERL_540
OPTIONS_STANDARD=	none
VOPTS[540]=		PERL_538=OFF PERL_540=ON
VOPTS[538]=		PERL_538=ON PERL_540=OFF

BUILD_DEPENDS=		apr1:dev:std
			apr-util:dev:std
			gdbm:dev:std
			apache:dev:std
BUILDRUN_DEPENDS=	apache:primary:std
			gdbm:primary:std

USES=			cpe gmake expat iconv bdb perl:configure

DISTNAME=		mod_perl-2.0.13

CPE_PRODUCT=		mod_perl
CPE_VENDOR=		apache
GENERATED=		yes

SINGLE_JOB=		yes

[PERL_540].USES_ON=			perl:540,configure

[PERL_538].USES_ON=			perl:538,configure

post-patch:
	${FIND} ${WRKSRC} -name "*.orig" -delete

[FILE:235:descriptions/desc.single]
This module gives you a persistent Perl interpreter embedded in your web
server. This lets you avoid the overhead of starting an external
interpreter and avoids the penalty of Perl start-up time, giving you
super-fast dynamic content.


[FILE:101:distinfo]
ade3be31c447b8448869fecdfcace258d6d587b8c6c773c5f22735f70d82d6da      3848487 mod_perl-2.0.13.tar.gz


[FILE:7375:manifests/plist.single]
%%PERL5_MAN3%%/
 APR.3
 APR::Base64.3
 APR::Brigade.3
 APR::Bucket.3
 APR::BucketAlloc.3
 APR::BucketType.3
 APR::Const.3
 APR::Date.3
 APR::Error.3
 APR::Finfo.3
 APR::IpSubnet.3
 APR::OS.3
 APR::PerlIO.3
 APR::Pool.3
 APR::SockAddr.3
 APR::Socket.3
 APR::Status.3
 APR::String.3
 APR::Table.3
 APR::ThreadMutex.3
 APR::ThreadRWLock.3
 APR::URI.3
 APR::UUID.3
 APR::Util.3
 Apache2::Access.3
 Apache2::Build.3
 Apache2::CmdParms.3
 Apache2::Command.3
 Apache2::Connection.3
 Apache2::ConnectionUtil.3
 Apache2::Const.3
 Apache2::Directive.3
 Apache2::Filter.3
 Apache2::FilterRec.3
 Apache2::HookRun.3
 Apache2::Log.3
 Apache2::MPM.3
 Apache2::Module.3
 Apache2::PerlSections.3
 Apache2::Process.3
 Apache2::Reload.3
 Apache2::RequestIO.3
 Apache2::RequestRec.3
 Apache2::RequestUtil.3
 Apache2::Resource.3
 Apache2::Response.3
 Apache2::ServerRec.3
 Apache2::ServerUtil.3
 Apache2::SizeLimit.3
 Apache2::Status.3
 Apache2::SubProcess.3
 Apache2::SubRequest.3
 Apache2::URI.3
 Apache2::Util.3
 Apache2::compat.3
 Apache2::porting.3
 Apache::Reload.3
 Apache::SizeLimit.3
 Apache::SizeLimit::Core.3
 Apache::Test.3
 Apache::TestConfig.3
 Apache::TestHandler.3
 Apache::TestMB.3
 Apache::TestMM.3
 Apache::TestReport.3
 Apache::TestRequest.3
 Apache::TestRun.3
 Apache::TestRunPHP.3
 Apache::TestRunPerl.3
 Apache::TestServer.3
 Apache::TestSmoke.3
 Apache::TestTrace.3
 Apache::TestUtil.3
 Bundle::Apache2.3
 Bundle::ApacheTest.3
 ModPerl::BuildMM.3
 ModPerl::CScan.3
 ModPerl::Code.3
 ModPerl::Config.3
 ModPerl::Const.3
 ModPerl::Global.3
 ModPerl::MM.3
 ModPerl::MethodLookup.3
 ModPerl::PerlRun.3
 ModPerl::PerlRunPrefork.3
 ModPerl::Registry.3
 ModPerl::RegistryBB.3
 ModPerl::RegistryCooker.3
 ModPerl::RegistryLoader.3
 ModPerl::RegistryPrefork.3
 ModPerl::Util.3
 mod_perl2.3
%%SITE_ARCH%%/
 APR.pm
 mod_perl2.pm
%%SITE_ARCH%%/APR/
 Base64.pm
 Brigade.pm
 Bucket.pm
 BucketAlloc.pm
 BucketType.pm
 Const.pm
 Date.pm
 Error.pm
 Finfo.pm
 IpSubnet.pm
 OS.pm
 PerlIO.pm
 Pool.pm
 SockAddr.pm
 Socket.pm
 Status.pm
 String.pm
 Table.pm
 ThreadMutex.pm
 ThreadRWLock.pm
 URI.pm
 UUID.pm
 Util.pm
 XSLoader.pm
%%SITE_ARCH%%/Apache/
 Reload.pm
 SizeLimit.pm
 Test.pm
 Test5005compat.pm
 TestBuild.pm
 TestClient.pm
 TestCommon.pm
 TestCommonPost.pm
 TestConfig.pm
 TestConfigC.pm
 TestConfigPHP.pm
 TestConfigParrot.pm
 TestConfigParse.pm
 TestConfigPerl.pm
 TestHandler.pm
 TestHarness.pm
 TestHarnessPHP.pm
 TestMB.pm
 TestMM.pm
 TestPerlDB.pm
 TestReport.pm
 TestReportPerl.pm
 TestRequest.pm
 TestRun.pm
 TestRunPHP.pm
 TestRunParrot.pm
 TestRunPerl.pm
 TestSSLCA.pm
 TestServer.pm
 TestSmoke.pm
 TestSmokePerl.pm
 TestSort.pm
 TestTrace.pm
 TestUtil.pm
%%SITE_ARCH%%/Apache/SizeLimit/Core.pm
%%SITE_ARCH%%/Apache2/
 Access.pm
 Build.pm
 BuildConfig.pm
 CmdParms.pm
 Command.pm
 Connection.pm
 ConnectionUtil.pm
 Const.pm
 Directive.pm
 Filter.pm
 FilterRec.pm
 HookRun.pm
 Log.pm
 MPM.pm
 Module.pm
 ParseSource.pm
 PerlSections.pm
 Process.pm
 Provider.pm
 Reload.pm
 RequestIO.pm
 RequestRec.pm
 RequestUtil.pm
 Resource.pm
 Response.pm
 ServerRec.pm
 ServerUtil.pm
 SizeLimit.pm
 SourceTables.pm
 Status.pm
 SubProcess.pm
 SubRequest.pm
 URI.pm
 Util.pm
 XSLoader.pm
 compat.pm
 porting.pm
%%SITE_ARCH%%/Apache2/PerlSections/Dump.pm
%%SITE_ARCH%%/Bundle/
 Apache2.pm
 ApacheTest.pm
%%SITE_ARCH%%/ModPerl/
 BuildMM.pm
 BuildOptions.pm
 CScan.pm
 Code.pm
 Config.pm
 Const.pm
 FunctionMap.pm
 Global.pm
 InterpPool.pm
 Interpreter.pm
 MM.pm
 Manifest.pm
 MapUtil.pm
 MethodLookup.pm
 ParseSource.pm
 PerlRun.pm
 PerlRunPrefork.pm
 Registry.pm
 RegistryBB.pm
 RegistryCooker.pm
 RegistryLoader.pm
 RegistryPrefork.pm
 StructureMap.pm
 TestReport.pm
 TestRun.pm
 TiPool.pm
 TiPoolConfig.pm
 TypeMap.pm
 Util.pm
 WrapXS.pm
%%SITE_ARCH%%/auto/APR/APR.so
%%SITE_ARCH%%/auto/APR/Base64/Base64.so
%%SITE_ARCH%%/auto/APR/Brigade/Brigade.so
%%SITE_ARCH%%/auto/APR/Bucket/Bucket.so
%%SITE_ARCH%%/auto/APR/BucketAlloc/BucketAlloc.so
%%SITE_ARCH%%/auto/APR/BucketType/BucketType.so
%%SITE_ARCH%%/auto/APR/Const/Const.so
%%SITE_ARCH%%/auto/APR/Date/Date.so
%%SITE_ARCH%%/auto/APR/Error/Error.so
%%SITE_ARCH%%/auto/APR/Finfo/Finfo.so
%%SITE_ARCH%%/auto/APR/IpSubnet/IpSubnet.so
%%SITE_ARCH%%/auto/APR/OS/OS.so
%%SITE_ARCH%%/auto/APR/PerlIO/PerlIO.so
%%SITE_ARCH%%/auto/APR/Pool/Pool.so
%%SITE_ARCH%%/auto/APR/SockAddr/SockAddr.so
%%SITE_ARCH%%/auto/APR/Socket/Socket.so
%%SITE_ARCH%%/auto/APR/Status/Status.so
%%SITE_ARCH%%/auto/APR/String/String.so
%%SITE_ARCH%%/auto/APR/Table/Table.so
%%SITE_ARCH%%/auto/APR/ThreadMutex/ThreadMutex.so
%%SITE_ARCH%%/auto/APR/ThreadRWLock/ThreadRWLock.so
%%SITE_ARCH%%/auto/APR/URI/URI.so
%%SITE_ARCH%%/auto/APR/UUID/UUID.so
%%SITE_ARCH%%/auto/APR/Util/Util.so
%%SITE_ARCH%%/auto/Apache2/typemap
%%SITE_ARCH%%/auto/Apache2/Access/Access.so
%%SITE_ARCH%%/auto/Apache2/Build/autosplit.ix
%%SITE_ARCH%%/auto/Apache2/CmdParms/CmdParms.so
%%SITE_ARCH%%/auto/Apache2/Command/Command.so
%%SITE_ARCH%%/auto/Apache2/Connection/Connection.so
%%SITE_ARCH%%/auto/Apache2/ConnectionUtil/ConnectionUtil.so
%%SITE_ARCH%%/auto/Apache2/Const/Const.so
%%SITE_ARCH%%/auto/Apache2/Directive/Directive.so
%%SITE_ARCH%%/auto/Apache2/Filter/Filter.so
%%SITE_ARCH%%/auto/Apache2/FilterRec/FilterRec.so
%%SITE_ARCH%%/auto/Apache2/HookRun/HookRun.so
%%SITE_ARCH%%/auto/Apache2/Log/Log.so
%%SITE_ARCH%%/auto/Apache2/MPM/MPM.so
%%SITE_ARCH%%/auto/Apache2/Module/Module.so
%%SITE_ARCH%%/auto/Apache2/Process/Process.so
%%SITE_ARCH%%/auto/Apache2/Provider/Provider.so
%%SITE_ARCH%%/auto/Apache2/RequestIO/RequestIO.so
%%SITE_ARCH%%/auto/Apache2/RequestRec/RequestRec.so
%%SITE_ARCH%%/auto/Apache2/RequestUtil/RequestUtil.so
%%SITE_ARCH%%/auto/Apache2/Response/Response.so
%%SITE_ARCH%%/auto/Apache2/ServerRec/ServerRec.so
%%SITE_ARCH%%/auto/Apache2/ServerUtil/ServerUtil.so
%%SITE_ARCH%%/auto/Apache2/SubProcess/SubProcess.so
%%SITE_ARCH%%/auto/Apache2/SubRequest/SubRequest.so
%%SITE_ARCH%%/auto/Apache2/URI/URI.so
%%SITE_ARCH%%/auto/Apache2/Util/Util.so
%%SITE_ARCH%%/auto/ModPerl/Const/Const.so
%%SITE_ARCH%%/auto/ModPerl/Global/Global.so
%%SITE_ARCH%%/auto/ModPerl/InterpPool/InterpPool.so
%%SITE_ARCH%%/auto/ModPerl/Interpreter/Interpreter.so
%%SITE_ARCH%%/auto/ModPerl/TiPool/TiPool.so
%%SITE_ARCH%%/auto/ModPerl/TiPoolConfig/TiPoolConfig.so
%%SITE_ARCH%%/auto/ModPerl/Util/Util.so
%%SITE_ARCH%%/auto/mod_perl2/.packlist
bin/mp2bug
include/apache/
 mod_perl.h
 modperl_apache_compat.h
 modperl_apache_includes.h
 modperl_apr_compat.h
 modperl_apr_includes.h
 modperl_apr_perlio.h
 modperl_bucket.h
 modperl_callback.h
 modperl_cgi.h
 modperl_cmd.h
 modperl_common_includes.h
 modperl_common_log.h
 modperl_common_types.h
 modperl_common_util.h
 modperl_config.h
 modperl_const.h
 modperl_constants.h
 modperl_debug.h
 modperl_directives.h
 modperl_env.h
 modperl_error.h
 modperl_filter.h
 modperl_flags.h
 modperl_global.h
 modperl_gtop.h
 modperl_handler.h
 modperl_hooks.h
 modperl_interp.h
 modperl_io.h
 modperl_io_apache.h
 modperl_largefiles.h
 modperl_log.h
 modperl_mgv.h
 modperl_module.h
 modperl_options.h
 modperl_pcw.h
 modperl_perl.h
 modperl_perl_global.h
 modperl_perl_includes.h
 modperl_perl_pp.h
 modperl_perl_unembed.h
 modperl_svptr_table.h
 modperl_sys.h
 modperl_time.h
 modperl_tipool.h
 modperl_trace.h
 modperl_types.h
 modperl_util.h
 modperl_xs_sv_convert.h
 modperl_xs_typedefs.h
 modperl_xs_util.h
libexec/apache/mod_perl.%%SHARED_OBJECT%%


[FILE:444:patches/patch-Apache-Test_lib_Apache_TestConfig.pm]
--- Apache-Test/lib/Apache/TestConfig.pm.orig	2016-10-27 20:10:58 UTC
+++ Apache-Test/lib/Apache/TestConfig.pm
@@ -805,7 +805,7 @@ my $remote_addr;
 sub our_remote_addr {
     my $self = shift;
     my $name = $self->default_servername;
-    my $iaddr = (gethostbyname($name))[-1];
+    my $iaddr = Socket::inet_aton("127.0.0.1");
     unless (defined $iaddr) {
         error "Can't resolve host: '$name' (check /etc/hosts)";
         exit 1;

