# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		R-s2
VERSION=		1.0.6
KEYWORDS=		cran
VARIANTS=		standard
SDESC[standard]=	Spherical Geometry Operators from S2 library
HOMEPAGE=		https://r-spatial.github.io/s2/
CONTACT=		CRAN_Automaton[cran@ironwolf.systems]

DOWNLOAD_GROUPS=	main
SITES[main]=		CRAN/src/contrib
DISTFILE[1]=		s2_1.0.6.tar.gz:main
DIST_SUBDIR=		CRAN
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	R-Rcpp:single:standard
			R-wk:single:standard

USES=			cran gmake

DISTNAME=		s2

GENERATED=		yes

INSTALL_REQ_TOOLCHAIN=	yes

[FILE:449:descriptions/desc.single]
s2: Spherical Geometry Operators Using the S2 Geometry Library

Provides R bindings for Google's s2 library for geometric calculations on
the sphere. High-performance constructors and exporters provide high
compatibility with existing spatial packages, transformers construct new
geometries from existing geometries, predicates provide a means to select
geometries based on spatial relationships, and accessors extract
information about geometries.


[FILE:99:distinfo]
a6cc4ebf1e1c00abb632a324cd29e4ae061898b16bab46296e2081baee12a4f5      1605788 CRAN/s2_1.0.6.tar.gz


[FILE:280:patches/patch-configure]
--- configure.orig	2021-06-16 16:15:16 UTC
+++ configure
@@ -1,3 +1,4 @@
+#!/bin/sh
 # Anticonf (tm) script by Jeroen Ooms (2020)
 # This script will query 'pkg-config' for the required cflags and ldflags.
 # If pkg-config is unavailable or does not find the library, try setting


[FILE:442:patches/patch-src_s2_util_math_exactfloat_exactfloat.cc]
--- src/s2/util/math/exactfloat/exactfloat.cc.orig	2021-01-04 12:00:17 UTC
+++ src/s2/util/math/exactfloat/exactfloat.cc
@@ -108,7 +108,7 @@ inline static uint64 BN_ext_get_uint64(c
 #endif
 }
 
-#if OPENSSL_VERSION_NUMBER < 0x10100000L
+#if OPENSSL_VERSION_NUMBER < 0x10100000L || defined(LIBRESSL_VERSION_NUMBER)
 
 // Count the number of low-order zero bits in the given BIGNUM (ignoring its
 // sign).  Returns 0 if the argument is zero.

