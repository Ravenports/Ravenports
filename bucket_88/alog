# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		alog
VERSION=		0.6.2
KEYWORDS=		devel
VARIANTS=		std
SDESC[std]=		Stackable logging framework for Ada
HOMEPAGE=		https://www.codelabs.ch/alog
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://www.codelabs.ch/download/
DISTFILE[1]=		libalog-0.6.2.tar.bz2:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			docs

OPTIONS_AVAILABLE=	TESTED
OPTIONS_STANDARD=	TESTED

BUILD_DEPENDS=		ruby-asciidoctor:single:ruby_default
			python-scour:single:python_default

USES=			gprbuild gmake ada:primary

DISTNAME=		libalog-0.6.2

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/LICENSE
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/alog.ads
LICENSE_SCHEME=		solo

BUILD_TARGET=		all build-doc
MAKE_ARGS=		NUM_CPUS={{MAKE_JOBS_NUMBER}}
			VERSION=
SINGLE_JOB=		yes

INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		0.6.2

[TESTED].DESCRIPTION=			Run unit test suite before installation
[TESTED].BUILD_DEPENDS_ON=		ahven:set:std
[TESTED].BUILD_TARGET_ON=		tests

post-install:
	(cd ${WRKSRC}/doc && ${COPYTREE_SHARE} html ${STAGEDIR}${STD_DOCDIR})
	# ${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libalog.so

pre-configure:
	${REINPLACE_CMD} \
		-e '/^NUM_CPUS/d' \
		-e 's|lib/gnat|share/gpr|' \
		${WRKSRC}/Makefile
	${REINPLACE_CMD} -e 's/\(not-allowed\)/NONEXISTENT\/\1/' \
		${WRKSRC}/tests/facility_tests-fd.adb

[FILE:220:descriptions/desc.primary]
Alog is a stackable logging framework for Ada. It aims to be straight
forward to use and is easily extendable. It provides support for various
logger types, log facilities, loglevel policies and message
transformations.


[FILE:100:distinfo]
4f6f41aa85f7dec4bc2b4e10a26957514247eee4b5a498762fddab1714768425        57212 libalog-0.6.2.tar.bz2


[FILE:1190:manifests/plist.primary]
include/alog/
 alog-active_logger.adb
 alog-active_logger.ads
 alog-controlled_map.adb
 alog-controlled_map.ads
 alog-dst_filter.adb
 alog-dst_filter.ads
 alog-exceptions.ads
 alog-facilities-file_descriptor.adb
 alog-facilities-file_descriptor.ads
 alog-facilities-syslog.adb
 alog-facilities-syslog.ads
 alog-facilities.adb
 alog-facilities.ads
 alog-helpers.adb
 alog-helpers.ads
 alog-log_request.adb
 alog-log_request.ads
 alog-logger.adb
 alog-logger.ads
 alog-maps.adb
 alog-maps.ads
 alog-policy_db.adb
 alog-policy_db.ads
 alog-protected_containers.adb
 alog-protected_containers.ads
 alog-tasked_logger.adb
 alog-tasked_logger.ads
 alog-transforms-casing.adb
 alog-transforms-casing.ads
 alog-transforms.adb
 alog-transforms.ads
 alog.ads
 glue_syslog.c
lib/libalog.a
lib/alog/
 alog-active_logger.ali
 alog-controlled_map.ali
 alog-dst_filter.ali
 alog-exceptions.ali
 alog-facilities-file_descriptor.ali
 alog-facilities-syslog.ali
 alog-facilities.ali
 alog-helpers.ali
 alog-log_request.ali
 alog-logger.ali
 alog-maps.ali
 alog-policy_db.ali
 alog-protected_containers.ali
 alog-tasked_logger.ali
 alog-transforms-casing.ali
 alog-transforms.ali
 alog.ali
share/gpr/alog.gpr


[FILE:48:manifests/plist.docs]
share/doc/alog/html/
 alog-arch.svg
 index.html

