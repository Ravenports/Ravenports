# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		alog
VERSION=		0.5.2
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Stackable logging framework for Ada
HOMEPAGE=		http://www.codelabs.ch/alog
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://www.codelabs.ch/download/
DISTFILE[1]=		libalog-0.5.2.tar.bz2:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs

OPTIONS_AVAILABLE=	TESTED
OPTIONS_STANDARD=	TESTED

BUILD_DEPENDS=		asciidoc:single:py27
			source-highlight:primary:standard

USES=			gprbuild gmake

DISTNAME=		libalog-0.5.2

LICENSE=		LGPL21+:primary
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/alog

BUILD_TARGET=		all doc
MAKE_ARGS=		NUM_CPUS={{MAKE_JOBS_NUMBER}}
			LIBRARY_KIND=static
SINGLE_JOB=		yes

[TESTED].DESCRIPTION=			Run unit test suite before installation
[TESTED].BUILD_DEPENDS_ON=		ahven:primary:standard
[TESTED].BUILD_TARGET_ON=		tests

post-patch:
	${REINPLACE_CMD} -e '/^NUM_CPUS/d' ${WRKSRC}/Makefile
	${REINPLACE_CMD} -e 's/\(not-allowed\)/NONEXISTENT\/\1/' \
		${WRKSRC}/tests/facility_tests-fd.adb

do-install:
	${MKDIR} ${STAGEDIR}${PREFIX}/lib/gnat \
		${STAGEDIR}${PREFIX}/lib/alog \
		${STAGEDIR}${PREFIX}/include/alog \
		${STAGEDIR}${STD_DOCDIR}
	${INSTALL_DATA} ${WRKSRC}/src/* ${STAGEDIR}${PREFIX}/include/alog
	${INSTALL_DATA} ${WRKSRC}/lib/*/*.ali ${STAGEDIR}${PREFIX}/lib/alog
	${INSTALL_DATA} ${WRKSRC}/gnat/alog.gpr ${STAGEDIR}${PREFIX}/lib/gnat
	${INSTALL_DATA} ${WRKSRC}/lib/*/libalog.a ${STAGEDIR}${PREFIX}/lib/alog
	(cd ${WRKSRC}/doc && ${COPYTREE_SHARE} html ${STAGEDIR}${STD_DOCDIR})

[FILE:220:descriptions/desc.primary]
Alog is a stackable logging framework for Ada. It aims to be straight
forward to use and is easily extendable. It provides support for various
logger types, log facilities, loglevel policies and message
transformations.


[FILE:100:distinfo]
596ca4fe8b1c738c1fbf25bc5c9abbb2212e18b2c9681ed047802107de38d033        72230 libalog-0.5.2.tar.bz2


[FILE:1201:manifests/plist.primary]
include/alog/
 alog-active_logger.adb
 alog-active_logger.ads
 alog-controlled_map.adb
 alog-controlled_map.ads
 alog-exceptions.ads
 alog-facilities-file_descriptor.adb
 alog-facilities-file_descriptor.ads
 alog-facilities-syslog.adb
 alog-facilities-syslog.ads
 alog-facilities.adb
 alog-facilities.ads
 alog-helpers.adb
 alog-helpers.ads
 alog-log_request.adb
 alog-log_request.ads
 alog-logger.adb
 alog-logger.ads
 alog-maps.adb
 alog-maps.ads
 alog-policy_db-types.adb
 alog-policy_db-types.ads
 alog-policy_db.adb
 alog-policy_db.ads
 alog-protected_containers.adb
 alog-protected_containers.ads
 alog-tasked_logger.adb
 alog-tasked_logger.ads
 alog-transforms-casing.adb
 alog-transforms-casing.ads
 alog-transforms.adb
 alog-transforms.ads
 alog.ads
 glue_syslog.c
lib/alog/
 alog-active_logger.ali
 alog-controlled_map.ali
 alog-exceptions.ali
 alog-facilities-file_descriptor.ali
 alog-facilities-syslog.ali
 alog-facilities.ali
 alog-helpers.ali
 alog-log_request.ali
 alog-logger.ali
 alog-maps.ali
 alog-policy_db-types.ali
 alog-policy_db.ali
 alog-protected_containers.ali
 alog-tasked_logger.ali
 alog-transforms-casing.ali
 alog-transforms.ali
 alog.ali
 libalog.a
lib/gnat/alog.gpr


[FILE:91:manifests/plist.docs]
share/doc/alog/html/
 CHANGELOG.html
 README.html
 alog-arch.png
 asciidoc.css
 index.html

