# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		harec
VERSION=		0.24.2
KEYWORDS=		lang
VARIANTS=		std
SDESC[std]=		Hare language compiler
HOMEPAGE=		https://harelang.org/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://git.sr.ht/~sircmpwn/harec/archive/
DISTFILE[1]=		0.24.2.tar.gz:main
DIST_SUBDIR=		harec
DF_INDEX=		1
SPKGS[std]=		set
			primary
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BROKEN[dragonfly]=	src/lex.c:144:15: error: expected declaration specifiers or '...' before 'sizeof'

BUILDRUN_DEPENDS=	qbe:primary:std

USES=			gmake

FPC_EQUIVALENT=		lang/harec

pre-build-freebsd:
	(cd ${WRKSRC} && ${CP} configs/freebsd.mk config.mk)

pre-build-linux:
	(cd ${WRKSRC} && ${CP} configs/linux.mk config.mk)

do-build:
	(cd ${WRKSRC} && \
		${REINPLACE_CMD} 's|/usr/local|${PREFIX}|' config.mk && \
		make VERSION=0.24.2)

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/harec

pre-build-netbsd:
	(cd ${WRKSRC} && ${CP} configs/netbsd.mk config.mk)

pre-build-midnightbsd:
	(cd ${WRKSRC} && ${CP} configs/freebsd.mk config.mk)

do-install:
	(cd ${WRKSRC} && make DESTDIR=${STAGEDIR} PREFIX=${PREFIX} install)
	${MKDIR} -p ${STAGEDIR}${PREFIX}/share/doc/harec
	${INSTALL_DATA} ${WRKSRC}/docs/*.txt ${STAGEDIR}${PREFIX}/share/doc/harec/

pre-build-dragonfly:
	(cd ${WRKSRC} && ${CP} configs/freebsd.mk config.mk)

[FILE:349:descriptions/desc.primary]
This is the Hare compiler written in C11.

Hare is a systems programming language designed to be simple, stable, and 
robust. Hare uses a static type system, manual memory management, and a 
minimal runtime. It is well-suited to writing operating systems, system 
tools, compilers, networking software, and other low-level, high 
performance tasks.


[FILE:98:distinfo]
88b3961b236fbfe3a0dfb46bb954741fa5c031bbda6d07fbc238c98f0abb41a2       201789 harec/0.24.2.tar.gz


[FILE:10:manifests/plist.primary]
bin/harec


[FILE:79:manifests/plist.docs]
share/doc/harec/
 declaration_solver.txt
 env.txt
 exit_codes.txt
 runtime.txt

