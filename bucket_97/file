# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		file
VERSION=		5.29
KEYWORDS=		sysutils
VARIANTS=		standard
SDESC[standard]=	Utility to determine file type
HOMEPAGE=		http://darwinsys.com/file
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		ftp://ftp.astron.com/pub/file/
			ftp://ftp.fu-berlin.de/unix/tools/file/
DISTFILE[1]=		file-5.29.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		zlib:static:standard
USES=			libtool

LICENSE=		BSD2CLAUSE:single
LICENSE_SCHEME=		solo
LICENSE_FILE=		BSD2CLAUSE:{{WRKSRC}}/COPYING

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-fsect-man5
			--enable-shared=no

MAKE_ENV=		INSTALL_STRIP_FLAG="{{STRIP}}"

post-patch:
	@${REINPLACE_CMD} -e 's|$$(datadir)/misc|$$(datadir)/file|g' \
		${WRKSRC}/configure

do-test:
	@(cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MAKE_CMD} ${MAKE_ARGS} check)

[FILE:250:descriptions/desc.single]
File tests each argument in an attempt to classify it. There are three sets
of tests, performed in the following order:

  - filesystem tests
  - magic number tests
  - language tests

The first test that succeeds causes the file type to be printed.


[FILE:95:distinfo]
ea661277cd39bf8f063d3a83ee875432cc3680494169f952787e002bdd3884c0       783919 file-5.29.tar.gz


[FILE:141:manifests/plist.single]
bin/file
include/magic.h
lib/libmagic.a
share/man/man1/file.1.gz
share/man/man3/libmagic.3.gz
share/man/man5/magic.5.gz
share/file/magic.mgc


[FILE:230:dragonfly/patch-src_file.h]
--- src/file.h.orig	2015-01-01 17:07:34 UTC
+++ src/file.h
@@ -491,6 +491,7 @@ protected int file_os2_apptype(struct ma
 #include <locale.h>
 #endif
 #if defined(HAVE_XLOCALE_H)
+#include <wchar.h>
 #include <xlocale.h>
 #endif
 

