# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		l-smash
VERSION=		2.9.1
KEYWORDS=		multimedia
VARIANTS=		standard
SDESC[standard]=	MP4 muxer and other tools
HOMEPAGE=		https://l-smash.github.io/l-smash/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/l-smash:l-smash:v2.9.1
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gmake

LICENSE=		ISCL:single
LICENSE_SCHEME=		solo
LICENSE_FILE=		ISCL:{{WRKSRC}}/LICENSE

FPC_EQUIVALENT=		multimedia/l-smash

MUST_CONFIGURE=		yes
CONFIGURE_ARGS=		--prefix="{{PREFIX}}"
			--cc="{{CC}}"
			--extra-cflags="{{CPPFLAGS}} {{CFLAGS}}"
			--extra-ldflags="{{LDFLAGS}}"
			--extra-libs="{{LIBS}}"
			--enable-shared

MAKE_ARGS=		STRIP="{{STRIP_CMD}}"

post-patch:
	@${REINPLACE_CMD} -e 's/-Os //; /=.*-fexcess-precision/d' \
		${WRKSRC}/configure
	@${REINPLACE_CMD} -e '/SHARED/,/^$$/ { /STRIP/s/-x //; }' \
		${WRKSRC}/${MAKEFILE}

[FILE:100:descriptions/desc.single]
L-SMASH is a cross-platform library for dealing with ISO Base Media
derived formats, including MP4.


[FILE:107:distinfo]
17f24fc8bffba753f8c628f1732fc3581b80362341274747ef6fb96af1cac45c       450834 l-smash-l-smash-2.9.1.tar.gz


[FILE:140:manifests/plist.single]
bin/
 boxdumper
 muxer
 remuxer
 timelineeditor
include/lsmash.h
lib/
 liblsmash.a
 liblsmash.so
 liblsmash.so.2
lib/pkgconfig/liblsmash.pc

