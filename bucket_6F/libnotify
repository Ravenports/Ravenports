# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libnotify
VERSION=		0.8.1
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Library for desktop notifications
HOMEPAGE=		https://gitlab.gnome.org/GNOME/libnotify
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://ftp.gnome.org/pub/GNOME/sources/libnotify/0.8/
DISTFILE[1]=		libnotify-0.8.1.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		docbook-xsl:primary:standard

USES=			gettext-runtime gmake meson pkgconfig gtk-doc
GNOME_COMPONENTS=	glib gdkpixbuf intltool introspection

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/libnotify/notify.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/libnotify
MESON_ARGS=		-Dtests=false
			-Dintrospection=enabled
			-Dgtk_doc=true
			-Ddocbook_docs=disabled

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		4.0.0
PLIST_SUB=		NOTIFYVERS=0.7

post-patch:
	${REINPLACE_CMD} -e "s|http://docbook.sourceforge.net/release/xsl-ns/|http://cdn.docbook.org/release/xsl/|" ${WRKSRC}/meson.build

pre-build:
	# workaround bad meson definition so <libnotify/*.h> headers can be found
	${LN} -s ${STAGEDIR}${PREFIX}/include/libnotify ${LOCALBASE}/include/libnotify

post-install:
	${RM} ${LOCALBASE}/include/libnotify

post-patch-sunos:
	${REINPLACE_CMD} -e 's|link_args: libnotify_ldflags|link_args: []|'\
		${WRKSRC}/libnotify/meson.build

[FILE:425:descriptions/desc.primary]
The Desktop Notifications framework provides a standard way of doing 
passive pop-up notifications on the desktop. These are designed to notify 
the user of something without interrupting their work with a dialog box 
that they must close. Passive popups can automatically disappear after a 
short period of time.

This package contains the library as well as a small command line client. 
The daemon is packaged seperately.


[FILE:101:distinfo]
d033e6d4d6ccbf46a436c31628a4b661b36dca1f5d4174fe0173e274f4e62557       105368 libnotify-0.8.1.tar.xz


[FILE:324:manifests/plist.primary]
bin/notify-send
include/libnotify/
 notification.h
 notify-enum-types.h
 notify-features.h
 notify.h
lib/
 libnotify.so
 libnotify.so.%%SOMAJOR%%
 libnotify.so.%%SOVERSION%%
lib/girepository-1.0/Notify-%%NOTIFYVERS%%.typelib
lib/pkgconfig/libnotify.pc
share/gir-1.0/Notify-%%NOTIFYVERS%%.gir
share/man/man1/notify-send.1.gz


[FILE:281:manifests/plist.docs]
share/doc/libnotify/
 NotifyNotification.html
 annotation-glossary.html
 api-index-deprecated.html
 api-index-full.html
 ch01.html
 home.png
 index.html
 left-insensitive.png
 left.png
 libnotify-notify.html
 right-insensitive.png
 right.png
 style.css
 up-insensitive.png
 up.png


[FILE:175:dragonfly/patch-libnotify_libnotify.map]
--- libnotify/libnotify.map.orig	2022-07-17 13:00:39 UTC
+++ libnotify/libnotify.map
@@ -1,5 +1,7 @@
 {
 global:
+    __progname;
+    environ;
     notify_*;
 local:
     *;


[FILE:175:freebsd/patch-libnotify_libnotify.map]
--- libnotify/libnotify.map.orig	2022-07-17 13:00:39 UTC
+++ libnotify/libnotify.map
@@ -1,5 +1,7 @@
 {
 global:
+    __progname;
+    environ;
     notify_*;
 local:
     *;

