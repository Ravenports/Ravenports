# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libnotify
VERSION=		0.8.3
KEYWORDS=		devel
VARIANTS=		std
SDESC[std]=		Library for desktop notifications
HOMEPAGE=		https://gitlab.gnome.org/GNOME/libnotify
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://ftp.gnome.org/pub/GNOME/sources/libnotify/0.8/
DISTFILE[1]=		libnotify-0.8.3.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			tools
			docs
			man
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		cmake:primary:std
			docbook-xsl:primary:std
			python-gi-docgen:set:python_default
EXRUN[tools]=		libnotify:primary:std
EXRUN[dev]=		glib:dev:std
			gdk-pixbuf:dev:std

USES=			meson pkgconfig gtk-doc
GNOME_COMPONENTS=	glib gdkpixbuf gtk3 intltool introspection

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/libnotify/notify.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/libnotify
MESON_ARGS=		-Dtests=false
			-Dintrospection=enabled
			-Dgtk_doc=true
			-Ddocbook_docs=disabled

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		4.0.0
PLIST_SUB=		NOTIFYVERS=0.7

pre-build:
	# workaround bad meson definition so <libnotify/*.h> headers can be found
	${LN} -s ${STAGEDIR}${PREFIX}/include/libnotify ${LOCALBASE}/include/libnotify

post-install:
	${RM} ${LOCALBASE}/include/libnotify

pre-configure:
	${REINPLACE_CMD} -e "s|http://docbook.sourceforge.net/release/xsl-ns/current/|file://${LOCALBASE}/share/xsl/docbook/|" \
		${WRKSRC}/meson.build

post-patch-sunos:
	${REINPLACE_CMD} -e 's|link_args: libnotify_ldflags|link_args: []|'\
		${WRKSRC}/libnotify/meson.build

[FILE:425:descriptions/desc.primary]
The Desktop Notifications framework provides a standard way of doing 
passive pop-up notifications on the desktop. These are designed to notify 
the user of something without interrupting their work with a dialog box 
that they must close. Passive popups can automatically disappear after a 
short period of time.

This package contains the library as well as a small command line client. 
The daemon is packaged seperately.


[FILE:44:descriptions/desc.tools]
This package contains the notify-send tool.


[FILE:101:distinfo]
ee8f3ef946156ad3406fdf45feedbdcd932dbd211ab4f16f75eba4f36fb2f6c0       106008 libnotify-0.8.3.tar.xz


[FILE:150:manifests/plist.primary]
lib/
 libnotify.so.%%SOMAJOR%%
 libnotify.so.%%SOVERSION%%
lib/girepository-1.0/Notify-%%NOTIFYVERS%%.typelib
share/gir-1.0/Notify-%%NOTIFYVERS%%.gir


[FILE:16:manifests/plist.tools]
bin/notify-send


[FILE:2690:manifests/plist.docs]
share/doc/libnotify-0/
 RedHatDisplay-Black.woff
 RedHatDisplay-Black.woff2
 RedHatDisplay-BlackItalic.woff
 RedHatDisplay-BlackItalic.woff2
 RedHatDisplay-Bold.woff
 RedHatDisplay-Bold.woff2
 RedHatDisplay-BoldItalic.woff
 RedHatDisplay-BoldItalic.woff2
 RedHatDisplay-Italic.woff
 RedHatDisplay-Italic.woff2
 RedHatDisplay-Medium.woff
 RedHatDisplay-Medium.woff2
 RedHatDisplay-MediumItalic.woff
 RedHatDisplay-MediumItalic.woff2
 RedHatDisplay-Regular.woff
 RedHatDisplay-Regular.woff2
 RedHatText-Bold.woff
 RedHatText-Bold.woff2
 RedHatText-BoldItalic.woff
 RedHatText-BoldItalic.woff2
 RedHatText-Italic.woff
 RedHatText-Italic.woff2
 RedHatText-Medium.woff
 RedHatText-Medium.woff2
 RedHatText-MediumItalic.woff
 RedHatText-MediumItalic.woff2
 RedHatText-Regular.woff
 RedHatText-Regular.woff2
 SourceCodePro-It.ttf.woff
 SourceCodePro-Regular.ttf.woff
 SourceCodePro-Semibold.ttf.woff
 callback.ActionCallback.html
 class.Notification.html
 classes_hierarchy.html
 const.EXPIRES_DEFAULT.html
 const.EXPIRES_NEVER.html
 const.VERSION_MAJOR.html
 const.VERSION_MICRO.html
 const.VERSION_MINOR.html
 ctor.Notification.new.html
 enum.ClosedReason.html
 enum.Urgency.html
 fonts.css
 func.ACTION_CALLBACK.html
 func.CHECK_VERSION.html
 func.get_app_name.html
 func.get_server_caps.html
 func.get_server_info.html
 func.init.html
 func.is_initted.html
 func.set_app_name.html
 func.uninit.html
 fzy.js
 go-up-symbolic.png
 index.html
 index.json
 libnotify-0.devhelp2
 main.js
 method.Notification.add_action.html
 method.Notification.clear_actions.html
 method.Notification.clear_hints.html
 method.Notification.close.html
 method.Notification.get_activation_token.html
 method.Notification.get_closed_reason.html
 method.Notification.set_app_name.html
 method.Notification.set_category.html
 method.Notification.set_hint.html
 method.Notification.set_hint_byte.html
 method.Notification.set_hint_byte_array.html
 method.Notification.set_hint_double.html
 method.Notification.set_hint_int32.html
 method.Notification.set_hint_string.html
 method.Notification.set_hint_uint32.html
 method.Notification.set_icon_from_pixbuf.html
 method.Notification.set_image_from_pixbuf.html
 method.Notification.set_timeout.html
 method.Notification.set_urgency.html
 method.Notification.show.html
 method.Notification.update.html
 opensearch.xml
 property.Notification.app-name.html
 property.Notification.body.html
 property.Notification.closed-reason.html
 property.Notification.icon-name.html
 property.Notification.id.html
 property.Notification.summary.html
 search.js
 signal.Notification.closed.html
 solarized-dark.css
 solarized-light.css
 style.css
 urlmap.js
 vfunc.Notification.closed.html


[FILE:29:manifests/plist.man]
share/man/man1/notify-send.1


[FILE:129:manifests/plist.dev]
include/libnotify/
 notification.h
 notify-enum-types.h
 notify-features.h
 notify.h
lib/libnotify.so
lib/pkgconfig/libnotify.pc


[FILE:175:dragonfly/patch-libnotify_libnotify.map]
--- libnotify/libnotify.map.orig	2023-10-09 21:24:46 UTC
+++ libnotify/libnotify.map
@@ -1,5 +1,7 @@
 {
 global:
+    __progname;
+    environ;
     notify_*;
 local:
     *;


[FILE:175:freebsd/patch-libnotify_libnotify.map]
--- libnotify/libnotify.map.orig	2023-10-09 21:24:46 UTC
+++ libnotify/libnotify.map
@@ -1,5 +1,7 @@
 {
 global:
+    __progname;
+    environ;
     notify_*;
 local:
     *;

