# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		lftp
VERSION=		4.9.3
KEYWORDS=		ftp
VARIANTS=		std
SDESC[std]=		Command-line ftp client
HOMEPAGE=		http://lftp.yar.ru/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://lftp.yar.ru/ftp/
DISTFILE[1]=		lftp-4.9.3.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			nls
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libidn2:dev:std
BUILDRUN_DEPENDS=	libidn2:primary:std

USES=			charsetfix iconv libtool readline shebangfix cpe
			gettext ncurses zlib c++:primary expat ssl:openssl30

LICENSE=		GPLv3+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/lftp.cc
LICENSE_SCHEME=		solo

CPE_VENDOR=		lftp_project
FPC_EQUIVALENT=		ftp/lftp
SHEBANG_FILES=		src/verify-file
			src/convert-mozilla-cookies
			src/xdg-move

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-nls
			--with-openssl={{OPENSSLBASE}}
			--with-readline={{PREFIX}}
			--with-zlib={{PREFIX}}

CXXFLAGS=		-Wno-template-id-cdtor

post-install:
	${MV} ${STAGEDIR}${PREFIX}/etc/lftp.conf \
		${STAGEDIR}${PREFIX}/etc/lftp.conf.sample

[FILE:385:descriptions/desc.primary]
LFTP is a sophisticated file transfer program supporting a number of
network protocols (ftp, http, sftp, fish, torrent). Like BASH, it has job
control and uses the readline library for input. It has bookmarks, a
built-in mirror command, and can transfer several files in parallel. It was
designed with reliability in mind. LFTP is free software, distributed under
the GNU GPL license.


[FILE:96:distinfo]
68116cc184ab660a78a4cef323491e89909e5643b59c7b5f0a14f7c2b20e0a29      3385456 lftp-4.9.3.tar.gz


[FILE:286:manifests/plist.primary]
@sample etc/lftp.conf.sample
bin/
 lftp
 lftpget
lib/
 liblftp-jobs.a
 liblftp-tasks.a
share/applications/lftp.desktop
share/icons/hicolor/48x48/apps/lftp-icon.png
share/lftp/
 convert-mozilla-cookies
 import-ncftp
 import-netscape
 verify-file
 xdg-move
share/zsh/site-functions/_lftp


[FILE:552:manifests/plist.nls]
share/locale/cs/LC_MESSAGES/lftp.mo
share/locale/de/LC_MESSAGES/lftp.mo
share/locale/es/LC_MESSAGES/lftp.mo
share/locale/fr/LC_MESSAGES/lftp.mo
share/locale/it/LC_MESSAGES/lftp.mo
share/locale/ja/LC_MESSAGES/lftp.mo
share/locale/ko/LC_MESSAGES/lftp.mo
share/locale/pl/LC_MESSAGES/lftp.mo
share/locale/pt_BR/LC_MESSAGES/lftp.mo
share/locale/ru/LC_MESSAGES/lftp.mo
share/locale/sr/LC_MESSAGES/lftp.mo
share/locale/uk/LC_MESSAGES/lftp.mo
share/locale/zh_CN/LC_MESSAGES/lftp.mo
share/locale/zh_HK/LC_MESSAGES/lftp.mo
share/locale/zh_TW/LC_MESSAGES/lftp.mo


[FILE:62:manifests/plist.man]
share/man/man1/
 lftp.1
 lftpget.1
share/man/man5/lftp.conf.5


[FILE:2829:patches/patch-doc_lftp.1]
--- doc/lftp.1.orig	2024-01-31 08:57:49 UTC
+++ doc/lftp.1
@@ -165,7 +165,7 @@ any command that accepts input URLs usin
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 add <name> [<loc>]	T{
 add current place or given location to bookmarks and bind to given name
 T}
@@ -184,7 +184,7 @@ The following subcommands are recognized
 .Sp
 .RE
 .TS
-l	lx	.
+l	l	.
 stat	print cache status (default)
 on|off	turn on/off caching
 flush	flush cache
@@ -423,7 +423,7 @@ instances of \fIrfile\fP (and \-o \fIlfi
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 \-c	continue, reget
 \-E	delete source files after successful transfer
 \-e	delete target file before the transfer
@@ -452,7 +452,7 @@ Transfer a single file. Options:
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 \-o <lfile>	T{
 destination file name (default - basename of rfile)
 T}
@@ -479,7 +479,7 @@ Glob given patterns containing metachara
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 \-f	plain files (default)
 \-d	directories
 \-a	all types
@@ -585,7 +585,7 @@ Gets selected files with expanded wildca
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 \-c	continue, reget.
 \-d	T{
 create directories the same as file names and get the files into them instead of current directory.
@@ -619,7 +619,7 @@ name of the source directory is appended
 .Sp
 .RS
 .TS
-l1	l	lx	.
+l1	l	l	.
 \-c,	\-\-continue	T{
 continue a mirror job if possible
 T}
@@ -871,7 +871,7 @@ local name as remote one. This can be ch
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 \-c	continue, reput
 \-d	T{
 create directories the same as in file names and put the files into them instead of current directory
@@ -963,7 +963,7 @@ Options:
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 \-c	T{
 continue transfer. Requires \fIlfile.lftp-pget-status\fP file.
 T}
@@ -988,7 +988,7 @@ of \fIlfile\fP is used as remote name. D
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 \-o <rfile>	T{
 specifies remote file name (default - basename of lfile)
 T}
@@ -1046,7 +1046,7 @@ destination is given.
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 \-q	Be quiet.
 \-v	Be verbose.
 \-Q	T{
@@ -1068,7 +1068,7 @@ Examples:
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 queue \-d 3	Delete the third item in the queue.
 queue \-m 6 4	T{
 Move the sixth item in the queue before the fourth.
@@ -1132,7 +1132,7 @@ Default delay is one second, default com
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 \-c <count>	maximum number of iterations
 \-d <delay>	delay between iterations
 \-\-while\-ok	stop when command exits with non-zero code
@@ -1180,7 +1180,7 @@ It can be changed by options:
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 \-a	list all settings, including default values
 \-d	list only default values, not necessary current ones
 .TE
@@ -1240,7 +1240,7 @@ Options:
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 \-O <directory>	T{
 specifies base directory where files should be placed
 T}
@@ -1518,7 +1518,7 @@ The following escapes are supported:
 .Sp
 .RS
 .TS
-l	lx	.
+l	l	.
 \\a	bell
 \\e	escape
 \\n	new line


[FILE:808:patches/patch-po_Makevars]
--- po/Makevars.orig	2022-02-24 16:27:37 UTC
+++ po/Makevars
@@ -53,3 +53,15 @@ MSGID_BUGS_ADDRESS = lftp-bugs@lftp.yar.
 # This is the list of locale categories, beyond LC_MESSAGES, for which the
 # message catalogs shall be used.  It is usually empty.
 EXTRA_LOCALE_CATEGORIES = 
+
+# This tells whether or not to regenerate a PO file when $(DOMAIN).pot
+# has changed.  Possible values are "yes" and "no".  Set this to no if
+# the POT file is checked in the repository and the version control
+# program ignores timestamps.
+PO_DEPENDS_ON_POT = yes
+
+# This tells whether or not to forcibly update $(DOMAIN).pot and
+# regenerate PO files on "make dist".  Possible values are "yes" and
+# "no".  Set this to no if the POT file and PO files are maintained
+# externally.
+DIST_DEPENDS_ON_UPDATE_PO = yes


[FILE:324:patches/patch-src_Makefile.in]
--- src/Makefile.in.orig	2024-11-08 10:32:23 UTC
+++ src/Makefile.in
@@ -3462,7 +3462,7 @@ info: info-am
 
 info-am:
 
-install-data-am: install-pkgdataSCRIPTS install-pkgverlibLTLIBRARIES
+install-data-am: install-pkgdataSCRIPTS
 	@$(NORMAL_INSTALL)
 	$(MAKE) $(AM_MAKEFLAGS) install-data-hook
 install-dvi: install-dvi-am


[FILE:338:patches/patch-src_lftp__pty.c]
--- src/lftp_pty.c.orig	2022-02-24 16:27:37 UTC
+++ src/lftp_pty.c
@@ -33,8 +33,12 @@
 #ifdef HAVE_TERMIOS_H
 # include <termios.h>
 #endif
-#ifdef HAVE_UTIL_H
+#if defined(__FreeBSD__) || defined(__DragonFly__)
+# include <libutil.h>
+#else
+# ifdef HAVE_UTIL_H
 # include <util.h>
+# endif
 #endif
 #ifdef HAVE_PTY_H
 # include <pty.h>

