# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		lftp
VERSION=		4.8.2
KEYWORDS=		ftp
VARIANTS=		standard
SDESC[standard]=	Command-line ftp client
HOMEPAGE=		http://lftp.tech/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://lftp.tech/ftp/
			http://lftp.tech/ftp/old/
			http://ftp.st.ryukoku.ac.jp/pub/network/ftp/lftp/
DISTFILE[1]=		lftp-4.8.2.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		expat:static:standard
BUILDRUN_DEPENDS=	expat:shared:standard
			libidn2:primary:standard

USES=			charsetfix iconv libtool readline shebangfix
			gettext-tools gettext-runtime ssl zlib c++:single

LICENSE=		GPLv3:single
LICENSE_SCHEME=		solo
LICENSE_FILE=		GPLv3:{{WRKSRC}}/COPYING

FPC_EQUIVALENT=		ftp/lftp
SHEBANG_FILES=		src/verify-file
			src/convert-mozilla-cookies
			src/xdg-move

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-nls
			--with-openssl={{OPENSSLBASE}}
			--with-readline={{PREFIX}}
			--with-zlib={{PREFIX}}

post-install:
	${MV} ${STAGEDIR}${PREFIX}/etc/lftp.conf \
		${STAGEDIR}${PREFIX}/etc/lftp.conf.sample

[FILE:385:descriptions/desc.single]
LFTP is a sophisticated file transfer program supporting a number of
network protocols (ftp, http, sftp, fish, torrent). Like BASH, it has job
control and uses the readline library for input. It has bookmarks, a
built-in mirror command, and can transfer several files in parallel. It was
designed with reliability in mind. LFTP is free software, distributed under
the GNU GPL license.


[FILE:96:distinfo]
9b21261faaa05d4fd235589cc21e2e45fc14c9314d7b4bb1f1aec44ea39eb3ee      2824498 lftp-4.8.2.tar.gz


[FILE:842:manifests/plist.single]
@sample etc/lftp.conf.sample
bin/
 lftp
 lftpget
lib/
 liblftp-jobs.a
 liblftp-tasks.a
share/applications/lftp.desktop
share/icons/hicolor/48x48/apps/lftp-icon.png
share/lftp/
 convert-mozilla-cookies
 import-ncftp
 import-netscape
 verify-file
 xdg-move
share/locale/cs/LC_MESSAGES/lftp.mo
share/locale/de/LC_MESSAGES/lftp.mo
share/locale/es/LC_MESSAGES/lftp.mo
share/locale/fr/LC_MESSAGES/lftp.mo
share/locale/it/LC_MESSAGES/lftp.mo
share/locale/ja/LC_MESSAGES/lftp.mo
share/locale/ko/LC_MESSAGES/lftp.mo
share/locale/pl/LC_MESSAGES/lftp.mo
share/locale/pt_BR/LC_MESSAGES/lftp.mo
share/locale/ru/LC_MESSAGES/lftp.mo
share/locale/uk/LC_MESSAGES/lftp.mo
share/locale/zh_CN/LC_MESSAGES/lftp.mo
share/locale/zh_HK/LC_MESSAGES/lftp.mo
share/locale/zh_TW/LC_MESSAGES/lftp.mo
share/man/man1/
 lftp.1.gz
 lftpget.1.gz
share/man/man5/lftp.conf.5.gz


[FILE:2923:patches/patch-doc_lftp.1]
--- doc/lftp.1.orig	2017-05-12 09:06:37 UTC
+++ doc/lftp.1
@@ -165,7 +165,7 @@ any command that accepts input URLs usin
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 add <name> [<loc>]	T{
 add current place or given location to bookmarks and bind to given name
 T}
@@ -184,7 +184,7 @@ The following subcommands are recognized
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 stat	print cache status (default)
 on|off	turn on/off caching
 flush	flush cache
@@ -392,7 +392,7 @@ instances of \fIrfile\fP (and \-o \fIlfi
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 \-c	continue, reget
 \-E	delete source files after successful transfer
 \-e	delete target file before the transfer
@@ -421,7 +421,7 @@ Transfer a single file. Options:
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 \-o <lfile>	T{
 destination file name (default - basename of rfile)
 T}
@@ -448,7 +448,7 @@ Glob given patterns containing metachara
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 \-f	plain files (default)
 \-d	directories
 \-a	all types
@@ -539,7 +539,7 @@ Gets selected files with expanded wildca
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 \-c	continue, reget.
 \-d	T{
 create directories the same as file names and get the files into them instead of current directory.
@@ -565,7 +565,7 @@ directory name. Source and/or target can
 .Sp
 .in +0.5i
 .TS
-l1	l	lx	.
+l1	l	l	.
 \-c,	\-\-continue	T{
 continue a mirror job if possible
 T}
@@ -819,7 +819,7 @@ local name as remote one. This can be ch
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 \-c	continue, reput
 \-d	T{
 create directories the same as in file names and put the files into them instead of current directory
@@ -907,7 +907,7 @@ Options:
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 \-c	T{
 continue transfer. Requires \fIlfile.lftp-pget-status\fP file.
 T}
@@ -932,7 +932,7 @@ of \fIlfile\fP is used as remote name. D
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 \-o <rfile>	T{
 specifies remote file name (default - basename of lfile)
 T}
@@ -990,7 +990,7 @@ destination is given.
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 \-q	Be quiet.
 \-v	Be verbose.
 \-Q	T{
@@ -1012,7 +1012,7 @@ Examples:
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 queue \-d 3	Delete the third item in the queue.
 queue \-m 6 4	T{
 Move the sixth item in the queue before the fourth.
@@ -1076,7 +1076,7 @@ Default delay is one second, default com
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 \-c <count>	maximum number of iterations
 \-d <delay>	delay between iterations
 \-\-while\-ok	stop when command exits with non-zero code
@@ -1124,7 +1124,7 @@ It can be changed by options:
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 \-a	list all settings, including default values
 \-d	list only default values, not necessary current ones
 .TE
@@ -1184,7 +1184,7 @@ Options:
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 \-O <directory>	T{
 specifies base directory where files should be placed
 T}
@@ -1462,7 +1462,7 @@ The following escapes are supported:
 .Sp
 .in +0.5i
 .TS
-l	lx	.
+l	l	.
 \\a	bell
 \\e	escape
 \\n	new line


[FILE:502:patches/patch-lib_cdefs.h]
--- lib/cdefs.h.orig	2017-09-12 14:13:24 UTC
+++ lib/cdefs.h
@@ -282,13 +282,6 @@
 # define __attribute_format_strfmon__(a,b) /* Ignore */
 #endif
 
-/* The nonull function attribute allows to mark pointer parameters which
-   must not be NULL.  */
-#if __GNUC_PREREQ (3,3)
-# define __nonnull(params) __attribute__ ((__nonnull__ params))
-#else
-# define __nonnull(params)
-#endif
 
 /* If fortification mode, we warn about unused results of certain
    function calls which can lead to problems.  */


[FILE:242:patches/patch-lib_libc-config.h]
--- lib/libc-config.h.orig	2017-09-12 14:13:24 UTC
+++ lib/libc-config.h
@@ -136,7 +136,6 @@
 #undef __glibc_macro_warning1
 #undef __glibc_unlikely
 #undef __inline
-#undef __nonnull
 #undef __ptr_t
 #undef __restrict
 #undef __restrict_arr


[FILE:808:patches/patch-po_Makevars]
--- po/Makevars.orig	2017-04-21 20:45:54 UTC
+++ po/Makevars
@@ -53,3 +53,15 @@ MSGID_BUGS_ADDRESS = lftp-bugs@lftp.yar.
 # This is the list of locale categories, beyond LC_MESSAGES, for which the
 # message catalogs shall be used.  It is usually empty.
 EXTRA_LOCALE_CATEGORIES = 
+
+# This tells whether or not to regenerate a PO file when $(DOMAIN).pot
+# has changed.  Possible values are "yes" and "no".  Set this to no if
+# the POT file is checked in the repository and the version control
+# program ignores timestamps.
+PO_DEPENDS_ON_POT = yes
+
+# This tells whether or not to forcibly update $(DOMAIN).pot and
+# regenerate PO files on "make dist".  Possible values are "yes" and
+# "no".  Set this to no if the POT file and PO files are maintained
+# externally.
+DIST_DEPENDS_ON_UPDATE_PO = yes


[FILE:324:patches/patch-src_Makefile.in]
--- src/Makefile.in.orig	2017-09-12 18:21:37 UTC
+++ src/Makefile.in
@@ -2548,7 +2548,7 @@ info: info-am
 
 info-am:
 
-install-data-am: install-pkgdataSCRIPTS install-pkgverlibLTLIBRARIES
+install-data-am: install-pkgdataSCRIPTS
 	@$(NORMAL_INSTALL)
 	$(MAKE) $(AM_MAKEFLAGS) install-data-hook
 install-dvi: install-dvi-am

