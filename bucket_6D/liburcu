# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		liburcu
VERSION=		0.15.2
KEYWORDS=		sysutils
VARIANTS=		std
SDESC[std]=		Userspace RCU (read-copy-update) library
HOMEPAGE=		https://liburcu.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://lttng.org/files/urcu/
DISTFILE[1]=		userspace-rcu-0.15.2.tar.bz2:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			libtool

DISTNAME=		userspace-rcu-0.15.2

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/LICENSES/LGPL-2.1-or-later.txt
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/urcu.c
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		sysutils/liburcu

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--docdir={{STD_DOCDIR}}

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		8.1.0

VAR_OPSYS[midnightbsd]=	MAKEFILE_LINE=CONFIGURE_TARGET=x86_64-raven-freebsd12.3

post-install:
	# remove duplicate
	${RM} ${STAGEDIR}${STD_DOCDIR}/LICENSE

[FILE:166:descriptions/desc.primary]
liburcu is a userspace RCU (read-copy-update) library. This data 
synchronization library provides read-side access which scales linearly 
with the number of cores. 


[FILE:107:distinfo]
59f36f2b8bda1b7620a7eced2634f26c549444818a8313025a3bb09c0766a61d       684018 userspace-rcu-0.15.2.tar.bz2


[FILE:409:manifests/plist.primary]
lib/
 liburcu-bp.so.%%SOMAJOR%%
 liburcu-bp.so.%%SOVERSION%%
 liburcu-cds.so.%%SOMAJOR%%
 liburcu-cds.so.%%SOVERSION%%
 liburcu-common.so.%%SOMAJOR%%
 liburcu-common.so.%%SOVERSION%%
 liburcu-mb.so.%%SOMAJOR%%
 liburcu-mb.so.%%SOVERSION%%
 liburcu-memb.so.%%SOMAJOR%%
 liburcu-memb.so.%%SOVERSION%%
 liburcu-qsbr.so.%%SOMAJOR%%
 liburcu-qsbr.so.%%SOVERSION%%
 liburcu.so.%%SOMAJOR%%
 liburcu.so.%%SOVERSION%%


[FILE:1508:manifests/plist.dev]
include/
 urcu-bp.h
 urcu-call-rcu.h
 urcu-defer.h
 urcu-flavor.h
 urcu-pointer.h
 urcu-qsbr.h
 urcu.h
include/urcu/
 annotate.h
 arch.h
 assert.h
 call-rcu.h
 cds.h
 compiler.h
 config.h
 debug.h
 defer.h
 flavor.h
 futex.h
 hlist.h
 lfstack.h
 list.h
 pointer.h
 rcuhlist.h
 rculfhash.h
 rculfqueue.h
 rculfstack.h
 rculist.h
 ref.h
 syscall-compat.h
 system.h
 tls-compat.h
 uatomic.h
 uatomic_arch.h
 urcu-bp.h
 urcu-futex.h
 urcu-mb.h
 urcu-memb.h
 urcu-poll.h
 urcu-qsbr.h
 urcu.h
 urcu_ref.h
 wfcqueue.h
 wfqueue.h
 wfstack.h
include/urcu/arch/
 aarch64.h
 alpha.h
 arm.h
 gcc.h
 generic.h
 hppa.h
 ia64.h
 loongarch.h
 m68k.h
 mips.h
 nios2.h
 ppc.h
 riscv.h
 s390.h
 sparc64.h
 tile.h
 x86.h
include/urcu/map/
 clear.h
 urcu-bp.h
 urcu-mb.h
 urcu-memb.h
 urcu-qsbr.h
 urcu.h
include/urcu/static/
 lfstack.h
 pointer.h
 rculfqueue.h
 rculfstack.h
 urcu-bp.h
 urcu-common.h
 urcu-mb.h
 urcu-memb.h
 urcu-qsbr.h
 urcu.h
 wfcqueue.h
 wfqueue.h
 wfstack.h
include/urcu/uatomic/
 aarch64.h
 alpha.h
 api.h
 arm.h
 builtins-generic.h
 builtins.h
 gcc.h
 generic.h
 hppa.h
 ia64.h
 loongarch.h
 m68k.h
 mips.h
 nios2.h
 ppc.h
 riscv.h
 s390.h
 sparc64.h
 tile.h
 uassert.h
 x86.h
lib/
 liburcu-bp.a
 liburcu-bp.so
 liburcu-cds.a
 liburcu-cds.so
 liburcu-common.a
 liburcu-common.so
 liburcu-mb.a
 liburcu-mb.so
 liburcu-memb.a
 liburcu-memb.so
 liburcu-qsbr.a
 liburcu-qsbr.so
 liburcu.a
 liburcu.so
lib/pkgconfig/
 liburcu-bp.pc
 liburcu-cds.pc
 liburcu-mb.pc
 liburcu-memb.pc
 liburcu-qsbr.pc
 liburcu.pc


[FILE:2099:manifests/plist.docs]
share/doc/liburcu/
 LICENSE.md
 README.md
 cds-api.md
 rcu-api.md
 solaris-build.md
 uatomic-api.md
share/doc/liburcu/examples/
 Makefile
 Makefile.examples.template
share/doc/liburcu/examples/hlist/
 Makefile
 Makefile.cds_hlist_add_head_rcu
 Makefile.cds_hlist_del_rcu
 Makefile.cds_hlist_for_each_entry_rcu
 Makefile.cds_hlist_for_each_rcu
 cds_hlist_add_head_rcu.c
 cds_hlist_del_rcu.c
 cds_hlist_for_each_entry_rcu.c
 cds_hlist_for_each_rcu.c
share/doc/liburcu/examples/lfstack/
 Makefile
 Makefile.cds_lfs_pop_all_blocking
 Makefile.cds_lfs_pop_blocking
 Makefile.cds_lfs_push
 cds_lfs_pop_all_blocking.c
 cds_lfs_pop_blocking.c
 cds_lfs_push.c
share/doc/liburcu/examples/list/
 Makefile
 Makefile.cds_list_add_rcu
 Makefile.cds_list_add_tail_rcu
 Makefile.cds_list_del_rcu
 Makefile.cds_list_for_each_entry_rcu
 Makefile.cds_list_for_each_rcu
 Makefile.cds_list_replace_rcu
 cds_list_add_rcu.c
 cds_list_add_tail_rcu.c
 cds_list_del_rcu.c
 cds_list_for_each_entry_rcu.c
 cds_list_for_each_rcu.c
 cds_list_replace_rcu.c
share/doc/liburcu/examples/rculfhash/
 Makefile
 Makefile.cds_lfht_add
 Makefile.cds_lfht_add_replace
 Makefile.cds_lfht_add_unique
 Makefile.cds_lfht_del
 Makefile.cds_lfht_destroy
 Makefile.cds_lfht_for_each_entry_duplicate
 Makefile.cds_lfht_lookup
 cds_lfht_add.c
 cds_lfht_add_replace.c
 cds_lfht_add_unique.c
 cds_lfht_del.c
 cds_lfht_destroy.c
 cds_lfht_for_each_entry_duplicate.c
 cds_lfht_lookup.c
 jhash.h
share/doc/liburcu/examples/rculfqueue/
 Makefile
 Makefile.cds_lfq_dequeue
 Makefile.cds_lfq_enqueue
 cds_lfq_dequeue.c
 cds_lfq_enqueue.c
share/doc/liburcu/examples/urcu-flavors/
 Makefile
 Makefile.bp
 Makefile.mb
 Makefile.membarrier
 Makefile.qsbr
 bp.c
 mb.c
 membarrier.c
 qsbr.c
share/doc/liburcu/examples/wfcqueue/
 Makefile
 Makefile.cds_wfcq_dequeue
 Makefile.cds_wfcq_enqueue
 Makefile.cds_wfcq_splice
 cds_wfcq_dequeue.c
 cds_wfcq_enqueue.c
 cds_wfcq_splice.c
share/doc/liburcu/examples/wfstack/
 Makefile
 Makefile.cds_wfs_pop
 Makefile.cds_wfs_pop_all_blocking
 Makefile.cds_wfs_push
 cds_wfs_pop.c
 cds_wfs_pop_all_blocking.c
 cds_wfs_push.c


[FILE:327:patches/patch-include_urcu_syscall-compat.h]
--- include/urcu/syscall-compat.h.orig	2025-04-14 14:38:22 UTC
+++ include/urcu/syscall-compat.h
@@ -16,6 +16,7 @@
 
 #elif defined(__CYGWIN__) || defined(__APPLE__) || \
 	defined(__FreeBSD__) || defined(__DragonFly__) || \
+	defined(__NetBSD__) || \
 	defined(__OpenBSD__)
 /* Don't include anything on these platforms. */
 

