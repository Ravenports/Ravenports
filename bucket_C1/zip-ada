# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		zip-ada
VERSION=		52
KEYWORDS=		archivers ada
VARIANTS=		standard
SDESC[standard]=	Zip compression library written in Ada
HOMEPAGE=		http://unzip-ada.sourceforge.net/
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		SF/unzip-ada/
DISTFILE[1]=		zipada52.zip:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			examples

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			ada dos2unix gprbuild perl:build

DISTNAME=		zip-ada

LICENSE=		MIT:primary
LICENSE_SCHEME=		solo
LICENSE_FILE=		MIT:{{WRKSRC}}/zip_lib/zip.ads

FPC_EQUIVALENT=		archivers/zip-ada

MAKE_ENV=		Build_Mode=Fast

do-build:
	(cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} gprbuild -p -P zipada.gpr)

do-install:
	@${MKDIR} ${STAGEDIR}${PREFIX}/bin \
		  ${STAGEDIR}${STD_EXAMPLESDIR} \
		  ${STAGEDIR}${PREFIX}/include/zip-ada \
		  ${STAGEDIR}${PREFIX}/lib/zip-ada \
		  ${STAGEDIR}${PREFIX}/lib/gnat
	@${MKDIR} ${WRKSRC}/obj_tools ${WRKSRC}/obj_demos
.for F in zipada comp_zip find_zip rezip za_gnat rz_gnat bunzip lz lzma_dec lzma_enc lz77_stats random_data several_sizes
	${INSTALL_PROGRAM} ${WRKSRC}/${F} ${STAGEDIR}${PREFIX}/bin/
	${MV} ${WRKSRC}/obj_opt/${F}.* ${WRKSRC}/obj_tools/
.endfor
.for F in demo_csv_into_zip demo_zip demo_unzip test_unz_streams test_chunk ziptest zip_with_many_files test_zip_info_timing test_stream_performance test_extract test_extract_tb test_lz_scramble test_llhc test_lz77
	${INSTALL_PROGRAM} ${WRKSRC}/${F} ${STAGEDIR}${STD_EXAMPLESDIR}/
	${MV} ${WRKSRC}/obj_opt/${F}.* ${WRKSRC}/obj_demos/
.endfor
	(cd ${WRKSRC}/obj_opt && ${AR} rcs libzip-ada.a *.o)
	${MV} ${STAGEDIR}${PREFIX}/bin/bunzip \
		${STAGEDIR}${PREFIX}/bin/debzip2
	${INSTALL_DATA} ${WRKSRC}/zip_lib/*.ad[sb] \
		${STAGEDIR}${PREFIX}/include/zip-ada/
	${INSTALL_DATA} ${WRKSRC}/obj_opt/*.ali \
		${STAGEDIR}${PREFIX}/lib/zip-ada/
	${RM} ${STAGEDIR}${PREFIX}/lib/zip-ada/b__*.ali
	${INSTALL_DATA} ${WRKSRC}/obj_opt/*.a ${STAGEDIR}${PREFIX}/lib/zip-ada/
	${INSTALL_DATA} ${FILESDIR}/zip-ada.gpr ${STAGEDIR}${PREFIX}/lib/gnat/

[FILE:521:descriptions/desc.primary]
The Zip-Ada library is written entirely in Ada, allowing compression
operations without any OS-dependent external calls on streams and files.

In addition to the library and command-line demos, it has these tools:
 * zipada   - create compressed Zip archive
 * comp_zip - utility to compare contents of two Zip archives
 * find_zip - utility to search for text stream of Zip archive
 * rezip    - tool for recompressing Zip files towards optimal compression
 * debzip2  - tool to decompress BZip2 compressed files (.bz2)


[FILE:91:distinfo]
f28ed2b99b70b095dc73b3cf4eab8c8ac4ae9bcb488992da36aa5b68d2dea719       859223 zipada52.zip


[FILE:1570:manifests/plist.primary]
bin/
 comp_zip
 debzip2
 find_zip
 lz
 lz77_stats
 lzma_dec
 lzma_enc
 random_data
 rezip
 rz_gnat
 several_sizes
 za_gnat
 zipada
include/zip-ada/
 bzip2_decoding.adb
 bzip2_decoding.ads
 length_limited_huffman_code_lengths.adb
 length_limited_huffman_code_lengths.ads
 lz77.adb
 lz77.ads
 lzma-decoding.adb
 lzma-decoding.ads
 lzma-encoding.adb
 lzma-encoding.ads
 lzma.ads
 unzip-decompress-huffman.adb
 unzip-decompress-huffman.ads
 unzip-decompress.adb
 unzip-decompress.ads
 unzip-streams.adb
 unzip-streams.ads
 unzip.adb
 unzip.ads
 zip-compress-deflate.adb
 zip-compress-deflate.ads
 zip-compress-lzma_e.adb
 zip-compress-lzma_e.ads
 zip-compress-reduce.adb
 zip-compress-reduce.ads
 zip-compress-shrink.adb
 zip-compress-shrink.ads
 zip-compress.adb
 zip-compress.ads
 zip-compress__no_unsigned_64.adb
 zip-crc_crypto.adb
 zip-crc_crypto.ads
 zip-create.adb
 zip-create.ads
 zip-headers.adb
 zip-headers.ads
 zip.adb
 zip.ads
 zip_streams.adb
 zip_streams.ads
lib/gnat/zip-ada.gpr
lib/zip-ada/
 bzip2_decoding.ali
 comp_zip_prc.ali
 dual_io.ali
 flexible_temp_files.ali
 length_limited_huffman_code_lengths.ali
 libzip-ada.a
 lz77.ali
 lz_scramble.ali
 lzh.ali
 lzma-decoding.ali
 lzma-encoding.ali
 lzma.ali
 my_dots.ali
 my_feedback.ali
 rezip_lib.ali
 rw_file.ali
 tb_wrap.ali
 unzip-decompress-huffman.ali
 unzip-decompress.ali
 unzip-streams.ali
 unzip.ali
 zip-compress-deflate.ali
 zip-compress-lzma_e.ali
 zip-compress-reduce.ali
 zip-compress-shrink.ali
 zip-compress.ali
 zip-crc_crypto.ali
 zip-create.ali
 zip-headers.ali
 zip.ali
 zip_streams.ali


[FILE:228:files/zip-ada.gpr]
project ZipAda is

   for Languages use ("ada");
   for Source_Dirs use ("../../include/zip-ada");
   for Library_Name use "zip-ada";
   for Library_Dir use  "../../lib/zip-ada";
   for Externally_Built use "true";

end ZipAda;

