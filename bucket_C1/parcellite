# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		parcellite
VERSION=		1.2.2
KEYWORDS=		deskutils
VARIANTS=		standard
SDESC[standard]=	Lightweight GTK+ clipboard manager
HOMEPAGE=		https://parcellite.sourceforge.net/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/rickyrockrat:parcellite:1.2.2
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			nls
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		harfbuzz:dev:standard

USES=			autoreconf pkgconfig gmake gettext:build
GNOME_COMPONENTS=	gtk2 intltool
XORG_COMPONENTS=	x11

LICENSE=		GPLv3+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/main.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		deskutils/parcellite

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-appindicator

CPPFLAGS=		-Wno-deprecated-declarations
LDFLAGS=		-lgio-2.0
VAR_OPSYS[freebsd]=	LDFLAGS=-lintl
VAR_OPSYS[sunos]=	LDFLAGS=-lintl
VAR_OPSYS[netbsd]=	LDFLAGS=-lintl
VAR_OPSYS[dragonfly]=	LDFLAGS=-lintl
VAR_OPSYS[midnightbsd]=	LDFLAGS=-lintl

post-patch:
	${REINPLACE_CMD} -e 's|$$(DATADIRNAME)/locale|share/locale|' \
		${WRKSRC}/po/Makefile.in.in

post-patch-dragonfly:
	${REINPLACE_CMD} -e 's|/proc|/compat/linux/proc|g' \
		${WRKSRC}/src/utils.c

post-patch-freebsd:
	${REINPLACE_CMD} -e 's|/proc|/compat/linux/proc|g' \
		${WRKSRC}/src/utils.c

post-patch-midnightbsd:
	${REINPLACE_CMD} -e 's|/proc|/compat/linux/proc|g' \
		${WRKSRC}/src/utils.c

[FILE:176:descriptions/desc.primary]
Parcellite is a lightweight GTK+ clipboard manager. This is a stripped
down, basic-features-only clipboard manager with a small memory footprint
for those who like simplicity.


[FILE:115:distinfo]
50c45015c82c75d7b90586d5f4c0fa02568b769806c39afa2369f5713d2f9f49       418016 rickyrockrat-parcellite-1.2.2.tar.gz


[FILE:161:manifests/plist.primary]
bin/parcellite
etc/xdg/autostart/parcellite-startup.desktop
share/applications/parcellite.desktop
share/pixmaps/
 parcellite.png
 parcellite.svg
 parcellite.xpm


[FILE:765:manifests/plist.nls]
share/locale/ca/LC_MESSAGES/parcellite.mo
share/locale/cs/LC_MESSAGES/parcellite.mo
share/locale/da/LC_MESSAGES/parcellite.mo
share/locale/de/LC_MESSAGES/parcellite.mo
share/locale/es/LC_MESSAGES/parcellite.mo
share/locale/fr/LC_MESSAGES/parcellite.mo
share/locale/hu/LC_MESSAGES/parcellite.mo
share/locale/it/LC_MESSAGES/parcellite.mo
share/locale/ja/LC_MESSAGES/parcellite.mo
share/locale/nb/LC_MESSAGES/parcellite.mo
share/locale/pl/LC_MESSAGES/parcellite.mo
share/locale/pl_PL/LC_MESSAGES/parcellite.mo
share/locale/pt_BR/LC_MESSAGES/parcellite.mo
share/locale/ro/LC_MESSAGES/parcellite.mo
share/locale/ru/LC_MESSAGES/parcellite.mo
share/locale/sv/LC_MESSAGES/parcellite.mo
share/locale/tr/LC_MESSAGES/parcellite.mo
share/locale/zh_CN/LC_MESSAGES/parcellite.mo


[FILE:31:manifests/plist.man]
share/man/man1/parcellite.1.gz


[FILE:312:patches/patch-src_parcellite.h]
--- src/parcellite.h.orig	2023-03-11 19:15:01 UTC
+++ src/parcellite.h
@@ -22,7 +22,7 @@
 #include <gtk/gtk.h>
 #include <string.h>
 #include <unistd.h>
-#include <config.simple.h>
+#include <config.h>
 #include <stdlib.h>
 #define PARCELLITE_PROG_NAME "parcellite"
 #define PARCELLITE_ICON PARCELLITE_PROG_NAME


[FILE:752:files/pkg-message-single-dragonfly]
###############################################################################

Parcellite will attempt to obtain some system information by accessing files
in procfs and linprocfs. You must mount procfs and linprocfs filesystem for
this to work correctly.
This can be accomplished by adding the following line to your /etc/fstab file:

# Device              Mountpoint              FStype        Options Dump Pass
proc                  /proc                   procfs        rw      0    0
linprocfs             /compat/linux/proc      linprocfs     rw      0    0

and then, as root, executing the commands:
> mount /proc
> kldload linprocfs
> mount /compat/linux/proc

###############################################################################


[FILE:752:files/pkg-message-single-freebsd]
###############################################################################

Parcellite will attempt to obtain some system information by accessing files
in procfs and linprocfs. You must mount procfs and linprocfs filesystem for
this to work correctly.
This can be accomplished by adding the following line to your /etc/fstab file:

# Device              Mountpoint              FStype        Options Dump Pass
proc                  /proc                   procfs        rw      0    0
linprocfs             /compat/linux/proc      linprocfs     rw      0    0

and then, as root, executing the commands:
> mount /proc
> kldload linprocfs
> mount /compat/linux/proc

###############################################################################

