# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libluv
VERSION=		1.51.0.0
KEYWORDS=		lang
VARIANTS=		std
SDESC[std]=		Bare libuv bindings for lua
HOMEPAGE=		https://github.com/luvit/luv
CONTACT=		nobody

DOWNLOAD_GROUPS=	main compat
SITES[main]=		GITHUB/luvit:luv:1.51.0-0
SITES[compat]=		GITHUB/keplerproject:lua-compat-5.3:11062dd:deps/lua-compat-5.3
DISTFILE[1]=		generated:main
DISTFILE[2]=		generated:compat
DF_INDEX=		1 2
SPKGS[std]=		set
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		luajit-openresty:dev:std
			libuv:dev:std
BUILDRUN_DEPENDS=	libuv:primary:std

USES=			cmake

LICENSE=		APACHE20:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		APACHE20:{{WRKSRC}}/LICENSE.txt
LICENSE_AWK=		TERMS:"LUV_H"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/luv.h
LICENSE_SCHEME=		solo

SOVERSION=		1.51.0

LDFLAGS=		-lm
CMAKE_ARGS=		-DWITH_SHARED_LIBUV:BOOL=ON
			-DBUILD_MODULE:BOOL=OFF
			-DBUILD_SHARED_LIBS:BOOL=ON
			-DWITH_LUA_ENGINE=LuaJIT
			-DLUA_BUILD_TYPE=System
			-DLUA_COMPAT53_DIR=deps/lua-compat-5.3

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libluv.so

[FILE:426:descriptions/desc.primary]
The luv library is libuv bindings for luajit and lua 5.1/ 5.2/ 5.3.

This library makes libuv available to lua scripts. It was made for the
luvit project but should usable from nearly any lua project.

The library can be used by multiple threads at once. Each thread is
assumed to load the library from a different lua_State. Luv will create
a unique uv_loop_t for each state. You can't share uv handles between
states/loops.


[FILE:226:distinfo]
61f49840c067a8dec288dc841ea5cc20e81852d295068805c4ca1d744c82da7d       214632 luvit-luv-1.51.0-0.tar.gz
d689ca77f3aca634ffbf23b7e92eb0a2cb588fc82072ef5e2b76337f4e33ea10        60963 keplerproject-lua-compat-5.3-11062dd.tar.gz


[FILE:53:manifests/plist.primary]
lib/
 libluv.so.%%SOMAJOR%%
 libluv.so.%%SOVERSION%%


[FILE:85:manifests/plist.dev]
include/luv/
 lhandle.h
 lreq.h
 luv.h
 util.h
lib/libluv.so
lib/pkgconfig/libluv.pc

