# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		patch
VERSION=		2.8
KEYWORDS=		devel
VARIANTS=		std noprefix
SDESC[std]=		GNU patch utility
SDESC[noprefix]=	GNU patch utility with unprefixed program name
HOMEPAGE=		http://www.gnu.org/software/patch/patch.html
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/patch
DISTFILE[1]=		patch-2.8.tar.xz:main
DIST_SUBDIR=		gnu-patch
DF_INDEX=		1
SPKGS[std]=		set
			primary
			man
SPKGS[noprefix]=	set
			primary
			man

OPTIONS_AVAILABLE=	NOPREFIX
OPTIONS_STANDARD=	none
VOPTS[noprefix]=	NOPREFIX=ON

USES=			charsetfix cpe gmake

LICENSE=		GPLv3+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"ifndef DEBUGGING"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/common.h
LICENSE_SCHEME=		solo

CPE_VENDOR=		gnu
FPC_EQUIVALENT=		devel/patch

MUST_CONFIGURE=		gnu

CFLAGS=			-D__RAVEN__

[NOPREFIX].DESCRIPTION=			Build without prefixing program with "g"
[NOPREFIX].CONFIGURE_ARGS_OFF=		--program-prefix=g

[FILE:187:descriptions/desc.primary]
The patch program takes a patch file containing a difference listing
produced by the diff program and applies those differences to one or
more original files, producing patched versions.


[FILE:105:distinfo]
f87cee69eec2b4fcbf60a396b030ad6aa3415f192aa5f7ee84cad5e11f7f5ae3       907208 gnu-patch/patch-2.8.tar.xz


[FILE:11:manifests/plist.primary.std]
bin/gpatch


[FILE:24:manifests/plist.man.std]
share/man/man1/gpatch.1


[FILE:10:manifests/plist.primary.noprefix]
bin/patch


[FILE:23:manifests/plist.man.noprefix]
share/man/man1/patch.1


[FILE:340:patches/patch-lib_Makefile.in]
--- lib/Makefile.in.orig	2025-03-29 15:42:57 UTC
+++ lib/Makefile.in
@@ -4826,7 +4826,7 @@ install-data: install-data-recursive
 uninstall: uninstall-recursive
 
 install-am: all-am
-	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-data-am
 
 installcheck: installcheck-recursive
 install-strip:


[FILE:934:patches/patch-lib_localcharset.c]
--- lib/localcharset.c.orig	2025-02-27 13:35:02 UTC
+++ lib/localcharset.c
@@ -92,7 +92,7 @@ struct table_entry
 /* Table of platform-dependent mappings, sorted in ascending order.  */
 static const struct table_entry alias_table[] =
   {
-#  if defined __FreeBSD__                                   /* FreeBSD */
+#  if defined __FreeBSD__ || defined __DragonFly__   /* FreeBSD */
   /*{ "ARMSCII-8",  "ARMSCII-8" },*/
     { "Big5",       "BIG5" },
     { "C",          "ASCII" },
@@ -583,7 +583,7 @@ struct table_entry
 /* Table of platform-dependent mappings, sorted in ascending order.  */
 static const struct table_entry locale_table[] =
   {
-# if defined __FreeBSD__                                    /* FreeBSD 4.2 */
+# if defined __FreeBSD__ || defined __DragonFly__    /* FreeBSD 4.2 */
     { "cs_CZ.ISO_8859-2",  "ISO-8859-2" },
     { "da_DK.DIS_8859-15", "ISO-8859-15" },
     { "da_DK.ISO_8859-1",  "ISO-8859-1" },

