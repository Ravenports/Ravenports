# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		filezilla
VERSION=		3.43.0
KEYWORDS=		ftp
VARIANTS=		standard
SDESC[standard]=	Cross-platform graphical FTP, FTPS & SFTP client
HOMEPAGE=		https://filezilla-project.org
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://download.filezilla-project.org/client/
DISTFILE[1]=		FileZilla_3.43.0_src.tar.bz2:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	xdg-utils:single:standard
			libfilezilla:single:standard
			libgcrypt:single:standard
			gnutls:single:standard
			libidn2:primary:standard
			nettle:primary:standard
			pugixml:single:standard
			fontconfig:primary:standard
			freetype:primary:standard
			dbus:single:standard
			wxWidgets:single:standard
B_DEPS[freebsd]=	clang:compiler:standard

USES=			gettext-tools gmake iconv pkgconfig sqlite
GNOME_COMPONENTS=	cairo gtk3

LICENSE=		GPLv2+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^Features"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/README
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		ftp/filezilla

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-wx-config={{LOCALBASE}}/bin/wxgtk3u-3.0-config
			--with-wx-prefix={{LOCALBASE}}
			--with-dbus
			--disable-manualupdatecheck
			WXRC={{LOCALBASE}}/bin/wxrc-gtk3u-3.0

MAKE_ARGS=		LIBTOOLFLAGS=--tag=CXX
MAKE_ENV=		CCACHE_CPP2=true

post-patch:
	# Use libidn2 instead of libidn
	${REINPLACE_CMD} \
		-e 's/idna/idn2/g' \
		-e 's/lidn/lidn2/g' \
		-e 's/stringprep_check_version/idn2_lookup_ul/g' \
		${WRKSRC}/configure
	${REINPLACE_CMD} \
		-e 's/idna/idn2/g' \
		-e '/<idn-free.h>/d' \
		${WRKSRC}/src/engine/ControlSocket.cpp

[FILE:730:descriptions/desc.single]
FileZilla Client is a fast and reliable cross-platform FTP, FTPS and SFTP
client with lots of useful features and an intuitive interface.

Among others, the features of FileZilla include the following:
 * Supports FTP, FTP over SSL/TLS (FTPS) and SSH File Transfer Protocol (SFTP)
 * IPv6 support
 * Available in many languages
 * Supports resume and transfer of large files >4GB
 * Tabbed user interface
 * Powerful Site Manager and transfer queue
 * Bookmarks
 * Drag & drop support
 * Configurable transfer speed limits
 * Filename filters
 * Network configuration wizard
 * Remite file editing
 * Keep-alive
 * HTTP/1.1, SOCKS5 and FTP-Proxy support
 * Logging to file
 * Synchronized directory browsing
 * Remote file search


[FILE:107:distinfo]
6fe652c360682f860abe2dc2e196bddca6260242cefe6fe779d42c327c01258e      4544635 FileZilla_3.43.0_src.tar.bz2


[FILE:14059:manifests/plist.single]
bin/
 filezilla
 fzputtygen
 fzsftp
share/appdata/filezilla.appdata.xml
share/applications/filezilla.desktop
share/filezilla/docs/fzdefaults.xml.example
share/filezilla/resources/
 defaultfilters.xml
 finished.wav
share/filezilla/resources/16x16/
 filezilla.png
 throbber.gif
 unknown.png
share/filezilla/resources/20x20/unknown.png
share/filezilla/resources/24x24/unknown.png
share/filezilla/resources/32x32/filezilla.png
share/filezilla/resources/480x480/filezilla.png
share/filezilla/resources/48x48/filezilla.png
share/filezilla/resources/blukis/theme.xml
share/filezilla/resources/blukis/16x16/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 bookmarks.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 showhidden.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/blukis/32x32/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 bookmarks.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 showhidden.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/blukis/48x48/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 bookmarks.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 showhidden.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/classic/theme.xml
share/filezilla/resources/classic/16x16/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderclosed.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 sitemanager.png
 speedlimits.png
 symlink.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/cyril/theme.xml
share/filezilla/resources/cyril/16x16/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 localtreeview.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 showhidden.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/default/theme.xml
share/filezilla/resources/default/480x480/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 bookmarks.png
 cancel.png
 close.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 dropdown.png
 file.png
 filter.png
 find.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 leds.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 showhidden.png
 sitemanager.png
 sort_down_dark.png
 sort_down_light.png
 sort_up_dark.png
 sort_up_light.png
 speedlimits.png
 symlink.png
 synchronize.png
 synctransfer.png
 upload.png
 uploadadd.png
share/filezilla/resources/flatzilla/theme.xml
share/filezilla/resources/flatzilla/16x16/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderclosed.png
 help.png
 leds.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/flatzilla/24x24/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderclosed.png
 help.png
 leds.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/flatzilla/32x32/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderclosed.png
 help.png
 leds.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/flatzilla/48x48/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderclosed.png
 help.png
 leds.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/lone/theme.xml
share/filezilla/resources/lone/16x16/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 showhidden.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/lone/32x32/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 showhidden.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/lone/48x48/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 showhidden.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/minimal/theme.xml
share/filezilla/resources/minimal/16x16/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 bookmarks.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 showhidden.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/minimal/32x32/file.png
share/filezilla/resources/opencrystal/theme.xml
share/filezilla/resources/opencrystal/16x16/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 showhidden.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/opencrystal/20x20/server.png
share/filezilla/resources/opencrystal/24x24/server.png
share/filezilla/resources/opencrystal/32x32/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 showhidden.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/opencrystal/48x48/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 showhidden.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/sun/theme.xml
share/filezilla/resources/sun/48x48/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderback.png
 folderclosed.png
 folderup.png
 help.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 showhidden.png
 sitemanager.png
 speedlimits.png
 synchronize.png
 upload.png
 uploadadd.png
share/filezilla/resources/tango/theme.xml
share/filezilla/resources/tango/16x16/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderclosed.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 sitemanager.png
 synchronize.png
 unknown.png
 upload.png
 uploadadd.png
share/filezilla/resources/tango/32x32/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderclosed.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 sitemanager.png
 synchronize.png
 unknown.png
 upload.png
 uploadadd.png
share/filezilla/resources/tango/48x48/
 ascii.png
 auto.png
 binary.png
 bookmark.png
 cancel.png
 compare.png
 disconnect.png
 download.png
 downloadadd.png
 file.png
 filter.png
 find.png
 folder.png
 folderclosed.png
 localtreeview.png
 lock.png
 logview.png
 processqueue.png
 queueview.png
 reconnect.png
 refresh.png
 remotetreeview.png
 server.png
 sitemanager.png
 synchronize.png
 unknown.png
 upload.png
 uploadadd.png
share/filezilla/resources/xrc/
 certificate.xrc
 dialogs.xrc
 inputdialog.xrc
 netconfwizard.xrc
 settings.xrc
 sitemanager.xrc
 storj.xrc
 update.xrc
share/icons/hicolor/16x16/apps/filezilla.png
share/icons/hicolor/32x32/apps/filezilla.png
share/icons/hicolor/480x480/apps/filezilla.png
share/icons/hicolor/48x48/apps/filezilla.png
share/icons/hicolor/scalable/apps/filezilla.svg
share/locale/an/LC_MESSAGES/filezilla.mo
share/locale/ar/LC_MESSAGES/filezilla.mo
share/locale/az/LC_MESSAGES/filezilla.mo
share/locale/bg_BG/LC_MESSAGES/filezilla.mo
share/locale/ca/LC_MESSAGES/filezilla.mo
share/locale/ca_ES@valencia/LC_MESSAGES/filezilla.mo
share/locale/co/LC_MESSAGES/filezilla.mo
share/locale/cs_CZ/LC_MESSAGES/filezilla.mo
share/locale/cy/LC_MESSAGES/filezilla.mo
share/locale/da/LC_MESSAGES/filezilla.mo
share/locale/de/LC_MESSAGES/filezilla.mo
share/locale/el/LC_MESSAGES/filezilla.mo
share/locale/es/LC_MESSAGES/filezilla.mo
share/locale/et/LC_MESSAGES/filezilla.mo
share/locale/eu/LC_MESSAGES/filezilla.mo
share/locale/fa_IR/LC_MESSAGES/filezilla.mo
share/locale/fi_FI/LC_MESSAGES/filezilla.mo
share/locale/fr/LC_MESSAGES/filezilla.mo
share/locale/gl_ES/LC_MESSAGES/filezilla.mo
share/locale/he_IL/LC_MESSAGES/filezilla.mo
share/locale/hr/LC_MESSAGES/filezilla.mo
share/locale/hu_HU/LC_MESSAGES/filezilla.mo
share/locale/hy/LC_MESSAGES/filezilla.mo
share/locale/id_ID/LC_MESSAGES/filezilla.mo
share/locale/is/LC_MESSAGES/filezilla.mo
share/locale/it/LC_MESSAGES/filezilla.mo
share/locale/ja_JP/LC_MESSAGES/filezilla.mo
share/locale/ka/LC_MESSAGES/filezilla.mo
share/locale/kab/LC_MESSAGES/filezilla.mo
share/locale/km_KH/LC_MESSAGES/filezilla.mo
share/locale/ko_KR/LC_MESSAGES/filezilla.mo
share/locale/ku/LC_MESSAGES/filezilla.mo
share/locale/ky/LC_MESSAGES/filezilla.mo
share/locale/lo_LA/LC_MESSAGES/filezilla.mo
share/locale/lt_LT/LC_MESSAGES/filezilla.mo
share/locale/lv_LV/LC_MESSAGES/filezilla.mo
share/locale/mk_MK/LC_MESSAGES/filezilla.mo
share/locale/nb_NO/LC_MESSAGES/filezilla.mo
share/locale/ne/LC_MESSAGES/filezilla.mo
share/locale/nl/LC_MESSAGES/filezilla.mo
share/locale/nn_NO/LC_MESSAGES/filezilla.mo
share/locale/oc/LC_MESSAGES/filezilla.mo
share/locale/pl_PL/LC_MESSAGES/filezilla.mo
share/locale/pt_BR/LC_MESSAGES/filezilla.mo
share/locale/pt_PT/LC_MESSAGES/filezilla.mo
share/locale/ro_RO/LC_MESSAGES/filezilla.mo
share/locale/ru/LC_MESSAGES/filezilla.mo
share/locale/sk_SK/LC_MESSAGES/filezilla.mo
share/locale/sl_SI/LC_MESSAGES/filezilla.mo
share/locale/sr/LC_MESSAGES/filezilla.mo
share/locale/sv/LC_MESSAGES/filezilla.mo
share/locale/th_TH/LC_MESSAGES/filezilla.mo
share/locale/tr/LC_MESSAGES/filezilla.mo
share/locale/uk_UA/LC_MESSAGES/filezilla.mo
share/locale/vi_VN/LC_MESSAGES/filezilla.mo
share/locale/zh_CN/LC_MESSAGES/filezilla.mo
share/locale/zh_TW/LC_MESSAGES/filezilla.mo
share/man/man1/
 filezilla.1.gz
 fzputtygen.1.gz
 fzsftp.1.gz
share/man/man5/fzdefaults.xml.5.gz
share/pixmaps/filezilla.png


[FILE:260:patches/patch-configure]
--- configure.orig	2019-06-27 09:27:36 UTC
+++ configure
@@ -19998,7 +19998,7 @@ else
   use_mac_sandbox="no"
 fi
 
-  if test "$use_mac_sandbox" == "yes"; then
+  if test "$use_mac_sandbox" = "yes"; then
 
 $as_echo "#define USE_MAC_SANDBOX 1" >>confdefs.h
 


[FILE:1159:patches/patch-src_putty_unix_uxshare.c]
$NetBSD: patch-src_putty_unix_uxshare.c,v 1.1 2015/07/08 16:46:43 richard Exp $
Use POSIX fcntl instead of flock for setting file locking options on SunOS

--- src/putty/unix/uxshare.c.orig	2019-05-02 19:33:45 UTC
+++ src/putty/unix/uxshare.c
@@ -267,6 +267,13 @@ int platform_ssh_share(const char *pi_na
     int lockfd;
     Socket retsock;
 
+    struct flock lock;
+
+    lock.l_type = F_WRLCK;
+    lock.l_whence = SEEK_SET;
+    lock.l_start = 0;
+    lock.l_len = 0;
+
     /*
      * Sort out what we're going to call the directory in which we
      * keep the socket. This has the side effect of potentially
@@ -298,9 +305,15 @@ int platform_ssh_share(const char *pi_na
         sfree(lockname);
         return SHARE_NONE;
     }
+#ifdef __sun
+    if (fcntl(lockfd, F_SETLK, &lock) == -1) {
+        *logtext = dupprintf("%s: fcntl(F_SETLK): %s",
+                             lockname, strerror(errno));
+#else
     if (flock(lockfd, LOCK_EX) < 0) {
         *logtext = dupprintf("%s: flock(LOCK_EX): %s",
                              lockname, strerror(errno));
+#endif
         sfree(dirname);
         sfree(lockname);
         close(lockfd);


[FILE:23:freebsd/special.mk]
CC=	clang
CXX=	clang++

