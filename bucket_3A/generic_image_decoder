# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		generic_image_decoder
VERSION=		13
KEYWORDS=		graphics ada
VARIANTS=		std
SDESC[std]=		Multi-format image decoder library for Ada
HOMEPAGE=		http://gen-img-dec.sourceforge.net/
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		SF/gen-img-dec
DISTFILE[1]=		gid_013_01_without_test_images.zip:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gprbuild

DISTNAME=		gid

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKDIR}}/LICENSE
LICENSE_AWK=		MIT:"^with "
LICENSE_SOURCE=		MIT:{{WRKSRC}}/gid.ads
LICENSE_SCHEME=		solo

MAKE_ENV=		Build_Mode=Fast_but_checked

INSTALL_REQ_TOOLCHAIN=	yes

do-build:
	(cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} gprbuild -P gid)
	(cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} gprbuild -P generic_image_decoder)

post-install:
	${MKDIR} ${STAGEDIR}${STD_DOCDIR}
	${INSTALL_DATA} ${WRKSRC}/doc/gid.txt ${STAGEDIR}${STD_DOCDIR}
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/*

post-extract:
	${MKDIR} ${WRKSRC}/src
	${MV} ${WRKSRC}/*.ad[bs] ${WRKSRC}/src
	${CP} ${FILESDIR}/generic_image_decoder.gpr ${WRKSRC}/

do-install:
	${SETENV} ${MAKE_ENV} gprinstall\
		--no-manifests \
		--prefix=${STAGEDIR}${PREFIX} \
		-p -P ${WRKSRC}/gid.gpr
	${SETENV} ${MAKE_ENV} gprinstall\
		--no-manifests \
		--prefix=${STAGEDIR}${PREFIX} \
		--lib-subdir=lib/generic_image_decoder \
		--sources-subdir=include/generic_image_decoder \
		-p -P ${WRKSRC}/generic_image_decoder.gpr

[FILE:626:descriptions/desc.primary]
The Generic Image Decoder (GID) is an Ada package for decoding a broad
variety on image formats from any data stream to any kind of medium.
Examples include in-memory bitmap, a GUI objecct, another stream, floating
point data for scientific calculations, a browser element or a device.
Animations are also supported.  GID features:

  * Standalone; requires no other libraries or bindings
  * Completely portable - no OS, CPU, or compiler dependencies
  * Task safe
  * Endian-neutral
  * Free and open source
  * Pure Ada95 (suitable for Ada2005 and Ada2012 projects)

Currently supports BMP, GIF, JPEG, PNG and TGA formats.


[FILE:113:distinfo]
17f4a6e3022b0d4a17b1308ac503aff8a8d5377257b316c1ba9cb79faaeaf481       192803 gid_013_01_without_test_images.zip


[FILE:94:manifests/plist.primary]
bin/
 all_rgb
 benchmark
 color_avg
 comp_img
 is_opaque
 mini
 recurve
 steg
 to_bmp
 to_png


[FILE:1680:manifests/plist.dev]
include/generic_image_decoder/
 gid-buffering.adb
 gid-buffering.ads
 gid-color_tables.adb
 gid-color_tables.ads
 gid-decoding_bmp.adb
 gid-decoding_bmp.ads
 gid-decoding_gif.adb
 gid-decoding_gif.ads
 gid-decoding_jpg.adb
 gid-decoding_jpg.ads
 gid-decoding_png-huffman.adb
 gid-decoding_png-huffman.ads
 gid-decoding_png.adb
 gid-decoding_png.ads
 gid-decoding_pnm.adb
 gid-decoding_pnm.ads
 gid-decoding_qoi.adb
 gid-decoding_qoi.ads
 gid-decoding_tga.adb
 gid-decoding_tga.ads
 gid-headers.adb
 gid-headers.ads
 gid.adb
 gid.ads
include/gid/
 all_rgb.adb
 benchmark.adb
 color_avg.adb
 color_distances.adb
 color_distances.ads
 color_statistics.adb
 color_statistics.ads
 comp_img.adb
 comp_img_fct.adb
 dumb_png.adb
 dumb_png.ads
 fast_io.adb
 fast_io.ads
 gid-buffering.adb
 gid-buffering.ads
 gid-color_tables.adb
 gid-color_tables.ads
 gid-decoding_bmp.adb
 gid-decoding_bmp.ads
 gid-decoding_gif.adb
 gid-decoding_gif.ads
 gid-decoding_jpg.adb
 gid-decoding_jpg.ads
 gid-decoding_png-huffman.adb
 gid-decoding_png-huffman.ads
 gid-decoding_png.adb
 gid-decoding_png.ads
 gid-decoding_pnm.adb
 gid-decoding_pnm.ads
 gid-decoding_qoi.adb
 gid-decoding_qoi.ads
 gid-decoding_tga.adb
 gid-decoding_tga.ads
 gid-headers.adb
 gid-headers.ads
 gid.adb
 gid.ads
 is_opaque.adb
 mini.adb
 recurve.adb
 steg.adb
 to_bmp.adb
 to_png.adb
lib/generic_image_decoder/
 gid-buffering.ali
 gid-color_tables.ali
 gid-decoding_bmp.ali
 gid-decoding_gif.ali
 gid-decoding_jpg.ali
 gid-decoding_png-huffman.ali
 gid-decoding_png.ali
 gid-decoding_pnm.ali
 gid-decoding_qoi.ali
 gid-decoding_tga.ali
 gid-headers.ali
 gid.ali
 libgenimgdec_pic.a
share/gpr/
 generic_image_decoder.gpr
 gid.gpr


[FILE:40:manifests/plist.docs]
share/doc/generic_image_decoder/gid.txt


[FILE:282:patches/patch-gid.gpr]
--- gid.gpr.orig	2024-08-17 06:35:42 UTC
+++ gid.gpr
@@ -11,7 +11,7 @@
 --
 project GID is
 
-   for Source_Dirs use (".", "test");
+   for Source_Dirs use ("src", "test");
    for Exec_Dir use "test";
    for Create_Missing_Dirs use "True";  --  Flips by default the "-p" switch
 


[FILE:283:files/generic_image_decoder.gpr]
project Generic_Image_Decoder is

   for Languages     use ("ada");
   for Library_Name  use "genimgdec_pic";
   for Library_Kind  use "static-pic";
   for Object_Dir    use "../objs";
   for Library_Dir   use "../lib";

   for Source_Dirs   use ("src");

end Generic_Image_Decoder;

