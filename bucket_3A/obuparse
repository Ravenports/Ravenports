# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		obuparse
VERSION=		g20230712
KEYWORDS=		multimedia
VARIANTS=		standard
SDESC[standard]=	Simple and portable single file AV1 OBU parser
HOMEPAGE=		https://github.com/dwbuiten/obuparse
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/dwbuiten:obuparse:f40598f
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gmake

LICENSE=		ISCL:primary
LICENSE_FILE=		ISCL:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		multimedia/obuparse

MAKE_ARGS=		PREFIX="{{STAGEDIR}}{{PREFIX}}"

INSTALL_TARGET=		install-shared

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libobuparse.so

[FILE:348:descriptions/desc.primary]
Simple and portable single file AV1 OBU parser written in mostly C89 with a
tiny bit of C99.

*  No allocations; only works on user-provided buffers and the stack.
*  OBU header parsing.
*  Sequence Header OBU parsing.
*  Metadata OBU parsing.
*  Tile List OBU parsing.
*  Tile Group OBU parsing.
*  Frame Header OBU parsing.
*  Frame OBU parsing.


[FILE:111:distinfo]
3908f4f8a2b85acf602f18ed0b91c860c787046a26441c2d92dec79da68e5a68        29233 dwbuiten-obuparse-f40598f.tar.gz


[FILE:21:manifests/plist.primary]
lib/libobuparse.so.1


[FILE:38:manifests/plist.dev]
include/obuparse.h
lib/libobuparse.so


[FILE:305:patches/patch-Makefile]
--- Makefile.orig	2023-07-12 18:02:40 UTC
+++ Makefile
@@ -11,7 +11,7 @@ ifneq (,$(findstring mingw,$(CC)))
 	SYSTEM=MINGW
 else
 	LIBSUF=.so
-	LDFLAGS=-Wl,--version-script,obuparse.v
+	LDFLAGS=-Wl,--version-script,obuparse.v -Wl,-soname,libobuparse.so.1
 endif
 
 all: libobuparse$(LIBSUF) libobuparse.a

