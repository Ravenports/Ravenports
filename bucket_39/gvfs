# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gvfs
VERSION=		1.58.0
KEYWORDS=		devel
VARIANTS=		std
SDESC[std]=		GNOME virtual file system
HOMEPAGE=		https://wiki.gnome.org/Projects/gvfs
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GNOME/gvfs/1.58/
DISTFILE[1]=		gvfs-1.58.0.tar.xz:main
DIST_SUBDIR=		gnome4
DF_INDEX=		1
SPKGS[std]=		set
			primary
			nls

OPTIONS_AVAILABLE=	NO-GUDEV
OPTIONS_STANDARD=	NO-GUDEV
OPT_ON[sunos]=		NO-GUDEV

BUILD_DEPENDS=		dbus:dev:std
			gcr:dev:std
			gsettings-desktop-schemas:dev:std
			libarchive:dev:std
			libgpg-error:dev:std
			libsecret:dev:std
			libsoup:dev:std
			p11-kit:dev:std
BUILDRUN_DEPENDS=	dbus:primary:std
			gcr:primary:std
			libarchive:primary:std
			libsecret:primary:std
			libsoup:primary:std
			p11-kit:primary:std

USES=			cpe meson pkgconfig ssl:build schemas:primary
GNOME_COMPONENTS=	glib libxml2

LICENSE=		LGPL20+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL20+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/common/gvfsutils.h
LICENSE_SCHEME=		solo

CPE_VENDOR=		gnome
FPC_EQUIVALENT=		filesystems/gvfs
GLIB_SCHEMAS=		org.gnome.system.gvfs.enums.xml
			org.gnome.system.wsdd.gschema.xml
MESON_ARGS=		-Dsystemduserunitdir="no"
			-Dtmpfilesdir="no"
			-Dadmin=false
			-Dafc=false
			-Dbluray=false
			-Ddnssd=false
			-Dfuse=false
			-Dgoa=false
			-Dgoogle=false
			-Dgphoto2=false
			-Dlibusb=false
			-Dlogind=false
			-Dmtp=false
			-Dnfs=false
			-Donedrive=false
			-Dsftp=false
			-Dsmb=false
			-Dudisks2=false
			-Dburn=true

LDFLAGS=		-Wl,-rpath,{{PREFIX}}/lib/gvfs
VAR_OPSYS[sunos]=	LDFLAGS=-lintl

[NO-GUDEV].DESCRIPTION=			Build without gudev support
[NO-GUDEV].BUILDRUN_DEPENDS_OFF=	libcdio-paranoia:primary:std
[NO-GUDEV].BUILD_DEPENDS_OFF=		libcdio-paranoia:dev:std
[NO-GUDEV].CONFIGURE_ARGS_OFF=		-Dgudev=true
					-Dcdda=true
[NO-GUDEV].CONFIGURE_ARGS_ON=		-Dgudev=false
					-Dcdda=false
[NO-GUDEV].USES_OFF=			iconv
					bsd:gudev

[FILE:595:descriptions/desc.primary]
GVfs is a userspace virtual filesystem implementation for GIO (a library 
available in GLib). GVfs comes with a set of backends, including trash 
support, SFTP, SMB, HTTP, DAV, and many others. GVfs also contains modules 
for GIO that implement volume monitors and persistent metadata storage. 
There is also FUSE support that provides limited access to the GVfs 
filesystems for applications not using GIO.

The version of GVfs in Ravenports is currently pretty bare-bones. Only the 
basic backends are enabled right now. More will be added later as the 
required libraries are getting ported.


[FILE:104:distinfo]
dd9be36873d0fcb309eb89a8d274770ce576287628a2cf111bd387e1c34f182f      1283696 gnome4/gvfs-1.58.0.tar.xz


[FILE:702:manifests/plist.primary]
%%NO-GUDEV-OFF%%libexec/gvfsd-cdda
%%NO-GUDEV-OFF%%share/gvfs/mounts/cdda.mount
lib/gio/modules/
 libgioremote-volume-monitor.so
 libgvfsdbus.so
lib/gvfs/
 libgvfscommon.so
 libgvfsdaemon.so
libexec/
 gvfsd
 gvfsd-afp
 gvfsd-afp-browse
 gvfsd-archive
 gvfsd-burn
 gvfsd-computer
 gvfsd-dav
 gvfsd-ftp
 gvfsd-http
 gvfsd-localtest
 gvfsd-metadata
 gvfsd-network
 gvfsd-recent
 gvfsd-trash
 gvfsd-wsdd
share/dbus-1/services/
 org.gtk.vfs.Daemon.service
 org.gtk.vfs.Metadata.service
share/gvfs/mounts/
 afp-browse.mount
 afp.mount
 archive.mount
 burn.mount
 computer.mount
 dav.mount
 ftp.mount
 ftpis.mount
 ftps.mount
 http.mount
 localtest.mount
 network.mount
 recent.mount
 trash.mount
 wsdd.mount


[FILE:2965:manifests/plist.nls]
share/locale/ab/LC_MESSAGES/gvfs.mo
share/locale/af/LC_MESSAGES/gvfs.mo
share/locale/ar/LC_MESSAGES/gvfs.mo
share/locale/as/LC_MESSAGES/gvfs.mo
share/locale/ast/LC_MESSAGES/gvfs.mo
share/locale/be/LC_MESSAGES/gvfs.mo
share/locale/be@latin/LC_MESSAGES/gvfs.mo
share/locale/bg/LC_MESSAGES/gvfs.mo
share/locale/bn/LC_MESSAGES/gvfs.mo
share/locale/bn_IN/LC_MESSAGES/gvfs.mo
share/locale/bs/LC_MESSAGES/gvfs.mo
share/locale/ca/LC_MESSAGES/gvfs.mo
share/locale/ca@valencia/LC_MESSAGES/gvfs.mo
share/locale/cs/LC_MESSAGES/gvfs.mo
share/locale/da/LC_MESSAGES/gvfs.mo
share/locale/de/LC_MESSAGES/gvfs.mo
share/locale/el/LC_MESSAGES/gvfs.mo
share/locale/en@shaw/LC_MESSAGES/gvfs.mo
share/locale/en_GB/LC_MESSAGES/gvfs.mo
share/locale/eo/LC_MESSAGES/gvfs.mo
share/locale/es/LC_MESSAGES/gvfs.mo
share/locale/et/LC_MESSAGES/gvfs.mo
share/locale/eu/LC_MESSAGES/gvfs.mo
share/locale/fa/LC_MESSAGES/gvfs.mo
share/locale/fi/LC_MESSAGES/gvfs.mo
share/locale/fr/LC_MESSAGES/gvfs.mo
share/locale/fur/LC_MESSAGES/gvfs.mo
share/locale/ga/LC_MESSAGES/gvfs.mo
share/locale/gl/LC_MESSAGES/gvfs.mo
share/locale/gu/LC_MESSAGES/gvfs.mo
share/locale/he/LC_MESSAGES/gvfs.mo
share/locale/hi/LC_MESSAGES/gvfs.mo
share/locale/hr/LC_MESSAGES/gvfs.mo
share/locale/hu/LC_MESSAGES/gvfs.mo
share/locale/id/LC_MESSAGES/gvfs.mo
share/locale/ie/LC_MESSAGES/gvfs.mo
share/locale/it/LC_MESSAGES/gvfs.mo
share/locale/ja/LC_MESSAGES/gvfs.mo
share/locale/ka/LC_MESSAGES/gvfs.mo
share/locale/kab/LC_MESSAGES/gvfs.mo
share/locale/kk/LC_MESSAGES/gvfs.mo
share/locale/kn/LC_MESSAGES/gvfs.mo
share/locale/ko/LC_MESSAGES/gvfs.mo
share/locale/ku/LC_MESSAGES/gvfs.mo
share/locale/lt/LC_MESSAGES/gvfs.mo
share/locale/lv/LC_MESSAGES/gvfs.mo
share/locale/mai/LC_MESSAGES/gvfs.mo
share/locale/mk/LC_MESSAGES/gvfs.mo
share/locale/ml/LC_MESSAGES/gvfs.mo
share/locale/mr/LC_MESSAGES/gvfs.mo
share/locale/ms/LC_MESSAGES/gvfs.mo
share/locale/nb/LC_MESSAGES/gvfs.mo
share/locale/nds/LC_MESSAGES/gvfs.mo
share/locale/ne/LC_MESSAGES/gvfs.mo
share/locale/nl/LC_MESSAGES/gvfs.mo
share/locale/nn/LC_MESSAGES/gvfs.mo
share/locale/oc/LC_MESSAGES/gvfs.mo
share/locale/or/LC_MESSAGES/gvfs.mo
share/locale/pa/LC_MESSAGES/gvfs.mo
share/locale/pl/LC_MESSAGES/gvfs.mo
share/locale/pt/LC_MESSAGES/gvfs.mo
share/locale/pt_BR/LC_MESSAGES/gvfs.mo
share/locale/ro/LC_MESSAGES/gvfs.mo
share/locale/ru/LC_MESSAGES/gvfs.mo
share/locale/sk/LC_MESSAGES/gvfs.mo
share/locale/sl/LC_MESSAGES/gvfs.mo
share/locale/sq/LC_MESSAGES/gvfs.mo
share/locale/sr/LC_MESSAGES/gvfs.mo
share/locale/sr@latin/LC_MESSAGES/gvfs.mo
share/locale/sv/LC_MESSAGES/gvfs.mo
share/locale/ta/LC_MESSAGES/gvfs.mo
share/locale/te/LC_MESSAGES/gvfs.mo
share/locale/tg/LC_MESSAGES/gvfs.mo
share/locale/th/LC_MESSAGES/gvfs.mo
share/locale/tr/LC_MESSAGES/gvfs.mo
share/locale/ug/LC_MESSAGES/gvfs.mo
share/locale/uk/LC_MESSAGES/gvfs.mo
share/locale/vi/LC_MESSAGES/gvfs.mo
share/locale/zh_CN/LC_MESSAGES/gvfs.mo
share/locale/zh_HK/LC_MESSAGES/gvfs.mo
share/locale/zh_TW/LC_MESSAGES/gvfs.mo


[FILE:417:patches/patch-meson.build]
--- meson.build.orig	2024-10-18 10:28:21 UTC
+++ meson.build
@@ -122,6 +122,8 @@ if cc.compiles(statfs_code.format('statf
   config_h.set('STATFS_ARGS', 2)
 elif cc.compiles(statfs_code.format('statfs("/", &st, sizeof (st), 0)'))
   config_h.set('STATFS_ARGS', 4)
+elif host_machine.system() in ['netbsd']
+  config_h.set('STATFS_ARGS', 2)
 else
   error('unable to determine number of arguments to statfs()')
 endif

