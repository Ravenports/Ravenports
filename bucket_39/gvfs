# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gvfs
VERSION=		1.52.1
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	GNOME virtual file system
HOMEPAGE=		https://wiki.gnome.org/Projects/gvfs
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GNOME/gvfs/1.52/
DISTFILE[1]=		gvfs-1.52.1.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			dev
			nls

OPTIONS_AVAILABLE=	GUDEV GUDEV-DEVD NO-GUDEV
OPTIONS_STANDARD=	GUDEV GUDEV-DEVD NO-GUDEV
OPTGROUP_RADIO=		GUDEVS
OPTDESCR[GUDEVS]=	Flavors of libudev gobject bindings
OPTGROUP[GUDEVS]=	NO-GUDEV GUDEV GUDEV-DEVD
OPT_ON[freebsd]=	GUDEV-DEVD
OPT_ON[sunos]=		NO-GUDEV
OPT_ON[linux]=		GUDEV
OPT_ON[netbsd]=		GUDEV-DEVD
OPT_ON[dragonfly]=	GUDEV-DEVD
OPT_ON[midnightbsd]=	GUDEV-DEVD

BUILD_DEPENDS=		libgpg-error:dev:standard
			dbus:dev:standard
			libarchive:dev:standard
			libsoup:dev:standard
			libsecret:dev:standard
			gcr3:dev:standard
BUILDRUN_DEPENDS=	dbus:primary:standard
			gcr3:primary:standard
			libarchive:primary:standard
			libsecret:primary:standard
			libsoup:primary:standard

USES=			cpe meson pkgconfig ssl:build
GNOME_COMPONENTS=	glib libxml2

LICENSE=		LGPL20+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL20+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/common/gvfsutils.h
LICENSE_SCHEME=		solo

CPE_VENDOR=		gnome
FPC_EQUIVALENT=		devel/gvfs
MESON_ARGS=		-Dsystemduserunitdir="no"
			-Dtmpfilesdir="no"
			-Dadmin=false
			-Dafc=false
			-Dbluray=false
			-Ddnssd=false
			-Dfuse=false
			-Dgoa=false
			-Dgoogle=false
			-Dgphoto2=false
			-Dlibusb=false
			-Dlogind=false
			-Dmtp=false
			-Dnfs=false
			-Dsftp=false
			-Dsmb=false
			-Dudisks2=false

LDFLAGS=		-Wl,-rpath,{{PREFIX}}/lib/gvfs
VAR_OPSYS[sunos]=	LDFLAGS=-lintl

[GUDEV-DEVD].DESCRIPTION=		Build with gudev-devd library (BSD)
[GUDEV-DEVD].BUILDRUN_DEPENDS_ON=	libcdio-paranoia:single:standard
					libgudev-devd:primary:standard
[GUDEV-DEVD].BUILD_DEPENDS_ON=		libgudev-devd:dev:standard
[GUDEV-DEVD].CONFIGURE_ARGS_ON=		-Dgudev=true
					-Dcdda=true
[GUDEV-DEVD].USES_ON=			iconv

[NO-GUDEV].DESCRIPTION=			Build without gudev support
[NO-GUDEV].CONFIGURE_ARGS_ON=		-Dgudev=false
					-Dcdda=false

[GUDEV].DESCRIPTION=			Build with gudev library
[GUDEV].BUILDRUN_DEPENDS_ON=		libcdio-paranoia:primary:standard
					libgudev:primary:standard
[GUDEV].BUILD_DEPENDS_ON=		libcdio-paranoia:dev:standard
					libgudev:dev:standard
[GUDEV].CONFIGURE_ARGS_ON=		-Dgudev=true
					-Dcdda=true
[GUDEV].USES_ON=			iconv

[FILE:595:descriptions/desc.primary]
GVfs is a userspace virtual filesystem implementation for GIO (a library 
available in GLib). GVfs comes with a set of backends, including trash 
support, SFTP, SMB, HTTP, DAV, and many others. GVfs also contains modules 
for GIO that implement volume monitors and persistent metadata storage. 
There is also FUSE support that provides limited access to the GVfs 
filesystems for applications not using GIO.

The version of GVfs in Ravenports is currently pretty bare-bones. Only the 
basic backends are enabled right now. More will be added later as the 
required libraries are getting ported.


[FILE:97:distinfo]
cdbd4440f6d08792a6e7521244c17386e20bd537d375117099fc8fb68fe91741      1232604 gvfs-1.52.1.tar.xz


[FILE:807:manifests/plist.primary]
%%GUDEV-DEVD-ON%%libexec/gvfsd-cdda
%%GUDEV-DEVD-ON%%share/gvfs/mounts/cdda.mount
%%GUDEV-ON%%libexec/gvfsd-cdda
%%GUDEV-ON%%share/gvfs/mounts/cdda.mount
lib/gio/modules/
 libgioremote-volume-monitor.so
 libgvfsdbus.so
lib/gvfs/
 libgvfscommon.so
 libgvfsdaemon.so
libexec/
 gvfsd
 gvfsd-afp
 gvfsd-afp-browse
 gvfsd-archive
 gvfsd-burn
 gvfsd-computer
 gvfsd-dav
 gvfsd-ftp
 gvfsd-http
 gvfsd-localtest
 gvfsd-metadata
 gvfsd-network
 gvfsd-recent
 gvfsd-trash
share/dbus-1/services/
 org.gtk.vfs.Daemon.service
 org.gtk.vfs.Metadata.service
share/glib-2.0/schemas/org.gnome.system.gvfs.enums.xml
share/gvfs/mounts/
 afp-browse.mount
 afp.mount
 archive.mount
 burn.mount
 computer.mount
 dav.mount
 ftp.mount
 ftpis.mount
 ftps.mount
 http.mount
 localtest.mount
 network.mount
 recent.mount
 trash.mount


[FILE:59:manifests/plist.dev]
include/gvfs-client/gvfs/
 gvfsurimapper.h
 gvfsuriutils.h


[FILE:2928:manifests/plist.nls]
share/locale/ab/LC_MESSAGES/gvfs.mo
share/locale/af/LC_MESSAGES/gvfs.mo
share/locale/ar/LC_MESSAGES/gvfs.mo
share/locale/as/LC_MESSAGES/gvfs.mo
share/locale/ast/LC_MESSAGES/gvfs.mo
share/locale/be/LC_MESSAGES/gvfs.mo
share/locale/be@latin/LC_MESSAGES/gvfs.mo
share/locale/bg/LC_MESSAGES/gvfs.mo
share/locale/bn/LC_MESSAGES/gvfs.mo
share/locale/bn_IN/LC_MESSAGES/gvfs.mo
share/locale/bs/LC_MESSAGES/gvfs.mo
share/locale/ca/LC_MESSAGES/gvfs.mo
share/locale/ca@valencia/LC_MESSAGES/gvfs.mo
share/locale/cs/LC_MESSAGES/gvfs.mo
share/locale/da/LC_MESSAGES/gvfs.mo
share/locale/de/LC_MESSAGES/gvfs.mo
share/locale/el/LC_MESSAGES/gvfs.mo
share/locale/en@shaw/LC_MESSAGES/gvfs.mo
share/locale/en_GB/LC_MESSAGES/gvfs.mo
share/locale/eo/LC_MESSAGES/gvfs.mo
share/locale/es/LC_MESSAGES/gvfs.mo
share/locale/et/LC_MESSAGES/gvfs.mo
share/locale/eu/LC_MESSAGES/gvfs.mo
share/locale/fa/LC_MESSAGES/gvfs.mo
share/locale/fi/LC_MESSAGES/gvfs.mo
share/locale/fr/LC_MESSAGES/gvfs.mo
share/locale/fur/LC_MESSAGES/gvfs.mo
share/locale/ga/LC_MESSAGES/gvfs.mo
share/locale/gl/LC_MESSAGES/gvfs.mo
share/locale/gu/LC_MESSAGES/gvfs.mo
share/locale/he/LC_MESSAGES/gvfs.mo
share/locale/hi/LC_MESSAGES/gvfs.mo
share/locale/hr/LC_MESSAGES/gvfs.mo
share/locale/hu/LC_MESSAGES/gvfs.mo
share/locale/id/LC_MESSAGES/gvfs.mo
share/locale/ie/LC_MESSAGES/gvfs.mo
share/locale/it/LC_MESSAGES/gvfs.mo
share/locale/ja/LC_MESSAGES/gvfs.mo
share/locale/ka/LC_MESSAGES/gvfs.mo
share/locale/kk/LC_MESSAGES/gvfs.mo
share/locale/kn/LC_MESSAGES/gvfs.mo
share/locale/ko/LC_MESSAGES/gvfs.mo
share/locale/ku/LC_MESSAGES/gvfs.mo
share/locale/lt/LC_MESSAGES/gvfs.mo
share/locale/lv/LC_MESSAGES/gvfs.mo
share/locale/mai/LC_MESSAGES/gvfs.mo
share/locale/mk/LC_MESSAGES/gvfs.mo
share/locale/ml/LC_MESSAGES/gvfs.mo
share/locale/mr/LC_MESSAGES/gvfs.mo
share/locale/ms/LC_MESSAGES/gvfs.mo
share/locale/nb/LC_MESSAGES/gvfs.mo
share/locale/nds/LC_MESSAGES/gvfs.mo
share/locale/ne/LC_MESSAGES/gvfs.mo
share/locale/nl/LC_MESSAGES/gvfs.mo
share/locale/nn/LC_MESSAGES/gvfs.mo
share/locale/oc/LC_MESSAGES/gvfs.mo
share/locale/or/LC_MESSAGES/gvfs.mo
share/locale/pa/LC_MESSAGES/gvfs.mo
share/locale/pl/LC_MESSAGES/gvfs.mo
share/locale/pt/LC_MESSAGES/gvfs.mo
share/locale/pt_BR/LC_MESSAGES/gvfs.mo
share/locale/ro/LC_MESSAGES/gvfs.mo
share/locale/ru/LC_MESSAGES/gvfs.mo
share/locale/sk/LC_MESSAGES/gvfs.mo
share/locale/sl/LC_MESSAGES/gvfs.mo
share/locale/sq/LC_MESSAGES/gvfs.mo
share/locale/sr/LC_MESSAGES/gvfs.mo
share/locale/sr@latin/LC_MESSAGES/gvfs.mo
share/locale/sv/LC_MESSAGES/gvfs.mo
share/locale/ta/LC_MESSAGES/gvfs.mo
share/locale/te/LC_MESSAGES/gvfs.mo
share/locale/tg/LC_MESSAGES/gvfs.mo
share/locale/th/LC_MESSAGES/gvfs.mo
share/locale/tr/LC_MESSAGES/gvfs.mo
share/locale/ug/LC_MESSAGES/gvfs.mo
share/locale/uk/LC_MESSAGES/gvfs.mo
share/locale/vi/LC_MESSAGES/gvfs.mo
share/locale/zh_CN/LC_MESSAGES/gvfs.mo
share/locale/zh_HK/LC_MESSAGES/gvfs.mo
share/locale/zh_TW/LC_MESSAGES/gvfs.mo


[FILE:417:patches/patch-meson.build]
--- meson.build.orig	2023-10-20 11:49:59 UTC
+++ meson.build
@@ -120,6 +120,8 @@ if cc.compiles(statfs_code.format('statf
   config_h.set('STATFS_ARGS', 2)
 elif cc.compiles(statfs_code.format('statfs("/", &st, sizeof (st), 0)'))
   config_h.set('STATFS_ARGS', 4)
+elif host_machine.system() in ['netbsd']
+  config_h.set('STATFS_ARGS', 2)
 else
   error('unable to determine number of arguments to statfs()')
 endif

