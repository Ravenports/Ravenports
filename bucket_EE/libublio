# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libublio
VERSION=		20070103
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	User space caching library
HOMEPAGE=		none
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://ravenports.elderlinux.org/distcache/
DISTFILE[1]=		libublio-20070103.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

ONLY_FOR_OPSYS=		dragonfly freebsd darwin

FPC_EQUIVALENT=		devel/libublio

INVALID_RPATH=		yes

SUB_FILES=		libublio.pc
SUB_LIST=		PREFIX={{PREFIX}}
			PORTVERSION={{PORTVERSION}}

do-build:
	(cd ${WRKSRC} && sh compile.sh)

post-extract:
	${CP} ${FILESDIR}/compile.sh ${WRKSRC}

do-install:
	${MKDIR} ${STAGEDIR}${PREFIX}/include
	${MKDIR} -p ${STAGEDIR}${PREFIX}/lib/pkgconfig
	${INSTALL_DATA} ${WRKSRC}/ublio.h ${STAGEDIR}${PREFIX}/include
	${INSTALL_DATA} ${WRKDIR}/libublio.pc ${STAGEDIR}${PREFIX}/lib/pkgconfig
	${CP} ${WRKSRC}/libublio.a ${STAGEDIR}${PREFIX}/lib
	${CP} ${WRKSRC}/libublio.so.1 ${STAGEDIR}${PREFIX}/lib
	${LN} -s ${PREFIX}/lib/libublio.so.1 ${STAGEDIR}${PREFIX}/lib/libublio.so
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libublio.so.1

[FILE:288:descriptions/desc.single]
This is a user space caching library, currently used by FreeBSD and macOS 
to improve performance of NTFS-3G. The fuse driver is optimized for block 
devices while those operating systems only support character devices 
today, leading to a very slow read/write rate in this special case.


[FILE:103:distinfo]
7c87d1cd7a65ab5ab61f9d7b5279bab6c8169d33d552148d396995c767be919f        17238 libublio-20070103.tar.gz


[FILE:87:manifests/plist.single]
include/ublio.h
lib/
 libublio.a
 libublio.so
 libublio.so.1
lib/pkgconfig/libublio.pc


[FILE:264:files/Makefile]
# BSD Makefile for libublio
#
# $FreeBSD: head/devel/libublio/files/Makefile 340722 2014-01-22 17:00:46Z mat $
#

SRCS=	ublio.c

# Includes
INCS=	ublio.h
INCSDIR=${PREFIX}/include

# Libraries
LIB=	ublio
SHLIB_MAJOR=	1
LIBDIR=	${PREFIX}/lib

.include <bsd.lib.mk>


[FILE:891:files/compile.sh]
#!/bin/sh
cc -O2 -pipe -MD -MF.depend.ublio.o -MTublio.o -std=gnu99 -fstack-protector-strong -c ublio.c -o ublio.o
ar -crD libublio.a `NM='nm' NMFLAGS='' lorder ublio.o  | tsort -q` 
ranlib -D libublio.a
cc -pg  -O2 -pipe -MD -MF.depend.ublio.po -MTublio.po -std=gnu99 -fstack-protector-strong -c ublio.c -o ublio.po
ar -crD libublio_p.a `NM='nm' NMFLAGS='' lorder ublio.po  | tsort -q` 
ranlib -D libublio_p.a
cc -fpic -DPIC -g -O2 -pipe -MD -MF.depend.ublio.pico -MTublio.pico -std=gnu99 -fstack-protector-strong -c ublio.c -o ublio.pico
cc -fstack-protector-strong -shared -Wl,-x -Wl,--fatal-warnings -Wl,--warn-shared-textrel -o libublio.so.1.full -Wl,-soname,libublio.so.1  `NM='nm' NMFLAGS='' lorder ublio.pico | tsort -q` 
objcopy --only-keep-debug libublio.so.1.full libublio.so.1.debug
objcopy --strip-debug --add-gnu-debuglink=libublio.so.1.debug  libublio.so.1.full libublio.so.1


[FILE:240:files/libublio.pc.in]
prefix=%%PREFIX%%
exec_prefix=${prefix}
libdir=${exec_prefix}/lib
includedir=${prefix}/include

Name: libublio
Description: User space caching library
Version: %%PORTVERSION%%
Libs: -L${libdir} -lublio
Libs.private:
Cflags: -I${includedir}

