# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		devilutionX
VERSION=		1.4.1
KEYWORDS=		games
VARIANTS=		standard
SDESC[standard]=	Reverse-engineered Diablo 1 engine made portable
HOMEPAGE=		https://github.com/diasurgical/devilutionX
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/diasurgical:devilutionX:1.4.1
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		gtest:single:standard
BUILDRUN_DEPENDS=	libsodium:single:standard

USES=			cmake pkgconfig gettext-tools
C_USES[linux]=		iconv
SDL_COMPONENTS=		mixer2 ttf2

LICENSE=		PUBDOM:single
LICENSE_FILE=		PUBDOM:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		games/devilutionX

SUB_FILES=		pkg-message-single

CMAKE_ARGS=		-DBINARY_RELEASE:BOOL=ON
			-DVERSION_NUM="1.4.1"
			-DDISABLE_ZERO_TIER:BOOL=ON
VAR_OPSYS[linux]=	LDFLAGS=-liconv
VAR_OPSYS[dragonfly]=	CMAKE_ARGS=-DNONET:BOOL=ON

do-install:
	${INSTALL_PROGRAM} ${WRKDIR}/.build/devilutionx \
		${STAGEDIR}${PREFIX}/bin

[FILE:592:descriptions/desc.single]
Devilution is a project to re-create and document the source code for the 
game Diablo 1 as closely to the original as possible. It was 
reverse-engineered and cleaned up (believed to be legal under the Digital 
Millennium Copyright Act's documentation and interoperability exceptions).

DevilutionX is a portable version of the engine that uses SDL to run 
across modern operating systems. This package contains just the engine, no 
game data is provided. You will need the original resource container 
("diabdat.mpq") to play.

The Hellfire expansion is also supported since version 1.2.0.


[FILE:115:distinfo]
54b9fd496eba5b82d7e64891ab4de808f539c60b3b94bfa49639e0d9580fb7b8      7578111 diasurgical-devilutionX-1.4.1.tar.gz


[FILE:16:manifests/plist.single]
bin/devilutionx


[FILE:397:files/pkg-message-single.in]
To play the game you need the resource container file DIABDAT.MPQ. Copy
it off your Diablo CD or extract it (using e.g. innoextract) from the
GOG version (see https://www.gog.com/game/diablo). Then put it into the
directory ~/.local/share/diasurgical/devilution and make sure it is
spelled all lower-case!

This version matches Diablo 1.9 but also includes some additional fixes
and new features.

