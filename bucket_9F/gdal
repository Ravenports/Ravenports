# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gdal
VERSION=		3.12.2
KEYWORDS=		graphics geography
VARIANTS=		std
SDESC[std]=		Geospatial Data Abstraction Library
HOMEPAGE=		https://www.gdal.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://download.osgeo.org/gdal/3.12.2/
DISTFILE[1]=		gdal-3.12.2.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			tools
			dev
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		geos:dev:std
			hdf5:dev:std
			hdf5:cxx:std
			hdf5:fort:std
			hdf5:tools:std
			Imath:dev:std
			libarchive:dev:std
			libgeotiff:dev:std
			libheif:dev:std
			openexr:dev:std
			openjpeg:dev:std
			proj:dev:std
			WebP:dev:std
BUILDRUN_DEPENDS=	cfitsio:primary:std
			geos:primary:std
			hdf5:primary:std
			libarchive:primary:std
			libgeotiff:primary:std
			libheif:primary:std
			openexr:primary:std
			openjpeg:primary:std
			proj:primary:std
			WebP:primary:std
EXRUN[tools]=		gdal:primary:std

USES=			cpe cmake png jpeg gif tiff iconv sqlite pkgconfig
			zstd expat lz4 zlib xz pcre2 ssl curl bison
GNOME_COMPONENTS=	libxml2

DISTNAME=		gdal-3.12.2

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE.TXT
LICENSE_SCHEME=		solo

CPE_VENDOR=		osgeo
FPC_EQUIVALENT=		graphics/gdal

PLIST_SUB=		GDAL_SOMAJOR=38
			GDAL_SOVERSION=38.3.12.2

CMAKE_ARGS=		-DGDAL_USE_INTERNAL_LIBS=OFF
			-DGDAL_USE_JSONC_INTERNAL=ON
			-DGDAL_USE_LERC_INTERNAL=ON
			-DGDAL_USE_JPEG12_INTERNAL=ON
			-DGDAL_USE_OPENCAD_INTERNAL=ON
			-DGDAL_USE_QHULL_INTERNAL=ON
			-DGDAL_USE_CFITSIO=ON
			-DGDAL_USE_EXPAT=ON
			-DGDAL_USE_GEOS=ON
			-DGDAL_USE_GEOTIFF=ON
			-DGDAL_USE_GIF=ON
			-DGDAL_USE_HDF5=ON
			-DGDAL_USE_HEIF=ON
			-DGDAL_USE_ICONV=ON
			-DGDAL_USE_JPEG=ON
			-DGDAL_USE_LIBXML2=ON
			-DGDAL_USE_LZ4=ON
			-DGDAL_USE_OPENEXR=ON
			-DGDAL_USE_OPENJPEG=ON
			-DGDAL_USE_PCRE2=ON
			-DGDAL_USE_PNG=ON
			-DGDAL_USE_SQLITE3=ON
			-DGDAL_USE_TIFF=ON
			-DGDAL_USE_WEBP=ON
			-DGDAL_USE_ZLIB=ON
			-DGDAL_USE_ZSTD=ON
			-DGDAL_USE_ARMADILLO=OFF
			-DGDAL_USE_ARROW=OFF
			-DGDAL_USE_BASISU=OFF
			-DGDAL_USE_BLOSC=OFF
			-DGDAL_USE_BRUNSLI=OFF
			-DGDAL_USE_CRNLIB=OFF
			-DGDAL_USE_CURL=OFF
			-DGDAL_USE_CRYPTOPP=OFF
			-DGDAL_USE_DEFLATE=OFF
			-DGDAL_USE_ECW=OFF
			-DGDAL_USE_FILEGDB=OFF
			-DGDAL_USE_FREEXL=OFF
			-DGDAL_USE_FYBA=OFF
			-DGDAL_USE_GTA=OFF
			-DGDAL_USE_HDF4=OFF
			-DGDAL_USE_IDB=OFF
			-DGDAL_USE_JXL=OFF
			-DGDAL_USE_KDU=OFF
			-DGDAL_USE_KEA=OFF
			-DGDAL_USE_LIBKML=OFF
			-DGDAL_USE_LIBQB3=OFF
			-DGDAL_USE_LURATECH=OFF
			-DGDAL_USE_MONGOCXX=OFF
			-DGDAL_USE_MRSID=OFF
			-DGDAL_USE_MSSQL_NCLI=OFF
			-DGDAL_USE_MSSQL_ODBC=OFF
			-DGDAL_USE_MYSQL=OFF
			-DGDAL_USE_NETCDF=OFF
			-DGDAL_USE_ODBC=OFF
			-DGDAL_USE_ODBCCPP=OFF
			-DGDAL_USE_OGDI=OFF
			-DGDAL_USE_OPENCL=OFF
			-DGDAL_USE_OPENSSL=OFF
			-DGDAL_USE_ORACLE=OFF
			-DGDAL_USE_PARQUET=OFF
			-DGDAL_USE_PDFIUM=OFF
			-DGDAL_USE_POPPLER=OFF
			-DGDAL_USE_POSTGRESQL=OFF
			-DGDAL_USE_RASTERLITE2=OFF
			-DGDAL_USE_RDB=OFF
			-DGDAL_USE_SPATIALITE=OFF
			-DGDAL_USE_SFCGAL=OFF
			-DGDAL_USE_TEIGHA=OFF
			-DGDAL_USE_TILEDB=OFF
			-DGDAL_USE_XERCESC=OFF
			-DACCEPT_MISSING_SQLITE3_RTREE:BOOL=ON
			-DBUILD_PYTHON_BINDINGS=OFF

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/gdal[a-z_]*
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/gnm*
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/[nos]*
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/gdal
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libgdal.so

[FILE:644:descriptions/desc.primary]
GDAL - Geospatial Data Abstraction Library

GDAL/OGR is a translator library for raster and vector geospatial data
formats that is released under an Open Source license. As a library, it
presents a single abstract data model to the calling application for all
supported formats.

Current translators provide read (and sometimes write) access to a
variety of formats including ESRI Shapefiles, S-57, SDTS, PostGIS,
Oracle Spatial, Mapinfo mid/mif and TAB, GeoTIFF, Erdas Imagine,
ESRI .BIL, .aux labelled raw, DTED, SDTS DEM, JPEG, PNG and Arc/Info
Binary/ASCII Grid.

A full list of supported data formats is available on the official
website.


[FILE:57:descriptions/desc.tools]
This package contains geospatial data abstraction tools.


[FILE:97:distinfo]
21c5e0f91974383b4c5692b7103650f176f2f54f1b0d449787f444b89881e9b4      9605624 gdal-3.12.2.tar.xz


[FILE:65:manifests/plist.primary]
lib/
 libgdal.so.%%GDAL_SOMAJOR%%
 libgdal.so.%%GDAL_SOVERSION%%


[FILE:4450:manifests/plist.tools]
bin/
 gdal
 gdal_contour
 gdal_create
 gdal_footprint
 gdal_grid
 gdal_rasterize
 gdal_translate
 gdal_viewshed
 gdaladdo
 gdalbuildvrt
 gdaldem
 gdalenhance
 gdalinfo
 gdallocationinfo
 gdalmanage
 gdalmdiminfo
 gdalmdimtranslate
 gdalsrsinfo
 gdaltindex
 gdaltransform
 gdalwarp
 gnmanalyse
 gnmmanage
 nearblack
 ogr2ogr
 ogrinfo
 ogrlineref
 ogrtindex
 sozip
lib/gdalplugins/drivers.ini
share/bash-completion/completions/
 gdal
 gdal-config
 gdal2tiles.py
 gdal2xyz.py
 gdal_calc.py
 gdal_contour
 gdal_create
 gdal_edit.py
 gdal_fillnodata.py
 gdal_footprint
 gdal_grid
 gdal_merge.py
 gdal_polygonize.py
 gdal_proximity.py
 gdal_rasterize
 gdal_retile.py
 gdal_sieve.py
 gdal_translate
 gdal_viewshed
 gdaladdo
 gdalbuildvrt
 gdalcompare.py
 gdaldem
 gdalenhance
 gdalinfo
 gdallocationinfo
 gdalmanage
 gdalmove.py
 gdalsrsinfo
 gdaltindex
 gdaltransform
 gdalwarp
 ogr2ogr
 ogr_layer_algebra.py
 ogrinfo
 ogrlineref
 ogrmerge.py
 ogrtindex
 sozip
share/gdal/
 GDALLogoBW.svg
 GDALLogoColor.svg
 GDALLogoGS.svg
 LICENSE.TXT
 MM_m_idofic.csv
 bag_template.xml
 cubewerx_extra.wkt
 default.rsc
 ecw_cs.wkt
 epsg.wkt
 esri_StatePlane_extra.wkt
 gdal_algorithm.schema.json
 gdalg.schema.json
 gdalicon.png
 gdalinfo_output.schema.json
 gdalmdiminfo_output.schema.json
 gdaltileindex.xsd
 gdalvrt.xsd
 gfs.xsd
 gml_registry.xml
 gml_registry.xsd
 grib2_center.csv
 grib2_process.csv
 grib2_subcenter.csv
 grib2_table_4_2_0_0.csv
 grib2_table_4_2_0_1.csv
 grib2_table_4_2_0_13.csv
 grib2_table_4_2_0_14.csv
 grib2_table_4_2_0_15.csv
 grib2_table_4_2_0_16.csv
 grib2_table_4_2_0_17.csv
 grib2_table_4_2_0_18.csv
 grib2_table_4_2_0_19.csv
 grib2_table_4_2_0_190.csv
 grib2_table_4_2_0_191.csv
 grib2_table_4_2_0_2.csv
 grib2_table_4_2_0_20.csv
 grib2_table_4_2_0_21.csv
 grib2_table_4_2_0_22.csv
 grib2_table_4_2_0_3.csv
 grib2_table_4_2_0_4.csv
 grib2_table_4_2_0_5.csv
 grib2_table_4_2_0_6.csv
 grib2_table_4_2_0_7.csv
 grib2_table_4_2_10_0.csv
 grib2_table_4_2_10_1.csv
 grib2_table_4_2_10_191.csv
 grib2_table_4_2_10_2.csv
 grib2_table_4_2_10_3.csv
 grib2_table_4_2_10_4.csv
 grib2_table_4_2_1_0.csv
 grib2_table_4_2_1_1.csv
 grib2_table_4_2_1_2.csv
 grib2_table_4_2_20_0.csv
 grib2_table_4_2_20_1.csv
 grib2_table_4_2_20_2.csv
 grib2_table_4_2_20_3.csv
 grib2_table_4_2_2_0.csv
 grib2_table_4_2_2_3.csv
 grib2_table_4_2_2_4.csv
 grib2_table_4_2_2_5.csv
 grib2_table_4_2_2_6.csv
 grib2_table_4_2_2_7.csv
 grib2_table_4_2_3_0.csv
 grib2_table_4_2_3_1.csv
 grib2_table_4_2_3_2.csv
 grib2_table_4_2_3_3.csv
 grib2_table_4_2_3_4.csv
 grib2_table_4_2_3_5.csv
 grib2_table_4_2_3_6.csv
 grib2_table_4_2_4_0.csv
 grib2_table_4_2_4_1.csv
 grib2_table_4_2_4_10.csv
 grib2_table_4_2_4_2.csv
 grib2_table_4_2_4_3.csv
 grib2_table_4_2_4_4.csv
 grib2_table_4_2_4_5.csv
 grib2_table_4_2_4_6.csv
 grib2_table_4_2_4_7.csv
 grib2_table_4_2_4_8.csv
 grib2_table_4_2_4_9.csv
 grib2_table_4_2_local_Canada.csv
 grib2_table_4_2_local_HPC.csv
 grib2_table_4_2_local_MRMS.csv
 grib2_table_4_2_local_NCEP.csv
 grib2_table_4_2_local_NDFD.csv
 grib2_table_4_2_local_index.csv
 grib2_table_4_5.csv
 grib2_table_versions.csv
 gt_datum.csv
 gt_ellips.csv
 header.dxf
 inspire_cp_BasicPropertyUnit.gfs
 inspire_cp_CadastralBoundary.gfs
 inspire_cp_CadastralParcel.gfs
 inspire_cp_CadastralZoning.gfs
 jpfgdgml_AdmArea.gfs
 jpfgdgml_AdmBdry.gfs
 jpfgdgml_AdmPt.gfs
 jpfgdgml_BldA.gfs
 jpfgdgml_BldL.gfs
 jpfgdgml_Cntr.gfs
 jpfgdgml_CommBdry.gfs
 jpfgdgml_CommPt.gfs
 jpfgdgml_Cstline.gfs
 jpfgdgml_ElevPt.gfs
 jpfgdgml_GCP.gfs
 jpfgdgml_LeveeEdge.gfs
 jpfgdgml_RailCL.gfs
 jpfgdgml_RdASL.gfs
 jpfgdgml_RdArea.gfs
 jpfgdgml_RdCompt.gfs
 jpfgdgml_RdEdg.gfs
 jpfgdgml_RdMgtBdry.gfs
 jpfgdgml_RdSgmtA.gfs
 jpfgdgml_RvrMgtBdry.gfs
 jpfgdgml_SBAPt.gfs
 jpfgdgml_SBArea.gfs
 jpfgdgml_SBBdry.gfs
 jpfgdgml_WA.gfs
 jpfgdgml_WL.gfs
 jpfgdgml_WStrA.gfs
 jpfgdgml_WStrL.gfs
 leaflet_template.html
 nitf_spec.xml
 nitf_spec.xsd
 ogr_fields_override.schema.json
 ogrinfo_output.schema.json
 ogrvrt.xsd
 osmconf.ini
 ozi_datum.csv
 ozi_ellips.csv
 pci_datum.txt
 pci_ellips.txt
 pdfcomposition.xsd
 pds4_template.xml
 ruian_vf_ob_v1.gfs
 ruian_vf_st_uvoh_v1.gfs
 ruian_vf_st_v1.gfs
 ruian_vf_v1.gfs
 s57agencies.csv
 s57attributes.csv
 s57expectedinput.csv
 s57objectclasses.csv
 seed_2d.dgn
 seed_3d.dgn
 stateplane.csv
 template_tiles.mapml
 tms_LINZAntarticaMapTileGrid.json
 tms_MapML_APSTILE.json
 tms_MapML_CBMTILE.json
 tms_NZTM2000.json
 trailer.dxf
 vdv452.xml
 vdv452.xsd
 vicar.json


[FILE:1813:manifests/plist.dev]
bin/gdal-config
include/
 cpl_atomic_ops.h
 cpl_auto_close.h
 cpl_compressor.h
 cpl_config.h
 cpl_config_extras.h
 cpl_conv.h
 cpl_csv.h
 cpl_error.h
 cpl_float.h
 cpl_hash_set.h
 cpl_http.h
 cpl_json.h
 cpl_list.h
 cpl_minixml.h
 cpl_multiproc.h
 cpl_port.h
 cpl_progress.h
 cpl_quad_tree.h
 cpl_spawn.h
 cpl_string.h
 cpl_time.h
 cpl_virtualmem.h
 cpl_vsi.h
 cpl_vsi_error.h
 cpl_vsi_virtual.h
 cplkeywordparser.h
 gdal.h
 gdal_adbc.h
 gdal_alg.h
 gdal_alg_priv.h
 gdal_asyncreader.h
 gdal_colortable.h
 gdal_computedrasterband.h
 gdal_cpp_functions.h
 gdal_csv.h
 gdal_dataset.h
 gdal_defaultoverviews.h
 gdal_driver.h
 gdal_drivermanager.h
 gdal_frmts.h
 gdal_fwd.h
 gdal_gcp.h
 gdal_geotransform.h
 gdal_majorobject.h
 gdal_maskbands.h
 gdal_mdreader.h
 gdal_minmax_element.hpp
 gdal_multidim.h
 gdal_multidim_cpp.h
 gdal_multidomainmetadata.h
 gdal_openinfo.h
 gdal_pam.h
 gdal_pam_multidim.h
 gdal_priv.h
 gdal_priv_templates.hpp
 gdal_proxy.h
 gdal_raster_cpp.h
 gdal_rasterband.h
 gdal_rasterblock.h
 gdal_rat.h
 gdal_relationship.h
 gdal_simplesurf.h
 gdal_typetraits.h
 gdal_utils.h
 gdal_vector_cpp.h
 gdal_version.h
 gdal_vrt.h
 gdalalgorithm.h
 gdalalgorithm_c.h
 gdalalgorithm_cpp.h
 gdalcachedpixelaccessor.h
 gdalgeorefpamdataset.h
 gdalgrid.h
 gdalgrid_priv.h
 gdaljp2abstractdataset.h
 gdaljp2metadata.h
 gdalpansharpen.h
 gdalsubdatasetinfo.h
 gdalwarper.h
 geoheif.h
 gnm.h
 gnm_api.h
 gnmgraph.h
 memdataset.h
 ogr_api.h
 ogr_core.h
 ogr_feature.h
 ogr_featurestyle.h
 ogr_geocoding.h
 ogr_geomcoordinateprecision.h
 ogr_geometry.h
 ogr_p.h
 ogr_recordbatch.h
 ogr_spatialref.h
 ogr_srs_api.h
 ogr_swq.h
 ogrsf_frmts.h
 rawdataset.h
 vrtdataset.h
lib/libgdal.so
lib/cmake/gdal/
 GDAL-targets-release.cmake
 GDAL-targets.cmake
 GDALConfig.cmake
 GDALConfigVersion.cmake
lib/pkgconfig/gdal.pc


[FILE:2794:manifests/plist.man]
share/man/man1/
 gdal-config.1
 gdal-convert.1
 gdal-dataset-copy.1
 gdal-dataset-delete.1
 gdal-dataset-identify.1
 gdal-dataset-rename.1
 gdal-dataset.1
 gdal-info.1
 gdal-mdim-convert.1
 gdal-mdim-info.1
 gdal-mdim-mosaic.1
 gdal-mdim.1
 gdal-pipeline.1
 gdal-raster-as-features.1
 gdal-raster-aspect.1
 gdal-raster-calc.1
 gdal-raster-clean-collar.1
 gdal-raster-clip.1
 gdal-raster-color-blend.1
 gdal-raster-color-map.1
 gdal-raster-compare.1
 gdal-raster-contour.1
 gdal-raster-convert.1
 gdal-raster-create.1
 gdal-raster-edit.1
 gdal-raster-fill-nodata.1
 gdal-raster-footprint.1
 gdal-raster-hillshade.1
 gdal-raster-index.1
 gdal-raster-info.1
 gdal-raster-mosaic.1
 gdal-raster-neighbors.1
 gdal-raster-nodata-to-alpha.1
 gdal-raster-overview-add.1
 gdal-raster-overview-delete.1
 gdal-raster-overview-refresh.1
 gdal-raster-pansharpen.1
 gdal-raster-pipeline.1
 gdal-raster-pixel-info.1
 gdal-raster-polygonize.1
 gdal-raster-proximity.1
 gdal-raster-reclassify.1
 gdal-raster-reproject.1
 gdal-raster-resize.1
 gdal-raster-rgb-to-palette.1
 gdal-raster-roughness.1
 gdal-raster-scale.1
 gdal-raster-select.1
 gdal-raster-set-type.1
 gdal-raster-sieve.1
 gdal-raster-slope.1
 gdal-raster-stack.1
 gdal-raster-tile.1
 gdal-raster-tpi.1
 gdal-raster-tri.1
 gdal-raster-unscale.1
 gdal-raster-update.1
 gdal-raster-viewshed.1
 gdal-raster-zonal-stats.1
 gdal-raster.1
 gdal-vector-buffer.1
 gdal-vector-check-coverage.1
 gdal-vector-check-geometry.1
 gdal-vector-clean-coverage.1
 gdal-vector-clip.1
 gdal-vector-concat.1
 gdal-vector-convert.1
 gdal-vector-edit.1
 gdal-vector-explode-collections.1
 gdal-vector-filter.1
 gdal-vector-grid.1
 gdal-vector-index.1
 gdal-vector-info.1
 gdal-vector-layer-algebra.1
 gdal-vector-make-point.1
 gdal-vector-make-valid.1
 gdal-vector-partition.1
 gdal-vector-pipeline.1
 gdal-vector-rasterize.1
 gdal-vector-segmentize.1
 gdal-vector-select.1
 gdal-vector-set-field-type.1
 gdal-vector-set-geom-type.1
 gdal-vector-simplify.1
 gdal-vector-sql.1
 gdal-vector-swap-xy.1
 gdal-vector.1
 gdal-vsi-copy.1
 gdal-vsi-delete.1
 gdal-vsi-list.1
 gdal-vsi-move.1
 gdal-vsi-sozip.1
 gdal-vsi-sync.1
 gdal-vsi.1
 gdal.1
 gdal2tiles.1
 gdal_calc.1
 gdal_contour.1
 gdal_create.1
 gdal_edit.1
 gdal_fillnodata.1
 gdal_footprint.1
 gdal_grid.1
 gdal_merge.1
 gdal_pansharpen.1
 gdal_polygonize.1
 gdal_proximity.1
 gdal_rasterize.1
 gdal_retile.1
 gdal_sieve.1
 gdal_translate.1
 gdal_viewshed.1
 gdaladdo.1
 gdalbuildvrt.1
 gdalcompare.1
 gdaldem.1
 gdalinfo.1
 gdallocationinfo.1
 gdalmanage.1
 gdalmdiminfo.1
 gdalmdimtranslate.1
 gdalmove.1
 gdalsrsinfo.1
 gdaltindex.1
 gdaltransform.1
 gdalwarp.1
 gnmanalyse.1
 gnmmanage.1
 nearblack.1
 ogr2ogr.1
 ogr_layer_algebra.1
 ogrinfo.1
 ogrlineref.1
 ogrmerge.1
 ogrtindex.1
 pct2rgb.1
 rgb2pct.1
 sozip.1


[FILE:449:patches/patch-cmake_template_cpl__config.h.in]
Avoid __extendhfsf2 and friends

--- cmake/template/cpl_config.h.in.orig	2025-12-18 14:15:17 UTC
+++ cmake/template/cpl_config.h.in
@@ -27,9 +27,6 @@
 /* Whether `std::float16_t` is available (and working). */
 #cmakedefine HAVE_STD_FLOAT16_T @HAVE_STD_FLOAT16_T@
 
-/* Whether `_Float16' is supported. */
-#cmakedefine HAVE__FLOAT16 @HAVE__FLOAT16@
-
 /* Define to 1, if you have LARGEFILE64_SOURCE */
 #cmakedefine VSI_NEED_LARGEFILE64_SOURCE 1
 


[FILE:682:patches/patch-gdal.cmake]
--- gdal.cmake.orig	2025-12-18 14:15:18 UTC
+++ gdal.cmake
@@ -143,7 +143,7 @@ endif ()
 if (CMAKE_CXX_COMPILER_ID MATCHES "Clang" OR CMAKE_CXX_COMPILER_ID STREQUAL "GNU")
   include(CheckLinkerFlag)
   check_linker_flag(C "-Wl,--no-undefined" HAS_NO_UNDEFINED)
-  if (HAS_NO_UNDEFINED AND (NOT "${CMAKE_CXX_FLAGS}" MATCHES "-fsanitize") AND NOT CMAKE_SYSTEM_NAME MATCHES "OpenBSD")
+  if (HAS_NO_UNDEFINED AND (NOT "${CMAKE_CXX_FLAGS}" MATCHES "-fsanitize") AND NOT CMAKE_SYSTEM_NAME MATCHES "OpenBSD|MidnightBSD|FreeBSD|DragonFly")
     string(APPEND CMAKE_SHARED_LINKER_FLAGS " -Wl,--no-undefined")
     string(APPEND CMAKE_MODULE_LINKER_FLAGS " -Wl,--no-undefined")
   endif ()


[FILE:333:patches/patch-port_cpl__conv.cpp]
Avoid visibility define that masks usage that is apparently beyond XOPEN or C99.

--- port/cpl_conv.cpp.orig	2025-12-18 14:15:18 UTC
+++ port/cpl_conv.cpp
@@ -34,11 +34,6 @@
 #endif
 #endif
 
-// For atoll (at least for NetBSD)
-#ifndef _ISOC99_SOURCE
-#define _ISOC99_SOURCE
-#endif
-
 #ifdef MSVC_USE_VLD
 #include <vld.h>
 #endif


[FILE:403:patches/patch-port_cpl__multiproc.cpp]
--- port/cpl_multiproc.cpp.orig	2025-12-18 14:15:18 UTC
+++ port/cpl_multiproc.cpp
@@ -1365,7 +1365,11 @@ int CPLGetNumCPUs()
     nCPUs = 1;
 #endif
 
-#ifdef HAVE_SCHED_GETAFFINITY
+#if defined(HAVE_SCHED_GETAFFINITY) \
+ && defined(CPU_ALLOC) \
+ && defined(CPU_ALLOC_SIZE) \
+ && defined(CPU_ZERO_S) \
+ && defined(CPU_COUNT_S)
     if (nCPUs > 1)
     {
         cpu_set_t *set = CPU_ALLOC(nCPUs);


[FILE:525:patches/patch-port_cpl__port.h]
--- port/cpl_port.h.orig	2025-12-18 14:15:18 UTC
+++ port/cpl_port.h
@@ -581,7 +581,7 @@ static inline char *CPL_afl_friendly_str
 #define CPLIsNan(x) __builtin_isnan(x)
 #define CPLIsInf(x) __builtin_isinf(x)
 #define CPLIsFinite(x) __builtin_isfinite(x)
-#elif defined(isinf) || defined(__FreeBSD__)
+#elif defined(isinf) || defined(__FreeBSD__) || defined(__DragonFly__)
 /** Return whether a floating-pointer number is nan */
 #define CPLIsNan(x) isnan(x)
 /** Return whether a floating-pointer number is +/- infinity */


[FILE:321:patches/patch-port_cpl__spawn.cpp]
--- port/cpl_spawn.cpp.orig	2025-12-18 14:15:18 UTC
+++ port/cpl_spawn.cpp
@@ -41,7 +41,7 @@
 #include <crt_externs.h>
 #define environ (*_NSGetEnviron())
 #else
-#if defined(__FreeBSD__)
+#if defined(__FreeBSD__) || defined(__DragonFly__)
 extern __attribute__((__weak__)) char **environ;
 #else
 extern char **environ;

