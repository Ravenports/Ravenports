# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libvss
VERSION=		2021
KEYWORDS=		textproc devel ada
VARIANTS=		standard
SDESC[standard]=	High level string and text processing library
HOMEPAGE=		https://github.com/AdaCore/VSS
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		ADACORE/b3b6db7b27ef26dc9006e062dd1bf7adbe47566b?filename=vss-2021-20210701-198AA-src.tar.gz&x=/
DISTFILE[1]=		vss-2021-20210701-198AA-src.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gmake gprbuild

DISTNAME=		vss-2021-20210701-198AA-src

LICENSE=		GPLv3+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING3
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/source/text/vss-strings.ads
LICENSE_SCHEME=		solo

MAKE_ARGS=		BUILD_MODE=prod

INSTALL_REQ_TOOLCHAIN=	yes

post-install:
	${RM} -r ${STAGEDIR}${PREFIX}/share/gpr/manifests

[FILE:981:descriptions/desc.single]
VSS is a high level string and text processing library.

The objectives of this project are:
 * To introduce a definite type that represents a string of Unicode
   characters and provides a handy set of operations.
 * The API should be encoding independent and allows efficient
   implementations depending on platform/application and avoid extra
   encoding conversions, e.g. an UTF-8 internal representation for Gtk+
   applications, UCS-2 for native Windows applications and UTF-16 for
   WebAssembly.
 * Besides separating string API from in-memory data representation, it
   should separate string API from input/output stream representation.
 * To provide a clear, well-defined semantic for iteration over string
   elements, such as unicode unit, grapheme cluster, etc.
 * To avoid string element integer indexes, because this isn't
   necessarily constant time and could mislead about indexed element kind.
 * To prefer safe results over raising exceptions where possible.


[FILE:113:distinfo]
8d3b4d0895d289ea68176e55d5954016cb7071950bad40124162e2cc3b48e534       143357 vss-2021-20210701-198AA-src.tar.gz


[FILE:6042:manifests/plist.single]
include/vss_gnat/
 a-szuvau.adb
 a-szuvau.ads
include/vss_json/
 vss-json-events.ads
 vss-json-implementation-parsers.adb
 vss-json-implementation-parsers.ads
 vss-json-implementation.ads
 vss-json-streams-content_handlers.adb
 vss-json-streams-content_handlers.ads
 vss-json-streams-readers-simple.adb
 vss-json-streams-readers-simple.ads
 vss-json-streams-readers.adb
 vss-json-streams-readers.ads
 vss-json-streams-writers.adb
 vss-json-streams-writers.ads
 vss-json-streams.ads
 vss-json.adb
 vss-json.ads
include/vss_text/
 vss-characters.ads
 vss-implementation-fnv_hash.adb
 vss-implementation-fnv_hash.ads
 vss-implementation-line_iterators.adb
 vss-implementation-line_iterators.ads
 vss-implementation-string_configuration.ads
 vss-implementation-string_handlers.adb
 vss-implementation-string_handlers.ads
 vss-implementation-string_vectors.adb
 vss-implementation-string_vectors.ads
 vss-implementation-strings.adb
 vss-implementation-strings.ads
 vss-implementation-utf8_encoding.adb
 vss-implementation-utf8_encoding.ads
 vss-implementation-utf8_string_handlers.adb
 vss-implementation-utf8_string_handlers.ads
 vss-implementation.ads
 vss-stream_element_vectors-conversions.adb
 vss-stream_element_vectors-conversions.ads
 vss-stream_element_vectors-internals.adb
 vss-stream_element_vectors-internals.ads
 vss-stream_element_vectors.adb
 vss-stream_element_vectors.ads
 vss-string_vectors-internals.adb
 vss-string_vectors-internals.ads
 vss-string_vectors.adb
 vss-string_vectors.ads
 vss-strings-character_iterators.ads
 vss-strings-conversions.adb
 vss-strings-conversions.ads
 vss-strings-converters-decoders-utf8.adb
 vss-strings-converters-decoders-utf8.ads
 vss-strings-converters-decoders.adb
 vss-strings-converters-decoders.ads
 vss-strings-converters.ads
 vss-strings-cursors-internals.adb
 vss-strings-cursors-internals.ads
 vss-strings-cursors-iterators-characters-internals.adb
 vss-strings-cursors-iterators-characters-internals.ads
 vss-strings-cursors-iterators-characters.adb
 vss-strings-cursors-iterators-characters.ads
 vss-strings-cursors-iterators-lines-internals.adb
 vss-strings-cursors-iterators-lines-internals.ads
 vss-strings-cursors-iterators-lines.adb
 vss-strings-cursors-iterators-lines.ads
 vss-strings-cursors-iterators.ads
 vss-strings-cursors-markers-internals.adb
 vss-strings-cursors-markers-internals.ads
 vss-strings-cursors-markers.adb
 vss-strings-cursors-markers.ads
 vss-strings-cursors.adb
 vss-strings-cursors.ads
 vss-strings-internals.adb
 vss-strings-internals.ads
 vss-strings-line_iterators.ads
 vss-strings-markers.ads
 vss-strings-texts.ads
 vss-strings.adb
 vss-strings.ads
 vss-text_streams-memory_utf8_input.adb
 vss-text_streams-memory_utf8_input.ads
 vss-text_streams-memory_utf8_output.adb
 vss-text_streams-memory_utf8_output.ads
 vss-text_streams.ads
 vss-unicode.ads
 vss.ads
lib/vss_gnat/
 a-szuvau.ali
 a-szuvau.o
lib/vss_json/
 vss-json-events.ali
 vss-json-events.o
 vss-json-implementation-parsers.ali
 vss-json-implementation-parsers.o
 vss-json-implementation.ali
 vss-json-implementation.o
 vss-json-streams-content_handlers.ali
 vss-json-streams-content_handlers.o
 vss-json-streams-readers-simple.ali
 vss-json-streams-readers-simple.o
 vss-json-streams-readers.ali
 vss-json-streams-readers.o
 vss-json-streams-writers.ali
 vss-json-streams-writers.o
 vss-json-streams.ali
 vss-json-streams.o
 vss-json.ali
 vss-json.o
lib/vss_text/
 vss-characters.ali
 vss-characters.o
 vss-implementation-fnv_hash.ali
 vss-implementation-fnv_hash.o
 vss-implementation-line_iterators.ali
 vss-implementation-line_iterators.o
 vss-implementation-string_configuration.ali
 vss-implementation-string_configuration.o
 vss-implementation-string_handlers.ali
 vss-implementation-string_handlers.o
 vss-implementation-string_vectors.ali
 vss-implementation-string_vectors.o
 vss-implementation-strings.ali
 vss-implementation-strings.o
 vss-implementation-utf8_encoding.ali
 vss-implementation-utf8_encoding.o
 vss-implementation-utf8_string_handlers.ali
 vss-implementation-utf8_string_handlers.o
 vss-implementation.ali
 vss-implementation.o
 vss-stream_element_vectors-conversions.ali
 vss-stream_element_vectors-conversions.o
 vss-stream_element_vectors-internals.ali
 vss-stream_element_vectors-internals.o
 vss-stream_element_vectors.ali
 vss-stream_element_vectors.o
 vss-string_vectors-internals.ali
 vss-string_vectors-internals.o
 vss-string_vectors.ali
 vss-string_vectors.o
 vss-strings-character_iterators.ali
 vss-strings-character_iterators.o
 vss-strings-conversions.ali
 vss-strings-conversions.o
 vss-strings-converters-decoders-utf8.ali
 vss-strings-converters-decoders-utf8.o
 vss-strings-converters-decoders.ali
 vss-strings-converters-decoders.o
 vss-strings-converters.ali
 vss-strings-converters.o
 vss-strings-cursors-internals.ali
 vss-strings-cursors-internals.o
 vss-strings-cursors-iterators-characters-internals.ali
 vss-strings-cursors-iterators-characters-internals.o
 vss-strings-cursors-iterators-characters.ali
 vss-strings-cursors-iterators-characters.o
 vss-strings-cursors-iterators-lines-internals.ali
 vss-strings-cursors-iterators-lines-internals.o
 vss-strings-cursors-iterators-lines.ali
 vss-strings-cursors-iterators-lines.o
 vss-strings-cursors-iterators.ali
 vss-strings-cursors-iterators.o
 vss-strings-cursors-markers-internals.ali
 vss-strings-cursors-markers-internals.o
 vss-strings-cursors-markers.ali
 vss-strings-cursors-markers.o
 vss-strings-cursors.ali
 vss-strings-cursors.o
 vss-strings-internals.ali
 vss-strings-internals.o
 vss-strings-line_iterators.ali
 vss-strings-line_iterators.o
 vss-strings-markers.ali
 vss-strings-markers.o
 vss-strings-texts.ali
 vss-strings-texts.o
 vss-strings.ali
 vss-strings.o
 vss-text_streams-memory_utf8_input.ali
 vss-text_streams-memory_utf8_input.o
 vss-text_streams-memory_utf8_output.ali
 vss-text_streams-memory_utf8_output.o
 vss-text_streams.ali
 vss-text_streams.o
 vss-unicode.ali
 vss-unicode.o
 vss.ali
 vss.o
share/gpr/
 vss_gnat.gpr
 vss_json.gpr
 vss_text.gpr


[FILE:567:patches/patch-Makefile]
--- Makefile.orig	2021-06-15 05:07:58 UTC
+++ Makefile
@@ -5,6 +5,11 @@ all:
 	gprbuild -p -P gnat/vss_text.gpr -XVSS_BUILD_MODE=$(BUILD_MODE) -cargs $(ADAFLAGS)
 	gprbuild -p -P gnat/vss_json.gpr -XVSS_BUILD_MODE=$(BUILD_MODE) -cargs $(ADAFLAGS)
 
+install:
+	gprinstall --prefix=$(DESTDIR)$(PREFIX) -p -P gnat/vss_text.gpr
+	gprinstall --prefix=$(DESTDIR)$(PREFIX) -p -P gnat/vss_json.gpr
+	gprinstall --prefix=$(DESTDIR)$(PREFIX) -p -P gnat/vss_gnat.gpr
+
 build_tests:
 	gprbuild -p -P gnat/tests/vss_text_tests.gpr
 	gprbuild -p -P gnat/tests/vss_json_tests.gpr

