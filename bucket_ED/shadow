# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		shadow
VERSION=		4.8.1
KEYWORDS=		sysutils raven
VARIANTS=		standard
SDESC[standard]=	Password and admin tools for Linux
HOMEPAGE=		https://github.com/shadow-maint/shadow
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/shadow-maint:shadow:4.8.1
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

ONLY_FOR_OPSYS=		linux

USES=			autoreconf libtool gettext-tools

LICENSE=		BSD3CLAUSE:single
LICENSE_FILE=		BSD3CLAUSE:{{WRKDIR}}/LICENSE_BSD
LICENSE_AWK=		BSD3CLAUSE:"^$$"
LICENSE_SOURCE=		BSD3CLAUSE:{{WRKSRC}}/src/usermod.c
LICENSE_SCHEME=		solo

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-nls
			--enable-shared=no
			--enable-static=yes
			--enable-shadowgrp=yes
			--enable-utmpx=no
			--with-audit=no
			--with-libpam=no
			--with-acl=no
			--with-attr=no
			--with-skey=no
			--with-tcb=no
			--with-libcrack=no
			--with-sha-crypt=yes
			--with-nscd=no

post-patch:
	# --enable-man has no effect.
	# requires unknown dependency on docbook/libxml2
	# just turn it off forcibly for now
	${REINPLACE_CMD} -e '/SUBDIRS =/ s| man | |' ${WRKSRC}/Makefile.am

[FILE:372:descriptions/desc.single]
Password and account management tool suite with support for shadow files
and PAM (Linux only).

Initially used to obtain User and Group addition tools for the Linux
system root for Ravenadm.  Thus all the options are intentionally turned
off.  Should this package be desired in its own right, the shadow port
can be split into variants to satisfy ravenadm and real users.


[FILE:111:distinfo]
d55490c859b686a0ca83901cef70d926823c90118a2659a402df92cc8069c845      3084590 shadow-maint-shadow-4.8.1.tar.gz


[FILE:365:manifests/plist.single]
bin/
 chage
 chfn
 chsh
 expiry
 faillog
 gpasswd
 groups
 lastlog
 login
 newgidmap
 newgrp
 newuidmap
 passwd
 sg
 su
etc/
 limits
 login.access
 login.defs
etc/default/useradd
sbin/
 chgpasswd
 chpasswd
 groupadd
 groupdel
 groupmems
 groupmod
 grpck
 grpconv
 grpunconv
 logoutd
 newusers
 nologin
 pwck
 pwconv
 pwunconv
 useradd
 userdel
 usermod
 vigr
 vipw

