# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		vala
VERSION=		0.42.6
KEYWORDS=		lang
VARIANTS=		standard
SDESC[standard]=	Compiler for the GObject type system
HOMEPAGE=		https://wiki.gnome.org/Projects/Vala
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNOME/vala/0.42
DISTFILE[1]=		vala-0.42.6.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	graphviz:primary:standard

USES=			bison gettext-runtime gmake libtool pkgconfig
GNOME_COMPONENTS=	glib libxslt

LICENSE=		LGPL21+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"GLib;"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/vala/valasignaltype.vala
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		lang/vala

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		-localstatedir={{PREFIX}}/share
			--with-html-dir={{PREFIX}}/share/doc
			--disable-gtk-doc
			--with-gconf-source=xml:merged:{{PREFIX}}/etc/gconf/gconf.xml.defaults
CONFIGURE_ENV=		GTKDOC="false"

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
PLIST_SUB=		VER=0.42

[FILE:816:descriptions/desc.single]
Vala is a programming language that aims to bring modern programming
language features to GNOME developers without imposing any additional
runtime requirements and without using a different ABI compared to
applications and libraries written in C.

valac, the Vala compiler, is a self-hosting compiler that translates Vala
source code into C source and header files. It uses the GObject type system
to create classes and interfaces declared in the Vala source code.

Vala is designed to allow access to existing C libraries, especially
GObject-based libraries, without the need for runtime bindings. All that is
needed to use a library with Vala is an API file, containing the class and
method declarations in Vala syntax. Vala currently comes with bindings for
GLib and GTK+ and many others from the GNOME Platform.


[FILE:97:distinfo]
3774f46fed70f528d069beaa2de5eaeafa2851c3509856dd10030fa1f7230290      3354840 vala-0.42.6.tar.xz


[FILE:6851:manifests/plist.single]
bin/
 vala
 vala-%%VER%%
 vala-gen-introspect
 vala-gen-introspect-%%VER%%
 valac
 valac-%%VER%%
 valadoc
 valadoc-%%VER%%
 vapigen
 vapigen-%%VER%%
include/vala-%%VER%%/
 vala.h
 valagee.h
include/valadoc-%%VER%%/valadoc.h
lib/
 libvala-%%VER%%.so
 libvala-%%VER%%.so.0
 libvala-%%VER%%.so.0.0.0
 libvaladoc-%%VER%%.so
 libvaladoc-%%VER%%.so.0
 libvaladoc-%%VER%%.so.0.0.0
lib/pkgconfig/
 libvala-%%VER%%.pc
 valadoc-%%VER%%.pc
 vapigen-%%VER%%.pc
 vapigen.pc
lib/vala-%%VER%%/
 gen-introspect-%%VER%%
 libvalaccodegen.so
lib/valadoc/doclets/devhelp/libdoclet.so
lib/valadoc/doclets/gtkdoc/libdoclet.so
lib/valadoc/doclets/html/libdoclet.so
share/aclocal/
 vala.m4
 vapigen.m4
share/devhelp/books/vala-%%VER%%/
 Attributes.html
 Classes.html
 Concepts.html
 Delegates.html
 Enumerated_types__Enums_.html
 Errors.html
 Expressions.html
 GIDL_metadata_format.html
 GIR_metadata_format.html
 Generics.html
 Interfaces.html
 Methods.html
 Namespaces.html
 Overview.html
 Preprocessor.html
 Statements.html
 Structs.html
 Types.html
 default.css
 index.html
 vala-%%VER%%.devhelp2
share/man/man1/
 vala-gen-introspect-%%VER%%.1.gz
 vala-gen-introspect.1.gz
 valac-%%VER%%.1.gz
 valac.1.gz
 valadoc-%%VER%%.1.gz
 valadoc.1.gz
 vapigen-%%VER%%.1.gz
 vapigen.1.gz
share/vala/Makefile.vapigen
share/vala-%%VER%%/vapi/
 alsa.deps
 alsa.vapi
 atk.vapi
 atspi-2.deps
 atspi-2.vapi
 avahi-client.vapi
 avahi-gobject.deps
 avahi-gobject.vapi
 bzlib.vapi
 cairo-xcb.deps
 cairo-xcb.vapi
 cairo.vapi
 ccss-1.vapi
 clutter-1.0.deps
 clutter-1.0.vapi
 clutter-gdk-1.0.deps
 clutter-gdk-1.0.vapi
 clutter-gst-2.0.deps
 clutter-gst-2.0.vapi
 clutter-gst-3.0.deps
 clutter-gst-3.0.vapi
 clutter-gtk-0.10.deps
 clutter-gtk-0.10.vapi
 clutter-gtk-1.0.deps
 clutter-gtk-1.0.vapi
 clutter-x11-1.0.deps
 clutter-x11-1.0.vapi
 cogl-1.0.deps
 cogl-1.0.vapi
 cogl-pango-1.0.deps
 cogl-pango-1.0.vapi
 curses.vapi
 dbus-glib-1.vapi
 enchant.vapi
 fuse.deps
 fuse.vapi
 gconf-2.0.vapi
 gdesktopenums-3.0.vapi
 gdk-2.0.deps
 gdk-2.0.vapi
 gdk-3.0.deps
 gdk-3.0.vapi
 gdk-pixbuf-2.0.deps
 gdk-pixbuf-2.0.vapi
 gdk-x11-2.0.deps
 gdk-x11-2.0.vapi
 gdk-x11-3.0.deps
 gdk-x11-3.0.vapi
 gdl-1.0.deps
 gdl-1.0.vapi
 gdl-3.0.deps
 gdl-3.0.vapi
 gedit-2.20.deps
 gedit-2.20.vapi
 geocode-glib-1.0.deps
 geocode-glib-1.0.vapi
 gio-2.0.vapi
 gio-unix-2.0.deps
 gio-unix-2.0.vapi
 gio-windows-2.0.deps
 gio-windows-2.0.vapi
 glib-2.0.vapi
 gmodule-2.0.vapi
 gnet-2.0.deps
 gnet-2.0.vapi
 gnome-desktop-2.0.deps
 gnome-desktop-2.0.vapi
 gnome-desktop-3.0.deps
 gnome-desktop-3.0.vapi
 gnome-vfs-2.0.vapi
 gnutls.vapi
 gobject-2.0.vapi
 gobject-introspection-1.0.vapi
 goocanvas.deps
 goocanvas.vapi
 graphene-1.0.deps
 graphene-1.0.vapi
 gsl.vapi
 gst-editing-services-1.0.deps
 gst-editing-services-1.0.vapi
 gstreamer-1.0.vapi
 gstreamer-allocators-1.0.deps
 gstreamer-allocators-1.0.vapi
 gstreamer-app-1.0.deps
 gstreamer-app-1.0.vapi
 gstreamer-audio-1.0.deps
 gstreamer-audio-1.0.vapi
 gstreamer-bad-allocators-1.0.deps
 gstreamer-bad-allocators-1.0.vapi
 gstreamer-base-1.0.deps
 gstreamer-base-1.0.vapi
 gstreamer-check-1.0.deps
 gstreamer-check-1.0.vapi
 gstreamer-controller-1.0.deps
 gstreamer-controller-1.0.vapi
 gstreamer-fft-1.0.deps
 gstreamer-fft-1.0.vapi
 gstreamer-net-1.0.deps
 gstreamer-net-1.0.vapi
 gstreamer-pbutils-1.0.deps
 gstreamer-pbutils-1.0.vapi
 gstreamer-player-1.0.deps
 gstreamer-player-1.0.vapi
 gstreamer-riff-1.0.deps
 gstreamer-riff-1.0.vapi
 gstreamer-rtp-1.0.deps
 gstreamer-rtp-1.0.vapi
 gstreamer-rtsp-1.0.deps
 gstreamer-rtsp-1.0.vapi
 gstreamer-rtsp-server-1.0.deps
 gstreamer-rtsp-server-1.0.vapi
 gstreamer-sdp-1.0.deps
 gstreamer-sdp-1.0.vapi
 gstreamer-tag-1.0.deps
 gstreamer-tag-1.0.vapi
 gstreamer-video-1.0.deps
 gstreamer-video-1.0.vapi
 gstreamer-webrtc-1.0.deps
 gstreamer-webrtc-1.0.vapi
 gtk+-2.0.deps
 gtk+-2.0.vapi
 gtk+-3.0.deps
 gtk+-3.0.vapi
 gtk+-4.0.deps
 gtk+-4.0.vapi
 gtk+-unix-print-2.0.deps
 gtk+-unix-print-2.0.vapi
 gtk+-unix-print-3.0.deps
 gtk+-unix-print-3.0.vapi
 gtk+-unix-print-4.0.deps
 gtk+-unix-print-4.0.vapi
 gtkmozembed.deps
 gtkmozembed.vapi
 gtksourceview-2.0.deps
 gtksourceview-2.0.vapi
 gudev-1.0.deps
 gudev-1.0.vapi
 hal.deps
 hal.vapi
 hildon-1.deps
 hildon-1.vapi
 hildon-fm-2.deps
 hildon-fm-2.vapi
 javascriptcoregtk-4.0.vapi
 json-glib-1.0.deps
 json-glib-1.0.vapi
 libarchive.deps
 libarchive.vapi
 libbonoboui-2.0.vapi
 libdaemon.vapi
 libepc-1.0.vapi
 libesmtp.vapi
 libftdi.deps
 libftdi.vapi
 libgeoclue-2.0.deps
 libgeoclue-2.0.vapi
 libglade-2.0.deps
 libglade-2.0.vapi
 libgnome-2.0.vapi
 libgnome-menu-3.0.deps
 libgnome-menu-3.0.vapi
 libgnome-menu.vapi
 libgnomeui-2.0.deps
 libgnomeui-2.0.vapi
 libgrss.deps
 libgrss.vapi
 libgsf-1.deps
 libgsf-1.vapi
 libgvc.vapi
 libmagic.vapi
 libnl-1.vapi
 libnl-2.0.deps
 libnl-2.0.vapi
 libnl-3.0.deps
 libnl-3.0.vapi
 libnotify.deps
 libnotify.vapi
 liboobs-1.vapi
 libosso.vapi
 libpanelapplet-2.0.deps
 libpanelapplet-2.0.vapi
 libpeas-1.0.deps
 libpeas-1.0.vapi
 libpeas-gtk-1.0.deps
 libpeas-gtk-1.0.vapi
 libpq.vapi
 libsexy.deps
 libsexy.vapi
 libsoup-2.4.deps
 libsoup-2.4.vapi
 libusb-1.0.deps
 libusb-1.0.vapi
 libusb.vapi
 libwnck-1.0.deps
 libwnck-1.0.vapi
 libwnck-3.0.deps
 libwnck-3.0.vapi
 libxml-2.0.vapi
 linux.deps
 linux.vapi
 loudmouth-1.0.vapi
 lua.vapi
 mysql.vapi
 orc-0.4.vapi
 packagekit-glib2.deps
 packagekit-glib2.vapi
 pango.deps
 pango.vapi
 pangocairo.deps
 pangocairo.vapi
 pixman-1.vapi
 polkit-agent-1.deps
 polkit-agent-1.vapi
 polkit-gobject-1.deps
 polkit-gobject-1.vapi
 poppler-glib.deps
 poppler-glib.vapi
 posix.vapi
 purple.deps
 purple.vapi
 raptor.vapi
 rasqal.deps
 rasqal.vapi
 readline.vapi
 rest-0.7.deps
 rest-0.7.vapi
 rest-extras-0.7.deps
 rest-extras-0.7.vapi
 sdl-gfx.deps
 sdl-gfx.vapi
 sdl-image.deps
 sdl-image.vapi
 sdl-mixer.deps
 sdl-mixer.vapi
 sdl-net.deps
 sdl-net.vapi
 sdl-ttf.deps
 sdl-ttf.vapi
 sdl.vapi
 sqlite3.vapi
 taglib_c.vapi
 tiff.vapi
 tokyocabinet.vapi
 udisks2.deps
 udisks2.vapi
 unique-1.0.deps
 unique-1.0.vapi
 v4l2.vapi
 vte-2.90.deps
 vte-2.90.vapi
 vte.deps
 vte.vapi
 webkit-1.0.deps
 webkit-1.0.vapi
 webkit2gtk-4.0.deps
 webkit2gtk-4.0.vapi
 webkit2gtk-web-extension-4.0.deps
 webkit2gtk-web-extension-4.0.vapi
 x11.vapi
 xcb-icccm.deps
 xcb-icccm.vapi
 xcb.vapi
 xtst.deps
 xtst.vapi
 zlib.vapi
share/vala/vapi/
 libvala-%%VER%%.vapi
 valadoc-%%VER%%.deps
 valadoc-%%VER%%.vapi
share/valadoc/icons/
 abstractclass.png
 abstractmethod.png
 abstractproperty.png
 class.png
 coll_close.png
 coll_open.png
 constant.png
 constructor.png
 delegate.png
 devhelpstyle.css
 enum.png
 enumvalue.png
 errorcode.png
 errordomain.png
 field.png
 interface.png
 method.png
 namespace.png
 package.png
 packages.png
 property.png
 scripts.js
 signal.png
 staticmethod.png
 struct.png
 style.css
 tip.png
 virtualmethod.png
 virtualproperty.png
 warning.png
 wikistyle.css


[FILE:465:patches/patch-vapi_glib-2.0.vapi]
--- vapi/glib-2.0.vapi.orig	2019-01-22 09:34:28 UTC
+++ vapi/glib-2.0.vapi
@@ -3608,6 +3608,8 @@ namespace GLib {
 		public static FileStream? open (string path, string mode);
 		[CCode (cname = "fdopen")]
 		public static FileStream? fdopen (int fildes, string mode);
+		[CCode (cname = "freopen", instance_pos = -1)]
+		public void reopen (string path, string mode);
 		[CCode (cname = "fprintf")]
 		[PrintfFormat ()]
 		public void printf (string format, ...);


[FILE:404:patches/patch-vapi_libpq.vapi]
--- vapi/libpq.vapi.orig	2017-08-16 20:33:55 UTC
+++ vapi/libpq.vapi
@@ -20,11 +20,7 @@
  *	Jukka-Pekka Iivonen <jp0409@jippii.fi>
  */
 
-#if LIBPQ_9_3
 [CCode (cprefix = "PQ", cheader_filename = "libpq-fe.h")]
-#else
-[CCode (cprefix = "PQ", cheader_filename = "postgresql/libpq-fe.h")]
-#endif
 namespace Postgres {
 
 	[CCode (cname = "ConnStatusType", cprefix = "CONNECTION_", has_type_id = false)]

