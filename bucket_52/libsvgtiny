# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libsvgtiny
VERSION=		0.1.8
REVISION=		1
KEYWORDS=		graphics
VARIANTS=		std
SDESC[std]=		NetSurf SVG decoder
HOMEPAGE=		https://www.netsurf-browser.org/projects/libsvgtiny/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://download.netsurf-browser.org/libs/releases/
DISTFILE[1]=		libsvgtiny-0.1.8-src.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		gperf:primary:std
			netsurf-buildsystem:single:std
BUILDRUN_DEPENDS=	libdom:single:std

USES=			gmake pkgconfig expat

LICENSE=		MIT:single
LICENSE_FILE=		MIT:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

MAKE_ENV=		COMPONENT_TYPE="lib-shared"

INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		0.1.8

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libsvgtiny.so.0.1.8

[FILE:353:descriptions/desc.single]
Libsvgtiny is an implementation of SVG Tiny, written in C. It is currently 
in development for use with NetSurf and is intended to be suitable for use 
in other projects too.

The overall idea of the library is to take some SVG as input, and return a 
list of paths and texts which can be rendered easily. The library does not 
do the actual rendering.


[FILE:106:distinfo]
c357227f02e83fb2a76b12b901191a082229db1f007362e8f31c754510c2a01c       764959 libsvgtiny-0.1.8-src.tar.gz


[FILE:122:manifests/plist.single]
include/svgtiny.h
lib/
 libsvgtiny.so
 libsvgtiny.so.%%SOMAJOR%%
 libsvgtiny.so.%%SOVERSION%%
lib/pkgconfig/libsvgtiny.pc


[FILE:279:patches/patch-src_svgtiny.c]
--- src/svgtiny.c.orig	2023-12-27 21:45:54 UTC
+++ src/svgtiny.c
@@ -586,7 +586,7 @@ struct svgtiny_diagram *svgtiny_create(v
 {
 	struct svgtiny_diagram *diagram;
 
-	diagram = calloc(sizeof(*diagram), 1);
+	diagram = calloc(1, sizeof(*diagram));
 	if (!diagram)
 		return 0;
 

