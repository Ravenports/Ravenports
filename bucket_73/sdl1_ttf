# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		sdl1_ttf
VERSION=		2.0.11
REVISION=		2
KEYWORDS=		graphics
VARIANTS=		std
SDESC[std]=		SDL1 TrueType font rendering library
HOMEPAGE=		https://github.com/libsdl-org/SDL_ttf
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://leaf.dragonflybsd.org/~marino/orphaned-distfiles/
DISTFILE[1]=		SDL_ttf-2.0.11.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libglvnd:dev:std
BUILDRUN_DEPENDS=	libglvnd:primary:std

USES=			cpe gmake iconv libtool pkgconfig zlib:build
			freetype fbsd10fix mbsdfix
SDL_COMPONENTS=		sdl1
XORG_COMPONENTS=	x11

DISTNAME=		SDL_ttf-2.0.11

CPE_PRODUCT=		sdl_ttf
CPE_VENDOR=		libsdl
FPC_EQUIVALENT=		graphics/sdl_ttf

MUST_CONFIGURE=		gnu

INSTALL_TARGET=		install-strip

LDFLAGS=		{{ICONV_LIB}}

post-install:
	${INSTALL_PROGRAM} ${WRKSRC}/.libs/glfont ${STAGEDIR}${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKSRC}/.libs/showfont \
		${STAGEDIR}${PREFIX}/bin/sdl-showfont

[FILE:537:descriptions/desc.primary]
This library is a wrapper around the excellent FreeType library.

This library allows you to use TrueType fonts to render text in SDL
applications.

Be careful when including fonts with your application, as many of them are
copyrighted.  The Microsoft fonts, for example, are not freely
redistributable and even the free "web" fonts they provide are only
redistributable in their special executable installer form (May 1998).
There are plenty of freeware and shareware fonts available on the Internet
though, and may suit your purposes.


[FILE:100:distinfo]
724cd895ecf4da319a3ef164892b72078bd92632a5d812111261cde248ebcdb7      4053686 SDL_ttf-2.0.11.tar.gz


[FILE:79:manifests/plist.primary]
bin/
 glfont
 sdl-showfont
lib/
 libSDL_ttf-2.0.so.0
 libSDL_ttf-2.0.so.0.10.1


[FILE:81:manifests/plist.dev]
include/SDL/SDL_ttf.h
lib/
 libSDL_ttf.a
 libSDL_ttf.so
lib/pkgconfig/SDL_ttf.pc


[FILE:618:patches/patch-bug1433]
Description: Fix bug report "TTF_RenderGlyph_Shaded is broken"
 Introduced in 2.0.11-2 (Sat, 03 Mar 2012).
Author: Unknown
Last-Update: 2012-03-03
Bug-Debian: http://bugs.debian.org/661987
Bug-Upstream: https://bugzilla.libsdl.org/show_bug.cgi?id=1433

--- SDL_ttf.c
+++ SDL_ttf.c
@@ -1752,7 +1752,7 @@
 	/* Copy the character from the pixmap */
 	src = glyph->pixmap.buffer;
 	dst = (Uint8*) textbuf->pixels;
-	for ( row = 0; row < glyph->bitmap.rows; ++row ) {
+	for ( row = 0; row < glyph->pixmap.rows; ++row ) {
 		memcpy( dst, src, glyph->pixmap.width );
 		src += glyph->pixmap.pitch;
 		dst += textbuf->pitch;


