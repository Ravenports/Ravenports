# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		python-uharfbuzz
VERSION=		0.53.3
KEYWORDS=		python
VARIANTS=		v13 v14
SDESC[v13]=		Steamlined harfbuzz cpython bindings (3.13)
SDESC[v14]=		Steamlined harfbuzz cpython bindings (3.14)
HOMEPAGE=		https://github.com/trufont/uharfbuzz
CONTACT=		Python_Automaton[python@ironwolf.systems]

DOWNLOAD_GROUPS=	main
SITES[main]=		PYPI/u/uharfbuzz
DISTFILE[1]=		uharfbuzz-0.53.3.tar.gz:main
DIST_SUBDIR=		python-src
DF_INDEX=		1
SPKGS[v13]=		single
SPKGS[v14]=		single

OPTIONS_AVAILABLE=	PY313 PY314
OPTIONS_STANDARD=	none
VOPTS[v13]=		PY313=ON PY314=OFF
VOPTS[v14]=		PY313=OFF PY314=ON

BUILD_DEPENDS=		harfbuzz:dev:std
BUILDRUN_DEPENDS=	harfbuzz:primary:std

DISTNAME=		uharfbuzz-0.53.3

GENERATED=		yes

MAKE_ENV=		CYTHON_ANNOTATE=0
			CYTHON_LINETRACE=0
			USE_SYSTEM_LIBS=1

[PY313].BUILD_DEPENDS_ON=		python-setuptools-scm:single:v13
					python-Cython:single:v13
					python-pkgconfig:single:v13
[PY313].USES_ON=			python:v13,pep517

[PY314].BUILD_DEPENDS_ON=		python-setuptools-scm:single:v14
					python-Cython:single:v14
					python-pkgconfig:single:v14
[PY314].USES_ON=			python:v14,pep517

[FILE:2610:descriptions/desc.single]
## uharfbuzz

<div align="center">
<p>[image]</p>

[![Build +
Deploy]](https://github.com/harfbuzz/uharfbuzz/actions/workflows/ci.yml)
[PyPI]
[Documentation Status]

</div>

Streamlined Cython bindings for the [HarfBuzz][hb] shaping engine.

### Example

```python
import sys

import uharfbuzz as hb

fontfile = sys.argv[1]
text = sys.argv[2]

blob = hb.Blob.from_file_path(fontfile)
face = hb.Face(blob)
font = hb.Font(face)

buf = hb.Buffer()
buf.add_str(text)
buf.guess_segment_properties()

features = {"kern": True, "liga": True}
hb.shape(font, buf, features)

infos = buf.glyph_infos
positions = buf.glyph_positions

for info, pos in zip(infos, positions):
    gid = info.codepoint
    glyph_name = font.glyph_to_string(gid)
    cluster = info.cluster
    x_advance = pos.x_advance
    x_offset = pos.x_offset
    y_offset = pos.y_offset
    print(f"{glyph_name}
gid{gid}={cluster}@{x_advance},{y_offset}+{x_advance}")
```

### Installation

When building the uharfbuzz package, it automatically incorporates minimal
HarfBuzz sources so you don't have to install the native HarfBuzz library.

However, if you want to use uharfbuzz with your system-provided HarfBuzz
(e.g., if you built it from sources with custom configuration), you can set
`USE_SYSTEM_LIBS=1` environment variable (see example below).

```shell
USE_SYSTEM_LIBS=1 pip install uharfbuzz --no-binary :uharfbuzz:
```

harfbuzz installation is found using `pkg-config`, so you must have
harfbuzz's `.pc` files in your system.
If you've built it from sources, meson installs them automatically.
Otherwise, you may want to install harfbuzz development package, like
`harfbuzz-devel` on Fedora-derived distros.

### How to make a release

Use `git tag -a` to make a new annotated tag, or `git tag -s` for a
GPG-signed annotated tag, if you prefer.

Name the new tag with with a leading ‘v’ followed by three
MAJOR.MINOR.PATCH digits, like in semantic versioning. Look at the existing
tags for examples.

In the tag message write some short release notes describing the changes
since the previous tag. The subject line will be the release name and the
message body will be the release notes.

Finally, push the tag to the remote repository (e.g. assuming upstream is
called origin):

    $ git push origin v0.4.3

This will trigger the CI to build the distribution packages and upload them
to the Python Package Index automatically, if all the tests pass
successfully. The CI will also automatically create a new Github Release
and use the content of the annotated git tag for the release notes.

[hb]: https://github.com/harfbuzz/harfbuzz


[FILE:113:distinfo]
9a87175c14d1361322ce2a3504e63c6b66062934a5edf47266aed5b33416806c      1714488 python-src/uharfbuzz-0.53.3.tar.gz

