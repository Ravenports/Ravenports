# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		lumina-fm
VERSION=		1.6.2
REVISION=		1
EPOCH=			1
KEYWORDS=		deskutils
VARIANTS=		standard
SDESC[standard]=	Insight file manager from the Lumina Desktop
HOMEPAGE=		https://lumina-desktop.org
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/lumina-desktop:lumina:v1.6.2
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			nls
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		qt5-qttools:complete:standard
			qt5-qtx11extras:dev:standard
			qt5-qtsvg:dev:standard
			qt5-qtmultimedia:dev:standard
			qt5-qtimageformats:dev:standard
BUILDRUN_DEPENDS=	qt5-qtmultimedia:primary:standard
			qt5-qtsvg:primary:standard
			qt5-qtimageformats:primary:standard
			qt5-qtx11extras:primary:standard

USES=			qt5 desktop-utils:primary
XORG_COMPONENTS=	xcb

DISTNAME=		lumina-1.6.2/src-qt5/desktop-utils/{{NAMEBASE}}

LICENSE=		BSD3CLAUSE:primary
LICENSE_FILE=		BSD3CLAUSE:{{WRKSRC:H:H:H}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		deskutils/lumina-fm

QMAKE_ARGS=		PREFIX="{{PREFIX}}"
			LIBPREFIX="{{PREFIX}}/lib"
			L_MANDIR="{{PREFIX}}/share/man"
			CONFIG+=WITH_I18N

pre-configure:
	${GREP} -rl "/usr/local" ${WRKDIR}/lumina-1.6.2 | \
		${XARGS} ${REINPLACE_CMD} -e 's|/usr/local|${PREFIX}|g'
	${FIND} ${WRKDIR}/lumina-1.6.2 -name "*.bak" -type f -delete

[FILE:542:descriptions/desc.primary]
The Insight file manager from the Lumina Desktop.

Capabilities:
  * Standard File Manager Stuff (cut/copy/paste/move/rename files)
  * Bookmarks for commonly used locations on your system (great for saving
    network shares accessed through /net)
  * Multiple tab browser, with up to two side-by-side directories per tab
  * Image slideshow - click through all the image files in a directory
  * Multimedia Player - play multimedia files from a directory
  * ZFS snapshot browsing - view/restore files from the past via a
    "time-slider"


[FILE:113:distinfo]
02cca45e655727360990db8a9e3935be54cc4fbb01b339d1cd406d280ecdf3ae     20818383 lumina-desktop-lumina-1.6.2.tar.gz


[FILE:109:manifests/plist.primary]
bin/lumina-fm
share/applications/lumina-fm.desktop
share/icons/hicolor/scalable/apps/Insight-FileManager.svg


[FILE:1191:manifests/plist.nls]
share/lumina-desktop/i18n/
 lumina-fm_af.qm
 lumina-fm_ar.qm
 lumina-fm_az.qm
 lumina-fm_bg.qm
 lumina-fm_bn.qm
 lumina-fm_bs.qm
 lumina-fm_ca.qm
 lumina-fm_cs.qm
 lumina-fm_cy.qm
 lumina-fm_da.qm
 lumina-fm_de.qm
 lumina-fm_el.qm
 lumina-fm_en_AU.qm
 lumina-fm_en_GB.qm
 lumina-fm_en_ZA.qm
 lumina-fm_es.qm
 lumina-fm_et.qm
 lumina-fm_eu.qm
 lumina-fm_fa.qm
 lumina-fm_fi.qm
 lumina-fm_fr.qm
 lumina-fm_fr_CA.qm
 lumina-fm_fur.qm
 lumina-fm_gl.qm
 lumina-fm_he.qm
 lumina-fm_hi.qm
 lumina-fm_hr.qm
 lumina-fm_hu.qm
 lumina-fm_id.qm
 lumina-fm_is.qm
 lumina-fm_it.qm
 lumina-fm_ja.qm
 lumina-fm_ka.qm
 lumina-fm_ko.qm
 lumina-fm_lt.qm
 lumina-fm_lv.qm
 lumina-fm_mk.qm
 lumina-fm_mn.qm
 lumina-fm_ms.qm
 lumina-fm_mt.qm
 lumina-fm_nb.qm
 lumina-fm_ne.qm
 lumina-fm_nl.qm
 lumina-fm_pa.qm
 lumina-fm_pl.qm
 lumina-fm_pt.qm
 lumina-fm_pt_BR.qm
 lumina-fm_ro.qm
 lumina-fm_ru.qm
 lumina-fm_sa.qm
 lumina-fm_sk.qm
 lumina-fm_sl.qm
 lumina-fm_sr.qm
 lumina-fm_sv.qm
 lumina-fm_sw.qm
 lumina-fm_ta.qm
 lumina-fm_tg.qm
 lumina-fm_th.qm
 lumina-fm_tr.qm
 lumina-fm_uk.qm
 lumina-fm_ur.qm
 lumina-fm_uz.qm
 lumina-fm_vi.qm
 lumina-fm_zh_CN.qm
 lumina-fm_zh_HK.qm
 lumina-fm_zh_TW.qm
 lumina-fm_zu.qm


[FILE:30:manifests/plist.man]
share/man/man1/lumina-fm.1.gz


[FILE:449:patches/patch-src-qt5_OS-detect.pri]
--- ../../../src-qt5/OS-detect.pri.orig	2021-12-26 02:33:45 UTC
+++ ../../../src-qt5/OS-detect.pri
@@ -39,6 +39,12 @@ isEmpty(OS){
     OS = DragonFly
     LIBS += -L/usr/local/lib -L/usr/lib
 
+  }else : midnightbsd-*{
+    isEmpty(PREFIX){ PREFIX=/usr/local }
+    OS = FreeBSD
+    LIBS += -L/usr/local/lib -L/usr/lib
+     #Use the defaults for everything else
+
   }else : freebsd-*{
     isEmpty(PREFIX){ PREFIX=/usr/local }
     OS = FreeBSD

