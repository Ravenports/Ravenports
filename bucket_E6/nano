# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		nano
VERSION=		2.9.6
KEYWORDS=		editors
VARIANTS=		standard
SDESC[standard]=	Nano's ANOther editor, an enhanced Pico clone
HOMEPAGE=		https://www.nano-editor.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/nano
DISTFILE[1]=		nano-2.9.6.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			ncurses gettext-tools gettext-runtime charsetfix

LICENSE=		GPLv3+:primary CUSTOM1:docs
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
			docs:{{WRKDIR}}/TERMS.DOC
LICENSE_NAME=		CUSTOM1:"GNU Free Documentation License"
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING
			CUSTOM1:{{WRKSRC}}/COPYING.DOC
LICENSE_SCHEME=		dual

INFO=			primary:nano
FPC_EQUIVALENT=		editors/nano
INFO_SUBDIR=		.

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-utf8

MAKE_ARGS=		install_htmlmanDATA=install-htmlmanDATA

CPPFLAGS=		-I{{NCURSESINC}}
VAR_OPSYS[sunos]=	CONFIGURE_ENV=LIBS=-ltinfo

post-install:
	@${MKDIR} ${PREFIX}/share/nano
	${INSTALL_DATA} ${WRKSRC}/doc/sample.nanorc \
		${STAGEDIR}${PREFIX}/share/nano

post-build:
	(cd ${WRKSRC}/doc && ${REINPLACE_CMD} \
		-e 's:SYSCONFDIR:${PREFIX}/etc:g' \
		-e 's:EXAMPLESDIR:${PREFIX}/share/nano:g' \
		nano.1 rnano.1 nanorc.5 ${WRKSRC}/doc/nano.info)

post-configure:
	${REINPLACE_CMD} -e 's/update_revision//g' ${WRKSRC}/src/Makefile

post-extract:
	# LICENSE_AWK writes to all defined terms, so create them manually
	${AWK} '/^$$/ {exit}; {print}' ${WRKSRC}/src/nano.h > ${WRKDIR}/TERMS
	${AWK} '/NANO 1/ {exit}; {print}' \
		${WRKSRC}/doc/nano.1 > ${WRKDIR}/TERMS.DOC

[FILE:351:descriptions/desc.primary]
nano is a small, free and friendly editor which aims to replace Pico, the
default editor included in the non-free Pine package.  Rather than just
copying Pico's look and feel, nano also implements some missing (or
disabled by default) features in Pico, such as "search and replace" and
"goto line number".

The nano editor is an official GNU package.


[FILE:96:distinfo]
4ec0a0196914a7665572bcd8a32d76535ea19a8213ea67cf8f63e8ce566b1e0a      2892819 nano-2.9.6.tar.gz


[FILE:1952:manifests/plist.primary]
bin/
 nano
 rnano
share/locale/bg/LC_MESSAGES/nano.mo
share/locale/ca/LC_MESSAGES/nano.mo
share/locale/cs/LC_MESSAGES/nano.mo
share/locale/da/LC_MESSAGES/nano.mo
share/locale/de/LC_MESSAGES/nano.mo
share/locale/eo/LC_MESSAGES/nano.mo
share/locale/es/LC_MESSAGES/nano.mo
share/locale/eu/LC_MESSAGES/nano.mo
share/locale/fi/LC_MESSAGES/nano.mo
share/locale/fr/LC_MESSAGES/nano.mo
share/locale/ga/LC_MESSAGES/nano.mo
share/locale/gl/LC_MESSAGES/nano.mo
share/locale/hr/LC_MESSAGES/nano.mo
share/locale/hu/LC_MESSAGES/nano.mo
share/locale/id/LC_MESSAGES/nano.mo
share/locale/it/LC_MESSAGES/nano.mo
share/locale/ja/LC_MESSAGES/nano.mo
share/locale/ms/LC_MESSAGES/nano.mo
share/locale/nb/LC_MESSAGES/nano.mo
share/locale/nl/LC_MESSAGES/nano.mo
share/locale/nn/LC_MESSAGES/nano.mo
share/locale/pl/LC_MESSAGES/nano.mo
share/locale/pt/LC_MESSAGES/nano.mo
share/locale/pt_BR/LC_MESSAGES/nano.mo
share/locale/ro/LC_MESSAGES/nano.mo
share/locale/ru/LC_MESSAGES/nano.mo
share/locale/sl/LC_MESSAGES/nano.mo
share/locale/sr/LC_MESSAGES/nano.mo
share/locale/sv/LC_MESSAGES/nano.mo
share/locale/tr/LC_MESSAGES/nano.mo
share/locale/uk/LC_MESSAGES/nano.mo
share/locale/vi/LC_MESSAGES/nano.mo
share/locale/zh_CN/LC_MESSAGES/nano.mo
share/locale/zh_TW/LC_MESSAGES/nano.mo
share/man/man1/
 nano.1.gz
 rnano.1.gz
share/man/man5/nanorc.5.gz
share/nano/
 asm.nanorc
 autoconf.nanorc
 awk.nanorc
 c.nanorc
 changelog.nanorc
 cmake.nanorc
 css.nanorc
 debian.nanorc
 default.nanorc
 elisp.nanorc
 fortran.nanorc
 gentoo.nanorc
 go.nanorc
 groff.nanorc
 guile.nanorc
 html.nanorc
 java.nanorc
 javascript.nanorc
 json.nanorc
 lua.nanorc
 makefile.nanorc
 man.nanorc
 mgp.nanorc
 mutt.nanorc
 nanohelp.nanorc
 nanorc.nanorc
 nftables.nanorc
 objc.nanorc
 ocaml.nanorc
 patch.nanorc
 perl.nanorc
 php.nanorc
 po.nanorc
 postgresql.nanorc
 pov.nanorc
 python.nanorc
 ruby.nanorc
 rust.nanorc
 sample.nanorc
 sh.nanorc
 spec.nanorc
 tcl.nanorc
 tex.nanorc
 texinfo.nanorc
 xml.nanorc


[FILE:37:manifests/plist.docs]
share/doc/nano/
 faq.html
 nano.html


[FILE:380:dragonfly/patch-lib_cdefs.h]
--- lib/cdefs.h.orig	2017-11-27 18:12:23 UTC
+++ lib/cdefs.h
@@ -285,7 +285,7 @@
 /* The nonull function attribute allows to mark pointer parameters which
    must not be NULL.  */
 #if __GNUC_PREREQ (3,3)
-# define __nonnull(params) __attribute__ ((__nonnull__ params))
+# define __nonnull(params) __attribute__ ((__nonnull__(params)))
 #else
 # define __nonnull(params)
 #endif

