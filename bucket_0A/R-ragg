# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		R-ragg
VERSION=		1.3.3
KEYWORDS=		cran
VARIANTS=		std
SDESC[std]=		Graphic Devices Based on AGG
HOMEPAGE=		https://ragg.r-lib.org
CONTACT=		CRAN_Automaton[cran@ironwolf.systems]

DOWNLOAD_GROUPS=	main
SITES[main]=		CRAN/src/contrib
			https://loki.dragonflybsd.org/cranfiles/
DISTFILE[1]=		ragg_1.3.3.tar.gz:main
DIST_SUBDIR=		CRAN
DF_INDEX=		1
SPKGS[std]=		single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	R-systemfonts:single:std
			R-textshaping:single:std

USES=			cran gmake pkgconfig shebangfix jpeg tiff png
			freetype zstd:build zlib:build xz:build

DISTNAME=		ragg

SHEBANG_ADD_SH=		configure
GENERATED=		yes

INSTALL_REQ_TOOLCHAIN=	yes

[FILE:273:descriptions/desc.single]
ragg: Graphic Devices Based on AGG

Anti-Grain Geometry (AGG) is a high-quality and high-performance 2D drawing
library. The 'ragg' package provides a set of graphic devices based on AGG
to use as alternative to the raster devices provided through the
'grDevices' package.


[FILE:101:distinfo]
42db845ff18d67cae6d291833c76a136c1ef02b5b246d4d90c1f1ae8cc1bb2af       428945 CRAN/ragg_1.3.3.tar.gz


[FILE:474:patches/patch-src_agg_src_agg__font__freetype.cpp]
see https://github.com/r-lib/ragg/issues/170

--- src/agg/src/agg_font_freetype.cpp.orig	2024-04-05 06:58:14 UTC
+++ src/agg/src/agg_font_freetype.cpp
@@ -179,7 +179,7 @@ namespace agg
             v_control = v_start;
 
             point = outline.points + first;
-            tags  = outline.tags  + first;
+            tags  = (char*)outline.tags  + first;
             tag   = FT_CURVE_TAG(tags[0]);
 
             // A contour cannot start with a cubic control point!

