# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		pcc
VERSION=		1.1.0
KEYWORDS=		lang
VARIANTS=		standard
SDESC[standard]=	Portable C Compiler
HOMEPAGE=		http://pcc.ludd.ltu.se/
CONTACT=		Leonid_Bobrov[goleo@disroot.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://pcc.ludd.ltu.se/ftp/pub/pcc/2021/
DISTFILE[1]=		pcc-20210521.tgz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		byacc:single:standard
RUN_DEPENDS=		pcc-libs:single:standard

DISTNAME=		pcc-20210521

LICENSE=		ISCL:single BSD2CLAUSE:single BSD3CLAUSE:single
			CUSTOM1:single
LICENSE_NAME=		CUSTOM1:"Caldera license"
LICENSE_FILE=		ISCL:{{WRKDIR}}/ISCL
			BSD2CLAUSE:{{WRKDIR}}/BSD2CLAUSE
			BSD3CLAUSE:{{WRKDIR}}/BSD3CLAUSE
			CUSTOM1:{{WRKDIR}}/CALDERA
LICENSE_AWK=		ISCL:"^$$"
			BSD2CLAUSE:"^\#"
			BSD3CLAUSE:"^\#"
			CUSTOM1:"stdio.h"
LICENSE_SOURCE=		ISCL:{{WRKSRC}}/arch/arm/table.c
			BSD2CLAUSE:{{WRKSRC}}/cc/driver/driver.c
			BSD3CLAUSE:{{WRKSRC}}/cc/ccom/main.c
			CUSTOM1:{{WRKSRC}}/arch/i386/flocal.c
LICENSE_SCHEME=		multi

FPC_EQUIVALENT=		lang/pcc

MUST_CONFIGURE=		gnu

post-install:
	${RM} -r ${STAGEDIR}${PREFIX}/lib/pcc

[FILE:997:descriptions/desc.single]
The compiler is based on the original Portable C Compiler by S. C.
Johnson, written in the late 70's. Even though much of the compiler has
been rewritten, some of the basics still remain.

The intention is to write a C99 compiler while still keeping it small,
simple, fast and understandable. Think of it as if it shall be able to
compile and run on PDP11 (even if it may not happen in reality). But
with this in mind it becomes important to think twice about what
algorithms are used.

The compiler is conceptually structured in two parts; pass1 which is
language-dependent, does parsing, typechecking and build trees, and
pass2 which is mostly language-independent.

About 50% of the frontend code and 80% of the backend code has been
rewritten. Most stuff is written by Anders Magnusson, with the
exception of the data-flow analysis part and the SSA conversion code
which is written by Peter A Jonsson, and the Mips port that were written
as part of a project by undergraduate students at LTU.


[FILE:95:distinfo]
de733a2a4bf5f105c8f57ada21982f1959f8ef9a0ef9e9cc37b2512312026fef       970036 pcc-20210521.tgz


[FILE:94:manifests/plist.single]
bin/
 pcc
 pcpp
libexec/
 ccom
 cpp
share/man/man1/
 ccom.1.gz
 cpp.1.gz
 pcc.1.gz
 pcpp.1.gz


[FILE:239:patches/patch-cc_Makefile.in]
Index: cc/Makefile.in
--- cc/Makefile.in.orig	2012-01-01 16:27:25 UTC
+++ cc/Makefile.in
@@ -5,7 +5,7 @@
 
 @SET_MAKE@
 
-ALL_SUBDIRS=	cc cpp ccom cxxcom
+ALL_SUBDIRS=	cc cpp ccom
 DIST_SUBDIRS=	$(ALL_SUBDIRS) driver
 
 all install clean:


[FILE:265:patches/patch-cc_cc_Makefile.in]
Index: cc/cc/Makefile.in
--- cc/cc/Makefile.in.orig	2018-09-11 11:24:08 UTC
+++ cc/cc/Makefile.in
@@ -45,7 +45,7 @@ MDIR=$(top_srcdir)/arch/$(TARGMACHDIR)
 COMMONDIR=$(top_srcdir)/common
 
 DEST=cc$(EXEEXT)
-DRIVERS=pcc pcpp p++
+DRIVERS=pcc pcpp
 
 all: $(DEST)
 

