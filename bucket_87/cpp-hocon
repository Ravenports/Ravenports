# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		cpp-hocon
VERSION=		0.2.1
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	C++ port of the Typesafe Config library
HOMEPAGE=		https://github.com/puppetlabs/cpp-hocon
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/puppetlabs:cpp-hocon:0.2.1
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	leatherman:single:standard
			boost-libraries:rest:python_default

USES=			cmake

LICENSE=		APACHE20:single
LICENSE_TERMS=		single:{{WRKSRC}}/LICENSE
LICENSE_FILE=		APACHE20:stock
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/cpp-hocon

SOVERSION=		0.2.1

CMAKE_ARGS=		-DBUILD_SHARED_LIBS=SHARED
			-DENABLE_CXX_WERROR:BOOL=OFF
			-DBoost_NO_BOOST_CMAKE:BOOL=ON

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/*.so

[FILE:145:descriptions/desc.single]
C++ HOCON Parser

This is a port of the TypesafeConfig library to C++.
The library provides C++ support for the HOCON configuration file format.


[FILE:112:distinfo]
6ddd08f0ec7915fff2f07385926a137b09f6ff58506a7467fa2c954585479e36       158108 puppetlabs-cpp-hocon-0.2.1.tar.gz


[FILE:599:manifests/plist.single]
include/hocon/
 config.hpp
 config_exception.hpp
 config_include_context.hpp
 config_includer.hpp
 config_includer_file.hpp
 config_list.hpp
 config_mergeable.hpp
 config_object.hpp
 config_origin.hpp
 config_parse_options.hpp
 config_parseable.hpp
 config_render_options.hpp
 config_resolve_options.hpp
 config_syntax.hpp
 config_value.hpp
 config_value_factory.hpp
 export.h
 functional_list.hpp
 path.hpp
 program_options.hpp
 types.hpp
 version.h
include/hocon/parser/
 config_document.hpp
 config_document_factory.hpp
 config_node.hpp
lib/
 liblibcpp-hocon.so
 liblibcpp-hocon.so.%%SOVERSION%%


[FILE:925:patches/patch-fix-boost172]
From caab275509826dc5fe5ab2632582abb8f83ea2b3 Mon Sep 17 00:00:00 2001
From: Jan Beich <jbeich@FreeBSD.org>
Date: Fri, 25 Oct 2019 22:26:13 +0000
Subject: [PATCH] build: add missing dependency on Boost.Filesystem

ld: error: undefined symbol: typeinfo for boost::filesystem::filesystem_error
>>> referenced by parseable.cc
>>>               ../CMakeFiles/libprojectsrc.dir/src/parseable.cc.o:(.data+0x0)
c++: error: linker command failed with exit code 1 (use -v to see invocation)
---
 CMakeLists.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- CMakeLists.txt
+++ CMakeLists.txt
@@ -42,7 +42,7 @@ else()
     set(BOOST_COMPONENTS regex)
 endif()
 
-list(APPEND BOOST_COMPONENTS thread date_time chrono system program_options)
+list(APPEND BOOST_COMPONENTS thread date_time chrono filesystem system program_options)
 
 # Add other dependencies
 find_package(Boost 1.54 REQUIRED COMPONENTS ${BOOST_COMPONENTS})

