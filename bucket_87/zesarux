# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		zesarux
VERSION=		11.0
KEYWORDS=		emulators
VARIANTS=		std
SDESC[std]=		Emulator of ZX Spectrum & more Z80-based computers
HOMEPAGE=		https://github.com/chernandezba/zesarux/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://github.com/chernandezba/zesarux/archive/refs/tags/
DISTFILE[1]=		ZEsarUX-11.0.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		aalib:dev:std
			alsa-lib:dev:std
			bash:primary:std
			libcaca:dev:std
			libsndfile:dev:std
BUILDRUN_DEPENDS=	aalib:primary:std
			alsa-lib:primary:std
			libcaca:primary:std
			libsndfile:primary:std

USES=			ncurses ssl
SDL_COMPONENTS=		sdl1
XORG_COMPONENTS=	x11 xext xxf86vm

DISTNAME=		zesarux-ZEsarUX-11.0/src

LICENSE=		GPLv3+:single GPLv2+:single CC_SA_30:single
			CUSTOM1:single BSD3CLAUSE:single CUSTOM2:single
			MIT:single CUSTOM3:single CUSTOM4:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_NAME=		CUSTOM1:"FatFs license (BSD1CLAUSE)"
			CUSTOM2:"Licencia DataDrive Hilow"
			CUSTOM3:"UnrealSpeccy Freeware License"
			CUSTOM4:"The Unlicense License"
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/LICENSE
			GPLv2+:{{WRKSRC}}/licenses/LICENSE_simcoupe
			CC_SA_30:{{WRKSRC}}/licenses/LICENSE_DOS_font
			CUSTOM1:{{WRKSRC}}/licenses/LICENSE_FatFs
			BSD3CLAUSE:{{WRKSRC}}/licenses/LICENSE_grackle
			CUSTOM2:{{WRKSRC}}/licenses/LICENSE_hilow
			MIT:{{WRKSRC}}/licenses/LICENSE_MOTOROLA_CORE
			CUSTOM3:{{WRKSRC}}/licenses/LICENSE_unrealspeccy
			CUSTOM4:{{WRKSRC}}/licenses/LICENSE_zip
LICENSE_SCHEME=		multi

MUST_CONFIGURE=		yes
CONFIGURE_ARGS=		--prefix={{PREFIX}}
			--enable-ssl
			--enable-memptr
			--enable-undoc-scfccf
			--enable-visualmem
			--enable-cpustats

LDFLAGS=		-ltinfo
VAR_OPSYS[netbsd]=	LDFLAGS=-lossaudio

post-patch:
			${REINPLACE_CMD} -i'' -e \
				"s|__PREFIX__|${STAGEDIR}${PREFIX}|g" \
				${WRKSRC}/generate_install_sh.sh

post-install:
			${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/zesarux

post-extract:
			${ECHO} "Terms extracted from 'src/start.h':" > ${WRKDIR}/TERMS1
			${SED} -n '/ifndef/!p;//q' ${WRKSRC}/start.h >> ${WRKDIR}/TERMS1
			${CAT} ${WRKDIR}/TERMS1 ${WRKSRC}/LICENSES_info > ${WRKDIR}/TERMS

[FILE:951:descriptions/desc.single]
ZEsarUX is a featureful ZX Machines Emulator that simulates various 
Z80-based computers including all the Sinclair ones:

*  MK14
*  ZX80
*  ZX81
*  ZX Spectrum
*  QL
*  Z88

In addition it also supports various other machines (including some with 
other 8-bit CPUs of the day like the Motorola 68008):

*   Microdigital TK80, TK82, TK82C, TK83, TK85, TK90X (Portuguese and 
Spanish), TK95 (Portuguese and Spanish)
*   Czerweny CZ 1000, CZ 1500, CZ 2000, CZ 1000 Plus, CZ 1500 Plus, CZ 
Spectrum, CZ Spectrum Plus
*   Timex Sinclair 1000, 1500, 2068
*   Timex Computer 2048, 2068
*   Inves Spectrum +
*   Sam Coupe
*   Pentagon
*   Chloe 140 SE, 280 SE
*   Chrome
*   Prism
*   ZX-Uno
*   ZX-Evolution BaseConf (beta)
*   ZX-Evolution TS-Conf
*   ZX Spectrum Next
*   Jupiter Ace
*   Amstrad CPC 464, CPC 4128, CPC 664, CPC 6128
*   Amstrad PCW 8256, PCW 8512
*   MSX1
*   Spectravideo 318/328
*   Colecovision
*   Sega SG1000
*   Sega Master System


[FILE:98:distinfo]
ab02725088d8b87df978c1b0b00ac6722fadbdf642f1b1dd347147dd69c2e500     45799201 ZEsarUX-11.0.tar.gz


[FILE:8959:manifests/plist.single]
bin/zesarux
share/zesarux/
 128.rom
 128s.rom
 48.rom
 48es.rom
 ACKNOWLEDGEMENTS
 ALTERNATEROMS
 Cambios
 Changelog
 DONATE
 DONORS
 EXCLUSIVEFEATURES
 FAQ
 FEATURES
 FEATURES_es
 HISTORY
 INCLUDEDTAPES
 INSTALL
 INSTALLWINDOWS
 IN_MEMORIAM_DAVID
 IN_MEMORIAM_DAVID_es
 IN_MEMORIAM_DIEGO
 IN_MEMORIAM_DIEGO_es
 LICENSE
 LICENSES_info
 README
 TODO
 TODO_ZENG
 TODO_ZRCP_network
 TODO_accessibility
 TODO_audio
 TODO_core_cpu
 TODO_debug
 TODO_devices
 TODO_generic
 TODO_machines
 TODO_menu
 TODO_next_version
 TODO_os
 TODO_snapshots
 TODO_tape
 TODO_this_version
 TODO_video
 Z88OZ431.rom
 Z88OZ441.rom
 Z88OZ45.rom
 Z88OZ46.rom
 Z88OZ47.rom
 Z88UK220.rom
 Z88UK300.rom
 Z88UK400.rom
 ace.rom
 alternaterom_ace.rom
 alternaterom_aszmice07.rom
 alternaterom_derby_p_32K.rom
 alternaterom_derby_pp_64K.rom
 alternaterom_opense.rom
 alternaterom_plus2b.rom
 alternaterom_plus2c.rom
 alternaterom_plus3e_mmcen3eE.rom
 alternaterom_plus3e_mmces3eE.rom
 alternaterom_plus3e_sm8en3eE.rom
 alternaterom_plus3e_sm8es3eE.rom
 alternaterom_sebasic4_rom1.rom
 atomlite.rom
 bin_sprite_to_c.sh
 chrome.rom
 coleco.rom
 cpc464.rom
 cpc6128.rom
 cpc664.rom
 defcon.rom
 dinamid3.rom
 editionnamegame.zmenu
 esxide085.rom
 esxmmc085.rom
 gs104.rom
 gs105a.rom
 hilow_barbanegra.rom
 hilow_datadrive.rom
 included_utilities.odt
 interface007.rom
 inves.rom
 mantransfev3.bin
 mf1.rom
 mf128.rom
 mf3.rom
 mhpokeador-salvapan.rom
 mhpokeador-transfer.rom
 mhpokeador.rom
 mk14.rom
 msx.rom
 p2.rom
 p2a40.rom
 p2a41.rom
 p2as.rom
 p2f.rom
 p2s.rom
 pcw_8x_boot1.dsk
 pcw_8x_boot2.dsk
 pcw_boot.rom
 pentagon.rom
 phoenix3.rom
 prism.rom
 prism_failsafe.rom
 ql_jm.rom
 ql_js.rom
 ramjet2.rom
 ramjet3.rom
 samcoupe.rom
 samram.rom
 samram_eng.rom
 se.rom
 sg1000.rom
 sms.rom
 specmate.rom
 svi.rom
 tbblue.mmc
 tbblue_loader.rom
 tc2048.rom
 tk85.rom
 tk90x.rom
 tk90x_v1br.rom
 tk90x_v2es.rom
 tk90xs.rom
 tk95.rom
 tk95es.rom
 tk95es_modif.rom
 transtape2.rom
 transtape3-vA.rom
 transtape3-vB.rom
 transtape3-vC.rom
 trdos.rom
 ts1500.rom
 ts2068.rom
 unodos3.rom
 z88_shortcuts.bmp
 zesarux.mp3
 zesarux.odt
 zesarux.pdf
 zesarux.xcf
 zx80.rom
 zx81.rom
 zxevo_baseconf.rom
 zxevo_tsconf.rom
 zxpand_zx80.rom
 zxpand_zx81.rom
 zxuno.flash
 zxuno_bootloader.rom
share/zesarux/copiers/
 copiador.zsf
 copiadorprimi2.zsf
 copion9.zsf
 duplitape.zsf
 duplitape2.zsf
 laocopy2.zsf
 mancopy.zsf
 supertapecopier.zsf
share/zesarux/docs/
 README
 accesibilidad_instrucciones.txt
 info_realvideo.odt
 info_snapshots_zx_sp.odt
 load_any_flag.txt
 mac_os_catalina_users_permissions.txt
 pullrequests.txt
 sobre_cintas.txt
 sugerencias_usuarios.txt
 zeng_online_add_core.txt
share/zesarux/docs/man software/
 man software tarjeta visita1.jpg
 man software tarjeta visita2.jpg
share/zesarux/keyboards/
 keyboard_128.bmp
 keyboard_128s.bmp
 keyboard_16.bmp
 keyboard_48.bmp
 keyboard_48p.bmp
 keyboard_48s.bmp
 keyboard_ace.bmp
 keyboard_chloe.bmp
 keyboard_coleco.bmp
 keyboard_cpc_464.bmp
 keyboard_cpc_6128.bmp
 keyboard_cpc_664.bmp
 keyboard_inves.bmp
 keyboard_mk14.bmp
 keyboard_msx.bmp
 keyboard_next.bmp
 keyboard_p2.bmp
 keyboard_p3.bmp
 keyboard_pcw_8256.bmp
 keyboard_pcw_8512_only_text.bmp
 keyboard_pentagon.bmp
 keyboard_ql.bmp
 keyboard_sam.bmp
 keyboard_sg1000.bmp
 keyboard_sms.bmp
 keyboard_svi_318.bmp
 keyboard_svi_328.bmp
 keyboard_tc2048.bmp
 keyboard_tk85.bmp
 keyboard_tk90x.bmp
 keyboard_tk95.bmp
 keyboard_ts1500.bmp
 keyboard_ts2068.bmp
 keyboard_z88.bmp
 keyboard_zx80.bmp
 keyboard_zx81.bmp
 keyboard_zxevo.bmp
 keyboard_zxuno.bmp
share/zesarux/licenses/
 LICENSE_DOS_font
 LICENSE_FatFs
 LICENSE_MOTOROLA_CORE
 LICENSE_SCMP_CORE
 LICENSE_fuse
 LICENSE_grackle
 LICENSE_hilow
 LICENSE_mdvtool
 LICENSE_playtzx
 LICENSE_qemu
 LICENSE_scl2trd
 LICENSE_simcoupe
 LICENSE_undaad
 LICENSE_ungac
 LICENSE_unpaws
 LICENSE_unrealspeccy
 LICENSE_zip
share/zesarux/my_soft/
 cursordraw-sprites.bin
 cursordraw-sprites.pbm
 info_my_soft.odt
 mansoft-charset.bin
 mansoft-charset.pbm
share/zesarux/my_soft/bitsoft/bitsoft.zmenu
share/zesarux/my_soft/bitsoft/ql/
 david.mdv
 david2.mdv
share/zesarux/my_soft/bitsoft/ql/autocadql/
 autocadql
 boot
 dibujo_dwg
 screenshot1.png
 screenshot2.png
 screenshot3.png
share/zesarux/my_soft/bitsoft/ql/monopoly_folder/
 README
 boot
 mono_casas
 mono_comu
 mono_suerte
 monopoly
 monopoly.orig
 monopoly1.png
 monopoly2.png
 monopoly3.png
 monopoly_spa
 monopoly_udg
 udg
share/zesarux/my_soft/bitsoft/spectrum/
 64chars-inves.tap
 64chars-inves.tap.config
 README
 attack-inves.tap
 attack-inves.tap.config
 attack-inves.txt
 bittransfe.tap
 bittransfe.tap.config
 copiones.tap
 dibuja4.tzx
 dibuja4.tzx.config
 elautobus.tzx
 elautobus.tzx.config
 gusano.tap
 gusano.tap.config
 letras.tap
 pruebabetabasic.tap
share/zesarux/my_soft/microbyt/ql/mago.mdv
share/zesarux/my_soft/microbyt/ql/mago_folder/
 BOOT
 README
 mago
 mago2
 mago2spa
 mago_dat
 mago_dat.orig
 mago_udg
 mago_udg.orig
 prueba_archivo
 ruidos
 udg
 udg.orig
share/zesarux/my_soft/microbyt/spectrum/
 Contabilidad General Spectrum.tzx
 Contabilidad General Spectrum_con_clear.tap
 Contabilidad General Spectrum_con_clear.tzx
 README.txt
 alonso micro byt_28031984.tap
 alonso micro byt_28031984.txt
 cartas.tzx
 dibujar_10091986.txt
 dibujar_10091986.tzx
 ranas_suicidas.tzx
 telefonos micro byt 1016.tap
 telefonos micro byt 1016.txt
share/zesarux/my_soft/ql/untitled.mdv
share/zesarux/my_soft/ql/el_marques_kwue/
 README
 boot
 el_marques_kwue
 reloj
share/zesarux/my_soft/ql/lobos/
 README
 boot
 lobos
share/zesarux/my_soft/ql/test_beep/BOOT
share/zesarux/my_soft/ql/test_keyboard/boot
share/zesarux/my_soft/ql/test_sound/testsound
share/zesarux/my_soft/spectrum/
 3dbasic.tap
 42anniversary.tap
 grafica-bits.tap
 sierpinsky.tap
share/zesarux/my_soft/spectrum/sped/spedtotxt.tap
share/zesarux/my_soft/spectrum/sped/sped52en/readmeSPED52.txt
share/zesarux/my_soft/spectrum/sped/sped52en/sources/
 SPE52AEN.TAP
 SPE52AES.TAP
share/zesarux/my_soft/spectrum/sped/sped52en/tools/
 SPED52.BAS
 SPED52EN.TAP
 SPED52ES.TAP
share/zesarux/my_soft/spectrum/sped/sped53/
 sped53.tap
 sped53.txt
share/zesarux/my_soft/spectrum/sped/sped53en/readmeSPED53.txt
share/zesarux/my_soft/spectrum/sped/sped53en/sources/
 SPE53AEN.TAP
 SPE53AES.TAP
share/zesarux/my_soft/spectrum/sped/sped53en/tools/
 SPED53.BAS
 SPED53EN.TAP
 SPED53ES.TAP
share/zesarux/my_soft/spectrum/sped/sped54en/
 sped54en.asm
 sped54en.txt
 sped54en_paging.asm
share/zesarux/my_soft/spectrum/vintage/
 adivinador.tzx
 adivinador2.tzx
 animator.tzx
 artiller.bas
 artiller.tap
 artillerprevios.tzx
 artistchb1.tzx
 artistchb8.tzx
 azar.tap
 azar2.tap
 azar3.tap
 azar4.tap
 azar_history.tap
 cac10.tzx
 calculadora.tzx
 calculin.tzx
 cancione.smp.gz
 cancione.tap
 canciones3.tzx
 caset_a-ll.tzx
 cintas9.tap
 circulos.tzx
 colores.tzx
 combates-previos.tap
 combates4.tap
 come2.tap
 comegdu.tap
 compdibujos1.tzx
 compre24_src.tzx
 contador.tzx
 converso.tap
 conversor0.tzx
 copion8.tap
 copion9.tap
 crash2.tap
 crash2_previous.tap
 crashcars.tzx
 cronometro.tzx
 cursordr.tap
 cursordr_mouse.tap
 dibujo2d.tap
 dibujo3d3.tap
 dibujo3d4.tap
 dibujos.tzx
 dragon.tzx
 drawassist6.tzx
 drawscreen8.tzx
 editor.smp.gz
 editor3.tzx
 explodingplanets.tzx
 fightjump.tzx
 funciones.tap
 gdudefine.tap
 grafic.tap
 hello_liner.tzx
 laber8.tap
 laber8.txt
 loadcontador.tzx
 man3d6.tzx
 mancopy.tzx
 mangun.tzx
 max20.tzx
 max20_con_pantalla.tzx
 memoedit.tzx
 memoedit4.tzx
 mezcla.tap
 musica.tzx
 navidad.tzx
 ohsusana.tzx
 ortografia.tap
 pantallas.tap
 pems.tap
 piano.tzx
 piano_con_pantalla.tzx
 printgp100.tzx
 programs4-crc-error.tap
 programs5.tap
 programs5_explained.txt
 protege.tap
 pruebA.tap
 realdebu.tap
 rebote.tap
 reloj.tzx
 relojplus.tzx
 rota180493.tap
 saltarin.tap
 saltarin_previous.tap
 seguidorpc.tzx
 sped52.tap
 sped52.txt
 star.tzx
 testnotes.zx
 theliner67.tzx
 thepainter58.tzx
 thepoint18.tap
 trianguloplus.tzx
 triangulos.tzx
 tucos.tap
 wavayplayer.tap
 worldspace.tzx
 worldspace2.tap
 worldspace2_history.tap
share/zesarux/my_soft/spectrum/vintage/mantransfer/
 mantransfer2.tzx
 mantransfev2.asm
 mantransfev3-sp11.asm
 mantransfev3.tap
 mantransfev3.txt
share/zesarux/my_soft/spectrum/vintage/mantransfer/romfiles/
 info.txt
 mantransfer_v3.rom
 mantransfer_v3i.rom
 mantransfer_v3z.rom
 rom_mantransfer_v3.asm
 rom_mantransfer_v3i.asm
 rom_mantransfer_v3z.asm
share/zesarux/my_soft/z88/sierpinsky.epr
share/zesarux/speech_filters/
 espeak_linux_filter.sh
 festival_filter.sh
 festival_filter_alsa.sh
 festival_filter_pulse.sh
 festival_spanish_filter.sh
 festival_wave_filter.sh
 macos_say_filter.sh
 macos_translate_to_spanish_say_filter.sh
 stop_espeak_linux_filter.sh
 stop_festival_filter.sh
 stop_macos_say_filter.sh
 stop_win_espeak.bat
 win_balabolka.bat
 win_espeak.bat
 win_espeak_translate.bat
 win_jampal.bat
share/zesarux/text_image_filters/
 dalle_aux_text_to_image.py
 dalle_text_to_image.bat
 dalle_text_to_image.sh
 dummy_dalle_text_to_image.sh


[FILE:194:patches/patch-audio_audio.h]
--- audio/audio.h.orig	2024-06-06 15:45:53 UTC
+++ audio/audio.h
@@ -26,6 +26,7 @@
 #if defined(__APPLE__)
         #include <sys/syslimits.h>
 #endif
+#include <limits.h>
 
 
 #include "cpu.h"


[FILE:194:patches/patch-m68kcpu.h]
--- m68kcpu.h.orig	2024-06-06 15:45:53 UTC
+++ m68kcpu.h
@@ -75,7 +75,7 @@
 
 
 //Para haiku
-#ifdef HAIKU_OS
+#if defined HAIKU_OS || defined __DragonFly__
 typedef unsigned int uint;
 
 #else


[FILE:214:patches/patch-network.h]
--- network.h.orig	2024-06-06 15:45:53 UTC
+++ network.h
@@ -43,7 +43,7 @@
 #endif
 
 
-#ifdef __FreeBSD__
+#if defined __FreeBSD__ || defined __DragonFly__ || defined __NetBSD__
 #include <netinet/in.h>
 #endif
 


[FILE:367:patches/patch-snap_snap__z81.c]
dummy operation does not even build on DragonFly.
It was there to silence a compiler warning.

--- snap/snap_z81.c.orig	2024-06-06 15:45:53 UTC
+++ snap/snap_z81.c
@@ -284,7 +284,6 @@ void load_snap_ace(FILE *f)
 	//de momento volver sin mas
 	//y que el compilador no se queje de variable no usada
 	f=NULL;
-	f++;
 	return;
 /*
         int puntero_memoria=0x2000;


[FILE:255:patches/patch-src_configure]
--- configure.orig	2024-06-06 15:45:53 UTC
+++ configure
@@ -672,7 +672,7 @@ if [ "$OPTIONOBJCURSES" != "" ]; then
 	TEMPFILE="configure.compile.c"
 
 	cat > $TEMPFILE << _EOF
-#include <curses.h>
+#include <ncurses/curses.h>
 int main () {
 return 0;
 }


[FILE:297:patches/patch-src_generate_install_sh.sh]
--- generate_install_sh.sh.orig	2024-06-06 15:45:53 UTC
+++ generate_install_sh.sh
@@ -1,7 +1,7 @@
 #!/usr/bin/env bash
 
 
-INSTALLPREFIX=`cat compileoptions.h |grep INSTALL_PREFIX|cut -d '"' -f2`
+INSTALLPREFIX=__PREFIX__
 EDITION_NAME_GAME=`cat cpu.h|grep EDITION_NAME_GAME|cut -d '"' -f2`
 
 


[FILE:228:patches/patch-src_video_scrcurses.c]
--- video/scrcurses.c.orig	2024-06-06 15:45:53 UTC
+++ video/scrcurses.c
@@ -21,7 +21,7 @@
 
 #include <stdlib.h>
 #include <stdio.h>
-#include <curses.h>
+#include <ncurses/curses.h>
 #include <string.h>
 #include <unistd.h>
 


[FILE:230:patches/patch-utils.h]
--- utils.h.orig	2024-06-06 15:45:53 UTC
+++ utils.h
@@ -22,7 +22,7 @@
 #ifndef UTILS_H
 #define UTILS_H
 
-#ifdef __FreeBSD__
+#if defined __FreeBSD__ || defined __DragonFly__ || defined __NetBSD__
 #include <limits.h>
 #endif
 


[FILE:283:patches/patch-zrcp_remote.c]
--- zrcp/remote.c.orig	2024-06-06 15:45:53 UTC
+++ zrcp/remote.c
@@ -104,7 +104,7 @@ int zrcp_command_close_all_menus=0;
 	#include <arpa/inet.h>
 #endif
 
-#ifdef __FreeBSD__
+#if defined __FreeBSD__ || defined __DragonFly__ || defined __NetBSD__
 #include <netinet/in.h>
 #endif
 

