# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gnugrep
VERSION=		3.8
KEYWORDS=		textproc
VARIANTS=		standard ravensys
SDESC[ravensys]=	GNU grep for raven sysroot (no libintl)
SDESC[standard]=	GNU implementation of grep
HOMEPAGE=		http://www.gnu.org/software/grep/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/grep
DISTFILE[1]=		grep-3.8.tar.xz:main
DF_INDEX=		1
SPKGS[ravensys]=	primary
SPKGS[standard]=	complete
			primary
			nls

OPTIONS_AVAILABLE=	RAVENSYS
OPTIONS_STANDARD=	none
VOPTS[ravensys]=	RAVENSYS=ON

USES=			charsetfix cpe

DISTNAME=		grep-3.8

LICENSE=		GPLv3+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^\#ifndef"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/grep.h
LICENSE_SCHEME=		solo

INFO=			primary:grep
CPE_PRODUCT=		grep
CPE_VENDOR=		gnu
FPC_EQUIVALENT=		textproc/gnugrep
INFO_SUBDIR=		.

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-perl-regexp

[RAVENSYS].DESCRIPTION=			For ravensys-root - built without NLS
[RAVENSYS].BUILDRUN_DEPENDS_OFF=	pcre2:primary:standard
[RAVENSYS].BUILD_DEPENDS_ON=		pcre2:primary:standard
[RAVENSYS].CONFIGURE_ARGS_OFF=		--enable-nls
					--with-libintl-prefix={{LOCALBASE}}
[RAVENSYS].CONFIGURE_ARGS_ON=		--disable-nls
[RAVENSYS].USES_OFF=			gettext

pre-configure:
	${REINPLACE_CMD} 's:@grep@:${LOCALBASE}/bin/&:' \
		${WRKSRC}/src/egrep.sh
	${REINPLACE_CMD} 's|mkinstalldirs = .*|mkinstalldirs = ${MKDIR}|g' \
		${WRKSRC}/po/Makefile.in.in

post-patch-RAVENSYS-ON:
	# Force static linking of pcre2
	${RM} ${LOCALBASE}/lib/libpcre2-8.so*

[FILE:474:descriptions/desc.primary]
Grep is a command-line utility for searching plain-text data sets for
lines that match a regular expression. Its name comes from the ed
command g/re/p (globally search a regular expression and print),
which has the same effect: doing a global search with the regular
expression and printing all matching lines. Grep was originally
developed for the Unix operating system, but later available for all
Unix-like systems.

This package contains the GNU implementation of grep.


[FILE:94:distinfo]
498d7cc1b4fb081904d87343febb73475cf771e424fb7e6141aff66013abc382      1709536 grep-3.8.tar.xz


[FILE:50:manifests/plist.primary]
bin/
 egrep
 fgrep
 grep
share/man/man1/grep.1.gz


[FILE:1629:manifests/plist.nls]
share/locale/ka/LC_MESSAGES/grep.mo
share/locale/ta/LC_MESSAGES/grep.mo
share/locale/af/LC_MESSAGES/grep.mo
share/locale/be/LC_MESSAGES/grep.mo
share/locale/bg/LC_MESSAGES/grep.mo
share/locale/ca/LC_MESSAGES/grep.mo
share/locale/cs/LC_MESSAGES/grep.mo
share/locale/da/LC_MESSAGES/grep.mo
share/locale/de/LC_MESSAGES/grep.mo
share/locale/el/LC_MESSAGES/grep.mo
share/locale/eo/LC_MESSAGES/grep.mo
share/locale/es/LC_MESSAGES/grep.mo
share/locale/et/LC_MESSAGES/grep.mo
share/locale/eu/LC_MESSAGES/grep.mo
share/locale/fi/LC_MESSAGES/grep.mo
share/locale/fr/LC_MESSAGES/grep.mo
share/locale/ga/LC_MESSAGES/grep.mo
share/locale/gl/LC_MESSAGES/grep.mo
share/locale/he/LC_MESSAGES/grep.mo
share/locale/hr/LC_MESSAGES/grep.mo
share/locale/hu/LC_MESSAGES/grep.mo
share/locale/id/LC_MESSAGES/grep.mo
share/locale/it/LC_MESSAGES/grep.mo
share/locale/ja/LC_MESSAGES/grep.mo
share/locale/ko/LC_MESSAGES/grep.mo
share/locale/ky/LC_MESSAGES/grep.mo
share/locale/lt/LC_MESSAGES/grep.mo
share/locale/nb/LC_MESSAGES/grep.mo
share/locale/nl/LC_MESSAGES/grep.mo
share/locale/pa/LC_MESSAGES/grep.mo
share/locale/pl/LC_MESSAGES/grep.mo
share/locale/pt/LC_MESSAGES/grep.mo
share/locale/pt_BR/LC_MESSAGES/grep.mo
share/locale/ro/LC_MESSAGES/grep.mo
share/locale/ru/LC_MESSAGES/grep.mo
share/locale/sk/LC_MESSAGES/grep.mo
share/locale/sl/LC_MESSAGES/grep.mo
share/locale/sr/LC_MESSAGES/grep.mo
share/locale/sv/LC_MESSAGES/grep.mo
share/locale/th/LC_MESSAGES/grep.mo
share/locale/tr/LC_MESSAGES/grep.mo
share/locale/uk/LC_MESSAGES/grep.mo
share/locale/vi/LC_MESSAGES/grep.mo
share/locale/zh_CN/LC_MESSAGES/grep.mo
share/locale/zh_TW/LC_MESSAGES/grep.mo

