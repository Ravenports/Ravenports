# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		stterm
VERSION=		0.9
REVISION=		1
KEYWORDS=		x11
VARIANTS=		standard
SDESC[standard]=	Simple terminal emulator for X which sucks less
HOMEPAGE=		https://st.suckless.org
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://dl.suckless.org/st/
DISTFILE[1]=		st-0.9.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	xorg-truetype-fonts:single:standard

USES=			ncurses fontconfig zlib:build
XORG_COMPONENTS=	xext xft

DISTNAME=		st-0.9

LICENSE=		MIT:single
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

post-patch:
	${REINPLACE_CMD} -e '/^PREFIX/s| = /usr/local| = /${PREFIX}| ; \
		/^X11INC/s|/usr/X11R6/include|${PREFIX}/include/X11| ; \
		/^X11LIB/s|/usr/X11R6|${PREFIX}|' ${WRKSRC}/config.mk
	${SED} -e '/tic/d' Makefile

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/st
	${MKDIR} ${STAGEDIR}${PREFIX}/share/applications
	${CP} ${FILESDIR}/st.desktop ${STAGEDIR}${PREFIX}/share/applications

do-install:
	( cd ${WRKSRC} ; \
		${MAKE} DESTDIR=${STAGEDIR} install )

[FILE:607:descriptions/desc.single]
St is a simple terminal emulator implementation for X. It's maintained by 
the suckless.org community. The authors deem xterm to be completely 
unmaintainable and rxvt still far more complex than a terminal emulator 
needs to be. This is why st exists.

Currently implemented features:

 -  most VT10X escape sequences
 -  serial line support
 -  XIM support
 -  utmp via utmp(1)
 -  clipboard handling
 -  mouse and keyboard shortcuts (via config.h)
 -  UTF-8
 -  wide-character support
 -  resize
 -  256 colors and true colors
 -  antialiased fonts (using fontconfig)
 -  fallback fonts
 -  line drawing


[FILE:92:distinfo]
f36359799734eae785becb374063f0be833cf22f88b4f169cd251b99324e08e7        48171 st-0.9.tar.gz


[FILE:159:manifests/plist.single]
bin/st
share/applications/st.desktop
share/man/man1/st.1.gz
share/site-terminfo/s/
 st-mono
 st
 st-256color
 st-meta
 st-meta-256color
 st-bs
 st-bs-256color


[FILE:406:patches/patch-Makefile]
--- Makefile.orig	2022-10-04 17:41:26 UTC
+++ Makefile
@@ -47,7 +47,7 @@ install: st
 	mkdir -p $(DESTDIR)$(MANPREFIX)/man1
 	sed "s/VERSION/$(VERSION)/g" < st.1 > $(DESTDIR)$(MANPREFIX)/man1/st.1
 	chmod 644 $(DESTDIR)$(MANPREFIX)/man1/st.1
-	tic -sx st.info
+	tic -sx -o $(DESTDIR)$(PREFIX)/share/site-terminfo st.info
 	@echo Please see the README file regarding the terminfo entry of st.
 
 uninstall:


[FILE:203:files/st.desktop]
[Desktop Entry]
Name=st
Comment=Simple terminal emulator for X11
Exec=st
Terminal=false
Type=Application
Encoding=UTF-8
Categories=System;TerminalEmulator;
Keywords=shell;prompt;command;commandline;cmd;

