# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		opencollada
VERSION=		1.6.68
KEYWORDS=		graphics
VARIANTS=		standard
SDESC[standard]=	Library for reading and writing COLLADA files
HOMEPAGE=		http://www.opencollada.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/KhronosGroup:OpenCOLLADA:v1.6.68
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			cmake c++:single iconv pkgconfig pcre dos2unix
GNOME_COMPONENTS=	libxml2

DOS2UNIX_GLOB=		*.h
FPC_EQUIVALENT=		graphics/opencollada

LDFLAGS=		-Wl,-rpath,{{PREFIX}}/lib/opencollada
CMAKE_ARGS=		-DUSE_SHARED:BOOL=ON
			-DUSE_STATIC:BOOL=OFF

post-patch:
	${REINPLACE_CMD} -e 's|$${OPENCOLLADA_INST_LIBRARY}/cmake|${PREFIX}/share/cmake/Modules|' \
		${WRKSRC}/CMakeLists.txt

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/opencollada/*.so

[FILE:202:descriptions/desc.single]
OpenCOLLADA is a reader and writer library for the COLLADA format, an
open, royalty-free standard for exchanging 3D asset information between
applications, digital content creation tools and libraries.


[FILE:117:distinfo]
d9db0c0a518aa6ac0359626f222707c6ca1b63a83cbf229d97a5999c9cde347b     12098718 KhronosGroup-OpenCOLLADA-1.6.68.tar.gz


[FILE:10441:manifests/plist.single]
include/opencollada/COLLADABaseUtils/
 COLLADABU.h
 COLLADABUException.h
 COLLADABUHashFunctions.h
 COLLADABUIDList.h
 COLLADABUNativeString.h
 COLLADABUPcreCompiledPattern.h
 COLLADABUPlatform.h
 COLLADABUPrerequisites.h
 COLLADABUStableHeaders.h
 COLLADABUStringUtils.h
 COLLADABUURI.h
 COLLADABUUtils.h
 COLLADABUhash_map.h
include/opencollada/COLLADABaseUtils/Math/
 COLLADABUMathMatrix3.h
 COLLADABUMathMatrix4.h
 COLLADABUMathPrerequisites.h
 COLLADABUMathQuaternion.h
 COLLADABUMathUtils.h
 COLLADABUMathVector3.h
include/opencollada/COLLADAFramework/
 COLLADAFW.h
 COLLADAFWAnimatable.h
 COLLADAFWAnimatableFloat.h
 COLLADAFWAnimation.h
 COLLADAFWAnimationClip.h
 COLLADAFWAnimationCurve.h
 COLLADAFWAnimationList.h
 COLLADAFWAnnotate.h
 COLLADAFWArray.h
 COLLADAFWArrayPrimitiveType.h
 COLLADAFWAxisInfo.h
 COLLADAFWCamera.h
 COLLADAFWCode.h
 COLLADAFWColor.h
 COLLADAFWColorOrTexture.h
 COLLADAFWConstants.h
 COLLADAFWController.h
 COLLADAFWEdge.h
 COLLADAFWEffect.h
 COLLADAFWEffectCommon.h
 COLLADAFWException.h
 COLLADAFWFileInfo.h
 COLLADAFWFloatOrDoubleArray.h
 COLLADAFWFloatOrParam.h
 COLLADAFWFormula.h
 COLLADAFWFormulaNewParam.h
 COLLADAFWFormulas.h
 COLLADAFWGeometry.h
 COLLADAFWHashFunctions.h
 COLLADAFWILoader.h
 COLLADAFWIWriter.h
 COLLADAFWImage.h
 COLLADAFWImageSource.h
 COLLADAFWInclude.h
 COLLADAFWIndexList.h
 COLLADAFWInstanceBase.h
 COLLADAFWInstanceBindingBase.h
 COLLADAFWInstanceCamera.h
 COLLADAFWInstanceController.h
 COLLADAFWInstanceGeometry.h
 COLLADAFWInstanceKinematicsScene.h
 COLLADAFWInstanceLight.h
 COLLADAFWInstanceNode.h
 COLLADAFWInstanceSceneGraph.h
 COLLADAFWInstanceVisualScene.h
 COLLADAFWJoint.h
 COLLADAFWJointPrimitive.h
 COLLADAFWKinematicsController.h
 COLLADAFWKinematicsModel.h
 COLLADAFWKinematicsScene.h
 COLLADAFWLibraryNodes.h
 COLLADAFWLight.h
 COLLADAFWLines.h
 COLLADAFWLinestrips.h
 COLLADAFWLoaderUtils.h
 COLLADAFWLookat.h
 COLLADAFWMaterial.h
 COLLADAFWMaterialBinding.h
 COLLADAFWMatrix.h
 COLLADAFWMesh.h
 COLLADAFWMeshPrimitive.h
 COLLADAFWMeshPrimitiveWithFaceVertexCount.h
 COLLADAFWMeshVertexData.h
 COLLADAFWModifier.h
 COLLADAFWMorphController.h
 COLLADAFWMotionProfile.h
 COLLADAFWNewParam.h
 COLLADAFWNode.h
 COLLADAFWObject.h
 COLLADAFWParam.h
 COLLADAFWPass.h
 COLLADAFWPassClear.h
 COLLADAFWPassOutput.h
 COLLADAFWPassTarget.h
 COLLADAFWPointerArray.h
 COLLADAFWPolygons.h
 COLLADAFWPrerequisites.h
 COLLADAFWRenderDraw.h
 COLLADAFWRenderState.h
 COLLADAFWRenderStateStatic.h
 COLLADAFWRoot.h
 COLLADAFWRotate.h
 COLLADAFWSampler.h
 COLLADAFWScale.h
 COLLADAFWScene.h
 COLLADAFWSemantic.h
 COLLADAFWSetParam.h
 COLLADAFWShader.h
 COLLADAFWShaderBlinn.h
 COLLADAFWShaderConstantFX.h
 COLLADAFWShaderElement.h
 COLLADAFWShaderLambert.h
 COLLADAFWShaderPhong.h
 COLLADAFWShear.h
 COLLADAFWSkew.h
 COLLADAFWSkinController.h
 COLLADAFWSkinControllerData.h
 COLLADAFWSpline.h
 COLLADAFWStableHeaders.h
 COLLADAFWTarget.h
 COLLADAFWTargetableValue.h
 COLLADAFWTechnique.h
 COLLADAFWTexture.h
 COLLADAFWTextureCoordinateBinding.h
 COLLADAFWTransformation.h
 COLLADAFWTranslate.h
 COLLADAFWTriangles.h
 COLLADAFWTrifans.h
 COLLADAFWTristrips.h
 COLLADAFWTypes.h
 COLLADAFWUniqueId.h
 COLLADAFWValidate.h
 COLLADAFWValueType.h
 COLLADAFWVisualScene.h
include/opencollada/COLLADASaxFrameworkLoader/
 COLLADASaxFWLAccessor.h
 COLLADASaxFWLArrayElement.h
 COLLADASaxFWLAssetLoader.h
 COLLADASaxFWLCOLLADACsymbol.h
 COLLADASaxFWLDocumentProcessor.h
 COLLADASaxFWLException.h
 COLLADASaxFWLExtraDataElementHandler.h
 COLLADASaxFWLExtraDataLoader.h
 COLLADASaxFWLFileLoader.h
 COLLADASaxFWLFilePartLoader.h
 COLLADASaxFWLFormulasLinker.h
 COLLADASaxFWLFormulasLoader.h
 COLLADASaxFWLGeometryLoader.h
 COLLADASaxFWLGeometryMaterialIdInfo.h
 COLLADASaxFWLHelperLoaderBase.h
 COLLADASaxFWLIError.h
 COLLADASaxFWLIErrorHandler.h
 COLLADASaxFWLIExtraDataCallbackHandler.h
 COLLADASaxFWLIFilePartLoader.h
 COLLADASaxFWLIParserImpl.h
 COLLADASaxFWLIParserImpl14.h
 COLLADASaxFWLIParserImpl15.h
 COLLADASaxFWLInputShared.h
 COLLADASaxFWLInputUnshared.h
 COLLADASaxFWLInstanceArticulatedSystemLoader.h
 COLLADASaxFWLInstanceKinematicsModelLoader.h
 COLLADASaxFWLIntermediateTargetable.h
 COLLADASaxFWLInterpolationTypeSource.h
 COLLADASaxFWLJointsLoader.h
 COLLADASaxFWLKinematicsIntermediateData.h
 COLLADASaxFWLKinematicsSceneCreator.h
 COLLADASaxFWLLibraryAnimationClipsLoader.h
 COLLADASaxFWLLibraryAnimationsLoader.h
 COLLADASaxFWLLibraryArticulatedSystemsLoader.h
 COLLADASaxFWLLibraryCamerasLoader.h
 COLLADASaxFWLLibraryControllersLoader.h
 COLLADASaxFWLLibraryEffectsLoader.h
 COLLADASaxFWLLibraryFormulasLoader.h
 COLLADASaxFWLLibraryImagesLoader.h
 COLLADASaxFWLLibraryJointsLoader.h
 COLLADASaxFWLLibraryKinematicsModelsLoader.h
 COLLADASaxFWLLibraryKinematicsScenesLoader.h
 COLLADASaxFWLLibraryLightsLoader.h
 COLLADASaxFWLLibraryMaterialsLoader.h
 COLLADASaxFWLLibraryNodesLoader.h
 COLLADASaxFWLLoader.h
 COLLADASaxFWLMeshLoader.h
 COLLADASaxFWLMeshPrimitiveInputList.h
 COLLADASaxFWLNodeLoader.h
 COLLADASaxFWLPHElement.h
 COLLADASaxFWLPolygons.h
 COLLADASaxFWLPostProcessor.h
 COLLADASaxFWLPrerequisites.h
 COLLADASaxFWLPrimitiveBase.h
 COLLADASaxFWLRootParser14.h
 COLLADASaxFWLRootParser15.h
 COLLADASaxFWLSaxFWLError.h
 COLLADASaxFWLSaxParserError.h
 COLLADASaxFWLSaxParserErrorHandler.h
 COLLADASaxFWLSceneLoader.h
 COLLADASaxFWLSidAddress.h
 COLLADASaxFWLSidTreeNode.h
 COLLADASaxFWLSource.h
 COLLADASaxFWLSourceArrayLoader.h
 COLLADASaxFWLSplineLoader.h
 COLLADASaxFWLStableHeaders.h
 COLLADASaxFWLTechniqueCommon.h
 COLLADASaxFWLTransformationLoader.h
 COLLADASaxFWLTypes.h
 COLLADASaxFWLUtils.h
 COLLADASaxFWLVersionParser.h
 COLLADASaxFWLVertices.h
 COLLADASaxFWLVisualSceneLoader.h
 COLLADASaxFWLXmlTypes.h
include/opencollada/COLLADASaxFrameworkLoader/generated14/
 COLLADASaxFWLAssetLoader14.h
 COLLADASaxFWLColladaParserAutoGen14.h
 COLLADASaxFWLColladaParserAutoGen14Attributes.h
 COLLADASaxFWLColladaParserAutoGen14Enums.h
 COLLADASaxFWLColladaParserAutoGen14FunctionMapFactory.h
 COLLADASaxFWLColladaParserAutoGen14Private.h
 COLLADASaxFWLColladaParserAutoGen14ValidationData.h
 COLLADASaxFWLGeometryLoader14.h
 COLLADASaxFWLLibraryAnimationClipsLoader14.h
 COLLADASaxFWLLibraryAnimationsLoader14.h
 COLLADASaxFWLLibraryCamerasLoader14.h
 COLLADASaxFWLLibraryControllersLoader14.h
 COLLADASaxFWLLibraryEffectsLoader14.h
 COLLADASaxFWLLibraryImagesLoader14.h
 COLLADASaxFWLLibraryLightsLoader14.h
 COLLADASaxFWLLibraryMaterialsLoader14.h
 COLLADASaxFWLLibraryNodesLoader14.h
 COLLADASaxFWLMeshLoader14.h
 COLLADASaxFWLNodeLoader14.h
 COLLADASaxFWLSceneLoader14.h
 COLLADASaxFWLSourceArrayLoader14.h
 COLLADASaxFWLSplineLoader14.h
 COLLADASaxFWLVisualSceneLoader14.h
include/opencollada/COLLADASaxFrameworkLoader/generated15/
 COLLADASaxFWLAssetLoader15.h
 COLLADASaxFWLColladaParserAutoGen15.h
 COLLADASaxFWLColladaParserAutoGen15Attributes.h
 COLLADASaxFWLColladaParserAutoGen15Enums.h
 COLLADASaxFWLColladaParserAutoGen15FunctionMapFactory.h
 COLLADASaxFWLColladaParserAutoGen15Private.h
 COLLADASaxFWLColladaParserAutoGen15ValidationData.h
 COLLADASaxFWLFormulasLoader15.h
 COLLADASaxFWLGeometryLoader15.h
 COLLADASaxFWLLibraryAnimationClipsLoader15.h
 COLLADASaxFWLLibraryAnimationsLoader15.h
 COLLADASaxFWLLibraryArticulatedSystemsLoader15.h
 COLLADASaxFWLLibraryCamerasLoader15.h
 COLLADASaxFWLLibraryControllersLoader15.h
 COLLADASaxFWLLibraryEffectsLoader15.h
 COLLADASaxFWLLibraryFormulasLoader15.h
 COLLADASaxFWLLibraryImagesLoader15.h
 COLLADASaxFWLLibraryJointsLoader15.h
 COLLADASaxFWLLibraryKinematicsModelsLoader15.h
 COLLADASaxFWLLibraryKinematicsScenesLoader15.h
 COLLADASaxFWLLibraryLightsLoader15.h
 COLLADASaxFWLLibraryMaterialsLoader15.h
 COLLADASaxFWLLibraryNodesLoader15.h
 COLLADASaxFWLMeshLoader15.h
 COLLADASaxFWLNodeLoader15.h
 COLLADASaxFWLSceneLoader15.h
 COLLADASaxFWLSourceArrayLoader15.h
 COLLADASaxFWLVisualSceneLoader15.h
include/opencollada/COLLADAStreamWriter/
 COLLADASWAnnotation.h
 COLLADASWAsset.h
 COLLADASWBaseElement.h
 COLLADASWBaseInputElement.h
 COLLADASWBindMaterial.h
 COLLADASWBuffer.h
 COLLADASWCamera.h
 COLLADASWCameraOptic.h
 COLLADASWCode.h
 COLLADASWColor.h
 COLLADASWColorOrTexture.h
 COLLADASWConstants.h
 COLLADASWControlVertices.h
 COLLADASWEffectProfile.h
 COLLADASWElementWriter.h
 COLLADASWException.h
 COLLADASWExtra.h
 COLLADASWExtraTechnique.h
 COLLADASWFormatHint.h
 COLLADASWImage.h
 COLLADASWInclude.h
 COLLADASWInputList.h
 COLLADASWInstanceCamera.h
 COLLADASWInstanceController.h
 COLLADASWInstanceEffect.h
 COLLADASWInstanceGeometry.h
 COLLADASWInstanceLight.h
 COLLADASWInstanceMaterial.h
 COLLADASWInstanceNode.h
 COLLADASWLibrary.h
 COLLADASWLibraryAnimationClips.h
 COLLADASWLibraryAnimations.h
 COLLADASWLibraryCameras.h
 COLLADASWLibraryControllers.h
 COLLADASWLibraryEffects.h
 COLLADASWLibraryGeometries.h
 COLLADASWLibraryImages.h
 COLLADASWLibraryLights.h
 COLLADASWLibraryMaterials.h
 COLLADASWLibraryVisualScenes.h
 COLLADASWLight.h
 COLLADASWNode.h
 COLLADASWOpenGLConstants.h
 COLLADASWParamBase.h
 COLLADASWParamTemplate.h
 COLLADASWPass.h
 COLLADASWPlatform.h
 COLLADASWPrerequisites.h
 COLLADASWPrimitves.h
 COLLADASWRenderState.h
 COLLADASWRenderStateStatic.h
 COLLADASWSampler.h
 COLLADASWScene.h
 COLLADASWShader.h
 COLLADASWSource.h
 COLLADASWStreamWriter.h
 COLLADASWSurfaceInitOption.h
 COLLADASWTechnique.h
 COLLADASWTechniqueFX.h
 COLLADASWTexture.h
 COLLADASWValueType.h
 COLLADASWVertices.h
include/opencollada/GeneratedSaxParser/
 GeneratedSaxParser.h
 GeneratedSaxParserCoutErrorHandler.h
 GeneratedSaxParserExpatSaxParser.h
 GeneratedSaxParserIErrorHandler.h
 GeneratedSaxParserINamespaceHandler.h
 GeneratedSaxParserIUnknownElementHandler.h
 GeneratedSaxParserLibxmlSaxParser.h
 GeneratedSaxParserNamespaceStack.h
 GeneratedSaxParserParser.h
 GeneratedSaxParserParserError.h
 GeneratedSaxParserParserTemplate.h
 GeneratedSaxParserParserTemplateBase.h
 GeneratedSaxParserPrerequisites.h
 GeneratedSaxParserRawUnknownElementHandler.h
 GeneratedSaxParserSaxParser.h
 GeneratedSaxParserStackMemoryManager.h
 GeneratedSaxParserTypes.h
 GeneratedSaxParserUtils.h
lib/opencollada/
 libGeneratedSaxParser.so
 libMathMLSolver.so
 libOpenCOLLADABaseUtils.so
 libOpenCOLLADAFramework.so
 libOpenCOLLADASaxFrameworkLoader.so
 libOpenCOLLADAStreamWriter.so
 libUTF.so
 libbuffer.so
 libftoa.so
 libzlib.so
share/cmake/Modules/
 OpenCOLLADAConfig.cmake
 OpenCOLLADAConfigVersion.cmake
 OpenCOLLADATargets-%%CMAKE_BUILD_TYPE%%.cmake
 OpenCOLLADATargets.cmake


[FILE:790:patches/patch-COLLADABaseUtils_include_COLLADABUPcreCompiledPattern.h]
From b7780cd366dd687ff5e517ad95885408db96c7b5 Mon Sep 17 00:00:00 2001
From: Dennis Schridde <devurandom@gmx.net>
Date: Thu, 12 Jul 2018 06:52:36 +0200
Subject: [PATCH] COLLADABaseUtils/include/COLLADABUPcreCompiledPattern.h:
 Include pcre.h

This fixes a compilation error with libpcre-8.42:
```
error: conflicting declaration 'typedef struct real_pcre8_or_16 pcre'
```

Closes: #547
Closes: #570
---
 COLLADABaseUtils/include/COLLADABUPcreCompiledPattern.h | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

--- COLLADABaseUtils/include/COLLADABUPcreCompiledPattern.h
+++ COLLADABaseUtils/include/COLLADABUPcreCompiledPattern.h
@@ -13,8 +13,7 @@
 
 #include "COLLADABUPrerequisites.h"
 
-struct real_pcre;
-typedef struct real_pcre pcre;
+#include <pcre.h>
 
 
 namespace COLLADABU


[FILE:518:patches/patch-COLLADABaseUtils_include_COLLADABUPlatform.h]
--- COLLADABaseUtils/include/COLLADABUPlatform.h.orig	2023-01-06 00:08:58 UTC
+++ COLLADABaseUtils/include/COLLADABUPlatform.h
@@ -23,7 +23,7 @@
 #  define COLLADABU_OS_WIN64
 #elif (defined(WIN32) || defined(_WIN32) || defined(__WIN32__) || defined(__NT__))
 #  define COLLADABU_OS_WIN32
-#elif defined(__linux__) || defined(__linux) || defined(__FreeBSD__)
+#elif defined(__linux__) || defined(__linux) || defined(__FreeBSD__) || defined(__DragonFly__) || defined(__NetBSD__)
 #  define COLLADABU_OS_LINUX
 #endif
 


[FILE:545:patches/patch-COLLADABaseUtils_include_COLLADABUhash__map.h]
--- COLLADABaseUtils/include/COLLADABUhash_map.h.orig	2018-01-13 00:23:52 UTC
+++ COLLADABaseUtils/include/COLLADABUhash_map.h
@@ -60,7 +60,7 @@
         #define COLLADABU_HASH_NAMESPACE_CLOSE }
         #define COLLADABU_HASH_FUN hash
     #endif
-#elif (defined(__APPLE__) || defined(__FreeBSD__)) && defined(_LIBCPP_VERSION)
+#elif (defined(__APPLE__) || defined(__FreeBSD__) || defined(__DragonFly__)) && defined(_LIBCPP_VERSION)
     #include <unordered_map>
     #include <unordered_set>
     #define COLLADABU_HASH_MAP std::unordered_map


[FILE:470:patches/patch-DAEValidator_CMakeLists.txt]
--- DAEValidator/CMakeLists.txt.orig	2018-11-26 22:43:10 UTC
+++ DAEValidator/CMakeLists.txt
@@ -100,7 +100,7 @@ if (WIN32)
 # C4820: 'bytes' bytes padding added after construct 'member_name'
 	set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /MP /Wall /WX /wd4505 /wd4514 /wd4592 /wd4710 /wd4711 /wd4820")
 else ()
-	set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11 -Wall -Werror")
+	set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11 -Wall")
 endif ()
 
 add_custom_command(


[FILE:407:patches/patch-common_libBuffer_include_CommonFWriteBufferFlusher.h]
--- common/libBuffer/include/CommonFWriteBufferFlusher.h.orig	2018-01-13 00:23:52 UTC
+++ common/libBuffer/include/CommonFWriteBufferFlusher.h
@@ -35,7 +35,7 @@ namespace std {
 #ifdef __GNUC__
 #   include <cstdlib> /* size_t */
 #   include <cstdio>  /* FILE */
-#ifdef __FreeBSD__
+#if defined __FreeBSD__ || defined __DragonFly__ || defined __NetBSD__
 #include <stdint.h> /* int64_t */
 #endif
 #endif


[FILE:1423:patches/patch-common_libBuffer_src_CommonFWriteBufferFlusher.cpp]
--- common/libBuffer/src/CommonFWriteBufferFlusher.cpp.orig	2018-01-13 00:23:52 UTC
+++ common/libBuffer/src/CommonFWriteBufferFlusher.cpp
@@ -90,7 +90,7 @@ namespace Common
 		FilePosType currentPos = ftello64(mStream);
 #elif defined( _WIN32)
 		FilePosType currentPos = _ftelli64(mStream);
-#elif defined (__APPLE__) || defined(__FreeBSD__)
+#elif defined (__APPLE__) || defined(__FreeBSD__) || defined(__DragonFly__) || defined(__NetBSD__)
 		FilePosType currentPos = ftello(mStream);
 #else
 		FilePosType currentPos = ftello64(mStream);
@@ -115,7 +115,7 @@ namespace Common
   			return (fseeko64(mStream,0,SEEK_END) == 0);
 #elif defined( _WIN32)
 			return (_fseeki64(mStream, 0, SEEK_END) == 0);
-#elif defined (__APPLE__) || defined(__FreeBSD__)
+#elif defined (__APPLE__) || defined(__FreeBSD__) || defined(__DragonFly__) || defined(__NetBSD__)
 			return (fseeko(mStream, 0, SEEK_END) == 0);
 #else
 			return (fseeko64(mStream, 0, SEEK_END) == 0);
@@ -135,7 +135,7 @@ namespace Common
   				bool success = (fseeko64(mStream,pos,SEEK_SET) == 0);
 #elif defined( _WIN32)
 				bool success = (_fseeki64(mStream, pos, SEEK_SET) == 0);
-#elif defined (__APPLE__) || defined(__FreeBSD__)
+#elif defined (__APPLE__) || defined(__FreeBSD__) || defined(__DragonFly__) || defined(__NetBSD__)
 				bool success = (fseeko(mStream, pos, SEEK_SET) == 0);
 #else
 				bool success = (fseeko64(mStream, pos, SEEK_SET) == 0);

