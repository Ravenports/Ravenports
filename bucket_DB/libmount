# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libmount
VERSION=		2.40.2
KEYWORDS=		sysutils
VARIANTS=		std
SDESC[std]=		Library to parse mount configurations
HOMEPAGE=		https://github.com/karelzak/util-linux
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://mirrors.edge.kernel.org/pub/linux/utils/util-linux/v2.40/
DISTFILE[1]=		util-linux-2.40.2.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			tools
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

ONLY_FOR_OPSYS=		linux

BUILD_DEPENDS=		bison:primary:std
			openpam:dev:std

USES=			cpe meson pkgconfig python:build

DISTNAME=		util-linux-2.40.2

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKSRC}}/libmount/COPYING
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/Documentation/licenses/COPYING.LGPL-2.1-or-later
LICENSE_SCHEME=		solo

CPE_PRODUCT=		util-linux
CPE_VENDOR=		kernel
MESON_ARGS=		-Dprogram-tests=false
			-Dbuild-libmount=enabled
			-Dbuild-libblkid=enabled
			-Dbuild-mount=enabled
			-Dbuild-mountpoint=enabled
			-Dbuild-libuuid=disabled
			-Dbuild-liblastlog2=disabled
			-Dbuild-pam-lastlog2=disabled
			-Dbuild-libsmartcols=disabled
			-Dbuild-libfdisk=disabled
			-Dbuild-uuidd=disabled
			-Dbuild-plymouth-support=disabled
			-Dbuild-login=disabled
			-Dbuild-chfn-chsh=disabled
			-Dbuild-su=disabled
			-Dbuild-runuser=disabled
			-Dbuild-vipw=disabled
			-Dbuild-setarch=disabled
			-Dbuild-last=disabled
			-Dbuild-utmpdump=disabled
			-Dbuild-newgrp=disabled
			-Dbuild-line=disabled
			-Dbuild-pg=disabled
			-Dbuild-ul=disabled
			-Dbuild-more=disabled
			-Dbuild-chmem=disabled
			-Dbuild-ipcmk=disabled
			-Dbuild-ipcrm=disabled
			-Dbuild-ipcs=disabled
			-Dbuild-dmesg=disabled
			-Dbuild-eject=disabled
			-Dbuild-fallocate=disabled
			-Dbuild-unshare=disabled
			-Dbuild-nsenter=disabled
			-Dbuild-script=disabled
			-Dbuild-scriptlive=disabled
			-Dbuild-setterm=disabled
			-Dbuild-mesg=disabled
			-Dbuild-wall=disabled
			-Dbuild-write=disabled
			-Dbuild-logger=disabled
			-Dbuild-rename=disabled
			-Dbuild-pipesz=disabled
			-Dbuild-fadvise=disabled
			-Dbuild-enosys=disabled
			-Dbuild-schedutils=disabled
			-Dbuild-nologin=disabled
			-Dbuild-tunelp=disabled
			-Dbuild-fstrim=disabled
			-Dbuild-fsfreeze=disabled
			-Dbuild-blkdiscard=disabled
			-Dbuild-blkzone=disabled
			-Dbuild-blkpr=disabled
			-Dbuild-ldattach=disabled
			-Dbuild-rtcwake=disabled
			-Dbuild-swapoff=disabled
			-Dbuild-chcpu=disabled
			-Dbuild-pivot_root=disabled
			-Dbuild-switch_root=disabled
			-Dbuild-hwclock=disabled
			-Dbuild-bfs=disabled
			-Dbuild-fsck=disabled
			-Dbuild-minix=disabled
			-Dbuild-cramfs=disabled
			-Dbuild-blockdev=disabled
			-Dbuild-partx=disabled
			-Dbuild-agetty=disabled
			-Dbuild-sulogin=disabled
			-Dcryptsetup=disabled

CFLAGS=			-DHAVE_NCURSES_TERM_H
			-DHAVE_NCURSES_NCURSES_H

post-install:
	${MV} ${STAGEDIR}${PREFIX}/share/doc/util-linux \
	${STAGEDIR}${STD_DOCDIR}

[FILE:283:descriptions/desc.primary]
The libmount library is used to parse /etc/fstab, /etc/mtab and
/proc/self/mountinfo files, manage the mtab file, evaluate mount options,
etc.

The library is part of the util-linux package since version 2.18 and is
available from https://www.kernel.org/pub/linux/utils/util-linux/.


[FILE:37:descriptions/desc.tools]
This package contains libmout tools.


[FILE:103:distinfo]
d78b37a66f5922d70edf3bdfb01a6b33d34ed3c3cafd6628203b2a2b67c8e8b3      8854820 util-linux-2.40.2.tar.xz


[FILE:244:manifests/plist.primary]
lib/
 libblkid.so.1
 libblkid.so.1.1.0
 libmount.so.1
 libmount.so.1.1.0
lib/python3.12/site-packages/libmount/
 __init__.py
 pylibmount.cpython-312-x86_64-linux-gnu.so
lib/python3.12/site-packages/libmount/__pycache__/__init__.cpython-312.pyc


[FILE:128:manifests/plist.dev]
include/blkid/blkid.h
include/libmount/libmount.h
lib/
 libblkid.a
 libblkid.so
 libmount.so
lib/pkgconfig/
 blkid.pc
 mount.pc


[FILE:36:manifests/plist.tools]
bin/
 mountpoint
 umount
sbin/blkid


[FILE:62:manifests/plist.docs]
share/doc/libmount/
 getopt-example.bash
 getopt-example.tcsh


[FILE:7147:patches/patch-meson.build]
--- meson.build.orig	2024-07-04 07:58:55 UTC
+++ meson.build
@@ -1190,7 +1190,7 @@ endif
 
 ############################################################
 
-if is_glibc
+if false
   exe = executable(
     'col',
     col_sources,
@@ -1203,6 +1203,7 @@ if is_glibc
   bashcompletions += ['col']
 endif
 
+if false
 exe = executable(
   'colcrt',
   colcrt_sources,
@@ -1212,7 +1213,9 @@ exe = executable(
 exes += exe
 manadocs += ['text-utils/colcrt.1.adoc']
 bashcompletions += ['colcrt']
+endif
 
+if false
 exe = executable(
   'colrm',
   colrm_sources,
@@ -1223,7 +1226,9 @@ exe = executable(
 exes += exe
 manadocs += ['text-utils/colrm.1.adoc']
 bashcompletions += ['colrm']
+endif
 
+if false
 exe = executable(
   'rev',
   rev_sources,
@@ -1233,7 +1238,9 @@ exe = executable(
 exes += exe
 manadocs += ['text-utils/rev.1.adoc']
 bashcompletions += ['rev']
+endif
 
+if false
 exe = executable(
   'column',
   column_sources,
@@ -1247,6 +1254,7 @@ if not is_disabler(exe)
   manadocs += ['text-utils/column.1.adoc']
   bashcompletions += ['column']
 endif
+endif
 
 opt = not get_option('build-line').disabled()
 exe = executable(
@@ -1322,6 +1330,7 @@ if opt and not is_disabler(exe)
   bashcompletions += ['more']
 endif
 
+if false
 exe = executable(
   'hexdump',
   hexdump_sources,
@@ -1335,6 +1344,7 @@ if not is_disabler(exe)
   manadocs += ['text-utils/hexdump.1.adoc']
   bashcompletions += ['hexdump']
 endif
+endif
 
 opt = not get_option('build-lsmem').disabled()
 exe = executable(
@@ -1367,6 +1377,7 @@ if opt and not is_disabler(exe)
   bashcompletions += ['chmem']
 endif
 
+if false
 exe = executable(
   'choom',
   choom_sources,
@@ -1376,6 +1387,7 @@ exe = executable(
   install : true)
 exes += exe
 manadocs += ['sys-utils/choom.1.adoc']
+endif
 
 has_seminfo_type = cc.has_type('struct seminfo', args : '-D_GNU_SOURCE', prefix : '#include <sys/sem.h>')
 
@@ -1554,6 +1566,7 @@ if not is_disabler(exe)
   exes += exe
 endif
 
+if false
 exe = executable(
   'ctrlaltdel',
   ctrlaltdel_sources,
@@ -1564,6 +1577,7 @@ exe = executable(
 exes += exe
 manadocs += ['sys-utils/ctrlaltdel.8.adoc']
 bashcompletions += ['ctrlaltdel']
+endif
 
 have_linux_fs_h = conf.get('HAVE_LINUX_FS_H').to_string() == '1'
 
@@ -2059,6 +2073,7 @@ if opt and not is_disabler(exe)
   bashcompletions += ['setpriv']
 endif
 
+if false
 exe = executable(
   'flock',
   flock_sources,
@@ -2070,6 +2085,7 @@ exe = executable(
 exes += exe
 manadocs += ['sys-utils/flock.1.adoc']
 bashcompletions += ['flock']
+endif
 
 opt = not get_option('build-lsirq').disabled()
 exe = executable(
@@ -2138,6 +2154,7 @@ if opt and not is_disabler(exe)
   bashcompletions += ['hwclock']
 endif
 
+if false
 exe = executable(
   'mkfs',
   mkfs_sources,
@@ -2147,6 +2164,7 @@ exe = executable(
 exes += exe
 manadocs += ['disk-utils/mkfs.8.adoc']
 bashcompletions += ['mkfs']
+endif
 
 opt = not get_option('build-bfs').disabled()
 exe = executable(
@@ -2163,6 +2181,7 @@ if opt and not is_disabler(exe)
   bashcompletions += ['mkfs.bfs']
 endif
 
+if false
 exe = executable(
   'isosize',
   isosize_sources,
@@ -2173,6 +2192,7 @@ exe = executable(
 exes += exe
 manadocs += ['disk-utils/isosize.8.adoc']
 bashcompletions += ['isosize']
+endif
 
 exe = executable(
   'mkswap',
@@ -2513,6 +2533,7 @@ if opt and not is_disabler(exe)
   bashcompletions += ['scriptlive']
 endif
 
+if false
 exe = executable(
   'scriptreplay',
   scriptreplay_sources,
@@ -2524,6 +2545,7 @@ exe = executable(
 exes += exe
 manadocs += ['term-utils/scriptreplay.1.adoc']
 bashcompletions += ['scriptreplay']
+endif
 
 opt = not get_option('build-agetty').disabled()
 exe = executable(
@@ -2643,6 +2665,7 @@ if not is_disabler(exe)
   manadocs += ['login-utils/sulogin.8.adoc']
 endif
 
+if false
 exe = executable(
   'cal',
   cal_sources,
@@ -2655,6 +2678,7 @@ exe = executable(
 exes += exe
 manadocs += ['misc-utils/cal.1.adoc']
 bashcompletions += ['cal']
+endif
 
 opt = not get_option('build-logger').disabled()
 exe = executable(
@@ -2684,6 +2708,7 @@ if not is_disabler(exe)
   exes += exe
 endif
 
+if false
 exe = executable(
   'look',
   look_sources,
@@ -2693,7 +2718,9 @@ exe = executable(
 exes += exe
 manadocs += ['misc-utils/look.1.adoc']
 bashcompletions += ['look']
+endif
 
+if false
 exe = executable(
   'mcookie',
   mcookie_sources,
@@ -2704,6 +2731,7 @@ exe = executable(
 exes += exe
 manadocs += ['misc-utils/mcookie.1.adoc']
 bashcompletions += ['mcookie']
+endif
 
 if build_liblastlog2
   exe = executable(
@@ -2727,6 +2755,7 @@ if build_liblastlog2
 	       ]
 endif
 
+if false
 exe = executable(
   'namei',
   namei_sources,
@@ -2737,7 +2766,9 @@ exe = executable(
 exes += exe
 manadocs += ['misc-utils/namei.1.adoc']
 bashcompletions += ['namei']
+endif
 
+if false
 exe = executable(
   'whereis',
   whereis_sources,
@@ -2748,6 +2779,7 @@ exe = executable(
 exes += exe
 manadocs += ['misc-utils/whereis.1.adoc']
 bashcompletions += ['whereis']
+endif
 
 opt = not get_option('build-lslocks').disabled()
 exe = executable(
@@ -2932,6 +2964,7 @@ endif
 
 ############################################################
 
+if false
 exe = executable(
   'findfs',
   findfs_sources,
@@ -2944,6 +2977,7 @@ if not is_disabler(exe)
   manadocs += ['misc-utils/findfs.8.adoc']
   bashcompletions += ['findfs']
 endif
+endif
 
 exe = executable(
   'wipefs',
@@ -2976,6 +3010,7 @@ if opt and not is_disabler(exe)
   bashcompletions += ['findmnt']
 endif
 
+if false
 exe = executable(
   'kill',
   kill_sources,
@@ -2986,6 +3021,7 @@ if not is_disabler(exe)
   exes += exe
   manadocs += ['misc-utils/kill.1.adoc']
 endif
+endif
 
 opt = not get_option('build-rename').disabled()
 exe = executable(
@@ -3002,6 +3038,7 @@ if opt and not is_disabler(exe)
   bashcompletions += ['rename']
 endif
 
+if false
 exe = executable(
   'getopt',
   getopt_sources,
@@ -3012,6 +3049,7 @@ exe = executable(
 exes += exe
 manadocs += ['misc-utils/getopt.1.adoc']
 bashcompletions += ['getopt']
+endif
 
 exe = executable(
   'fincore',
@@ -3027,6 +3065,7 @@ if not is_disabler(exe)
   bashcompletions += ['fincore']
 endif
 
+if false
 exe = executable(
   'hardlink',
   hardlink_sources,
@@ -3039,6 +3078,7 @@ if not is_disabler(exe)
   manadocs += ['misc-utils/hardlink.1.adoc']
   bashcompletions += ['hardlink']
 endif
+endif
 
 opt = get_option('build-pipesz').allowed()
 exe = executable(
@@ -3085,6 +3125,7 @@ if opt and not is_disabler(exe)
   bashcompletions += ['fadvise']
 endif
 
+if false
 if LINUX and conf.get('HAVE_PIDFD_OPEN').to_string() == '1'
   exe = executable(
     'waitpid',
@@ -3099,6 +3140,7 @@ if LINUX and conf.get('HAVE_PIDFD_OPEN')
     bashcompletions += ['waitpid']
   endif
 endif
+endif
 
 syscalls_h = custom_target('syscalls.h',
   input : 'tools/all_syscalls',
@@ -3140,6 +3182,7 @@ if opt and not is_disabler(exe)
   bashcompletions += ['lsclocks']
 endif
 
+if false
 if conf.get('HAVE_RENAMEAT2').to_string() == '1'
 exe = executable(
   'exch',
@@ -3154,6 +3197,7 @@ if not is_disabler(exe)
   bashcompletions += ['exch']
 endif
 endif
+endif
 
 ############################################################
 

