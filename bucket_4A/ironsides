# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		ironsides
VERSION=		20150415
KEYWORDS=		dns ada
VARIANTS=		standard
SDESC[standard]=	Authoritative DNS server verified by SPARK/Ada
HOMEPAGE=		http://ironsides.martincarlisle.com
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://ironsides.martincarlisle.com/
DISTFILE[1]=		ironsides_authoritative-2015_04_15.zip:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libspark2012:single:standard

USES=			dos2unix gprbuild

DISTNAME=		ironsides_authoritative-2015_04_15

LICENSE=		CUSTOM1:single
LICENSE_NAME=		CUSTOM1:"IRONSIDES - Free software, unlimited redistribution"
LICENSE_FILE=		CUSTOM1:{{WRKSRC}}/COPYRIGHT.txt
LICENSE_SCHEME=		solo

DOS2UNIX_FILES=		dfcs.usafa.edu.zonefile
			ironsides.1

post-extract:
	${CP} ${FILESDIR}/ironsides.gpr ${FILESDIR}/Makefile ${WRKSRC}/

[FILE:755:descriptions/desc.single]
IRONSIDES is an authoritative DNS server that is provably invulnerable to
many of the problems that plague other servers. It achieves this property
through the use of formal methods in its design, in particular the language
Ada and the SPARK formal methods tool set. Code validated in this way is
provably exception-free, contains no data flow errors, and terminates only
in the ways that its programmers explicitly say that it can. These are very
desirable properties from a computer security perspective.

IRONSIDES is not a complete implementation of DNS. In particular, it does
not support zone transfers or recursive queries. It does, however, support
a sufficient number of DNS records to be useful as an authoritative DNS
server for an enterprise.


[FILE:117:distinfo]
de865b0da6a3e1cc73249e90a6e13fcc33785a9a38b704efb9cfb04ff57fc3c4       199862 ironsides_authoritative-2015_04_15.zip


[FILE:85:manifests/plist.single]
sbin/ironsides
share/ironsides/dfcs.usafa.edu.zonefile
share/man/man1/ironsides.1.gz


[FILE:1778:patches/patch-ironsides.1]
--- ironsides.1.orig	2014-02-21 04:14:53.000000000 -0500
+++ ironsides.1
@@ -1,11 +1,14 @@
 .\" Manpage for ironsides.
-.TH man 1 "06 May 2010" "1.0" "nuseradd man page"
-.SH NAME
-ironsides \- authoritative DNS server
-
-.SH SYNOPSIS
-spark_dns_main configuration_file_name
-.SH DESCRIPTION
+.Dd 20 February 2014
+.Dt IRONSIDES 1
+.Os
+.Sh NAME
+.Nm ironsides
+.Nd authoritative DNS server
+.Sh SYNOPSIS
+.Nm
+.Op Ar configuration_file
+.Sh DESCRIPTION
 IRONSIDES is an authoritative DNS server that is provably invulnerable to
 many of the problems that plague other servers. It achieves this property
 through the use of formal methods in its design, in particular the language
@@ -13,17 +16,18 @@ Ada and the SPARK formal methods tool se
 provably exception-free, contains no data flow errors, and terminates only
 in the ways that its programmers explicitly say that it can. These are very
 desirable properties from a computer security perspective.
-
+.Pp
 IRONSIDES is not a complete implementation of DNS. In particular, it does
 not support zone transfers or recursive queries. It does, however, support
 a sufficient number of DNS records to be useful as an authoritative DNS
 server for an enterprise.
-
+.Pp
 WWW: http://ironsides.martincarlisle.com
-.SH OPTIONS
-spark_dns_main does not take any options. However, you must supply a configuration file. 
-dfcs.usafa.edu.zonefile is a sample configuration file.
-.SH BUGS
+.Sh OPTIONS
+.Nm
+does not take any options. However, you must supply a configuration file.
+The included dfcs.usafa.edu.zonefile file is a sample configuration.
+.Sh BUGS
 No known bugs.
-.SH AUTHOR
-Martin Carlisle (ironsides@martincarlisle.com)
\ No newline at end of file
+.Sh AUTHOR
+.An Martin Carlisle Aq Mt ironsides@martincarlisle.com


[FILE:336:files/Makefile]
all: build

build:
	gnatmake -p -P ironsides

install:
	mkdir -p ${DESTDIR}${PREFIX}/share/ironsides
	${BSD_INSTALL_PROGRAM} final/spark_dns_main \
		${DESTDIR}${PREFIX}/sbin/ironsides
	${BSD_INSTALL_DATA} dfcs.usafa.edu.zonefile \
		${DESTDIR}${PREFIX}/share/ironsides/
	${BSD_INSTALL_MAN} ironsides.1 ${DESTDIR}${MANPREFIX}/man/man1/


[FILE:300:files/ironsides.gpr]
with "spark2012.gpr";

project Ironsides is
   for Source_Dirs use (".");
   for Object_Dir use "build";
   for Exec_Dir use "final";
   for Main use ("spark_dns_main.adb");

   package Compiler is
      for Default_Switches ("Ada") use ("-gnat05", "-gnatp", "-O3");
   end Compiler;

end Ironsides;

