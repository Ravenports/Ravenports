# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		ironsides
VERSION=		20150415
REVISION=		1
KEYWORDS=		dns ada
VARIANTS=		std
SDESC[std]=		Authoritative DNS server verified by SPARK/Ada
HOMEPAGE=		http://ironsides.martincarlisle.com
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main draco
SITES[main]=		http://ironsides.martincarlisle.com/
SITES[draco]=		http://downloads.dragonlace.net/src/
DISTFILE[1]=		ironsides_authoritative-2015_04_15.zip:main
DISTFILE[2]=		libspark2012-2012.tar.bz2:main
DF_INDEX=		1 2
SPKGS[std]=		set
			primary
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			dos2unix gprbuild

DISTNAME=		ironsides_authoritative-2015_04_15

LICENSE=		CUSTOM1:primary
LICENSE_NAME=		CUSTOM1:"IRONSIDES - Free software, unlimited redistribution"
LICENSE_FILE=		CUSTOM1:{{WRKSRC}}/COPYRIGHT.txt
LICENSE_SCHEME=		solo

DOS2UNIX_FILES=		dfcs.usafa.edu.zonefile
			COPYRIGHT.txt
			ironsides.1

post-extract:
	${CP} ${FILESDIR}/ironsides.gpr ${FILESDIR}/Makefile ${WRKSRC}/
	${CP} ${FILESDIR}/spark2012.gpr ${WRKSRC}/

[FILE:755:descriptions/desc.primary]
IRONSIDES is an authoritative DNS server that is provably invulnerable to
many of the problems that plague other servers. It achieves this property
through the use of formal methods in its design, in particular the language
Ada and the SPARK formal methods tool set. Code validated in this way is
provably exception-free, contains no data flow errors, and terminates only
in the ways that its programmers explicitly say that it can. These are very
desirable properties from a computer security perspective.

IRONSIDES is not a complete implementation of DNS. In particular, it does
not support zone transfers or recursive queries. It does, however, support
a sufficient number of DNS records to be useful as an authoritative DNS
server for an enterprise.


[FILE:221:distinfo]
de865b0da6a3e1cc73249e90a6e13fcc33785a9a38b704efb9cfb04ff57fc3c4       199862 ironsides_authoritative-2015_04_15.zip
862e6b23ff44aea02ab10a4dcc2c00a9893231286d51a6bc587230366c936db2        23773 libspark2012-2012.tar.bz2


[FILE:55:manifests/plist.primary]
sbin/ironsides
share/ironsides/dfcs.usafa.edu.zonefile


[FILE:27:manifests/plist.man]
share/man/man1/ironsides.1


[FILE:1778:patches/patch-ironsides.1]
--- ironsides.1.orig	2014-02-21 04:14:53.000000000 -0500
+++ ironsides.1
@@ -1,11 +1,14 @@
 .\" Manpage for ironsides.
-.TH man 1 "06 May 2010" "1.0" "nuseradd man page"
-.SH NAME
-ironsides \- authoritative DNS server
-
-.SH SYNOPSIS
-spark_dns_main configuration_file_name
-.SH DESCRIPTION
+.Dd 20 February 2014
+.Dt IRONSIDES 1
+.Os
+.Sh NAME
+.Nm ironsides
+.Nd authoritative DNS server
+.Sh SYNOPSIS
+.Nm
+.Op Ar configuration_file
+.Sh DESCRIPTION
 IRONSIDES is an authoritative DNS server that is provably invulnerable to
 many of the problems that plague other servers. It achieves this property
 through the use of formal methods in its design, in particular the language
@@ -13,17 +16,18 @@ Ada and the SPARK formal methods tool se
 provably exception-free, contains no data flow errors, and terminates only
 in the ways that its programmers explicitly say that it can. These are very
 desirable properties from a computer security perspective.
-
+.Pp
 IRONSIDES is not a complete implementation of DNS. In particular, it does
 not support zone transfers or recursive queries. It does, however, support
 a sufficient number of DNS records to be useful as an authoritative DNS
 server for an enterprise.
-
+.Pp
 WWW: http://ironsides.martincarlisle.com
-.SH OPTIONS
-spark_dns_main does not take any options. However, you must supply a configuration file. 
-dfcs.usafa.edu.zonefile is a sample configuration file.
-.SH BUGS
+.Sh OPTIONS
+.Nm
+does not take any options. However, you must supply a configuration file.
+The included dfcs.usafa.edu.zonefile file is a sample configuration.
+.Sh BUGS
 No known bugs.
-.SH AUTHOR
-Martin Carlisle (ironsides@martincarlisle.com)
\ No newline at end of file
+.Sh AUTHOR
+.An Martin Carlisle Aq Mt ironsides@martincarlisle.com


[FILE:336:files/Makefile]
all: build

build:
	gnatmake -p -P ironsides

install:
	mkdir -p ${DESTDIR}${PREFIX}/share/ironsides
	${BSD_INSTALL_PROGRAM} final/spark_dns_main \
		${DESTDIR}${PREFIX}/sbin/ironsides
	${BSD_INSTALL_DATA} dfcs.usafa.edu.zonefile \
		${DESTDIR}${PREFIX}/share/ironsides/
	${BSD_INSTALL_MAN} ironsides.1 ${DESTDIR}${MANPREFIX}/man/man1/


[FILE:300:files/ironsides.gpr]
with "spark2012.gpr";

project Ironsides is
   for Source_Dirs use (".");
   for Object_Dir use "build";
   for Exec_Dir use "final";
   for Main use ("spark_dns_main.adb");

   package Compiler is
      for Default_Switches ("Ada") use ("-gnat05", "-gnatp", "-O3");
   end Compiler;

end Ironsides;


[FILE:91:files/spark2012.gpr]
project SPARK2012 is

   for Source_Dirs use ("../libspark2012-2012/src");

end SPARK2012;

