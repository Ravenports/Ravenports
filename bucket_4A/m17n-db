# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		m17n-db
VERSION=		1.8.3
KEYWORDS=		devel textproc
VARIANTS=		standard
SDESC[standard]=	Data files for the m17n library
HOMEPAGE=		http://www.nongnu.org/m17n/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main gnu
SITES[main]=		SAVANNAH/m17n
SITES[gnu]=		GNU/glibc
DISTFILE[1]=		m17n-db-1.8.3.tar.gz:main
DISTFILE[2]=		glibc-2.26.tar.xz:gnu
DF_INDEX=		1 2
SPKGS[standard]=	complete
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gmake pkgconfig

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/m17n-db

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-nls
			--with-charmaps=glibc-2.26/localedata/charmaps

MAKE_ARGS=		pkgconfigdir={{PREFIX}}/lib/pkgconfig

post-patch:
	${REINPLACE_CMD} -E 's|(m17n_scriptdir = ).*|\1${PREFIX}/bin|' \
		${WRKSRC}/Makefile.in

post-extract:
	${MV} ${WRKDIR}/glibc-2.26 ${WRKSRC}/
	# extract license terms
	${AWK} '/^\#\# Copyright/,EOF' \
		${WRKSRC}/README > ${WRKDIR}/TERMS

[FILE:425:descriptions/desc.primary]
This package contains the data files for the m17n library. m17n-lib
currently supports input of more than 60 languages with more than 150
language specific input methods.

m17n-db now incorporates a set of user-contributed input methods, formerly
known as m17n-contrib.

The package also provides the tbl2mim.awk script for conversion of keyboard
files used by table based IMEngines of SCIM/IBus into m17n-lib's .mim
format.


[FILE:195:distinfo]
e5d7b967c4529dbf1f9efaa7817a15a88df6aef48b3f652af7e8e13325942d3f      2333478 m17n-db-1.8.3.tar.gz
e54e0a934cd2bc94429be79da5e9385898d2306b9eaf3c92d5a77af96190f6bd     14682748 glibc-2.26.tar.xz


[FILE:9183:manifests/plist.primary]
bin/m17n-db
share/m17n/
 8859-10.map
 8859-11.map
 8859-13.map
 8859-14.map
 8859-15.map
 8859-16.map
 8859-2.map
 8859-3.map
 8859-4.map
 8859-5.map
 8859-6.map
 8859-7.map
 8859-8.map
 8859-9.map
 ARAB-OTF-NO-GPOS.flt
 ARAB-OTF.flt
 ARAB.flt
 BENG-OTF.flt
 BIDI.tab
 BIG5-HKSCS.map
 BIG5.map
 BLOCK.tab
 BNG2-OTF.flt
 CASE-C.tab
 CASE-MAPPING.tab
 CASE-S.tab
 CASED.tab
 CATEGORY.tab
 CHAM-GENERIC.flt
 CHARSET.tbl
 CNS-1.map
 CNS-2.map
 CNS-3.map
 CNS-4.map
 CNS-5.map
 CNS-6.map
 CNS-7.map
 CNS-F.map
 CODING.tbl
 COMBINE.tab
 COMBINING.flt
 CP10007.map
 CP1250.map
 CP1251.map
 CP1252.map
 CP1253.map
 CP1254.map
 CP1255.map
 CP1256.map
 CP1257.map
 CP1258.map
 CP737.map
 CP775.map
 CP949-2BYTE.map
 DEV2-OTF.flt
 DEVA-CDAC.flt
 DEVA-OTF.flt
 FONTENC.tbl
 FONTSIZE.tbl
 GB180302.map
 GB180304.map
 GB2312.map
 GBK.map
 GB_1988-80.map
 GJR2-OTF.flt
 GUJR-OTF.flt
 GUR2-OTF.flt
 GURU-OTF.flt
 HEBR-FF.flt
 HEBR-OTF.flt
 HEBR.flt
 IBM037.map
 IBM038.map
 IBM1004.map
 IBM1026.map
 IBM1047.map
 IBM256.map
 IBM273.map
 IBM274.map
 IBM275.map
 IBM277.map
 IBM278.map
 IBM280.map
 IBM281.map
 IBM284.map
 IBM285.map
 IBM290.map
 IBM297.map
 IBM420.map
 IBM423.map
 IBM424.map
 IBM437.map
 IBM500.map
 IBM850.map
 IBM851.map
 IBM852.map
 IBM855.map
 IBM857.map
 IBM860.map
 IBM861.map
 IBM862.map
 IBM863.map
 IBM864.map
 IBM865.map
 IBM866.map
 IBM868.map
 IBM869.map
 IBM870.map
 IBM871.map
 IBM874.map
 IBM875.map
 IBM880.map
 IBM891.map
 IBM903.map
 IBM904.map
 IBM905.map
 IBM918.map
 JISX0201.map
 JISX0208.map
 JISX0212.map
 JISX2131.map
 JISX2132.map
 JISX213A.map
 JOHAB.map
 KA-ACADEMY.map
 KA-PS.map
 KHMR-ANLONG.flt
 KHMR-OTF.flt
 KND2-OTF.flt
 KNDA-OTF.flt
 KOI-8.map
 KOI8-R.map
 KOI8-T.map
 KOI8-U.map
 KSC5601.map
 KSC5636.map
 LANGUAGE.tbl
 LAOO-ALICE.flt
 LAOO-GENERIC.flt
 LAOO-MULE.flt
 LAOO-OTF.flt
 LINEBREAK.tab
 LOCALE.ali
 LOCALE.cs
 MLM2-OTF.flt
 MLYM-CDAC.flt
 MLYM-OTF.flt
 MLYM-RACHANA.flt
 MYMR-MYAZEDI.flt
 MYMR-SIL.flt
 NAME.tab
 NO-CTL.flt
 ORY2-OTF.flt
 ORYA-OTF.flt
 SCRIPT-LANGUAGE.tbl
 SCRIPT-OTF.tbl
 SCRIPT.tab
 SCRIPT.tbl
 SINH-OTF.flt
 SOFT-DOTTED.tab
 SYRC-OTF.flt
 TAML-CDAC.flt
 TAML-OTF.flt
 TEL2-OTF.flt
 TELU-OTF.flt
 THAA-OTF.flt
 THAI-GENERIC.flt
 THAI-NORASI.flt
 THAI-OTF.flt
 THAI-TIS620.flt
 TIBT-MTIB.flt
 TIBT-MULE.flt
 TIBT-OTF.flt
 TIS-620.map
 TML2-OTF.flt
 VISCII.map
 VSCII.map
 aa.lnm
 af.lnm
 am-sera.mim
 am.lnm
 ar-kbd.mim
 ar-translit.mim
 ar.lnm
 as-inscript.mim
 as-inscript2.mim
 as-itrans.mim
 as-phonetic.mim
 as.lnm
 ath-phonetic.mim
 az.lnm
 az_Cyrl.lnm
 az_Latn.lnm
 be-kbd.mim
 be.lnm
 bg.lnm
 bla-phonetic.mim
 bn-disha.mim
 bn-inscript.mim
 bn-inscript2.mim
 bn-itrans.mim
 bn-national-jatiya.mim
 bn-probhat.mim
 bn-unijoy.mim
 bn.lnm
 bo-ewts.mim
 bo-tcrc.mim
 bo-wylie.mim
 brx-inscript2-deva.mim
 bs.lnm
 byn.lnm
 ca.lnm
 cjk-util.mim
 cmc-kbd.mim
 cr-western.mim
 cs-kbd.mim
 cs.lnm
 cy.lnm
 da-post.mim
 da.lnm
 de.lnm
 default.fst
 doi-inscript2-deva.mim
 dv-phonetic.mim
 dv.lnm
 dz.lnm
 el-kbd.mim
 el.lnm
 en.lnm
 eo-h-fundamente.mim
 eo-h-sistemo.mim
 eo-plena.mim
 eo-q-sistemo.mim
 eo-vi-sistemo.mim
 eo-x-sistemo.mim
 eo.lnm
 es.lnm
 et.lnm
 eu.lnm
 fa-isiri.mim
 fa.lnm
 fi.lnm
 fo.lnm
 fr-azerty.mim
 fr.lnm
 fur.lnm
 ga.lnm
 generic.fst
 gez.lnm
 gl.lnm
 global.mim
 grc-mizuochi.mim
 gu-inscript.mim
 gu-inscript2.mim
 gu-itrans.mim
 gu-phonetic.mim
 gu.lnm
 gv.lnm
 haw.lnm
 he-kbd.mim
 he.lnm
 hi-inscript.mim
 hi-inscript2.mim
 hi-itrans.mim
 hi-optitransv2.mim
 hi-phonetic.mim
 hi-remington.mim
 hi-typewriter.mim
 hi-vedmata.mim
 hi.lnm
 hr-kbd.mim
 hr.lnm
 hu-rovas-post.mim
 hu.lnm
 hy-kbd.mim
 hy.lnm
 id.lnm
 ii-phonetic.mim
 is.lnm
 ispell.mim
 it.lnm
 iu-phonetic.mim
 iu.lnm
 ja-anthy.mim
 ja-tcode.mim
 ja-trycode.mim
 ja.lnm
 ka-kbd.mim
 ka.lnm
 kk-arabic.mim
 kk-kbd.mim
 kk.lnm
 kl.lnm
 km-yannis.mim
 km.lnm
 kn-inscript.mim
 kn-inscript2.mim
 kn-itrans.mim
 kn-kgp.mim
 kn-optitransv2.mim
 kn-typewriter.mim
 kn.lnm
 ko-han2.mim
 ko-romaja.mim
 ko.lnm
 kok-inscript2-deva.mim
 kok.lnm
 ks-inscript.mim
 ks-inscript2-deva.mim
 ks-kbd.mim
 ku.lnm
 kw.lnm
 ky.lnm
 latn-post.mim
 latn-pre.mim
 latn1-pre.mim
 ln.lnm
 lo-kbd.mim
 lo-lrt.mim
 lo.lnm
 lsymbol.mim
 lt.lnm
 lv.lnm
 mai-inscript.mim
 mai-inscript2.mim
 math-latex.mim
 mdb.dir
 mk.lnm
 ml-enhanced-inscript.mim
 ml-inscript.mim
 ml-inscript2.mim
 ml-itrans.mim
 ml-mozhi.mim
 ml-remington.mim
 ml-swanalekha.mim
 ml.lnm
 mn.lnm
 mni-inscript2-beng.mim
 mni-inscript2-mtei.mim
 mr-gamabhana.mim
 mr-inscript.mim
 mr-inscript2.mim
 mr-itrans.mim
 mr-phonetic.mim
 mr-remington.mim
 mr-typewriter.mim
 mr.lnm
 ms.lnm
 mt.lnm
 my-kbd.mim
 nb.lnm
 ne-inscript2-deva.mim
 ne-rom-translit.mim
 ne-rom.mim
 ne-trad-ttf.mim
 ne-trad.mim
 new-newa-traditional.mim
 nl.lnm
 nn.lnm
 nsk-phonetic.mim
 oj-phonetic.mim
 om.lnm
 or-inscript.mim
 or-inscript2.mim
 or-itrans.mim
 or-phonetic.mim
 or.lnm
 pa-anmollipi.mim
 pa-inscript.mim
 pa-inscript2-guru.mim
 pa-itrans.mim
 pa-jhelum.mim
 pa-phonetic.mim
 pa-remington.mim
 pa.lnm
 pl.lnm
 ps-phonetic.mim
 ps.lnm
 pt.lnm
 rfc1345.mim
 ro.lnm
 ru-kbd.mim
 ru-phonetic.mim
 ru-translit.mim
 ru-yawerty.mim
 ru.lnm
 sa-harvard-kyoto.mim
 sa-iast.mim
 sa-inscript2.mim
 sa-itrans.mim
 sa.lnm
 sat-inscript2-deva.mim
 sat-inscript2-olck.mim
 sd-inscript.mim
 sd-inscript2-deva.mim
 se.lnm
 si-phonetic-dynamic.mim
 si-samanala.mim
 si-sayura.mim
 si-singlish.mim
 si-sumihiri.mim
 si-trans.mim
 si-wijesekera.mim
 sid.lnm
 sk-kbd.mim
 sk.lnm
 sl.lnm
 so.lnm
 sq.lnm
 sr-kbd.mim
 sr.lnm
 sr_Latn.lnm
 ssymbol.mim
 sv-post.mim
 sv.lnm
 sw.lnm
 syr.lnm
 syrc-phonetic.mim
 ta-inscript.mim
 ta-inscript2.mim
 ta-itrans.mim
 ta-lk-renganathan.mim
 ta-phonetic.mim
 ta-remington.mim
 ta-tamil99.mim
 ta-typewriter.mim
 ta-vutam.mim
 ta.lnm
 tai-sonla.mim
 te-apple.mim
 te-inscript.mim
 te-inscript2.mim
 te-itrans.mim
 te-pothana.mim
 te-rts.mim
 te-sarala.mim
 te.lnm
 tg.lnm
 th-kesmanee.mim
 th-pattachote.mim
 th-tis820.mim
 th.lnm
 ti.lnm
 tig.lnm
 tr.lnm
 truetype.fst
 tt.lnm
 ug-kbd.mim
 uk-kbd.mim
 uk.lnm
 unicode.mim
 ur-phonetic.mim
 ur.lnm
 uz-kbd.mim
 uz.lnm
 uz_Arab.lnm
 uz_Latn.lnm
 vi-base.mim
 vi-han.mim
 vi-nom-vni.mim
 vi-nom.mim
 vi-tcvn.mim
 vi-telex.mim
 vi-viqr.mim
 vi-vni.mim
 vi.lnm
 wal.lnm
 xfont.fst
 yi-yivo.mim
 zh-bopomofo.mim
 zh-cangjie.mim
 zh-pinyin-vi.mim
 zh-pinyin.mim
 zh-py-b5.mim
 zh-py-gb.mim
 zh-py.mim
 zh-quick.mim
 zh-tonepy-b5.mim
 zh-tonepy-gb.mim
 zh-tonepy.mim
 zh-util.mim
 zh-zhuyin.mim
 zh.lnm
 zh_Hans.lnm
 zh_Hant.lnm
share/m17n/icons/
 am-sera.png
 ar-kbd.png
 ar-translit.png
 as-inscript.png
 as-inscript2.png
 as-itrans.png
 as-phonetic.png
 ath-phonetic.png
 be-kbd.png
 bla-phonetic.png
 bn-disha.png
 bn-inscript.png
 bn-inscript2.png
 bn-itrans.png
 bn-national-jatiya.png
 bn-probhat.png
 bn-unijoy.png
 bo-wylie.png
 bopo-kbd.png
 brx-inscript2-deva.png
 cmc-kbd.png
 cr-western.png
 cs-kbd.png
 doi-inscript2-deva.png
 dv-phonetic.png
 el-kbd.png
 en-ispell.png
 eo-h-fundamente.png
 eo-h-sistemo.png
 eo-plena.png
 eo-q-sistemo.png
 eo-vi-sistemo.png
 eo-x-sistemo.png
 fa-isiri.png
 gu-inscript.png
 gu-inscript2.png
 gu-itrans.png
 gu-phonetic.png
 he-kbd.png
 hi-inscript.png
 hi-inscript2.png
 hi-itrans.png
 hi-optitransv2.png
 hi-phonetic.png
 hi-remington.png
 hi-typewriter.png
 hi-vedmata.png
 hr-kbd.png
 hu-rovas-post.png
 hy-kbd.png
 ii-phonetic.png
 iu-phonetic.png
 ja-anthy.png
 ja-tcode.png
 ka-kbd.png
 kk-arabic.png
 kk-kbd.png
 km-yannis.png
 kn-inscript.png
 kn-inscript2.png
 kn-itrans.png
 kn-kgp.png
 kn-optitransv2.png
 ko-han2.png
 ko-romaja.png
 kok-inscript2-deva.png
 ks-inscript2-deva.png
 latn-post.png
 latn-pre.png
 latn1-pre.png
 lo-kbd.png
 lo-lrt.png
 mai-inscript2.png
 math-latex.png
 ml-inscript.png
 ml-inscript2.png
 ml-itrans.png
 ml-mozhi.png
 ml-remington.png
 ml-swanalekha.png
 mni-inscript2-beng.png
 mr-gamabhana.png
 mr-inscript.png
 mr-inscript2.png
 my-kbd.png
 ne-inscript2-deva.png
 ne-rom.png
 ne-trad-ttf.png
 ne-trad.png
 new-newa-traditional.png
 nsk-phonetic.png
 oj-phonetic.png
 or-inscript.png
 or-inscript2.png
 or-itrans.png
 pa-inscript.png
 pa-inscript2-guru.png
 pa-itrans.png
 pa-jhelum.png
 pa-phonetic.png
 ps-phonetic.png
 rfc1345.png
 ru-kbd.png
 ru-phonetic.png
 ru-translit.png
 ru-yawerty.png
 sa-IAST.png
 sa-inscript2.png
 sa-itrans.png
 sat-inscript2-deva.png
 sd-inscript.png
 sd-inscript2-deva.png
 si-phonetic-dynamic.png
 si-samanala.png
 si-sayura.png
 si-sumihiri.png
 si-transliteration.png
 si-wijesekera.png
 sk-kbd.png
 sr-kbd.png
 sv-post.png
 syrc-phonetic.png
 ta-inscript.png
 ta-inscript2.png
 ta-itrans.png
 ta-phonetic.png
 ta-remington.png
 ta-tamil99.png
 ta-typewriter.png
 ta-vutam.png
 te-apple.png
 te-inscript.png
 te-inscript2.png
 te-itrans.png
 te-pothana.png
 te-sarala.png
 th-kesmanee-2.png
 th-kesmanee.png
 th-pattachote-2.png
 th-pattachote.png
 th-tis820-2.png
 th-tis820.png
 ua-kbd.png
 uk-kbd.png
 unicode.png
 ur-phonetic.png
 uz-kbd.png
 vi-nom-vni.png
 vi-nom.png
 vi-tcvn.png
 vi-telex.png
 vi-viqr.png
 vi-vni.png
 yi-yivo.png
 zh-bopomofo.png
 zh-cangjie.png
 zh-pinyin.png
 zh-py-b5.png
 zh-py-gb.png
 zh-py.png
 zh-quick.png
 zh-tonepy-b5.png
 zh-tonepy-gb.png
 zh-tonepy.png
 zh-zhuyin.png


[FILE:41:manifests/plist.dev]
bin/tbl2mim.awk
lib/pkgconfig/m17n-db.pc


[FILE:620:patches/patch-configure]
--- configure.orig	2023-07-24 21:16:39 UTC
+++ configure
@@ -10321,8 +10321,7 @@ printf "%s\n" "$ac_res" >&6; }
       fi
     fi
 
-    if test "$gt_use_preinstalled_gnugettext" = "yes" \
-       || test "$nls_cv_use_gnu_gettext" = "yes"; then
+	if test "$USE_NLS" = "yes"; then
 
 printf "%s\n" "#define ENABLE_NLS 1" >>confdefs.h
 
@@ -18451,12 +18450,6 @@ printf "%s\n" "no" >&6; }
 fi
 
 
-if test "x$HAVE_MSGFMT" != "xyes"; then
-  echo "  Please install the program \"msgfmt\" in advance."
-  echo "  It is usually included in the package \"gettext\"."
-  exit 1;
-else :
-fi
 
 # Checks for source data files.
 


[FILE:423:patches/patch-tbl2mim.awk]
--- tbl2mim.awk.orig	2023-04-26 10:19:35 UTC
+++ tbl2mim.awk
@@ -1,4 +1,4 @@
-#!/usr/bin/gawk -f
+#!/usr/bin/awk
 # Copyright (C) 2006
 #   National Institute of Advanced Industrial Science and Technology (AIST)
 #   Registration Number H15PRO112
@@ -25,6 +25,7 @@ BEGIN {
     begin_table = 0;
 }
 
+/^ *###/ { next; }
 /^ICON *=/ { ICON = " \""$3"\""; next; }
 /^NAME *=/ { NAME = tolower($3); next; }
 /^LANGUAGES *=/ {

