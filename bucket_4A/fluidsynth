# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		fluidsynth
VERSION=		2.0.6
REVISION=		1
KEYWORDS=		audio
VARIANTS=		standard
SDESC[standard]=	RT software synthesizer based on SoundFont2 specs
HOMEPAGE=		http://www.fluidsynth.org
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://github.com/FluidSynth/fluidsynth/archive/
DISTFILE[1]=		v2.0.6.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libsndfile:complete:standard
BUILDRUN_DEPENDS=	dbus:single:standard
			sndio:single:standard
RUN_DEPENDS=		libsndfile:primary:standard

USES=			cmake pkgconfig readline
GNOME_COMPONENTS=	glib

LICENSE=		LGPL21+:single
LICENSE_TERMS=		single:{{WRKSRC}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/LICENSE
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/fluidsynth.c
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		audio/fluidsynth

SOVERSION=		2.1.3

CMAKE_ARGS=		-DLIB_INSTALL_DIR=lib
			-DCMAKE_INSTALL_PREFIX={{PREFIX}}
			-Denable-ladcca:BOOL=FALSE
			-Denable-midishare:BOOL=FALSE
			-Denable-jack:BOOL=FALSE
			-Denable-alsa:BOOL=FALSE
			-Denable-ladspa:BOOL=FALSE
			-Denable-lash:BOOL=FALSE
			-Denable-portaudio:BOOL=FALSE
			-Denable-pulseaudio:BOOL=FALSE
			-Denable-sndio:BOOL=TRUE
			-Denable-dbus:BOOL=TRUE
			-Denable-readline:BOOL=TRUE
			-Denable-libsndfile:BOOL=TRUE

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/fluidsynth
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libfluidsynth.so

[FILE:661:descriptions/desc.single]
FluidSynth is a real-time software synthesizer based on the SoundFont 2 
specifications and has reached widespread distribution. FluidSynth itself 
does not have a graphical user interface, but due to its powerful API 
several applications utilize it and it has even found its way onto 
embedded systems and is used in some mobile apps.

Some notable features:
- Cross platform support (Linux, macOS and Windows to name a few)
- SoundFont 2 support
- SoundFont 3 support (vorbis-compressed SF2)
- Realtime effect control using SoundFont 2.01 modulators
- Playback of MIDI files
- Shared library which can be used in other programs
- Built in command line shell


[FILE:92:distinfo]
e97e63c1045e102465f1aa848f9d712c5528c58685b8d40062e4aaf6af7edb75      1315138 v2.0.6.tar.gz


[FILE:351:manifests/plist.single]
bin/fluidsynth
include/fluidsynth.h
include/fluidsynth/
 audio.h
 event.h
 gen.h
 ladspa.h
 log.h
 midi.h
 misc.h
 mod.h
 seq.h
 seqbind.h
 settings.h
 sfont.h
 shell.h
 synth.h
 types.h
 version.h
 voice.h
lib/
 libfluidsynth.so
 libfluidsynth.so.%%SOMAJOR%%
 libfluidsynth.so.%%SOVERSION%%
lib/pkgconfig/fluidsynth.pc
share/man/man1/fluidsynth.1.gz


[FILE:507:patches/patch-cmake__admin_DefaultDirs.cmake]
--- cmake_admin/DefaultDirs.cmake.orig	2019-04-18 17:43:39 UTC
+++ cmake_admin/DefaultDirs.cmake
@@ -53,7 +53,7 @@ set (INFO_INSTALL_DIR "share/info" CACHE
 mark_as_advanced (INFO_INSTALL_DIR) 
 
 # MAN_INSTALL_DIR - the man pages install dir
-if ( CMAKE_SYSTEM_NAME MATCHES "FreeBSD|DragonFly")
+if ( CMAKE_SYSTEM_NAME MATCHES "nothing")
   set (MAN_INSTALL_DIR "man/man1" CACHE STRING "The man pages install dir")
 else()
   set (MAN_INSTALL_DIR "share/man/man1" CACHE STRING "The man pages install dir")

