# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libsecret
VERSION=		0.20.4
KEYWORDS=		security
VARIANTS=		standard
SDESC[standard]=	Library to access the secret service API
HOMEPAGE=		https://wiki.gnome.org/Projects/Libsecret
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://ftp.gnome.org/pub/GNOME/sources/libsecret/0.20/
DISTFILE[1]=		libsecret-0.20.4.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			nls
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	docbook-xsl:primary:standard
			libgcrypt:single:standard
			vala:single:standard

USES=			gettext-tools gmake libtool pkgconfig
GNOME_COMPONENTS=	glib libxslt intltool introspection

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/libsecret/secret.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		security/libsecret

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-introspection

INSTALL_TARGET=		install-strip
SOVERSION=		0.0.0

VAR_OPSYS[sunos]=	LDFLAGS=-lintl

post-patch:
	${REINPLACE_CMD} -e 's|__DBPATH__|${PREFIX}/share/xsl/docbook/manpages|' ${WRKSRC}/Makefile.in

post-install:
	${MV} ${STAGEDIR}${PREFIX}/share/gtk-doc/html/libsecret-1 \
		${STAGEDIR}${PREFIX}/share/doc/libsecret
	${RM} -r ${STAGEDIR}${PREFIX}/share/gtk-doc

[FILE:261:descriptions/desc.primary]
Libsecret is a library for storing and retrieving passwords and other 
secrets. It communicates with the "Secret Service" using D-Bus. 
Gnome-keyring and Ksecretservice are both implementations of a Secret 
Service; Libsecret replaces the old libgnome-keyring.


[FILE:102:distinfo]
325a4c54db320c406711bf2b55e5cb5b6c29823426aa82596a907595abb39d28       529916 libsecret-0.20.4.tar.xz


[FILE:628:manifests/plist.primary]
bin/secret-tool
include/libsecret-1/libsecret/
 secret-attributes.h
 secret-backend.h
 secret-collection.h
 secret-enum-types.h
 secret-item.h
 secret-password.h
 secret-paths.h
 secret-prompt.h
 secret-retrievable.h
 secret-schema.h
 secret-schemas.h
 secret-service.h
 secret-types.h
 secret-value.h
 secret-version.h
 secret.h
lib/
 libsecret-1.a
 libsecret-1.so
 libsecret-1.so.%%SOMAJOR%%
 libsecret-1.so.%%SOVERSION%%
lib/girepository-1.0/Secret-1.typelib
lib/pkgconfig/
 libsecret-1.pc
 libsecret-unstable.pc
share/gir-1.0/Secret-1.gir
share/man/man1/secret-tool.1.gz
share/vala/vapi/
 libsecret-1.deps
 libsecret-1.vapi


[FILE:2246:manifests/plist.nls]
share/locale/an/LC_MESSAGES/libsecret.mo
share/locale/ar/LC_MESSAGES/libsecret.mo
share/locale/as/LC_MESSAGES/libsecret.mo
share/locale/be/LC_MESSAGES/libsecret.mo
share/locale/bg/LC_MESSAGES/libsecret.mo
share/locale/bs/LC_MESSAGES/libsecret.mo
share/locale/ca/LC_MESSAGES/libsecret.mo
share/locale/ca@valencia/LC_MESSAGES/libsecret.mo
share/locale/ckb/LC_MESSAGES/libsecret.mo
share/locale/cs/LC_MESSAGES/libsecret.mo
share/locale/da/LC_MESSAGES/libsecret.mo
share/locale/de/LC_MESSAGES/libsecret.mo
share/locale/el/LC_MESSAGES/libsecret.mo
share/locale/en_GB/LC_MESSAGES/libsecret.mo
share/locale/eo/LC_MESSAGES/libsecret.mo
share/locale/es/LC_MESSAGES/libsecret.mo
share/locale/eu/LC_MESSAGES/libsecret.mo
share/locale/fa/LC_MESSAGES/libsecret.mo
share/locale/fr/LC_MESSAGES/libsecret.mo
share/locale/fur/LC_MESSAGES/libsecret.mo
share/locale/gl/LC_MESSAGES/libsecret.mo
share/locale/he/LC_MESSAGES/libsecret.mo
share/locale/hr/LC_MESSAGES/libsecret.mo
share/locale/hu/LC_MESSAGES/libsecret.mo
share/locale/id/LC_MESSAGES/libsecret.mo
share/locale/it/LC_MESSAGES/libsecret.mo
share/locale/ja/LC_MESSAGES/libsecret.mo
share/locale/kk/LC_MESSAGES/libsecret.mo
share/locale/ko/LC_MESSAGES/libsecret.mo
share/locale/lt/LC_MESSAGES/libsecret.mo
share/locale/lv/LC_MESSAGES/libsecret.mo
share/locale/ml/LC_MESSAGES/libsecret.mo
share/locale/ms/LC_MESSAGES/libsecret.mo
share/locale/nb/LC_MESSAGES/libsecret.mo
share/locale/ne/LC_MESSAGES/libsecret.mo
share/locale/nl/LC_MESSAGES/libsecret.mo
share/locale/oc/LC_MESSAGES/libsecret.mo
share/locale/pa/LC_MESSAGES/libsecret.mo
share/locale/pl/LC_MESSAGES/libsecret.mo
share/locale/pt/LC_MESSAGES/libsecret.mo
share/locale/pt_BR/LC_MESSAGES/libsecret.mo
share/locale/ro/LC_MESSAGES/libsecret.mo
share/locale/ru/LC_MESSAGES/libsecret.mo
share/locale/sk/LC_MESSAGES/libsecret.mo
share/locale/sl/LC_MESSAGES/libsecret.mo
share/locale/sr/LC_MESSAGES/libsecret.mo
share/locale/sr@latin/LC_MESSAGES/libsecret.mo
share/locale/sv/LC_MESSAGES/libsecret.mo
share/locale/tg/LC_MESSAGES/libsecret.mo
share/locale/tr/LC_MESSAGES/libsecret.mo
share/locale/uk/LC_MESSAGES/libsecret.mo
share/locale/zh_CN/LC_MESSAGES/libsecret.mo
share/locale/zh_HK/LC_MESSAGES/libsecret.mo
share/locale/zh_TW/LC_MESSAGES/libsecret.mo


[FILE:1280:manifests/plist.docs]
share/doc/libsecret/
 SecretCollection.html
 SecretItem.html
 SecretPrompt.html
 SecretRetrievable.html
 SecretService.html
 SecretValue.html
 annotation-glossary.html
 c-examples.html
 c-lookup-example.html
 c-remove-example.html
 c-store-example.html
 complete.html
 examples.html
 home.png
 index.html
 js-examples.html
 js-lookup-example.html
 js-remove-example.html
 js-store-example.html
 left-insensitive.png
 left.png
 libsecret-1.devhelp2
 libsecret-DBus-Path-Related-Functions.html
 libsecret-Password-storage.html
 libsecret-Secret-Attributes.html
 libsecret-SecretError.html
 libsecret-SecretSchema.html
 libsecret-Version-Information.html
 migrating-api.html
 migrating-introduction.html
 migrating-items.html
 migrating-keyrings.html
 migrating-locking.html
 migrating-memory.html
 migrating-misc.html
 migrating-removing.html
 migrating-schemas.html
 migrating-searching.html
 migrating-storing.html
 migrating.html
 py-examples.html
 py-lookup-example.html
 py-remove-example.html
 py-store-example.html
 right-insensitive.png
 right.png
 simple.html
 style.css
 up-insensitive.png
 up.png
 using-c.html
 using-js.html
 using-python.html
 using-vala.html
 using.html
 vala-examples.html
 vala-lookup-example.html
 vala-remove-example.html
 vala-store-example.html


[FILE:665:patches/patch-Makefile.in]
--- Makefile.in.orig	2020-10-10 16:51:22 UTC
+++ Makefile.in
@@ -960,7 +960,6 @@ AM_CPPFLAGS = \
 	-I$(top_srcdir)/build \
 	-DSRCDIR="\"@abs_srcdir@\"" \
 	-DLOCALEDIR=\""$(datadir)/locale"\" \
-	-DWITH_VALGRIND \
 	-DSECRET_COMPILATION \
 	$(LIBGCRYPT_CFLAGS) \
 	$(GLIB_CFLAGS)
@@ -1264,6 +1263,7 @@ tool_secret_tool_LDADD = \
 
 @WITH_MANPAGES_TRUE@XSLTPROC_FLAGS = \
 @WITH_MANPAGES_TRUE@        --nonet \
+@WITH_MANPAGES_TRUE@        --path __DBPATH__ \
 @WITH_MANPAGES_TRUE@        --stringparam man.output.quietly 1 \
 @WITH_MANPAGES_TRUE@        --stringparam funcsynopsis.style ansi \
 @WITH_MANPAGES_TRUE@        --stringparam man.th.extra1.suppress 1 \

