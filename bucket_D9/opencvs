# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		opencvs
VERSION=		20181230
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Free Concurrent Versions System implementation
HOMEPAGE=		https://www.openbsd.org/opencvs/index.html
CONTACT=		Leonid_Bobrov[mazocomp@disroot.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/OrangeGrayCyan:cvs:20190201
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

NOT_FOR_OPSYS=		linux

BUILD_DEPENDS=		bmake:single:standard
			groff:primary:standard

USES=			pkgconfig

LICENSE=		BSD2CLAUSE:single
LICENSE_FILE=		BSD2CLAUSE:{{WRKDIR}}/LICENSE
LICENSE_AWK=		BSD2CLAUSE:"^\#include"
LICENSE_SOURCE=		BSD2CLAUSE:{{WRKSRC}}/cvs.c
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/opencvs

MAKE_ARGS=		MK_AUTO_OBJ=no
			MK_STAGING=no

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/cvs ${STAGEDIR}${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/cvs.1 ${STAGEDIR}${MAN1PREFIX}/man/man1
	${INSTALL_MAN} ${WRKSRC}/cvs.5 ${STAGEDIR}${MAN5PREFIX}/man/man5
	${INSTALL_MAN} ${WRKSRC}/cvsintro.7 ${STAGEDIR}${MAN7PREFIX}/man/man7

[FILE:959:descriptions/desc.single]
OpenCVS is a FREE implementation of the Concurrent Versions System, the most
popular open source revision control software. It can be used as both client
and server for repositories and provides granular access control over data
stored in the repository. It aims to be as compatible as possible with other
CVS implementations, except when particular features reduce the overall
security of the system. Among other things, support for the pserver
connection mechanism has been dropped because of security issues with
the authentication mechanism.

The OpenCVS project was started after discussions regarding the latest GNU
CVS vulnerabilities that came out. Although CVS is widely used, its
development has been mostly stagnant in the last years and many security
issues have popped up, both in the implementation and in the mechanisms.

OpenCVS is developed by the OpenBSD Project. The software is freely usable
and re-usable by everyone under a BSD license.


[FILE:113:distinfo]
b32cd5681121295e8892e23b62dfa877c2a1f80d4ce7125471e65cad764f8b2d       163545 OrangeGrayCyan-cvs-20190201.tar.gz


[FILE:85:manifests/plist.single]
bin/cvs
share/man/man1/cvs.1.gz
share/man/man5/cvs.5.gz
share/man/man7/cvsintro.7.gz


[FILE:141:patches/patch-Makefile]
--- Makefile.orig	2019-02-01 11:52:52 UTC
+++ Makefile
@@ -35,4 +35,5 @@ YFLAGS=
 
 INSTALL_STRIP=
 
+.include <yacc.mk>
 .include <prog.mk>


[FILE:58:files/special.mk]
MAKE_CMD=	${LOCALBASE}/bin/bmake -m ${LOCALBASE}/share/mk

