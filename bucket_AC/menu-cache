# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		menu-cache
VERSION=		1.1.1
KEYWORDS=		x11
VARIANTS=		std
SDESC[std]=		Caching mechanism for freedesktop-compliant menus
HOMEPAGE=		https://github.com/lxde/menu-cache
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/lxde:menu-cache:1.1.1
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		automake:primary:std
			libfm-extra:dev:std
BUILDRUN_DEPENDS=	libfm-extra:primary:std

USES=			cpe gmake libtool:build pkgconfig gtk-doc
GNOME_COMPONENTS=	glib

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/menu-cache-gen/main.c
LICENSE_SCHEME=		solo

CPE_PRODUCT=		libmenu-cache
CPE_VENDOR=		libmenu-cache_project
FPC_EQUIVALENT=		x11/menu-cache

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-static

INSTALL_TARGET=		install-strip
SOVERSION=		3.2.1

VAR_OPSYS[sunos]=	LDFLAGS=-lsocket

pre-configure:
	(cd ${WRKSRC} && ./autogen.sh)

post-patch-sunos:
	${REINPLACE_CMD} -e 's|<sys/fcntl.h>|<fcntl.h>|' \
		${WRKSRC}/libmenu-cache/menu-cache.c \
		${WRKSRC}/menu-cache-daemon/menu-cached.c

[FILE:133:descriptions/desc.primary]
Libmenu-cache is a library creating and utilizing caches to speed up the
manipulation for freedesktop.org defined application menus.


[FILE:107:distinfo]
e8af90467df271c3c8700c840ca470ca2915699c6f213c502a87d74608748f08        68090 lxde-menu-cache-1.1.1.tar.gz


[FILE:116:manifests/plist.primary]
lib/
 libmenu-cache.so.%%SOMAJOR%%
 libmenu-cache.so.%%SOVERSION%%
libexec/menu-cache/
 menu-cache-gen
 menu-cached


[FILE:84:manifests/plist.dev]
lib/pkgconfig/libmenu-cache.pc
include/menu-cache/menu-cache.h
lib/libmenu-cache.so

