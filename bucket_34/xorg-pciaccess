# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		xorg-pciaccess
VERSION=		0.18
KEYWORDS=		x11
VARIANTS=		standard
SDESC[standard]=	Generic PCI access library
HOMEPAGE=		https://www.x.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main patch
SITES[main]=		XORG/individual/lib
SITES[patch]=		https://gitlab.freedesktop.org/xorg/lib/libpciaccess/-/commit/
DISTFILE[1]=		libpciaccess-0.18.tar.xz:main
DIST_SUBDIR=		xorg/pciaccess
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	pciids:single:standard

USES=			meson zlib

DISTNAME=		libpciaccess-0.18

LICENSE=		ISCL:primary
LICENSE_FILE=		ISCL:{{WRKDIR}}/LICENSE
LICENSE_AWK=		ISCL:"^$$"
LICENSE_SOURCE=		ISCL:{{WRKSRC}}/src/x86_pci.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/libpciaccess
MESON_ARGS=		-Dpci-ids={{LOCALBASE}}/share/pciids

INSTALL_TARGET=		install-strip

[FILE:45:descriptions/desc.primary]
This package contains the pciaccess library.


[FILE:118:distinfo]
5461b0257d495254346f52a9c329b44b346262663675d3fecdb204a7e7c262a9        64452 xorg/pciaccess/libpciaccess-0.18.tar.xz


[FILE:48:manifests/plist.primary]
lib/
 libpciaccess.so.0
 libpciaccess.so.0.11.1


[FILE:67:manifests/plist.dev]
include/pciaccess.h
lib/libpciaccess.so
lib/pkgconfig/pciaccess.pc


[FILE:599:patches/patch-src_meson.build]
--- src/meson.build.orig	2024-02-04 20:57:39 UTC
+++ src/meson.build
@@ -24,6 +24,10 @@ if host == 'linux'
   _pci_access_host_files += ['linux_sysfs.c', 'linux_devmem.c', 'common_vgaarb.c']
 elif host == 'freebsd'
   _pci_access_host_files += ['freebsd_pci.c', 'common_vgaarb_stub.c']
+elif host == 'dragonfly'
+  _pci_access_host_files += ['freebsd_pci.c', 'common_vgaarb_stub.c']
+elif host == 'midnightbsd'
+  _pci_access_host_files += ['freebsd_pci.c', 'common_vgaarb_stub.c']
 elif host == 'netbsd'
   _pci_access_host_files += ['netbsd_pci.c', 'common_vgaarb_stub.c']
 elif host == 'openbsd'

