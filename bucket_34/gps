# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gps
VERSION=		2017
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	GNAT Programming Studio - IDE for Ada plus
HOMEPAGE=		http://www.adacore.com/gnatpro/toolsuite/gps/
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/AdaCore:gps:ba0c4c0
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs
			examples

OPTIONS_AVAILABLE=	DEBUG
OPTIONS_STANDARD=	DEBUG

BUILD_DEPENDS=		gnat-util:single:standard
			python-Sphinx:single:py27
BUILDRUN_DEPENDS=	fontconfig:primary:standard
			freetype:primary:standard
			llvm40:clang:standard
			gtkada:primary:standard
			python-pygobject:primary:py27
			libadalang:single:py27
			gnatcoll:primary:standard
RUN_DEPENDS=		librsvg:primary:standard
			gdb:single:standard
			python-pep8:single:py27
			python-jedi:single:py27

USES=			gprbuild:buildrun gettext-tools gmake pkgconfig zlib perl:build python:py27
			shebangfix iconv
GNOME_COMPONENTS=	gtk3 cairo gdkpixbuf
XORG_COMPONENTS=	x11

FPC_EQUIVALENT=		devel/gps
SHEBANG_FILES=		share/support/core/gps_utils/internal/dialogs.py
			share/plug-ins/spark2014.py

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-gtk=3.0
			--with-clang={{LOCALBASE}}/llvm40/lib
CONFIGURE_ENV=		AWK=/usr/bin/awk

BUILD_TARGET=		default
MAKE_ARGS=		PROCESSORS={{MAKE_JOBS_NUMBER}}
			PYTHON_CMD={{PYTHON_CMD}}

SUB_FILES=		gps
SUB_LIST=		ADA_PATH={{PREFIX}}/toolchain/gcc7/bin

[DEBUG].CONFIGURE_ARGS_OFF=		Build=Production
[DEBUG].CONFIGURE_ARGS_ON=		Build=Debug

post-patch:
	@${RM} ${WRKSRC}/share/plug-ins/*.orig
	@${ECHO} "GNAT_SOURCES=" > ${WRKSRC}/Makefile.gnat
	@${REINPLACE_CMD} -e 's|@PREFIX@|${PREFIX}|g' \
		${WRKSRC}/gps/gps.gpr \
		${WRKSRC}/widgets/widgets.gpr
	@${REINPLACE_CMD} -e '/Gdb_Command/ s|"gdb"|"${PREFIX}/bin/gdb"|' \
		${WRKSRC}/gvd/src/debugger-base_gdb-gdb_mi.adb \
		${WRKSRC}/gvd/src/debugger-base_gdb-gdb_cli.adb
	@${REINPLACE_CMD} -i'' -e 's|ISO-8859|ISO8859|' \
		${WRKSRC}/kernel/src/gps-kernel-charsets.adb \
		${WRKSRC}/share/support/core/os_utils.py \
		${WRKSRC}/configure*
	@${REINPLACE_CMD} -e 's|iso-8859|ISO8859|' \
		${WRKSRC}/cli/src/gps-cli_scripts.adb \
		${WRKSRC}/cli/src/gnatdoc_main.adb
	@${REINPLACE_CMD} \
		-e 's|-lclang|-Wl,-rpath,${LOCALBASE}/llvm40/lib -lclang|' \
		${WRKSRC}/configure

do-build:
	@${CP} ${PREFIX}/include/gnat-util/impunit.* ${WRKSRC}/distrib
	cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} \
		${MAKE_CMD} ${MAKE_ARGS} ${ALL_TARGET}
	cd ${WRKSRC}/docs && ${SETENV} ${MAKE_ENV} \
		${MAKE_CMD} ${MAKE_ARGS} all
	${PYTHON_CMD} ${PREFIX}/lib/python${PYTHON_VER}/compileall.py ${WRKSRC}/share/plug-ins
	${PYTHON_CMD} ${PREFIX}/lib/python${PYTHON_VER}/compileall.py ${WRKSRC}/share/library
	${PYTHON_CMD} ${PREFIX}/lib/python${PYTHON_VER}/compileall.py ${WRKSRC}/share/support

post-install:
	${RM} -r ${STAGEDIR}${PREFIX}/share/doc/gps/html/*/_sources
	${FIND} ${STAGEDIR}${PREFIX} -type f -name ".gitignore" -delete
	${INSTALL_SCRIPT} ${WRKDIR}/gps ${STAGEDIR}${PREFIX}/bin
	echo "This is the GPS GPL Edition for Ravenports." \
		> ${STAGEDIR}${PREFIX}/share/gps/about.txt
	${FIND} ${STAGEDIR}${PREFIX} -type d -empty -delete

post-extract:
	@${MV} ${WRKSRC}/Makefile.gnat ${WRKSRC}/Makefile.gnat.ignore
	@${FIND} ${WRKSRC}/share -name "*.pyc" -delete
	${RM} ${WRKSRC}/share/support/core/cross_references.py

[FILE:1056:descriptions/desc.primary]
The GNAT Programming Studio (GPS) is a cutting-edge Free Software IDE that
streamlines the interaction between developers and their software.  With its
intuitive interface, GPS is easy to use, simplying source navigation and
highlighting fundamental ideas in the program.

Features                          Tools
  * Developer-friendly              * Language-sensitive editor
  * Multi-language                  * Version control
  * Multi-platform                  * Graphical debugger
  * Modern GUI                      * Automatic code fixing
  * Multiple document interface     * Graphs (call, dependencies, entities)
  * Customizable                    * Application builder
  * Extensible tool integration     * Visual file comparison
  * Free Software                   * Source code reformatting
                                    * Automatic body file generation
                                    * intelligent source code navigation
                                    * Project Explorer
                                    * Project Wizard


[FILE:105:distinfo]
62b2696bf4ba962d795c0b4520f31d831a62edec8b7a1b1bf5ac1fa9eb86e2c0     15388794 AdaCore-gps-ba0c4c0.tar.gz


[FILE:20216:manifests/plist.primary]
bin/
 gnatdoc
 gps
 gps_cli
 gps_exe
share/gps/
 about.txt
 activity_log.tmplt
share/gps/color_themes/snapshots/
 Base16 3024 Dark.png
 Base16 3024 Light.png
 Base16 Apathy Dark.png
 Base16 Apathy Light.png
 Base16 Ashes Dark.png
 Base16 Ashes Light.png
 Base16 Atelier Dune Dark.png
 Base16 Atelier Dune Light.png
 Base16 Atelier Forest Dark.png
 Base16 Atelier Forest Light.png
 Base16 Atelier Heath Dark.png
 Base16 Atelier Heath Light.png
 Base16 Atelier Lakeside Dark.png
 Base16 Atelier Lakeside Light.png
 Base16 Atelier Seaside Dark.png
 Base16 Atelier Seaside Light.png
 Base16 Bespin Dark.png
 Base16 Bespin Light.png
 Base16 Brewer Dark.png
 Base16 Brewer Light.png
 Base16 Bright Dark.png
 Base16 Bright Light.png
 Base16 Chalk Dark.png
 Base16 Chalk Light.png
 Base16 Codeschool Dark.png
 Base16 Codeschool Light.png
 Base16 Colors Dark.png
 Base16 Colors Light.png
 Base16 Default Dark.png
 Base16 Default Light.png
 Base16 Eighties Dark.png
 Base16 Eighties Light.png
 Base16 Embers Dark.png
 Base16 Embers Light.png
 Base16 Flat Dark.png
 Base16 Flat Light.png
 Base16 Google Dark.png
 Base16 Google Light.png
 Base16 Grayscale Dark.png
 Base16 Grayscale Light.png
 Base16 Green Screen Dark.png
 Base16 Green Screen Light.png
 Base16 Hopscotch Dark.png
 Base16 Hopscotch Light.png
 Base16 Isotope Dark.png
 Base16 Isotope Light.png
 Base16 London Tube Dark.png
 Base16 London Tube Light.png
 Base16 Marrakesh Dark.png
 Base16 Marrakesh Light.png
 Base16 Mocha Dark.png
 Base16 Mocha Light.png
 Base16 Monokai Dark.png
 Base16 Monokai Light.png
 Base16 Ocean Dark.png
 Base16 Ocean Light.png
 Base16 Paraiso Dark.png
 Base16 Paraiso Light.png
 Base16 Pop Dark.png
 Base16 Pop Light.png
 Base16 Railscasts Dark.png
 Base16 Railscasts Light.png
 Base16 Solarized Dark.png
 Base16 Solarized Light.png
 Base16 Summerfruit Dark.png
 Base16 Summerfruit Light.png
 Base16 Tomorrow Dark.png
 Base16 Tomorrow Light.png
 Base16 Twilight Dark.png
 Base16 Twilight Light.png
 Base16 harmonic16 Dark.png
 Base16 harmonic16 Light.png
 Base16 shapeshifter Dark.png
 Base16 shapeshifter Light.png
 Darkside.png
 Default.png
 Monokai.png
 Solarized (dark).png
 Solarized (light).png
 iPlastic.png
share/gps/color_themes/themes/base16/
 LICENSE.md
 README.txt
 base16-3024.dark.tmTheme
 base16-3024.light.tmTheme
 base16-apathy.dark.tmTheme
 base16-apathy.light.tmTheme
 base16-ashes.dark.tmTheme
 base16-ashes.light.tmTheme
 base16-atelierdune.dark.tmTheme
 base16-atelierdune.light.tmTheme
 base16-atelierforest.dark.tmTheme
 base16-atelierforest.light.tmTheme
 base16-atelierheath.dark.tmTheme
 base16-atelierheath.light.tmTheme
 base16-atelierlakeside.dark.tmTheme
 base16-atelierlakeside.light.tmTheme
 base16-atelierseaside.dark.tmTheme
 base16-atelierseaside.light.tmTheme
 base16-bespin.dark.tmTheme
 base16-bespin.light.tmTheme
 base16-brewer.dark.tmTheme
 base16-brewer.light.tmTheme
 base16-bright.dark.tmTheme
 base16-bright.light.tmTheme
 base16-chalk.dark.tmTheme
 base16-chalk.light.tmTheme
 base16-codeschool.dark.tmTheme
 base16-codeschool.light.tmTheme
 base16-colors.dark.tmTheme
 base16-colors.light.tmTheme
 base16-default.dark.tmTheme
 base16-default.light.tmTheme
 base16-eighties.dark.tmTheme
 base16-eighties.light.tmTheme
 base16-embers.dark.tmTheme
 base16-embers.light.tmTheme
 base16-flat.dark.tmTheme
 base16-flat.light.tmTheme
 base16-google.dark.tmTheme
 base16-google.light.tmTheme
 base16-grayscale.dark.tmTheme
 base16-grayscale.light.tmTheme
 base16-greenscreen.dark.tmTheme
 base16-greenscreen.light.tmTheme
 base16-harmonic16.dark.tmTheme
 base16-harmonic16.light.tmTheme
 base16-hopscotch.dark.tmTheme
 base16-hopscotch.light.tmTheme
 base16-isotope.dark.tmTheme
 base16-isotope.light.tmTheme
 base16-londontube.dark.tmTheme
 base16-londontube.light.tmTheme
 base16-marrakesh.dark.tmTheme
 base16-marrakesh.light.tmTheme
 base16-mocha.dark.tmTheme
 base16-mocha.light.tmTheme
 base16-monokai.dark.tmTheme
 base16-monokai.light.tmTheme
 base16-ocean.dark.tmTheme
 base16-ocean.light.tmTheme
 base16-paraiso.dark.tmTheme
 base16-paraiso.light.tmTheme
 base16-pop.dark.tmTheme
 base16-pop.light.tmTheme
 base16-railscasts.dark.tmTheme
 base16-railscasts.light.tmTheme
 base16-shapeshifter.dark.tmTheme
 base16-shapeshifter.light.tmTheme
 base16-solarized.dark.tmTheme
 base16-solarized.light.tmTheme
 base16-summerfruit.dark.tmTheme
 base16-summerfruit.light.tmTheme
 base16-tomorrow.dark.tmTheme
 base16-tomorrow.light.tmTheme
 base16-twilight.dark.tmTheme
 base16-twilight.light.tmTheme
share/gps/color_themes/themes/solarized/
 LICENSE
 README.mkd
 README.txt
 Solarized (dark).tmTheme
 Solarized (light).tmTheme
share/gps/
 default.gpr
share/gps/fonts/README.txt
share/gps/gnatdoc/html/compile.sh
share/gps/gnatdoc/html/static/
 blank.html
 gnatdoc.css
 gnatdoc.js
 index.html
 inheritance_index.html
share/gps/gnatdoc/html/templates/
 documentation.html.tmpl
 documentation.js.tmpl
 documentation_index.js.tmpl
 entities_categories_index.js.tmpl
 entities_category.html.tmpl
 entities_category.js.tmpl
 index.js.tmpl
 inheritance_index.js.tmpl
 source_file.html.tmpl
 source_file.js.tmpl
 source_file_index.js.tmpl
share/gps/gnatdoc/simple/
 entities.tmpl
 files_index.tmpl
 index.tmpl
 prj_index.tmpl
 src.tmpl
share/gps/gnatdoc/simple/support/
 Makefile
 conf.py
 make.bat
share/gps/
 gps-Adwaita (Dark).css
 gps-Adwaita.css
 gps-gtk-win32-base.css
 gps-gtk-win32-classic.css
 gps-gtk-win32-xp.css
 gps-gtk-win32.css
 gps-splash.png
 gps.css
share/gps/icons/hicolor/24x24/apps/adacore_logo.png
share/gps/icons/hicolor/32x32/apps/
 button_guide.png
 button_guide_over.png
 button_overview.png
 button_overview_over.png
 button_tutorial.png
 button_tutorial_over.png
 gps_32.png
 gps_welcome_logo.png
 welcome_header.png
share/gps/icons/hicolor/index.theme
share/gps/icons/hicolor/scalable/16x16/
 gps-add-folder-symbolic.svg
 gps-add-symbolic.svg
 gps-backward-symbolic.svg
 gps-boardloading-debug-symbolic.svg
 gps-boardloading-flash-symbolic.svg
 gps-boardloading-symbolic.svg
 gps-build-all-symbolic.svg
 gps-build-main-symbolic.svg
 gps-build-mdl-symbolic.svg
 gps-case-sensitive-symbolic.svg
 gps-clean-symbolic.svg
 gps-clear-entry-symbolic.svg
 gps-clear-symbolic.svg
 gps-close-symbolic.svg
 gps-codefix-multi.svg
 gps-codefix.svg
 gps-collapse-all-symbolic.svg
 gps-compile-symbolic.svg
 gps-compute-xref-symbolic.svg
 gps-config-menu-symbolic.svg
 gps-connect-to-target-symbolic.svg
 gps-copy-symbolic.svg
 gps-custom-build-symbolic.svg
 gps-cut-symbolic.svg
 gps-debugger-arguments-symbolic.svg
 gps-debugger-down.svg
 gps-debugger-finish.svg
 gps-debugger-initialize-symbolic.svg
 gps-debugger-local-vars-symbolic.svg
 gps-debugger-next.svg
 gps-debugger-registers-symbolic.svg
 gps-debugger-run.svg
 gps-debugger-step.svg
 gps-debugger-stop-symbolic.svg
 gps-debugger-up.svg
 gps-double-arrow-symbolic.svg
 gps-edit-symbolic.svg
 gps-emulatorloading-debug-symbolic.svg
 gps-emulatorloading-run-symbolic.svg
 gps-emulatorloading-symbolic.svg
 gps-expand-all-symbolic.svg
 gps-flash-memory-symbolic.svg
 gps-fold-block-symbolic.svg
 gps-forward-symbolic.svg
 gps-gnatprove-symbolic.svg
 gps-gnattest-run.svg
 gps-goto-symbolic.svg
 gps-lock-symbolic.svg
 gps-new-document-symbolic.svg
 gps-open-file-symbolic.svg
 gps-open-project-symbolic.svg
 gps-paste-symbolic.svg
 gps-pause-symbolic.svg
 gps-print-symbolic.svg
 gps-qgen-debug-symbolic.svg
 gps-ram-memory-symbolic.svg
 gps-redo-symbolic.svg
 gps-refresh-symbolic.svg
 gps-regexp-symbolic.svg
 gps-remove-symbolic.svg
 gps-remove-unselected-symbolic.svg
 gps-rename-symbolic.svg
 gps-run-gnatcov-symbolic.svg
 gps-run-symbolic.svg
 gps-save-symbolic.svg
 gps-search-and-menu-symbolic.svg
 gps-search-symbolic.svg
 gps-select-all-symbolic.svg
 gps-semantic-check-symbolic.svg
 gps-settings-symbolic.svg
 gps-stop-save-symbolic.svg
 gps-stop-symbolic.svg
 gps-syntax-check-symbolic.svg
 gps-tag-symbolic.svg
 gps-toggle-links-symbolic.svg
 gps-undo-symbolic.svg
 gps-unfold-block-symbolic.svg
 gps-unlock-symbolic.svg
 gps-upward-symbolic.svg
 gps-whole-word-symbolic.svg
 gps-zoom-100-symbolic.svg
 gps-zoom-in-symbolic.svg
 gps-zoom-out-symbolic.svg
share/gps/icons/hicolor/scalable/256x256/
 git-commit-amend-symbolic.svg
 github-check-symbolic.svg
 github-commit-symbolic.svg
 github-repo-push-symbolic.svg
 github-repo-symbolic.svg
 vcs-added.svg
 vcs-branch-symbolic.svg
 vcs-cloud-symbolic.svg
 vcs-compare-symbolic.svg
 vcs-conflicts-staged.svg
 vcs-diff-symbolic.svg
 vcs-discard-changes-symbolic.svg
 vcs-gerrit-symbolic.svg
 vcs-git-worktrees-symbolic.svg
 vcs-has-conflicts.svg
 vcs-merge-symbolic.svg
 vcs-modified-staged-unstaged.svg
 vcs-modified-staged.svg
 vcs-modified.svg
 vcs-needs-merge.svg
 vcs-needs-update.svg
 vcs-not-registered.svg
 vcs-pull-symbolic.svg
 vcs-removed-staged.svg
 vcs-removed.svg
 vcs-stash-symbolic.svg
 vcs-submodules-symbolic.svg
 vcs-tag-symbolic.svg
 vcs-unknown.svg
 vcs-up-to-date.svg
share/gps/icons/hicolor/scalable/emblems/
 gps-diff-conflict-symbolic.svg
 gps-diff-noconflict-symbolic.svg
 gps-emblem-alias-symbolic.svg
 gps-emblem-build-error.svg
 gps-emblem-build-info-symbolic.svg
 gps-emblem-build-style.svg
 gps-emblem-build-warning.svg
 gps-emblem-category.svg
 gps-emblem-debugger-breakpoint.svg
 gps-emblem-debugger-conditional-breakpoint.svg
 gps-emblem-debugger-current-inside.svg
 gps-emblem-debugger-current.svg
 gps-emblem-debugger-disabled-breakpoint.svg
 gps-emblem-directory-closed.svg
 gps-emblem-directory-open.svg
 gps-emblem-directory-symbolic.svg
 gps-emblem-entity-generic-private-spec.svg
 gps-emblem-entity-generic-private.svg
 gps-emblem-entity-generic-protected-spec.svg
 gps-emblem-entity-generic-protected.svg
 gps-emblem-entity-generic-spec.svg
 gps-emblem-entity-generic.svg
 gps-emblem-entity-package-private-spec.svg
 gps-emblem-entity-package-private.svg
 gps-emblem-entity-package-protected-spec.svg
 gps-emblem-entity-package-protected.svg
 gps-emblem-entity-package-spec.svg
 gps-emblem-entity-package.svg
 gps-emblem-entity-subprogram-private-spec.svg
 gps-emblem-entity-subprogram-private.svg
 gps-emblem-entity-subprogram-protected-spec.svg
 gps-emblem-entity-subprogram-protected.svg
 gps-emblem-entity-subprogram-spec.svg
 gps-emblem-entity-subprogram.svg
 gps-emblem-entity-type-private-spec.svg
 gps-emblem-entity-type-private.svg
 gps-emblem-entity-type-protected-spec.svg
 gps-emblem-entity-type-protected.svg
 gps-emblem-entity-type-spec.svg
 gps-emblem-entity-type.svg
 gps-emblem-entity-variable-private-spec.svg
 gps-emblem-entity-variable-private.svg
 gps-emblem-entity-variable-protected-spec.svg
 gps-emblem-entity-variable-protected.svg
 gps-emblem-entity-variable-spec.svg
 gps-emblem-entity-variable.svg
 gps-emblem-execdir-closed.svg
 gps-emblem-execdir-open.svg
 gps-emblem-file-modified.svg
 gps-emblem-file-unmodified.svg
 gps-emblem-file-unsaved.svg
 gps-emblem-gcov-covered-symbolic.svg
 gps-emblem-gcov-uncovered-symbolic.svg
 gps-emblem-info.svg
 gps-emblem-libdir-closed.svg
 gps-emblem-libdir-open.svg
 gps-emblem-objdir-closed.svg
 gps-emblem-objdir-open.svg
 gps-emblem-project-closed.svg
 gps-emblem-project-modified-closed.svg
 gps-emblem-project-modified-open.svg
 gps-emblem-project-open.svg
 gps-emblem-project-root-closed.svg
 gps-emblem-project-root-open.svg
 gps-emblem-project-runtime-closed.svg
 gps-emblem-project-runtime-open.svg
 gps-hidden-item-symbolic.svg
 gps-sync-to-local.svg
 gps-sync-to-remote.svg
 gps-unknown-item-symbolic.svg
share/gps/key_themes/
 default.xml
 default_legacy.xml
 emacs.xml
share/gps/key_themes/include/common.xml
 mac_os.xml
share/gps/library/
 addr2line.py
 auto_changelog.py
 autoformat.py
 autognatpp.py
 closeold.py
 copy_file_name.py
 copy_paste.py
 copy_paste_toolbar.py
 cov_export.py
 create_missing_dirs.py
 debugger.py
 dependencies.py
 eclipse.py
 emacs.py
 enter.py
 filedeps.py
 filepos.py
 first_subtype.py
 formatfile.py
 gnatfind.py
 gnatpp_switches.py
 gnatr.py
 isearch.py
 ispell.py
 local_history.py
 occurrences.py
 open_file.py
 parasail.py
 ppc.py
 prevent_project_edition.py
 remote_rsh.py
 save_on_compile.py
 separate.py
 treemove.py
 unicode.py
 unused_entities.py
 vi.py
 vim.py
share/gps/
 menus.xml
 perspectives6.xml
share/gps/plug-ins/
 auto_highlight_occurrences.py
 auto_highlight_occurrences.pyc
 dispatching.py
 dispatching.pyc
share/gps/plug-ins/memory_usage_providers/
 __init__.py
 __init__.pyc
 core.py
 core.pyc
 ld.py
 ld.pyc
share/gps/plug-ins/
 pep8_integration.py
 pep8_integration.pyc
share/gps/plug-ins/qgen/
 __init__.py
 __init__.pyc
 diagram_utils.py
 diagram_utils.pyc
 gdb_scripts.py
 gdb_scripts.pyc
 mapping.py
 mapping.pyc
 project_support.py
 project_support.pyc
 sig_utils.py
 sig_utils.pyc
share/gps/plug-ins/
 spark2014.py
 spark2014.pyc
share/gps/
 predefined_ada.xml
 readonly.gpr
 show_coverage.xsl
share/gps/support/core/
 GPS_help.py
 GPS_help.pyc
share/gps/support/core/GPS_old/
 __init__.py
 __init__.pyc
share/gps/support/core/
 __init__.py
 __init__.pyc
 aliases.py
 aliases.pyc
 align.py
 align.pyc
 auto_load.py
 auto_load.pyc
 block_completion.py
 block_completion.pyc
 build.py
 build.pyc
 calc.py
 calc.pyc
 changelog.py
 changelog.pyc
share/gps/support/core/clang/
 __init__.py
 __init__.pyc
 cindex.py
 cindex.pyc
 enumerations.py
 enumerations.pyc
share/gps/support/core/
 codepeer.py
 codepeer.pyc
 color_utils.py
 color_utils.pyc
 compiler_paths.py
 compiler_paths.pyc
 completion.py
 completion.pyc
 console_utils.py
 console_utils.pyc
 constructs.py
 constructs.pyc
 customFiles.xsd
 editors.py
 editors.pyc
 expanded_code.py
 expanded_code.pyc
share/gps/support/core/extensions/
 __init__.py
 __init__.pyc
share/gps/support/core/extensions/private/
 __init__.py
 __init__.pyc
 xml.py
 xml.pyc
share/gps/support/core/
 gcov.py
 gcov.pyc
 gnat_examples.py
 gnat_examples.pyc
 gnat_help_menus.py
 gnat_help_menus.pyc
 gnat_switches.py
 gnatcheck.py
 gnatcheck.pyc
 gnatdist.py
 gnatdist.pyc
 gnatdoc.py
 gnatdoc.pyc
 gnathub.py
 gnathub.pyc
 gnatname.py
 gnatname.pyc
 gnatpsta.py
 gnatpsta.pyc
 gnatstack.py
 gnatstack.pyc
 gnatstub.py
 gnatstub.pyc
 gnattest.py
 gnattest.pyc
 gpr.py
 gpr.pyc
share/gps/support/core/gps_utils/
 __init__.py
 __init__.pyc
 console_process.py
 console_process.pyc
 gnat_rules.py
 gnat_rules.pyc
 gnatcheck_default.py
 gnatcheck_default.pyc
 gnatcheck_rules_editor.py
 gnatcheck_rules_editor.pyc
 highlighter.py
 highlighter.pyc
share/gps/support/core/gps_utils/internal/
 __init__.py
 __init__.pyc
 asserts.py
 asserts.pyc
 dialogs.py
 dialogs.pyc
 driver.py
 driver.pyc
 editor.py
 editor.pyc
 menu.py
 menu.pyc
 tree.py
 tree.pyc
 utils.py
 utils.pyc
 vcs.py
 vcs.pyc
share/gps/support/core/gps_utils/
 switches.py
 switches.pyc
share/gps/support/core/images/
 tip_all_occurrences.png
 tip_build_menu.png
 tip_insert_spaces_with_tab.png
 tip_jump_to_first_location.png
 tip_keyboard_macro.png
 tip_makefile_support.png
 tip_multi_language_builder.png
 tip_multiple_views.png
 tip_notebook_tabs_position.png
 tip_os_shell.png
 tip_task_manager.png
share/gps/support/core/
 lal.py
 lal.pyc
 languages.py
 languages.pyc
 listvars.py
 listvars.pyc
 makefile.py
 makefile.pyc
 maximize.py
 maximize.pyc
 methods.py
 methods.pyc
 modules.py
 modules.pyc
 navigation_utils.py
 navigation_utils.pyc
 os_utils.py
 os_utils.pyc
 pipe.py
 pipe.pyc
 projects.py
 projects.pyc
 protocols.py
 protocols.py.in
 protocols.pyc
 rectangles.py
 rectangles.pyc
 search.py
 search.pyc
 shell.py
 shell.pyc
 sort_selection.py
 sort_selection.pyc
 tab.py
 tab.pyc
 target_connector.py
 target_connector.pyc
 text_utils.py
 text_utils.pyc
 time_utils.py
 time_utils.pyc
 tip_of_the_day.py
 tip_of_the_day.pyc
 tool_output.py
 tool_output.pyc
 toolchains.py
 toolchains.pyc
 url.py
 url.pyc
share/gps/support/core/vcs/
 __init__.py
 __init__.pyc
 clearcase.py
 clearcase.pyc
 cvs.py
 cvs.pyc
 git.py
 git.pyc
 mercurial.py
 mercurial.pyc
 subversion.py
 subversion.pyc
share/gps/support/core/
 zoom.py
 zoom.pyc
share/gps/support/languages/
 __init__.py
 __init__.pyc
 ada_support.py
 ada_support.pyc
 c_highlighter.py
 c_highlighter.pyc
 c_support.py
 c_support.pyc
 clang_support.py
 clang_support.pyc
 csharp.py
 csharp.pyc
 css_highlighter.py
 css_highlighter.pyc
 css_support.py
 css_support.pyc
 fortran_highlighter.py
 fortran_highlighter.pyc
share/gps/support/languages/highlighter/
 __init__.py
 __init__.pyc
 common.py
 common.pyc
 engine.py
 engine.pyc
 interface.py
 interface.pyc
share/gps/support/languages/
 jedi_support.py
 jedi_support.pyc
 matlab_support.py
 matlab_support.pyc
 python_highlighter.py
 python_highlighter.pyc
 python_support.py
 python_support.pyc
 xml_support.py
 xml_support.pyc
share/gps/support/ui/GPS_doc/
 Browsers.py
 Browsers.pyc
 __init__.py
 __init__.pyc
 generated_hooks.py
 generated_hooks.pyc
share/gps/support/ui/
 board_support.py
 board_support.pyc
 colorschemes.py
 colorschemes.pyc
 console.py
 console.pyc
 gnatcov.py
 gnatcov.pyc
 gnatemulator.py
 gnatemulator.pyc
 gnatmetric.py
 gnatmetric.pyc
 gnatpp.py
 gnatpp.pyc
 gpsbrowsers.py
 gpsbrowsers.pyc
 locations_view_utils.py
 locations_view_utils.pyc
 multi_cursors.py
 multi_cursors.pyc
share/gps/support/ui/pygps/
 __init__.py
 __init__.pyc
 notebook.py
 notebook.pyc
 project.py
 project.pyc
 tree.py
 tree.pyc
share/gps/support/ui/
 reloadcss.py
 reloadcss.pyc
 task_manager.py
 task_manager.pyc
 textmate.py
 textmate.pyc
share/gps/support/ui/vcs2/
 __init__.py
 __init__.pyc
 clearcase.py
 clearcase.pyc
 core.py
 core.pyc
 core_staging.py
 core_staging.pyc
 cvs.py
 cvs.pyc
 gerrit.py
 gerrit.pyc
 git.py
 git.pyc
 subversion.py
 subversion.pyc
share/gps/support/ui/
 workflow_buttons.py
 workflow_buttons.pyc
share/gps/support/ui/workflows/
 __init__.py
 __init__.pyc
 promises.py
 promises.pyc
share/gps/templates/ajis_hello/
 @_project_name_@.gpr
 Makefile
 ajis_hello.gpt
share/gps/templates/ajis_hello/src_ada/
 hello.adb
 hello.ads
share/gps/templates/ajis_hello/src_java/com/adacore/example/@_Main_Name_@.java
share/gps/templates/aws_simple_web_server/
 @_project_name_@.gpr
 simple_web_server.gpt
share/gps/templates/aws_simple_web_server/src/
 @_project_name_@-callbacks.adb
 @_project_name_@-callbacks.ads
 @_project_name_@-main.adb
 @_project_name_@.ads
share/gps/templates/aws_web_server/
 @_project_name_@.gpr
share/gps/templates/aws_web_server/css/style.css
share/gps/templates/aws_web_server/img/gps_logo.png
share/gps/templates/aws_web_server/src/
 @_project_name_@-dispatchers.adb
 @_project_name_@-dispatchers.ads
 @_project_name_@-main.adb
 @_project_name_@.ads
share/gps/templates/aws_web_server/tmplt/main.thtml
share/gps/templates/aws_web_server/
 web_server.gpt
share/gps/templates/aws_web_server_blocks/
 @_project_name_@.gpr
 README
share/gps/templates/aws_web_server_blocks/css/style.css
share/gps/templates/aws_web_server_blocks/gen/templates.tada
share/gps/templates/aws_web_server_blocks/img/gps_logo.png
share/gps/templates/aws_web_server_blocks/js/
 ajax_api.tjs
 aws.tjs
 aws_kernel.tjs
 behaviour.js
 prototype.js
 scriptaculous.js
share/gps/templates/aws_web_server_blocks/
 makefile
 open_readme.py
share/gps/templates/aws_web_server_blocks/src/
 @_project_name_@-ajax.adb
 @_project_name_@-ajax.ads
 @_project_name_@-dispatchers.adb
 @_project_name_@-dispatchers.ads
 @_project_name_@-main.adb
 @_project_name_@-web_blocks.adb
 @_project_name_@-web_blocks.ads
 @_project_name_@.ads
share/gps/templates/aws_web_server_blocks/tmplt/
 main.thtml
 r_widget_counter.txml
 widget_counter.thtml
share/gps/templates/aws_web_server_blocks/
 web_server_blocks.gpt
share/gps/templates/gtkada_minimal/
 @_project_name_@.gpr
 gtkada_minimal.gpt
share/gps/templates/gtkada_minimal/src/@_main_name_@.adb
share/gps/templates/simple_project/
 @_project_name_@.gpr
 simple_project.gpt
share/gps/templates/simple_project/src/@_main_name_@.adb
share/gps/templates/stm32f_leds/
 @_project_name_@.gpr
share/gps/templates/stm32f_leds/src/
 @_main_name_@.adb
 button.adb
 button.ads
 driver.adb
 driver.ads
 last_chance_handler.adb
 last_chance_handler.ads
 leds.adb
 leds.ads
 registers.ads
 stm32f4-gpio.ads
 stm32f4-reset_clock_control.ads
 stm32f4-sysconfig_control.ads
 stm32f4.ads
share/gps/templates/stm32f_leds/
 stm32f_leds.gpt


[FILE:2319:patches/patch-Makefile.in]
--- Makefile.in.orig	2017-05-12 17:58:17 UTC
+++ Makefile.in
@@ -3,17 +3,16 @@ MV              = mv
 MKDIR           = mkdir -p
 RMDIR           = rm -rf
 STRIP           = strip
-AWK             = @AWK@
+AWK             = /usr/bin/awk
 PERL            = perl
-PYTHON          = python
-INSTALL         = @INSTALL@
-INSTALL_PROGRAM = @INSTALL_PROGRAM@
-INSTALL_DATA    = @INSTALL_DATA@
-GNATCOLL_INSTALL  = @GNATCOLL_INSTALL@
+PYTHON          = $(PYTHON_CMD)
+INSTALL_PROGRAM = $(BSD_INSTALL_PROGRAM)
+INSTALL_DATA    = $(BSD_INSTALL_DATA)
+GNATCOLL_INSTALL=
 prefix          = @prefix@
-bindir          = $(prefix)/bin
-sharedir        = $(prefix)/share
-examplesdir     = $(prefix)/share/examples/gps
+bindir          = $(DESTDIR)$(prefix)/bin
+sharedir        = $(DESTDIR)$(prefix)/share
+examplesdir     = $(DESTDIR)$(prefix)/share/examples/gps
 
 SYS := $(shell gcc -dumpmachine)
 
@@ -57,13 +56,6 @@ ifeq ($(OS),Windows_NT)
 		share/support/core/vcs/_subversion_ \
 		> share/support/core/vcs/subversion_native_windows.py
 endif
-	$(RM) -f $(sharedir)/gps/GPS_old
-	$(RM) -rf $(sharedir)/gps/library/
-	$(RM) -rf $(sharedir)/gps/plug-ins/
-	$(RM) -rf $(sharedir)/gps/support/core/
-	$(RM) -rf $(sharedir)/gps/support/ui/
-	${RM} ${sharedir}/gps/perspectives.xml
-	$(RMDIR) $(sharedir)/gps/templates
 
 	(cd share; tar cf - plug-ins/*) | (cd $(sharedir)/gps; tar xf -)
 ifeq ($(OS),Windows_NT)
@@ -75,10 +67,8 @@ endif
 # Regenerate predefined_ada.xml before we install it
 	-${PYTHON} design/scripts/update_predefined_ada.py
 
-	(cd share; tar cf - plug-ins/spark/*.py) | (cd $(sharedir)/gps; tar xf -)
 	(cd share; tar cf - plug-ins/images/*.png) | (cd $(sharedir)/gps; tar xf -)
 	(cd share; tar cf - library/*.py) | (cd $(sharedir)/gps; tar xf -)
-	(cd share; tar cf - library/GPS_old/*.py) | (cd $(sharedir)/gps; tar xf -)
 	(cd share; tar cf - support/) | (cd $(sharedir)/gps; tar xf -)
 	-${PYTHON} distrib/gnat_switches.py > $(sharedir)/gps/support/core/gnat_switches.py
 	$(RM) $(sharedir)/gps/plug-ins/emacs.xml
@@ -114,7 +104,7 @@ endif
 endif
 	$(MAKE) -C common/expect install
 else
-	$(INSTALL_PROGRAM) gps/obj/gps $(bindir)
+	$(INSTALL_PROGRAM) gps/obj/gps $(bindir)/gps_exe
 	$(INSTALL_PROGRAM) cli/obj/gnatdoc $(bindir)
 	$(INSTALL_PROGRAM) cli/obj/gps_cli $(bindir)
 ifneq ($(GNATCOLL_INSTALL),)


[FILE:398:patches/patch-common_core_src_os-utils.c]
--- common/core/src/os-utils.c.orig	2014-11-13 18:15:57 UTC
+++ common/core/src/os-utils.c
@@ -23,6 +23,7 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
+#include <unistd.h>
 #ifdef _WIN32
 #include <windows.h>
 #include <lmcons.h>
@@ -32,7 +33,7 @@
 #endif
 
 int
-__gps_subdirectories_count (name)
+__gps_subdirectories_count (char *name)
 {
   struct stat statbuf;
   int ret;


[FILE:1029:patches/patch-docs_Makefile.in]
--- docs/Makefile.in.orig	2017-05-12 17:58:17 UTC
+++ docs/Makefile.in
@@ -1,10 +1,9 @@
 prefix = @prefix@
-docdir = $(prefix)/share/doc/gps
-sharedir = $(prefix)/share/gps
+docdir = $(DESTDIR)$(prefix)/share/doc/gps
+sharedir = $(DESTDIR)$(prefix)/share/gps
 
 MKDIR = mkdir -p
-INSTALL = @INSTALL@
-INSTALL_DATA = @INSTALL_DATA@
+INSTALL_DATA = $(BSD_INSTALL_DATA)
 CONVERT = convert
 CP = cp -p
 
@@ -12,23 +11,23 @@ all: ug tutorial gps_pg relnotes relnote
 static:
 
 gps_pg:
-	make -C programmers_guide html
+	$(MAKE) -C programmers_guide html
 
 relnotes:
-	make -C release_notes singlehtml
+	$(MAKE) -C release_notes singlehtml
 
 relnotes_17:
-	make -C release_notes_17 singlehtml
+	$(MAKE) -C release_notes_17 singlehtml
 
 ug:
-	make -C users_guide html latexpdf
+	$(MAKE) -C users_guide html
 
 gnatdoc:
-	make -C ../gnatdoc/docs/users_guide html latexpdf
+	$(MAKE) -C ../gnatdoc/docs/users_guide html
 
 .PHONY: tutorial
 tutorial:
-	make -C tutorial html
+	$(MAKE) -C tutorial html
 
 install:
 	$(MKDIR) $(docdir)


[FILE:180:patches/patch-gps_Makefile]
--- gps/Makefile.orig	2016-04-25 15:08:09 UTC
+++ gps/Makefile
@@ -17,7 +17,7 @@ endif
 
 GPRBUILD=gprbuild
 GPRBUILD_FLAGS=
-PYTHON=python
+PYTHON=${PYTHON_CMD}
 
 Build?=Debug
 


[FILE:290:patches/patch-gps_gps.gpr]
--- gps/gps.gpr.orig	2017-05-12 17:58:17 UTC
+++ gps/gps.gpr
@@ -95,6 +95,7 @@ project GPS is
 
       --  for Switches ("Ada") use ("-lgmem");
       --  for Switches ("Ada") use ("-pg");
+      for Linker_Options use ("-Wl,-rpath,@PREFIX@/lib");
    end Linker;
 
    package CodePeer is


[FILE:1300:patches/patch-share_plug-ins_dispatching.py]
--- share/plug-ins/dispatching.py.orig	2014-11-13 18:15:57 UTC
+++ share/plug-ins/dispatching.py
@@ -35,11 +35,8 @@ class Dispatching_Highlighter(Location_H
         GPS.Hook("file_edited").add(self.__on_file_edited)
         GPS.Hook("file_changed_on_disk").add(self.__on_file_edited)
 
-        if GPS.Logger("ENTITIES.SQLITE").active:
-            GPS.Hook("xref_updated").add(self.__on_compilation_finished)
-        else:
-            GPS.Hook("compilation_finished").add(
-                self.__on_compilation_finished)
+        GPS.Hook("compilation_finished").add(
+            self.__on_compilation_finished)
 
     def __del__(self):
         Location_Highlighter.__del__(self)
@@ -47,11 +44,8 @@ class Dispatching_Highlighter(Location_H
         GPS.Hook("file_edited").remove(self.__on_file_edited)
         GPS.Hook("file_changed_on_disk").remove(self.__on_file_edited)
 
-        if GPS.Logger("ENTITIES.SQLITE").active:
-            GPS.Hook("xref_updated").remove(self.__on_compilation_finished)
-        else:
-            GPS.Hook("compilation_finished").remove(
-                self.__on_compilation_finished)
+        GPS.Hook("compilation_finished").remove(
+            self.__on_compilation_finished)
 
     def __on_preferences_changed(self, hook):
         changed = False


[FILE:561:patches/patch-widgets_widgets.gpr]
--- widgets/widgets.gpr.orig	2017-05-12 17:58:17 UTC
+++ widgets/widgets.gpr
@@ -6,7 +6,10 @@ with "gnatcoll_gtk";
 project Widgets is
 
    for Languages use ("C", "Ada");
-   for Source_Dirs use ("src");
+   for Source_Dirs use ("src", "@PREFIX@/include/gtk-3.0",
+      "@PREFIX@/include/glib-2.0", "@PREFIX@/include/pango-1.0",
+      "@PREFIX@/include/cairo", "@PREFIX@/include/gdk-pixbuf-2.0",
+      "@PREFIX@/include/atk-1.0", "@PREFIX@/lib/glib-2.0/include");
    for Object_Dir use Shared'Object_Dir;
 
    package Compiler extends Shared.Compiler is


[FILE:514:files/gps.in]
#!/bin/sh
#
# GPS wrapper written by John Marino
# It sets ADA_PROJECT_PATH in environment if unset
# It also adds the path to the default Ada toolchain if not already present
#

VIAS=$(echo ${PATH} | /usr/bin/tr ":" " ")

if [ -z "${ADA_PROJECT_PATH}" ]
then
	ADA_PROJECT_PATH=%%PREFIX%%/lib/gnat
	export ADA_PROJECT_PATH
fi

FOUND=0
for via in ${VIAS}
do
	[ "${via}" = "%%ADA_PATH%%" ] && FOUND=1;
done;

if [ ${FOUND} -eq 0 ]
then
	PATH=${PATH}:%%ADA_PATH%%
	export PATH;
fi

exec "%%PREFIX%%/bin/gps_exe" "$@"

