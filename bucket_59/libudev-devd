# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libudev-devd
VERSION=		0.5.2
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Libudev-compatible interface for devd
HOMEPAGE=		https://github.com/wulf7/libudev-devd
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/wulf7:libudev-devd:v0.5.2
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		evdev-proto:single:standard
B_DEPS[linux]=		libbsd:dev:standard libbsd:primary:standard

USES=			meson

LICENSE=		BSD2CLAUSE:primary
LICENSE_FILE=		BSD2CLAUSE:{{WRKDIR}}/LICENSE
LICENSE_AWK=		BSD2CLAUSE:"^$$"
LICENSE_SOURCE=		BSD2CLAUSE:{{WRKSRC}}/udev.c
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/libudev-devd
MESON_ARGS=		-Denable-gpl=true

SOVERSION=		0.0.0

CFLAGS=			-Wno-error

[FILE:86:descriptions/desc.primary]
libudev-compatible interface for devd

Intended to work with xorg-server and libinput


[FILE:110:distinfo]
8f0c20679f707504e2e0b446d8a95b24e32407949b9660e116dcb5946d7fea11        33250 wulf7-libudev-devd-0.5.2.tar.gz


[FILE:55:manifests/plist.primary]
lib/
 libudev.so.%%SOMAJOR%%
 libudev.so.%%SOVERSION%%


[FILE:58:manifests/plist.dev]
include/libudev.h
lib/libudev.so
lib/pkgconfig/libudev.pc


[FILE:166:patches/patch-udev-hwdb.c]
--- udev-hwdb.c.orig	2023-10-09 09:18:22 UTC
+++ udev-hwdb.c
@@ -23,6 +23,7 @@
  * SUCH DAMAGE.
  */
 
+#include "config.h"
 #include "utils.h"
 
 #include <errno.h>


[FILE:173:patches/patch-udev-queue.c]
--- udev-queue.c.orig	2023-10-09 09:18:22 UTC
+++ udev-queue.c
@@ -23,6 +23,7 @@
  * SUCH DAMAGE.
  */
 
+#include "config.h"
 #include "utils.h"
 
 #include <sys/socket.h>


[FILE:250:patches/patch-utils.c]
--- utils.c.orig	2023-10-09 09:18:22 UTC
+++ utils.c
@@ -34,6 +34,10 @@
 #include <string.h>
 #include <unistd.h>
 
+#ifdef __DragonFly__
+#include <vfs/ufs/dir.h>
+#endif
+
 #ifdef HAVE_LIBPROCSTAT_H
 #include <sys/sysctl.h>
 #include <sys/queue.h>


[FILE:207:patches/patch-utils.h]
--- utils.h.orig	2023-10-09 09:18:22 UTC
+++ utils.h
@@ -10,6 +10,8 @@
 
 #ifdef HAVE_SYS_TREE_H
 #include <sys/tree.h>
+#elif defined(__linux__)
+#include <bsd/sys/tree.h>
 #else
 #include "tree.h"
 #endif

