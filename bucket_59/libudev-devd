# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libudev-devd
VERSION=		0.5.0
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Libudev-compatible interface for devd
HOMEPAGE=		https://github.com/wulf7/libudev-devd
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/wulf7:libudev-devd:v0.5.0
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		evdev-proto:single:standard
B_DEPS[linux]=		libbsd:single:standard

USES=			meson

LICENSE=		BSD2CLAUSE:single
LICENSE_FILE=		BSD2CLAUSE:{{WRKDIR}}/LICENSE
LICENSE_AWK=		BSD2CLAUSE:"^$$"
LICENSE_SOURCE=		BSD2CLAUSE:{{WRKSRC}}/udev.c
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/libudev-devd
MESON_ARGS=		-Denable-gpl=true

SOVERSION=		0.0.0

CFLAGS=			-Wno-error

[FILE:86:descriptions/desc.single]
libudev-compatible interface for devd

Intended to work with xorg-server and libinput


[FILE:110:distinfo]
ad66a4e8f082d793691286a57263ff57ee7f96ae920d9b26205ed0bd7c5bf1a6        32648 wulf7-libudev-devd-0.5.0.tar.gz


[FILE:110:manifests/plist.single]
include/libudev.h
lib/
 libudev.so
 libudev.so.%%SOMAJOR%%
 libudev.so.%%SOVERSION%%
lib/pkgconfig/libudev.pc


[FILE:167:patches/patch-udev-hwdb.c]
--- udev-hwdb.c.orig	2021-09-04 13:20:25 UTC
+++ udev-hwdb.c
@@ -23,6 +23,7 @@
  * SUCH DAMAGE.
  */
 
+#include "config.h"
 #include "utils.h"
 
 #include <stddef.h>


[FILE:173:patches/patch-udev-queue.c]
--- udev-queue.c.orig	2021-09-04 13:20:25 UTC
+++ udev-queue.c
@@ -23,6 +23,7 @@
  * SUCH DAMAGE.
  */
 
+#include "config.h"
 #include "utils.h"
 
 #include <sys/socket.h>


[FILE:250:patches/patch-utils.c]
--- utils.c.orig	2021-09-04 13:20:25 UTC
+++ utils.c
@@ -34,6 +34,10 @@
 #include <string.h>
 #include <unistd.h>
 
+#ifdef __DragonFly__
+#include <vfs/ufs/dir.h>
+#endif
+
 #ifdef HAVE_LIBPROCSTAT_H
 #include <sys/sysctl.h>
 #include <sys/queue.h>


[FILE:207:patches/patch-utils.h]
--- utils.h.orig	2021-09-04 13:20:25 UTC
+++ utils.h
@@ -10,6 +10,8 @@
 
 #ifdef HAVE_SYS_TREE_H
 #include <sys/tree.h>
+#elif defined(__linux__)
+#include <bsd/sys/tree.h>
 #else
 #include "tree.h"
 #endif

