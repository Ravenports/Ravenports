# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libavif
VERSION=		1.1.1
KEYWORDS=		graphics
VARIANTS=		std
SDESC[std]=		Library for encoding and decoding .avif files
HOMEPAGE=		none
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/AOMediaCodec:libavif:v1.1.1
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			tools
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		aom:dev:std
			dav1d:dev:std
			libyuv:dev:std
BUILDRUN_DEPENDS=	aom:primary:std
			dav1d:primary:std
			libyuv:primary:std
EXRUN[tools]=		libavif:primary:std
EXRUN[dev]=		aom:dev:std
			dav1d:dev:std
			libyuv:dev:std

USES=			cpe cmake jpeg png pkgconfig
GNOME_COMPONENTS=	gdkpixbuf

LICENSE=		BSD2CLAUSE:primary
LICENSE_FILE=		BSD2CLAUSE:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

CPE_VENDOR=		aomedia
FPC_EQUIVALENT=		graphics/libavif

SOVERSION=		16.1.1
PLIST_SUB=		GTK2_VERSION=2.10.0

MOUNT_PROCFS=		yes
CMAKE_ARGS=		-DAVIF_BUILD_APPS:BOOL=ON
			-DAVIF_CODEC_AOM:STRING="SYSTEM"
			-DAVIF_CODEC_DAV1D:STRING="SYSTEM"
			-DAVIF_BUILD_GDK_PIXBUF:BOOL=ON
			-DAVIF_ENABLE_WERROR:BOOL=OFF

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/avif*
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libavif.so
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/gdk-pixbuf-2.0/2.10.0/loaders/libpixbufloader-avif.so

[FILE:153:descriptions/desc.primary]
This library aims to be a friendly, portable C implementation of the AV1
Image File Format, as described here:

https://aomediacodec.github.io/av1-avif/


[FILE:42:descriptions/desc.tools]
This package contains AVIF encoder tools.


[FILE:112:distinfo]
914662e16245e062ed73f90112fbb4548241300843a7772d8d441bb6859de45b     13644189 AOMediaCodec-libavif-1.1.1.tar.gz


[FILE:159:manifests/plist.primary]
lib/
 libavif.so.%%SOMAJOR%%
 libavif.so.%%SOVERSION%%
lib/gdk-pixbuf-2.0/%%GTK2_VERSION%%/loaders/libpixbufloader-avif.so
share/thumbnailers/avif.thumbnailer


[FILE:23:manifests/plist.tools]
bin/
 avifdec
 avifenc


[FILE:188:manifests/plist.dev]
include/avif/
 avif.h
 avif_cxx.h
lib/libavif.so
lib/cmake/libavif/
 libavif-config-%%CMAKE_BUILD_TYPE%%.cmake
 libavif-config-version.cmake
 libavif-config.cmake
lib/pkgconfig/libavif.pc

