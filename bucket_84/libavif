# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libavif
VERSION=		1.2.1
KEYWORDS=		graphics
VARIANTS=		std
SDESC[std]=		Library for encoding and decoding .avif files
HOMEPAGE=		none
CONTACT=		nobody

DOWNLOAD_GROUPS=	main ext1
SITES[main]=		GITHUB/AOMediaCodec:libavif:v1.2.1
SITES[ext1]=		GITHUB/maryla-uc:libargparse:81998ff:ext/libargparse
DISTFILE[1]=		generated:main
DISTFILE[2]=		generated:ext1
DF_INDEX=		1 2
SPKGS[std]=		set
			primary
			tools
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		aom:dev:std
			dav1d:dev:std
			libyuv:dev:std
BUILDRUN_DEPENDS=	aom:primary:std
			dav1d:primary:std
			libyuv:primary:std
EXRUN[tools]=		primary
EXRUN[dev]=		aom:dev:std
			dav1d:dev:std
			libyuv:dev:std

USES=			cpe cmake jpeg png pkgconfig
GNOME_COMPONENTS=	gdkpixbuf libxml2

LICENSE=		BSD2CLAUSE:primary
LICENSE_FILE=		BSD2CLAUSE:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

CPE_VENDOR=		aomedia
FPC_EQUIVALENT=		graphics/libavif

SOVERSION=		16.2.1
PLIST_SUB=		GTK2_VERSION=2.10.0

CMAKE_ARGS=		-DAVIF_BUILD_APPS:BOOL=ON
			-DAVIF_CODEC_AOM:STRING="SYSTEM"
			-DAVIF_CODEC_DAV1D:STRING="SYSTEM"
			-DAVIF_BUILD_GDK_PIXBUF:BOOL=ON
			-DAVIF_ENABLE_WERROR:BOOL=OFF
			-DAVIF_LIBXML2:STRING="SYSTEM"

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/avif*
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libavif.so
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/gdk-pixbuf-2.0/2.10.0/loaders/libpixbufloader-avif.so

[FILE:153:descriptions/desc.primary]
This library aims to be a friendly, portable C implementation of the AV1
Image File Format, as described here:

https://aomediacodec.github.io/av1-avif/


[FILE:42:descriptions/desc.tools]
This package contains AVIF encoder tools.


[FILE:227:distinfo]
9c859c7c12ccb0f407511bfe303e6a7247f5f6738f54852662c6df8048daddf4     13942041 AOMediaCodec-libavif-1.2.1.tar.gz
d188a5abc4277ef54f91ccaa27913baae2afdf0a5cac175daf330a3e43d9680f        22410 maryla-uc-libargparse-81998ff.tar.gz


[FILE:159:manifests/plist.primary]
lib/
 libavif.so.%%SOMAJOR%%
 libavif.so.%%SOVERSION%%
lib/gdk-pixbuf-2.0/%%GTK2_VERSION%%/loaders/libpixbufloader-avif.so
share/thumbnailers/avif.thumbnailer


[FILE:40:manifests/plist.tools]
bin/
 avifdec
 avifenc
 avifgainmaputil


[FILE:188:manifests/plist.dev]
include/avif/
 avif.h
 avif_cxx.h
lib/libavif.so
lib/cmake/libavif/
 libavif-config-%%CMAKE_BUILD_TYPE%%.cmake
 libavif-config-version.cmake
 libavif-config.cmake
lib/pkgconfig/libavif.pc

