# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libsoup-2.4
VERSION=		2.74.3
KEYWORDS=		devel
VARIANTS=		std
SDESC[std]=		Simple Object Access Protocol implementation in C
HOMEPAGE=		https://wiki.gnome.org/Projects/libsoup
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://ftp.gnome.org/pub/GNOME/sources/libsoup/2.74/
DISTFILE[1]=		libsoup-2.74.3.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			nls
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		vala:single:std
			glib-networking:dev:std
			brotli:dev:std
			libpsl:dev:std
BUILDRUN_DEPENDS=	brotli:primary:std
			glib-networking:primary:std
			libpsl:primary:std
RUN_DEPENDS=		libgcrypt:tools:std
EXRUN[dev]=		sqlite:dev:std
			libxml2:dev:std
			brotli:dev:std
			libpsl:dev:std

USES=			gettext:build gmake libtool pkgconfig sqlite meson
			gtk-doc cpe
GNOME_COMPONENTS=	glib intltool introspection libxml2

DISTNAME=		libsoup-2.74.3

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/libsoup/soup-websocket.h
LICENSE_SCHEME=		solo

CPE_PRODUCT=		libsoup
CPE_VENDOR=		gnome
FPC_EQUIVALENT=		devel/libsoup
GTKDOC_OUTPUT_BASEDIR=	libsoup-2.4
MESON_ARGS=		-Dgtk_doc=true
			-Dintrospection=enabled

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		1.11.2
PLIST_SUB=		LIBVERSION=2.4
			INTRO=""

VAR_OPSYS[sunos]=	LDFLAGS=-lintl
VAR_OPSYS[linux]=	CFLAGS=-D_GNU_SOURCE

post-install:
	${INSTALL_DATA} ${WRKSRC}/libsoup/soup-connection.h \
		${STAGEDIR}${PREFIX}/include/libsoup-2.4/libsoup/soup-connection.h

[FILE:400:descriptions/desc.primary]
Soup is a SOAP (Simple Object Access Protocol) implementation in C.

It provides a queued asynchronous callback-based mechanism for sending and 
servicing SOAP requests, and a WSDL (Web Service Definition Language) for 
C compilers which generates client stubs and server skeletons for easily 
calling and implementing SOAP methods.  It uses GLib and is designed to 
work well with GTK applications.


[FILE:100:distinfo]
e4b77c41cfc4c8c5a035fcdc320c7bc6cfb75ef7c5a034153df1413fa1d92f13      1504804 libsoup-2.74.3.tar.xz


[FILE:434:manifests/plist.primary]
%%INTRO%%lib/girepository-1.0/
 Soup-%%LIBVERSION%%.typelib
 SoupGNOME-%%LIBVERSION%%.typelib
%%INTRO%%share/gir-1.0/
 Soup-%%LIBVERSION%%.gir
 SoupGNOME-%%LIBVERSION%%.gir
%%INTRO%%share/vala/vapi/
 libsoup-%%LIBVERSION%%.deps
 libsoup-%%LIBVERSION%%.vapi
lib/
 libsoup-%%LIBVERSION%%.so.%%SOMAJOR%%
 libsoup-%%LIBVERSION%%.so.%%SOVERSION%%
 libsoup-gnome-%%LIBVERSION%%.so.%%SOMAJOR%%
 libsoup-gnome-%%LIBVERSION%%.so.%%SOVERSION%%


[FILE:1489:manifests/plist.dev]
include/libsoup-%%LIBVERSION%%/libsoup/
 soup-address.h
 soup-auth-domain-basic.h
 soup-auth-domain-digest.h
 soup-auth-domain.h
 soup-auth-manager.h
 soup-auth.h
 soup-autocleanups.h
 soup-cache.h
 soup-connection.h
 soup-content-decoder.h
 soup-content-sniffer.h
 soup-cookie-jar-db.h
 soup-cookie-jar-text.h
 soup-cookie-jar.h
 soup-cookie.h
 soup-date.h
 soup-enum-types.h
 soup-form.h
 soup-headers.h
 soup-hsts-enforcer-db.h
 soup-hsts-enforcer.h
 soup-hsts-policy.h
 soup-logger.h
 soup-message-body.h
 soup-message-headers.h
 soup-message.h
 soup-method.h
 soup-misc.h
 soup-multipart-input-stream.h
 soup-multipart.h
 soup-password-manager.h
 soup-portability.h
 soup-proxy-resolver-default.h
 soup-proxy-resolver.h
 soup-proxy-uri-resolver.h
 soup-request-data.h
 soup-request-file.h
 soup-request-http.h
 soup-request.h
 soup-requester.h
 soup-server.h
 soup-session-async.h
 soup-session-feature.h
 soup-session-sync.h
 soup-session.h
 soup-socket.h
 soup-status.h
 soup-tld.h
 soup-types.h
 soup-uri.h
 soup-value-utils.h
 soup-version.h
 soup-websocket-connection.h
 soup-websocket-extension-deflate.h
 soup-websocket-extension-manager.h
 soup-websocket-extension.h
 soup-websocket.h
 soup-xmlrpc-old.h
 soup-xmlrpc.h
 soup.h
include/libsoup-gnome-%%LIBVERSION%%/libsoup/
 soup-cookie-jar-sqlite.h
 soup-gnome-features.h
 soup-gnome.h
lib/
 libsoup-%%LIBVERSION%%.so
 libsoup-gnome-%%LIBVERSION%%.so
lib/pkgconfig/
 libsoup-%%LIBVERSION%%.pc
 libsoup-gnome-%%LIBVERSION%%.pc


[FILE:2617:manifests/plist.nls]
share/locale/an/LC_MESSAGES/libsoup.mo
share/locale/as/LC_MESSAGES/libsoup.mo
share/locale/be/LC_MESSAGES/libsoup.mo
share/locale/bg/LC_MESSAGES/libsoup.mo
share/locale/bn_IN/LC_MESSAGES/libsoup.mo
share/locale/bs/LC_MESSAGES/libsoup.mo
share/locale/ca/LC_MESSAGES/libsoup.mo
share/locale/ca@valencia/LC_MESSAGES/libsoup.mo
share/locale/cs/LC_MESSAGES/libsoup.mo
share/locale/da/LC_MESSAGES/libsoup.mo
share/locale/de/LC_MESSAGES/libsoup.mo
share/locale/el/LC_MESSAGES/libsoup.mo
share/locale/en_GB/LC_MESSAGES/libsoup.mo
share/locale/eo/LC_MESSAGES/libsoup.mo
share/locale/es/LC_MESSAGES/libsoup.mo
share/locale/et/LC_MESSAGES/libsoup.mo
share/locale/eu/LC_MESSAGES/libsoup.mo
share/locale/fa/LC_MESSAGES/libsoup.mo
share/locale/fi/LC_MESSAGES/libsoup.mo
share/locale/fr/LC_MESSAGES/libsoup.mo
share/locale/fur/LC_MESSAGES/libsoup.mo
share/locale/gd/LC_MESSAGES/libsoup.mo
share/locale/gl/LC_MESSAGES/libsoup.mo
share/locale/gu/LC_MESSAGES/libsoup.mo
share/locale/he/LC_MESSAGES/libsoup.mo
share/locale/hi/LC_MESSAGES/libsoup.mo
share/locale/hr/LC_MESSAGES/libsoup.mo
share/locale/hu/LC_MESSAGES/libsoup.mo
share/locale/id/LC_MESSAGES/libsoup.mo
share/locale/it/LC_MESSAGES/libsoup.mo
share/locale/ja/LC_MESSAGES/libsoup.mo
share/locale/kn/LC_MESSAGES/libsoup.mo
share/locale/ko/LC_MESSAGES/libsoup.mo
share/locale/lt/LC_MESSAGES/libsoup.mo
share/locale/lv/LC_MESSAGES/libsoup.mo
share/locale/ml/LC_MESSAGES/libsoup.mo
share/locale/mr/LC_MESSAGES/libsoup.mo
share/locale/ms/LC_MESSAGES/libsoup.mo
share/locale/nb/LC_MESSAGES/libsoup.mo
share/locale/ne/LC_MESSAGES/libsoup.mo
share/locale/nl/LC_MESSAGES/libsoup.mo
share/locale/oc/LC_MESSAGES/libsoup.mo
share/locale/or/LC_MESSAGES/libsoup.mo
share/locale/pa/LC_MESSAGES/libsoup.mo
share/locale/pl/LC_MESSAGES/libsoup.mo
share/locale/pt/LC_MESSAGES/libsoup.mo
share/locale/pt_BR/LC_MESSAGES/libsoup.mo
share/locale/ro/LC_MESSAGES/libsoup.mo
share/locale/ru/LC_MESSAGES/libsoup.mo
share/locale/sk/LC_MESSAGES/libsoup.mo
share/locale/sl/LC_MESSAGES/libsoup.mo
share/locale/sr/LC_MESSAGES/libsoup.mo
share/locale/sr@latin/LC_MESSAGES/libsoup.mo
share/locale/sv/LC_MESSAGES/libsoup.mo
share/locale/ta/LC_MESSAGES/libsoup.mo
share/locale/te/LC_MESSAGES/libsoup.mo
share/locale/tg/LC_MESSAGES/libsoup.mo
share/locale/th/LC_MESSAGES/libsoup.mo
share/locale/tr/LC_MESSAGES/libsoup.mo
share/locale/ug/LC_MESSAGES/libsoup.mo
share/locale/uk/LC_MESSAGES/libsoup.mo
share/locale/uz@cyrillic/LC_MESSAGES/libsoup.mo
share/locale/vi/LC_MESSAGES/libsoup.mo
share/locale/zh_CN/LC_MESSAGES/libsoup.mo
share/locale/zh_HK/LC_MESSAGES/libsoup.mo
share/locale/zh_TW/LC_MESSAGES/libsoup.mo


[FILE:1528:manifests/plist.docs]
share/doc/libsoup-%%LIBVERSION%%/
 SoupAddress.html
 SoupAuth.html
 SoupAuthDomain.html
 SoupAuthDomainBasic.html
 SoupAuthDomainDigest.html
 SoupAuthManager.html
 SoupCache.html
 SoupContentDecoder.html
 SoupContentSniffer.html
 SoupCookie.html
 SoupCookieJar.html
 SoupCookieJarDB.html
 SoupCookieJarText.html
 SoupHSTSEnforcer.html
 SoupHSTSEnforcerDB.html
 SoupLogger.html
 SoupMessage.html
 SoupMessageBody.html
 SoupMessageHeaders.html
 SoupMultipart.html
 SoupMultipartInputStream.html
 SoupProxyResolverDefault.html
 SoupRequest.html
 SoupRequestData.html
 SoupRequestFile.html
 SoupRequestHTTP.html
 SoupServer.html
 SoupSession.html
 SoupSessionAsync.html
 SoupSessionFeature.html
 SoupSessionSync.html
 SoupSocket.html
 SoupURI.html
 annotation-glossary.html
 ch01.html
 ch02.html
 ch03.html
 ch04.html
 ch05.html
 home.png
 index.html
 ix01.html
 left-insensitive.png
 left.png
 libsoup-%%LIBVERSION%%-HTML-Form-Support.html
 libsoup-%%LIBVERSION%%-Soup-Miscellaneous-Utilities.html
 libsoup-%%LIBVERSION%%-SoupServer-deprecated-API.html
 libsoup-%%LIBVERSION%%-Top-Level-Domain-utils.html
 libsoup-%%LIBVERSION%%-Version-Information.html
 libsoup-%%LIBVERSION%%-WebSockets.html
 libsoup-%%LIBVERSION%%-XMLRPC-Support.html
 libsoup-%%LIBVERSION%%-soup-method.html
 libsoup-%%LIBVERSION%%-soup-status.html
 libsoup-build-howto.html
 libsoup-client-howto.html
 libsoup-request-howto.html
 libsoup-server-howto.html
 libsoup-session-porting.html
 right-insensitive.png
 right.png
 style.css
 up-insensitive.png
 up.png


[FILE:333:patches/patch-libsoup_soup-auth-negotiate.c]
--- libsoup/soup-auth-negotiate.c.orig	2022-10-11 18:27:22 UTC
+++ libsoup/soup-auth-negotiate.c
@@ -13,7 +13,11 @@
 #include <string.h>
 
 #ifdef LIBSOUP_HAVE_GSSAPI
+#ifdef __FreeBSD__
+#include <gssapi/gssapi_krb5.h>
+#else
 #include <gssapi/gssapi.h>
+#endif
 #endif /* LIBSOUP_HAVE_GSSAPI */
 
 #include "soup-auth-negotiate.h"


[FILE:235:patches/patch-libsoup_soup-xmlrpc-old.c]
--- libsoup/soup-xmlrpc-old.c.orig	2022-10-11 18:27:22 UTC
+++ libsoup/soup-xmlrpc-old.c
@@ -12,6 +12,7 @@
 #include <string.h>
 
 #include <libxml/tree.h>
+#include <libxml/parser.h>
 
 #include "soup-xmlrpc-old.h"
 #include "soup.h"


[FILE:241:patches/patch-libsoup_soup-xmlrpc.c]
--- libsoup/soup-xmlrpc.c.orig	2022-10-11 18:27:22 UTC
+++ libsoup/soup-xmlrpc.c
@@ -18,6 +18,7 @@
 #include <string.h>
 #include <errno.h>
 #include <libxml/tree.h>
+#include <libxml/parser.h>
 #include "soup-xmlrpc.h"
 #include "soup.h"
 

