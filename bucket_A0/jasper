# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		jasper
VERSION=		4.2.5
KEYWORDS=		graphics
VARIANTS=		std
SDESC[std]=		Implementation JPEG-2000 standard codec
HOMEPAGE=		http://www.ece.uvic.ca/~frodo/jasper/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/mdadams:jasper:version-4.2.5
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			tools
			dev
			man
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		freeglut:dev:std
			libglvnd:dev:std
BUILDRUN_DEPENDS=	freeglut:primary:std
EXRUN[tools]=		primary

USES=			cpe jpeg cmake

DISTNAME=		jasper-version-4.2.5

LICENSE=		CUSTOM1:primary
LICENSE_NAME=		CUSTOM1:"JasPer License Version 2.0"
LICENSE_FILE=		CUSTOM1:{{WRKSRC}}/LICENSE.txt
LICENSE_SCHEME=		solo

CPE_VENDOR=		jasper_project
FPC_EQUIVALENT=		graphics/jasper

SOVERSION=		7.0.0

CFLAGS=			-Wno-incompatible-pointer-types
CMAKE_ARGS=		-DJAS_ENABLE_DOC:BOOL=ON
			-DJAS_ENABLE_LIBJPEG:BOOL=ON
			-DJAS_ENABLE_OPENGL:BOOL=ON
			-DJAS_ENABLE_SHARED:BOOL=ON

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/*
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libjasper.so

[FILE:1040:descriptions/desc.primary]
The JasPer Project is an open-source initiative to provide a free
software-based reference implementation of the codec specified in the
JPEG-2000 Part-1 standard (i.e., ISO/IEC 15444-1). This project was
started as a collaborative effort between Image Power, Inc. and the
University of British Columbia. Presently, the ongoing maintenance and
development of the JasPer software is being coordinated by its principal
author, Michael Adams, who is affiliated with the Digital Signal
Processing Group (DSPG) in the Department of Electrical and Computer
Engineering at the University of Victoria.

JasPer includes a software-based implementation of the codec specified in
the JPEG-2000 Part-1 standard (i.e., ISO/IEC 15444-1). The JasPer software
is written in the C programming language. More details about this software
can be found in the JasPer Software Reference Manual.

The JasPer software has been included in the JPEG-2000 Part-5 standard
(i.e., ISO/IEC 15444-5), as an official reference implementation of the
JPEG-2000 Part-1 codec.


[FILE:40:descriptions/desc.tools]
This package contains the jasper tools.


[FILE:113:distinfo]
3f4b1df7cab7a3cc67b9f6e28c730372f030b54b0faa8548a9ee04ae83fffd44      1987081 mdadams-jasper-ersion-4.2.5.tar.gz


[FILE:59:manifests/plist.primary]
lib/
 libjasper.so.%%SOMAJOR%%
 libjasper.so.%%SOVERSION%%


[FILE:35:manifests/plist.tools]
bin/
 imgcmp
 imginfo
 jasper
 jiv


[FILE:352:manifests/plist.dev]
include/jasper/
 jas_cm.h
 jas_compiler.h
 jas_config.h
 jas_debug.h
 jas_dll.h
 jas_export_cmake.h
 jas_fix.h
 jas_getopt.h
 jas_icc.h
 jas_image.h
 jas_init.h
 jas_log.h
 jas_malloc.h
 jas_math.h
 jas_seq.h
 jas_stream.h
 jas_string.h
 jas_thread.h
 jas_tmr.h
 jas_tvp.h
 jas_types.h
 jas_version.h
 jasper.h
lib/libjasper.so
lib/pkgconfig/jasper.pc


[FILE:54:manifests/plist.man]
share/man/man1/
 imgcmp.1
 imginfo.1
 jasper.1
 jiv.1


[FILE:43:manifests/plist.docs]
share/doc/jasper/
 README.md
 jpeg2000.pdf


[FILE:906:patches/patch-CMakeLists.txt]
--- CMakeLists.txt.orig	2025-03-26 17:53:12 UTC
+++ CMakeLists.txt
@@ -318,8 +318,6 @@ if(CMAKE_C_COMPILER_ID STREQUAL "Clang"
 	  JAS_GCC_WARN_NO_STRINGOP_TRUNCATION)
 	check_c_compiler_flag("-Wno-stringop-overflow"
 	  JAS_GCC_WARN_NO_STRINGOP_OVERFLOW)
-	check_c_compiler_flag("-Wno-tautological-constant-out-of-range-compare"
-	  JAS_CLANG_WARN_NO_OUT_OF_RANGE_COMPARE)
 	add_c_compile_options(-Wall)
 
 	# Note: Use CMAKE_C_FLAGS (instead of add_compile_options) so that the
@@ -333,9 +331,6 @@ if(CMAKE_C_COMPILER_ID STREQUAL "Clang"
 	add_c_compile_options(-Wmissing-prototypes)
 	add_c_compile_options(-Wstrict-prototypes)
 	add_c_compile_options(-Wno-type-limits)
-	if (JAS_CLANG_WARN_NO_OUT_OF_RANGE_COMPARE)
-		add_c_compile_options(-Wno-tautological-constant-out-of-range-compare)
-	endif()
 	if(JAS_GCC_WARN_NO_STRINGOP_TRUNCATION)
 		add_c_compile_options(-Wno-stringop-truncation)
 	endif()

