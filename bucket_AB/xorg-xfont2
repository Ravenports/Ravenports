# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		xorg-xfont2
VERSION=		2.0.3
KEYWORDS=		x11
VARIANTS=		standard
SDESC[standard]=	X font library
HOMEPAGE=		https://www.x.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		XORG/individual/lib
DISTFILE[1]=		libXfont2-2.0.3.tar.bz2:main
DIST_SUBDIR=		xorg
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	freetype:primary:standard

USES=			libtool zlib
XORG_COMPONENTS=	xorgproto fontenc

DISTNAME=		libXfont2-2.0.3

LICENSE=		MIT:single
LICENSE_FILE=		MIT:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		x11-fonts/libXfont2

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--without-xmlto
			--disable-devel-docs
			--without-fop

INSTALL_TARGET=		install-strip

[FILE:262:descriptions/desc.single]
This package contains the X font libary.

libXfont2 is the same as the old libXfont libary, but has a shiny
new API/ABI that avoids referencing symbols in the X server directly.
The code for the X server to use this version is awaiting review and
merging still.


[FILE:107:distinfo]
0e8ab7fd737ccdfe87e1f02b55f221f0bd4503a1c5f28be4ed6a54586bac9c4e       497085 xorg/libXfont2-2.0.3.tar.bz2


[FILE:122:manifests/plist.single]
include/X11/fonts/libxfont2.h
lib/
 libXfont2.a
 libXfont2.so
 libXfont2.so.2
 libXfont2.so.2.0.0
lib/pkgconfig/xfont2.pc


[FILE:391:patches/patch-src_bitmap_pcfread.c]
--- src/bitmap/pcfread.c.orig	2017-11-28 14:28:56 UTC
+++ src/bitmap/pcfread.c
@@ -47,6 +47,18 @@ from The Open Group.
 #include <stdint.h>
 #include <string.h>
 
+#ifdef __sun__
+static size_t
+strnlen(const char *s, size_t maxlen)
+{
+	size_t len;
+	for (len = 0; len < maxlen; len++, s++) {
+		if (!*s) break;
+	}
+	return (len);
+}
+#endif
+
 void
 pcfError(const char* message, ...)
 {

