# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		mtr
VERSION=		0.95
REVISION=		1
KEYWORDS=		net
VARIANTS=		std x11
SDESC[std]=		Ping/Traceroute network diagnostic tool
SDESC[x11]=		Ping/Traceroute network diagnostic tool [x11]
HOMEPAGE=		https://www.bitwizard.nl/mtr/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/traviscross:mtr:v0.95
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			man
SPKGS[x11]=		set
			primary
			man

OPTIONS_AVAILABLE=	X11
OPTIONS_STANDARD=	none
VOPTS[x11]=		X11=ON

USES=			autoreconf pkgconfig ncurses

LICENSE=		GPLv2+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"PROBE_H"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/packet/probe.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		net/mtr

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-ipv6

LDFLAGS=		-lncurses
			-ltinfo

[X11].CONFIGURE_WITH_BOTH=		gtk
[X11].GNOME_COMPONENTS_ON=		gtk2

[FILE:476:descriptions/desc.primary]
mtr combines the functionality of the 'traceroute' and 'ping' programs in a
single network diagnostic tool.

As mtr starts, it investigates the network connection between the host mtr
runs on and a user-specified destination host. After it determines the
address of each network hop between the machines, it sends a sequence ICMP
ECHO requests to each one to determine the quality of the link to each
machine. As it does this, it prints running statistics about each machine.


[FILE:106:distinfo]
12490fb660ba5fb34df8c06a0f62b4f9cbd11a584fc3f6eceda0a99124e8596f       144541 traviscross-mtr-0.95.tar.gz


[FILE:61:manifests/plist.primary]
sbin/
 mtr
 mtr-packet
share/bash-completion/completions/mtr


[FILE:37:manifests/plist.man]
share/man/man8/
 mtr-packet.8
 mtr.8


[FILE:235:patches/patch-ui_cmdpipe.h]
--- ui/cmdpipe.h.orig	2022-01-11 09:10:34 UTC
+++ ui/cmdpipe.h
@@ -20,6 +20,7 @@
 #define CMDPIPE_H
 
 #include "mtr.h"
+#include <sys/types.h> /* for pid_t */
 
 #define COMMAND_BUFFER_SIZE 4096
 #define PACKET_REPLY_BUFFER_SIZE 4096

