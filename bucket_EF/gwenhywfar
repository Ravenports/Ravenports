# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gwenhywfar
VERSION=		5.10.1
REVISION=		1
KEYWORDS=		devel net security
VARIANTS=		standard
SDESC[standard]=	Networking and security application library
HOMEPAGE=		https://www.aquamaniac.de/rdm/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://www.aquamaniac.de/rdm/attachments/download/465/
DISTFILE[1]=		gwenhywfar-5.10.1.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			gtk2
			gtk3
			qt5
			nls

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		at-spi2-core:dev:standard
			at-spi2-core:primary:standard
			cairo:dev:standard
			cairo:primary:standard
			gdk-pixbuf:primary:standard
			glib:dev:standard
			gnutls:dev:standard
			gtk2:dev:standard
			gtk2:primary:standard
			gtk3:dev:standard
			gtk3:primary:standard
			harfbuzz:dev:standard
			libgpg-error:dev:standard
			pango:primary:standard
			qt5-qtbase:primary:standard
BUILDRUN_DEPENDS=	gnutls:primary:standard
			libgcrypt:single:standard
			libgpg-error:primary:standard
EXRUN[qt5]=		gwenhywfar:primary:standard
			qt5-qtbase:primary:standard
EXRUN[gtk2]=		gwenhywfar:primary:standard
			at-spi2-core:primary:standard
			pango:primary:standard
			cairo:primary:standard
			gdk-pixbuf:primary:standard
			gtk2:primary:standard
EXRUN[gtk3]=		gwenhywfar:primary:standard
			at-spi2-core:primary:standard
			pango:primary:standard
			cairo:primary:standard
			gdk-pixbuf:primary:standard
			gtk3:primary:standard

USES=			gmake iconv libtool pkgconfig ssl zlib:build
			fontconfig gettext

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"GWENHYWFAR_GWENHYWFAR_H"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/gwenhywfar.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/gwenhywfar

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-release="yes"
			--with-guis="gtk2 gtk3 qt5"
			--with-qt5-qmake={{LOCALBASE}}/lib/qt5/bin/qmake
			--with-qt5-moc={{LOCALBASE}}/lib/qt5/bin/moc
			--with-qt5-uic={{LOCALBASE}}/lib/qt5/bin/uic

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		79.10.1
PLIST_SUB=		GWEN_MAJ_MIN_VER=5.10

LDFLAGS=		-Wl,-rpath,{{PREFIX}}/lib/qt5
VAR_OPSYS[freebsd]=	LDFLAGS=-lintl
VAR_OPSYS[sunos]=	LDFLAGS=-lintl
VAR_OPSYS[netbsd]=	LDFLAGS=-lintl
			CONFIGURE_ENV=ac_cv_lib_dl_dlopen=no
VAR_OPSYS[dragonfly]=	LDFLAGS=-lintl

[FILE:770:descriptions/desc.primary]
This is Gwenhywfar, a multi-platform (*BSD, Linux, MS-Win, etc.)
helper library for networking and security applications and libraries.
It is used by several 'finance' ports, and possibly others.

Gwenhywfar includes the following features, among several others:
 - OS abstraction functions for directory and Internet address handling
   and library loading (src/os/)
 - Networking functions which allow managing many connections to be used
   economically even in single threaded applications
 - High-level functions for parsing files with a simplified "XML-like"
   format and accessing them like a hierarchical database (src/parser/)
   It is able to process valid XML files, too.
 - High-level cryptographic functions on top of OpenSSL functionality
   (src/crypt/)


[FILE:246:descriptions/desc.gtk2]
This is Gwenhywfar, a multi-platform (*BSD, Linux, MS-Win, etc.)
helper library for networking and security applications and libraries.
It is used by several 'finance' ports, and possibly others.

This package contains the gtk2 library bindings.


[FILE:246:descriptions/desc.gtk3]
This is Gwenhywfar, a multi-platform (*BSD, Linux, MS-Win, etc.)
helper library for networking and security applications and libraries.
It is used by several 'finance' ports, and possibly others.

This package contains the gtk3 library bindings.


[FILE:245:descriptions/desc.qt5]
This is Gwenhywfar, a multi-platform (*BSD, Linux, MS-Win, etc.)
helper library for networking and security applications and libraries.
It is used by several 'finance' ports, and possibly others.

This package contains the Qt5 library bindings.


[FILE:103:distinfo]
a2f60a9dde5da27e57e0e5ef5f8931f495c1d541ad90a841e2b6231565547160      2687042 gwenhywfar-5.10.1.tar.gz


[FILE:3684:manifests/plist.primary]
bin/
 gct-tool
 gsa
 gwbuild
 gwenhywfar-config
 mklistdoc
 typemaker
 typemaker2
 xmlmerge
include/gwenhywfar5/gwen-gui-cpp/
 api.h
 cppdialog.hpp
 cppgui.hpp
 cppwidget.hpp
include/gwenhywfar5/gwenhywfar/
 args.h
 base64.h
 bindata.h
 buffer.h
 cgui.h
 configmgr.h
 configmgr_be.h
 cryptalgo.h
 cryptdefs.h
 crypthead.h
 cryptkey.h
 cryptkey_be.h
 cryptkeyrsa.h
 cryptkeysym.h
 cryptmgr.h
 cryptmgr_be.h
 cryptmgrkeys.h
 ct.h
 ct_be.h
 ct_context.h
 ct_keyinfo.h
 ctf_context_be.h
 ctfile_be.h
 ctplugin.h
 ctplugin_be.h
 db.h
 dbio.h
 dbio_be.h
 debug.h
 dialog.h
 dialog_be.h
 directory.h
 endianfns.h
 error.h
 fastbuffer.h
 fslock.h
 funcs.h
 gui.h
 gui_be.h
 gwen_sar_fileheader.h
 gwendate.h
 gwenhywfar.h
 gwenhywfarapi.h
 gwensemaphore.h
 gwensignal.h
 gwenthread.h
 gwentime.h
 hashalgo.h
 htmlctx_be.h
 htmlfont_be.h
 htmlimage_be.h
 htmlobject_be.h
 htmlprops_be.h
 httpsession.h
 i18n.h
 idlist64.h
 idmap.h
 inetaddr.h
 inetsocket.h
 inherit.h
 libloader.h
 list.h
 list1.h
 list1.tmpl
 list2.h
 list2.tmpl
 logger.h
 mdigest.h
 mdigest_be.h
 memcache.h
 memory.h
 misc.h
 misc2.h
 msgengine.h
 multicache.h
 mutex.h
 nogui.h
 o_image_be.h
 padd.h
 paddalgo.h
 param.h
 param_fns.h
 passwdstore.h
 path.h
 pathmanager.h
 plugin.h
 plugindescr.h
 process.h
 refptr.h
 ringbuffer.h
 sar.h
 sighead.h
 sigtail.h
 simpleptrlist.h
 smalltresor.h
 ssl_cert_descr.h
 ssl_cert_flags.h
 stringlist.h
 stringlist2.h
 syncio.h
 syncio_buffered.h
 syncio_file.h
 syncio_http.h
 syncio_memory.h
 syncio_socket.h
 syncio_tls.h
 system.h
 tag16.h
 testframework.h
 testmodule.h
 text.h
 threadlocaldata.h
 tlv.h
 tree.h
 tree2.h
 types.h
 url.h
 urlfns.h
 version.h
 widget_be.h
 xml.h
 xml2db.h
 xmlcmd.h
 xmlcmd_gxml.h
 xmlcmd_gxml_fromdb.h
 xmlcmd_gxml_todb.h
 xmlctx.h
 xsdnode.h
lib/
 libgwengui-cpp.so
 libgwengui-cpp.so.%%SOMAJOR%%
 libgwengui-cpp.so.%%SOVERSION%%
 libgwenhywfar.so
 libgwenhywfar.so.%%SOMAJOR%%
 libgwenhywfar.so.%%SOVERSION%%
lib/cmake/gwengui-cpp-%%GWEN_MAJ_MIN_VER%%/
 gwengui-cpp-config-version.cmake
 gwengui-cpp-config.cmake
lib/cmake/gwenhywfar-%%GWEN_MAJ_MIN_VER%%/
 gwenhywfar-config-version.cmake
 gwenhywfar-config.cmake
lib/gwenhywfar/plugins/%%SOMAJOR%%/configmgr/
 dir.so
 dir.xml
lib/gwenhywfar/plugins/%%SOMAJOR%%/ct/
 ohbci.so
 ohbci.xml
lib/gwenhywfar/plugins/%%SOMAJOR%%/dbio/
 csv.so
 csv.so.0
 csv.so.0.0.1
 csv.xml
 olddb.so
 olddb.so.0
 olddb.so.0.0.1
 olddb.xml
 xmldb.so
 xmldb.so.0
 xmldb.so.0.0.1
 xmldb.xml
lib/pkgconfig/gwenhywfar.pc
share/aclocal/gwenhywfar.m4
share/gwenbuild/templates/
 convlib.tmpl
 module.tmpl
 project.tmpl
share/gwenhywfar/dialogs/
 dlg_input.dlg
 dlg_message.dlg
 dlg_progress.dlg
 dlg_showbox.dlg
share/gwenhywfar/gwenbuild/builders/posix/
 app.gwb
 cbuilder.gwb
 cxxapp.gwb
 cxxbuilder.gwb
 module.gwb
 msgfmt.gwb
 sharedlib.gwb
 staticlib.gwb
 tm2builder.gwb
 tmplib.gwb
share/gwenhywfar/gwenbuild/builders/windows/
 app.gwb
 cbuilder.gwb
 cxxapp.gwb
 cxxbuilder.gwb
 module.gwb
 sharedlib.gwb
 staticlib.gwb
 tm2builder.gwb
 tmplib.gwb
share/gwenhywfar/typemaker2/c/
 char.tm2
 char_array.tm2
 char_ptr.tm2
 double.tm2
 double_array.tm2
 gwen_bindata.tm2
 gwen_buffer.tm2
 gwen_date.tm2
 gwen_db_node.tm2
 gwen_idlist64.tm2
 gwen_multicache.tm2
 gwen_multicache_type.tm2
 gwen_param.tm2
 gwen_param_list.tm2
 gwen_param_list2.tm2
 gwen_param_tree.tm2
 gwen_stringlist2.tm2
 gwen_time.tm2
 gwen_xmlnode.tm2
 gwen_xmlnode_list.tm2
 gwen_xmlnode_list2.tm2
 idmap_base.tm2
 int.tm2
 int_array.tm2
 int_base.tm2
 list1_base.tm2
 list2_base.tm2
 struct_base.tm2
 tree2_base.tm2
 tree_base.tm2
 uint16_t.tm2
 uint16_t_array.tm2
 uint32_t.tm2
 uint32_t_array.tm2
 uint64_t.tm2
 uint8_t.tm2
 uint8_t_array.tm2


[FILE:166:manifests/plist.gtk2]
include/gwenhywfar5/gwen-gui-gtk2/gtk2_gui.h
lib/
 libgwengui-gtk2.so
 libgwengui-gtk2.so.%%SOMAJOR%%
 libgwengui-gtk2.so.%%SOVERSION%%
lib/pkgconfig/gwengui-gtk2.pc


[FILE:166:manifests/plist.gtk3]
include/gwenhywfar5/gwen-gui-gtk3/gtk3_gui.h
lib/
 libgwengui-gtk3.so
 libgwengui-gtk3.so.%%SOMAJOR%%
 libgwengui-gtk3.so.%%SOVERSION%%
lib/pkgconfig/gwengui-gtk3.pc


[FILE:306:manifests/plist.qt5]
include/gwenhywfar5/gwen-gui-qt5/
 qt5_gui.hpp
 qt5_gui_dialog.hpp
 qt5dialogbox.hpp
lib/
 libgwengui-qt5.so
 libgwengui-qt5.so.%%SOMAJOR%%
 libgwengui-qt5.so.%%SOVERSION%%
lib/cmake/gwengui-qt5-%%GWEN_MAJ_MIN_VER%%/
 gwengui-qt5-config-version.cmake
 gwengui-qt5-config.cmake
lib/pkgconfig/gwengui-qt5.pc


[FILE:42:manifests/plist.nls]
share/locale/de/LC_MESSAGES/gwenhywfar.mo


[FILE:1344:patches/patch-configure]
--- configure.orig	2022-08-10 20:40:02 UTC
+++ configure
@@ -25211,10 +25211,6 @@ $as_echo_n "checking for Qt... " >&6; }
     am_have_qt_makefile="$am_have_qt_dir/Makefile"
     # http://qt-project.org/doc/qt-5/qmake-variable-reference.html#qt
     cat > $am_have_qt_pro << EOF
-win32 {
-    CONFIG -= debug_and_release
-    CONFIG += release
-}
 qtHaveModule(core):              QT += core
 qtHaveModule(gui):               QT += gui
 qtHaveModule(widgets):           QT += widgets
@@ -25223,8 +25219,8 @@ percent.commands = @echo -n "\$(\$(@))\
 QMAKE_EXTRA_TARGETS += percent
 EOF
     $QT_QMAKE $am_have_qt_pro -o $am_have_qt_makefile
-    QT_CXXFLAGS=`cd $am_have_qt_dir; make -s -f $am_have_qt_makefile CXXFLAGS INCPATH`
-    QT_LIBS=`cd $am_have_qt_dir; make -s -f $am_have_qt_makefile LIBS`
+    QT_CXXFLAGS=`cd $am_have_qt_dir; make -s -f $am_have_qt_makefile -VCXXFLAGS -VINCPATH | tr '\n' ' '`
+    QT_LIBS=`cd $am_have_qt_dir; make -s -f $am_have_qt_makefile -VLIBS | tr '\n' ' '`
     rm $am_have_qt_pro $am_have_qt_makefile
     rmdir $am_have_qt_dir
 
@@ -25248,9 +25244,9 @@ else
 fi
 
 
-    QT_RCC=`which rcc`
-    QT_LRELEASE=`which lrelease`
-    QT_LUPDATE=`which lupdate`
+    QT_RCC=#none
+    QT_LRELEASE=#none
+    QT_LUPDATE=#none
 
     # Get Qt version from qmake
     QT_DIR=`$QT_QMAKE --version | grep -o -E /.+`

