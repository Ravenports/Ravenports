# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gnatcoll
VERSION=		2016
KEYWORDS=		devel
VARIANTS=		standard project
SDESC[project]=		Ada Project support (only) from gnatcoll
SDESC[standard]=	GNAT Component Collection from Adacore
HOMEPAGE=		http://libre.adacore.com/tools/gnat-component-collection
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main libgpr
SITES[main]=		GITHUB/AdaCore:gnatcoll:858f72c
SITES[libgpr]=		GITHUB/AdaCore:gprbuild:a2e9066
DISTFILE[1]=		generated:main
DISTFILE[2]=		generated:libgpr
DF_INDEX=		1 2
SPKGS[project]=		single
SPKGS[standard]=	complete
			primary
			examples
			docs

OPTIONS_AVAILABLE=	READLINE SYSLOG PGSQL DOCS PROJECT
OPTIONS_STANDARD=	READLINE SYSLOG PGSQL DOCS
VOPTS[project]=		PROJECT=ON READLINE=OFF SYSLOG=OFF PGSQL=OFF DOCS=OFF
OPT_ON[all]=		READLINE SYSLOG

BUILD_DEPENDS=		gnat-util:single:standard

USES=			gprbuild gmake pkgconfig

FPC_EQUIVALENT=		devel/gnatcoll

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-projects
			--disable-shared
			--disable-pygtk
			--without-iconv

BUILD_TARGET=		all
MAKE_ARGS=		PROCESSORS={{MAKE_JOBS_NUMBER}}
			Gnatcoll_Build=Production

INSTALL_REQ_TOOLCHAIN=	yes

[PROJECT].DESCRIPTION=			Limited to Ada project capability support
[PROJECT].BUILDRUN_DEPENDS_OFF=		gmp:shared:standard
					gtkada:primary:standard
[PROJECT].BUILD_DEPENDS_OFF=		gmp:static:standard
					python-pygobject:primary:py27
[PROJECT].CONFIGURE_ARGS_OFF=		--with-sqlite=embedded
					--with-gmp={{PREFIX}}
					--with-python_exec={{PYTHON_CMD}}
					--with-gtk=3.0
					--enable-pygobject
[PROJECT].CONFIGURE_ARGS_ON=		--without-sqlite
					--without-python
					--without-gmp
					--without-gtk
[PROJECT].MAKEFILE_OFF=			SHEBANG_FILES=src/dborm.py
[PROJECT].USES_OFF=			python:py27
					shebangfix

[DOCS].BUILD_DEPENDS_ON=		python-Sphinx:single:python_default
[DOCS].BUILD_TARGET_ON=			docs

[READLINE].CONFIGURE_ARGS_OFF=		--disable-readline
[READLINE].CONFIGURE_ARGS_ON=		--enable-gpl
[READLINE].USES_ON=			readline

[SYSLOG].CONFIGURE_ENABLE_BOTH=		syslog

[PGSQL].CONFIGURE_ARGS_OFF=		--without-postgresql
[PGSQL].CONFIGURE_ARGS_ON=		--with-postgresql={{PREFIX}}
[PGSQL].USES_ON=			pgsql

post-install-PROJECT-ON:
	${RM} -r ${STAGEDIR}${STD_EXAMPLESDIR}
	${RM} -r ${STAGEDIR}${PREFIX}/share
	${RM} -r ${STAGEDIR}${PREFIX}/lib/gnat/manifests
	${RM} ${STAGEDIR}${PREFIX}/bin/*

post-patch:
	@${REINPLACE_CMD} -e "s|@PREFIX@|${PREFIX}|g" \
	    ${WRKSRC}/src/gnatcoll_readline.gpr.in
	@${REINPLACE_CMD} -e 's|with "gpr"|with "${WRKDIR}/gprbuild/gpr/gpr"|' \
		${WRKSRC}/src/gnatcoll__libgpr.gpr
	@${REINPLACE_CMD} \
		-e '/PYCONFIG=/ s|$${PYTHON_MAJOR_VERSION}|${PYTHON_VER}|' \
		-e 's| -lz| -L${PREFIX}/lib -Wl,-rpath,${PREFIX}/lib -lz|g' \
		${WRKSRC}/configure

pre-build:
	(cd ${WRKDIR}/gprbuild/gpr && ${SETENV} ${MAKE_ENV} \
		gprbuild -p -P gpr);

post-install-DOCS-ON:
	${RM} -r ${STAGEDIR}${DOCSDIR}/html/_sources

do-build:
	(cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} \
		${MAKE_CMD} ${MAKE_ARGS} ${BUILD_TARGET})

post-install-PROJECT-OFF:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/gnatcoll_db2ada
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/gnatinspect
	${RM} -r ${STAGEDIR}${PREFIX}/share/gps
	${RM} -r ${STAGEDIR}${STD_EXAMPLESDIR}/library
	${RM} -r ${STAGEDIR}${PREFIX}/lib/gnat/manifests

post-extract:
	${MV} ${WRKDIR}/gprbuild-* ${WRKDIR}/gprbuild

[FILE:1375:descriptions/desc.primary.standard]
The reusable library known as the GNAT Component Collection (GNATColl)
is based on one main principle: general-purpose packages that are part of
the GNAT technology should also be available to user application code.
The compiler front end, the GNAT Programming Studio (GPS) Interactive
Development Environment, and the GNAT Tracker web-based interface all
served as sources for the components.

The GNATColl components complement the predefined Ada and GNAT libraries
and deal with a range of common programming issues including string and
text processing, memory management, and file handling. Several of the
components are especially useful in enterprise applications.

* Scripts: Embedding script languages     * Traces: Logging information
* Memory: Monitoring memory usage         * Mmap: Reading and writing files
* Boyer-Moore: Searching strings          * Paragraph filling: Formatting text
* Templates: Generating text              * Email: Processing email messages
* Ravenscar: Patterns for multitasking    * VFS: Manipulating files
* Storage Pools: Controlling memory mgmt  * Tribooleans: Three-state logic
* Geometry: Primitive geometric ops       * Refcount: Reference counting
* Projects: Manipulating ``gpr`` files    * Config: Parsing configuration files
* Pools: Controlling access to resources  * JSON: JavaScript Object Notation
* SQL: Database interface


[FILE:528:descriptions/desc.single.project]
The reusable library known as the GNAT Component Collection (GNATColl)
is based on one main principle: general-purpose packages that are part of
the GNAT technology should also be available to user application code.
The compiler front end, the GNAT Programming Studio (GPS) Interactive
Development Environment, and the GNAT Tracker web-based interface all
served as sources for the components.

This variant focuses on Project support (the manipulation of gpr
files).  The standard variant should be used for generally instead.


[FILE:220:distinfo]
18e3470eacad2e445d34621a2ed7a24a32548dc3210d9aa5ae774a58e623d746      4369484 AdaCore-gnatcoll-858f72c.tar.gz
6f35607ef16e81aa76bb0e5a78bf89d0d54ce691fda50517d50e18540db8aaa5      4254762 AdaCore-gprbuild-a2e9066.tar.gz


[FILE:10837:manifests/plist.primary.standard]
bin/
 gnatcoll_db2ada
 gnatinspect
include/gnatcoll/gnatcoll.static/
 getRSS.c
 gnatcoll-any_types.adb
 gnatcoll-any_types.ads
 gnatcoll-arg_lists.adb
 gnatcoll-arg_lists.ads
 gnatcoll-atomic.ads
 gnatcoll-atomic__intrinsic.ada
 gnatcoll-boyer_moore.adb
 gnatcoll-boyer_moore.ads
 gnatcoll-config.adb
 gnatcoll-config.ads
 gnatcoll-email-mailboxes.adb
 gnatcoll-email-mailboxes.ads
 gnatcoll-email-parser.adb
 gnatcoll-email-parser.ads
 gnatcoll-email-utils.adb
 gnatcoll-email-utils.ads
 gnatcoll-email.adb
 gnatcoll-email.ads
 gnatcoll-geometry.adb
 gnatcoll-geometry.ads
 gnatcoll-io-native-codec__unix.adb
 gnatcoll-io-native.adb
 gnatcoll-io-native.ads
 gnatcoll-io-remote-unix.adb
 gnatcoll-io-remote-unix.ads
 gnatcoll-io-remote-windows.adb
 gnatcoll-io-remote-windows.ads
 gnatcoll-io-remote.adb
 gnatcoll-io-remote.ads
 gnatcoll-io.adb
 gnatcoll-io.ads
 gnatcoll-json-utility.adb
 gnatcoll-json-utility.ads
 gnatcoll-json.adb
 gnatcoll-json.ads
 gnatcoll-memory.adb
 gnatcoll-memory.ads
 gnatcoll-mmap-system__unix.adb
 gnatcoll-mmap-system__unix.ads
 gnatcoll-mmap.adb
 gnatcoll-mmap.ads
 gnatcoll-paragraph_filling-badnesses.adb
 gnatcoll-paragraph_filling-badnesses.ads
 gnatcoll-paragraph_filling-words.adb
 gnatcoll-paragraph_filling-words.ads
 gnatcoll-paragraph_filling.adb
 gnatcoll-paragraph_filling.ads
 gnatcoll-path.adb
 gnatcoll-path.ads
 gnatcoll-pools.adb
 gnatcoll-pools.ads
 gnatcoll-projects-aux.adb
 gnatcoll-projects-aux.ads
 gnatcoll-projects-krunch.adb
 gnatcoll-projects-krunch.ads
 gnatcoll-projects-normalize.adb
 gnatcoll-projects-normalize.ads
 gnatcoll-projects.adb
 gnatcoll-projects.ads
 gnatcoll-ravenscar-multiple_queue_cyclic_server.adb
 gnatcoll-ravenscar-multiple_queue_cyclic_server.ads
 gnatcoll-ravenscar-multiple_queue_sporadic_server.adb
 gnatcoll-ravenscar-multiple_queue_sporadic_server.ads
 gnatcoll-ravenscar-simple_cyclic_task.adb
 gnatcoll-ravenscar-simple_cyclic_task.ads
 gnatcoll-ravenscar-simple_sporadic_task.adb
 gnatcoll-ravenscar-simple_sporadic_task.ads
 gnatcoll-ravenscar-sporadic_server.adb
 gnatcoll-ravenscar-sporadic_server.ads
 gnatcoll-ravenscar-sporadic_server_with_callback.adb
 gnatcoll-ravenscar-sporadic_server_with_callback.ads
 gnatcoll-ravenscar-timed_out_sporadic_server.adb
 gnatcoll-ravenscar-timed_out_sporadic_server.ads
 gnatcoll-ravenscar-timers-one_shot_timer.adb
 gnatcoll-ravenscar-timers-one_shot_timer.ads
 gnatcoll-ravenscar-timers.ads
 gnatcoll-ravenscar-utils.adb
 gnatcoll-ravenscar-utils.ads
 gnatcoll-ravenscar.ads
 gnatcoll-refcount-weakref.adb
 gnatcoll-refcount-weakref.ads
 gnatcoll-refcount.adb
 gnatcoll-refcount.ads
 gnatcoll-remote-db.adb
 gnatcoll-remote-db.ads
 gnatcoll-remote.ads
 gnatcoll-scripts-files.adb
 gnatcoll-scripts-files.ads
 gnatcoll-scripts-impl.adb
 gnatcoll-scripts-impl.ads
 gnatcoll-scripts-projects.adb
 gnatcoll-scripts-projects.ads
 gnatcoll-scripts-shell.adb
 gnatcoll-scripts-shell.ads
 gnatcoll-scripts-utils.adb
 gnatcoll-scripts-utils.ads
 gnatcoll-scripts.adb
 gnatcoll-scripts.ads
 gnatcoll-sql-exec-tasking.adb
 gnatcoll-sql-exec-tasking.ads
 gnatcoll-sql-exec.adb
 gnatcoll-sql-exec.ads
 gnatcoll-sql-exec_private.adb
 gnatcoll-sql-exec_private.ads
 gnatcoll-sql-inspect.adb
 gnatcoll-sql-inspect.ads
 gnatcoll-sql-orm-impl.adb
 gnatcoll-sql-orm-impl.ads
 gnatcoll-sql-orm.adb
 gnatcoll-sql-orm.ads
 gnatcoll-sql-sessions.adb
 gnatcoll-sql-sessions.ads
 gnatcoll-sql.adb
 gnatcoll-sql.ads
 gnatcoll-sql_impl.adb
 gnatcoll-sql_impl.ads
 gnatcoll-storage_pools-alignment.adb
 gnatcoll-storage_pools-alignment.ads
 gnatcoll-storage_pools-headers.adb
 gnatcoll-storage_pools-headers.ads
 gnatcoll-storage_pools.ads
 gnatcoll-symbols.adb
 gnatcoll-symbols.ads
 gnatcoll-templates.adb
 gnatcoll-templates.ads
 gnatcoll-terminal.adb
 gnatcoll-terminal.ads
 gnatcoll-traces-syslog.adb
 gnatcoll-traces-syslog.ads
 gnatcoll-traces.adb
 gnatcoll-traces.ads
 gnatcoll-tribooleans.adb
 gnatcoll-tribooleans.ads
 gnatcoll-utils.adb
 gnatcoll-utils.ads
 gnatcoll-vfs.adb
 gnatcoll-vfs.ads
 gnatcoll-vfs_types.ads
 gnatcoll-vfs_utils.adb
 gnatcoll-vfs_utils.ads
 gnatcoll.ads
 gnatcoll_support.c
 link_max.c
 objlist_file.c
 run_path_option.c
 separate_run_path_option.c
 set_std_prefix.c
 terminals.c
 update_path.c
include/gnatcoll/gnatcoll_gmp.static/
 gmp_support.c
 gnatcoll-gmp-integers-io.adb
 gnatcoll-gmp-integers-io.ads
 gnatcoll-gmp-integers-misc.adb
 gnatcoll-gmp-integers-misc.ads
 gnatcoll-gmp-integers-number_theoretic.adb
 gnatcoll-gmp-integers-number_theoretic.ads
 gnatcoll-gmp-integers-random.adb
 gnatcoll-gmp-integers-random.ads
 gnatcoll-gmp-integers-root_extraction.adb
 gnatcoll-gmp-integers-root_extraction.ads
 gnatcoll-gmp-integers.adb
 gnatcoll-gmp-integers.ads
 gnatcoll-gmp-lib.ads
 gnatcoll-gmp-mpz_even_p.c
 gnatcoll-gmp-mpz_odd_p.c
 gnatcoll-gmp-mpz_sign.c
 gnatcoll-gmp-random_state.adb
 gnatcoll-gmp-random_state.ads
 gnatcoll-gmp.ads
include/gnatcoll/gnatcoll_gtk.static/
 gnatcoll-scripts-gtkada.adb
 gnatcoll-scripts-gtkada.ads
 gnatcoll-scripts-python-gtkada.adb
 gnatcoll-scripts-python-gtkada.ads
 gnatcoll-vfs-gtkada.adb
 gnatcoll-vfs-gtkada.ads
 python_support_gtk.c
include/gnatcoll/gnatcoll_iconv.static/
 gnatcoll-iconv.adb
 gnatcoll-iconv.ads
 iconv_support.c
include/gnatcoll/gnatcoll_postgres.static/
 gnatcoll-sql-postgres-builder.adb
 gnatcoll-sql-postgres-builder.ads
 gnatcoll-sql-postgres.adb
 gnatcoll-sql-postgres.ads
include/gnatcoll/gnatcoll_python.static/
 gnatcoll-any_types-python.adb
 gnatcoll-any_types-python.ads
 gnatcoll-python.adb
 gnatcoll-python.ads
 gnatcoll-scripts-python.adb
 gnatcoll-scripts-python.ads
 python_support.c
include/gnatcoll/gnatcoll_readline.static/
 gnatcoll-readline.adb
 gnatcoll-readline.ads
include/gnatcoll/gnatcoll_sqlite.static/
 gnatcoll-sql-sqlite-builder.adb
 gnatcoll-sql-sqlite-builder.ads
 gnatcoll-sql-sqlite-gnade.adb
 gnatcoll-sql-sqlite-gnade.ads
 gnatcoll-sql-sqlite.adb
 gnatcoll-sql-sqlite.ads
 gnatcoll-xref-database.adb
 gnatcoll-xref-database.ads
 gnatcoll-xref-database_names.ads
 gnatcoll-xref.adb
 gnatcoll-xref.ads
 shell.c
 sqlite3.c
 sqlite3.h
 sqlite3ext.h
include/gnatcoll/gpr.static/
 gpr-ali.adb
 gpr-ali.ads
 gpr-attr-pm.adb
 gpr-attr-pm.ads
 gpr-attr.adb
 gpr-attr.ads
 gpr-com.ads
 gpr-conf.adb
 gpr-conf.ads
 gpr-cset.adb
 gpr-cset.ads
 gpr-debug.adb
 gpr-debug.ads
 gpr-dect.adb
 gpr-dect.ads
 gpr-env.adb
 gpr-env.ads
 gpr-err-scanner.adb
 gpr-err.adb
 gpr-err.ads
 gpr-erroutc.adb
 gpr-erroutc.ads
 gpr-ext.adb
 gpr-ext.ads
 gpr-names.adb
 gpr-names.ads
 gpr-nmsc.adb
 gpr-nmsc.ads
 gpr-opt.ads
 gpr-osint.adb
 gpr-osint.ads
 gpr-output.adb
 gpr-output.ads
 gpr-part.adb
 gpr-part.ads
 gpr-pp.adb
 gpr-pp.ads
 gpr-proc.adb
 gpr-proc.ads
 gpr-scans.adb
 gpr-scans.ads
 gpr-sinput.adb
 gpr-sinput.ads
 gpr-snames.adb
 gpr-snames.ads
 gpr-stamps.adb
 gpr-strt.adb
 gpr-strt.ads
 gpr-tempdir.adb
 gpr-tempdir.ads
 gpr-tree.adb
 gpr-tree.ads
 gpr-util.adb
 gpr-util.ads
 gpr.adb
 gpr.ads
lib/gnat/
 gnatcoll.gpr
 gnatcoll_full.gpr
 gnatcoll_gmp.gpr
 gnatcoll_gtk.gpr
 gnatcoll_iconv.gpr
 gnatcoll_postgres.gpr
 gnatcoll_python.gpr
 gnatcoll_readline.gpr
 gnatcoll_sqlite.gpr
 gpr.gpr
lib/gnatcoll/gnatcoll.static/
 gnatcoll-any_types.ali
 gnatcoll-arg_lists.ali
 gnatcoll-atomic__intrinsic.ali
 gnatcoll-boyer_moore.ali
 gnatcoll-config.ali
 gnatcoll-email-mailboxes.ali
 gnatcoll-email-parser.ali
 gnatcoll-email-utils.ali
 gnatcoll-email.ali
 gnatcoll-geometry.ali
 gnatcoll-io-native.ali
 gnatcoll-io-remote-unix.ali
 gnatcoll-io-remote-windows.ali
 gnatcoll-io-remote.ali
 gnatcoll-io.ali
 gnatcoll-json-utility.ali
 gnatcoll-json.ali
 gnatcoll-memory.ali
 gnatcoll-mmap-system__unix.ali
 gnatcoll-mmap.ali
 gnatcoll-paragraph_filling-badnesses.ali
 gnatcoll-paragraph_filling-words.ali
 gnatcoll-paragraph_filling.ali
 gnatcoll-path.ali
 gnatcoll-pools.ali
 gnatcoll-projects-aux.ali
 gnatcoll-projects-krunch.ali
 gnatcoll-projects-normalize.ali
 gnatcoll-projects.ali
 gnatcoll-ravenscar-multiple_queue_cyclic_server.ali
 gnatcoll-ravenscar-multiple_queue_sporadic_server.ali
 gnatcoll-ravenscar-simple_cyclic_task.ali
 gnatcoll-ravenscar-simple_sporadic_task.ali
 gnatcoll-ravenscar-sporadic_server.ali
 gnatcoll-ravenscar-sporadic_server_with_callback.ali
 gnatcoll-ravenscar-timed_out_sporadic_server.ali
 gnatcoll-ravenscar-timers-one_shot_timer.ali
 gnatcoll-ravenscar-timers.ali
 gnatcoll-ravenscar-utils.ali
 gnatcoll-ravenscar.ali
 gnatcoll-refcount-weakref.ali
 gnatcoll-refcount.ali
 gnatcoll-remote-db.ali
 gnatcoll-remote.ali
 gnatcoll-scripts-files.ali
 gnatcoll-scripts-impl.ali
 gnatcoll-scripts-projects.ali
 gnatcoll-scripts-shell.ali
 gnatcoll-scripts-utils.ali
 gnatcoll-scripts.ali
 gnatcoll-sql-exec-tasking.ali
 gnatcoll-sql-exec.ali
 gnatcoll-sql-exec_private.ali
 gnatcoll-sql-inspect.ali
 gnatcoll-sql-orm-impl.ali
 gnatcoll-sql-orm.ali
 gnatcoll-sql-sessions.ali
 gnatcoll-sql.ali
 gnatcoll-sql_impl.ali
 gnatcoll-storage_pools-alignment.ali
 gnatcoll-storage_pools-headers.ali
 gnatcoll-storage_pools.ali
 gnatcoll-symbols.ali
 gnatcoll-templates.ali
 gnatcoll-terminal.ali
 gnatcoll-traces-syslog.ali
 gnatcoll-traces.ali
 gnatcoll-tribooleans.ali
 gnatcoll-utils.ali
 gnatcoll-vfs.ali
 gnatcoll-vfs_types.ali
 gnatcoll-vfs_utils.ali
 gnatcoll.ali
 libgnatcoll.a
lib/gnatcoll/gnatcoll_gmp.static/
 gnatcoll-gmp-integers-io.ali
 gnatcoll-gmp-integers-misc.ali
 gnatcoll-gmp-integers-number_theoretic.ali
 gnatcoll-gmp-integers-random.ali
 gnatcoll-gmp-integers-root_extraction.ali
 gnatcoll-gmp-integers.ali
 gnatcoll-gmp-lib.ali
 gnatcoll-gmp-random_state.ali
 gnatcoll-gmp.ali
 libgnatcoll_gmp.a
lib/gnatcoll/gnatcoll_gtk.static/
 gnatcoll-scripts-gtkada.ali
 gnatcoll-scripts-python-gtkada.ali
 gnatcoll-vfs-gtkada.ali
 libgnatcoll_gtk.a
lib/gnatcoll/gnatcoll_iconv.static/
 gnatcoll-iconv.ali
 libgnatcoll_iconv.a
lib/gnatcoll/gnatcoll_postgres.static/
 gnatcoll-sql-postgres-builder.ali
 gnatcoll-sql-postgres.ali
 libgnatcoll_postgres.a
lib/gnatcoll/gnatcoll_python.static/
 gnatcoll-any_types-python.ali
 gnatcoll-python.ali
 gnatcoll-scripts-python.ali
 libgnatcoll_python.a
lib/gnatcoll/gnatcoll_readline.static/
 gnatcoll-readline.ali
 libgnatcoll_readline.a
lib/gnatcoll/gnatcoll_sqlite.static/
 gnatcoll-sql-sqlite-builder.ali
 gnatcoll-sql-sqlite-gnade.ali
 gnatcoll-sql-sqlite.ali
 gnatcoll-xref-database.ali
 gnatcoll-xref-database_names.ali
 gnatcoll-xref.ali
 libgnatcoll_sqlite.a
lib/gnatcoll/gpr.static/
 gpr-ali.ali
 gpr-attr-pm.ali
 gpr-attr.ali
 gpr-com.ali
 gpr-conf.ali
 gpr-cset.ali
 gpr-debug.ali
 gpr-dect.ali
 gpr-env.ali
 gpr-err.ali
 gpr-erroutc.ali
 gpr-ext.ali
 gpr-names.ali
 gpr-nmsc.ali
 gpr-opt.ali
 gpr-osint.ali
 gpr-output.ali
 gpr-part.ali
 gpr-pp.ali
 gpr-proc.ali
 gpr-scans.ali
 gpr-sinput.ali
 gpr-snames.ali
 gpr-strt.ali
 gpr-tempdir.ali
 gpr-tree.ali
 gpr-util.ali
 gpr.ali
 libgpr.a
share/gnatcoll/dborm.py


[FILE:9141:manifests/plist.single.project]
include/gnatcoll/gnatcoll.static/
 getRSS.c
 gnatcoll-any_types.adb
 gnatcoll-any_types.ads
 gnatcoll-arg_lists.adb
 gnatcoll-arg_lists.ads
 gnatcoll-atomic.ads
 gnatcoll-atomic__intrinsic.ada
 gnatcoll-boyer_moore.adb
 gnatcoll-boyer_moore.ads
 gnatcoll-config.adb
 gnatcoll-config.ads
 gnatcoll-email-mailboxes.adb
 gnatcoll-email-mailboxes.ads
 gnatcoll-email-parser.adb
 gnatcoll-email-parser.ads
 gnatcoll-email-utils.adb
 gnatcoll-email-utils.ads
 gnatcoll-email.adb
 gnatcoll-email.ads
 gnatcoll-geometry.adb
 gnatcoll-geometry.ads
 gnatcoll-io-native-codec__unix.adb
 gnatcoll-io-native.adb
 gnatcoll-io-native.ads
 gnatcoll-io-remote-unix.adb
 gnatcoll-io-remote-unix.ads
 gnatcoll-io-remote-windows.adb
 gnatcoll-io-remote-windows.ads
 gnatcoll-io-remote.adb
 gnatcoll-io-remote.ads
 gnatcoll-io.adb
 gnatcoll-io.ads
 gnatcoll-json-utility.adb
 gnatcoll-json-utility.ads
 gnatcoll-json.adb
 gnatcoll-json.ads
 gnatcoll-memory.adb
 gnatcoll-memory.ads
 gnatcoll-mmap-system__unix.adb
 gnatcoll-mmap-system__unix.ads
 gnatcoll-mmap.adb
 gnatcoll-mmap.ads
 gnatcoll-paragraph_filling-badnesses.adb
 gnatcoll-paragraph_filling-badnesses.ads
 gnatcoll-paragraph_filling-words.adb
 gnatcoll-paragraph_filling-words.ads
 gnatcoll-paragraph_filling.adb
 gnatcoll-paragraph_filling.ads
 gnatcoll-path.adb
 gnatcoll-path.ads
 gnatcoll-pools.adb
 gnatcoll-pools.ads
 gnatcoll-projects-aux.adb
 gnatcoll-projects-aux.ads
 gnatcoll-projects-krunch.adb
 gnatcoll-projects-krunch.ads
 gnatcoll-projects-normalize.adb
 gnatcoll-projects-normalize.ads
 gnatcoll-projects.adb
 gnatcoll-projects.ads
 gnatcoll-ravenscar-multiple_queue_cyclic_server.adb
 gnatcoll-ravenscar-multiple_queue_cyclic_server.ads
 gnatcoll-ravenscar-multiple_queue_sporadic_server.adb
 gnatcoll-ravenscar-multiple_queue_sporadic_server.ads
 gnatcoll-ravenscar-simple_cyclic_task.adb
 gnatcoll-ravenscar-simple_cyclic_task.ads
 gnatcoll-ravenscar-simple_sporadic_task.adb
 gnatcoll-ravenscar-simple_sporadic_task.ads
 gnatcoll-ravenscar-sporadic_server.adb
 gnatcoll-ravenscar-sporadic_server.ads
 gnatcoll-ravenscar-sporadic_server_with_callback.adb
 gnatcoll-ravenscar-sporadic_server_with_callback.ads
 gnatcoll-ravenscar-timed_out_sporadic_server.adb
 gnatcoll-ravenscar-timed_out_sporadic_server.ads
 gnatcoll-ravenscar-timers-one_shot_timer.adb
 gnatcoll-ravenscar-timers-one_shot_timer.ads
 gnatcoll-ravenscar-timers.ads
 gnatcoll-ravenscar-utils.adb
 gnatcoll-ravenscar-utils.ads
 gnatcoll-ravenscar.ads
 gnatcoll-refcount-weakref.adb
 gnatcoll-refcount-weakref.ads
 gnatcoll-refcount.adb
 gnatcoll-refcount.ads
 gnatcoll-remote-db.adb
 gnatcoll-remote-db.ads
 gnatcoll-remote.ads
 gnatcoll-scripts-files.adb
 gnatcoll-scripts-files.ads
 gnatcoll-scripts-impl.adb
 gnatcoll-scripts-impl.ads
 gnatcoll-scripts-projects.adb
 gnatcoll-scripts-projects.ads
 gnatcoll-scripts-shell.adb
 gnatcoll-scripts-shell.ads
 gnatcoll-scripts-utils.adb
 gnatcoll-scripts-utils.ads
 gnatcoll-scripts.adb
 gnatcoll-scripts.ads
 gnatcoll-sql-exec-tasking.adb
 gnatcoll-sql-exec-tasking.ads
 gnatcoll-sql-exec.adb
 gnatcoll-sql-exec.ads
 gnatcoll-sql-exec_private.adb
 gnatcoll-sql-exec_private.ads
 gnatcoll-sql-inspect.adb
 gnatcoll-sql-inspect.ads
 gnatcoll-sql-orm-impl.adb
 gnatcoll-sql-orm-impl.ads
 gnatcoll-sql-orm.adb
 gnatcoll-sql-orm.ads
 gnatcoll-sql-sessions.adb
 gnatcoll-sql-sessions.ads
 gnatcoll-sql.adb
 gnatcoll-sql.ads
 gnatcoll-sql_impl.adb
 gnatcoll-sql_impl.ads
 gnatcoll-storage_pools-alignment.adb
 gnatcoll-storage_pools-alignment.ads
 gnatcoll-storage_pools-headers.adb
 gnatcoll-storage_pools-headers.ads
 gnatcoll-storage_pools.ads
 gnatcoll-symbols.adb
 gnatcoll-symbols.ads
 gnatcoll-templates.adb
 gnatcoll-templates.ads
 gnatcoll-terminal.adb
 gnatcoll-terminal.ads
 gnatcoll-traces-syslog.adb
 gnatcoll-traces-syslog.ads
 gnatcoll-traces.adb
 gnatcoll-traces.ads
 gnatcoll-tribooleans.adb
 gnatcoll-tribooleans.ads
 gnatcoll-utils.adb
 gnatcoll-utils.ads
 gnatcoll-vfs.adb
 gnatcoll-vfs.ads
 gnatcoll-vfs_types.ads
 gnatcoll-vfs_utils.adb
 gnatcoll-vfs_utils.ads
 gnatcoll.ads
 gnatcoll_support.c
 link_max.c
 objlist_file.c
 run_path_option.c
 separate_run_path_option.c
 set_std_prefix.c
 terminals.c
 update_path.c
include/gnatcoll/gnatcoll_iconv.static/
 gnatcoll-iconv.adb
 gnatcoll-iconv.ads
 iconv_support.c
include/gnatcoll/gnatcoll_postgres.static/
 gnatcoll-sql-postgres-builder.adb
 gnatcoll-sql-postgres-builder.ads
 gnatcoll-sql-postgres.adb
 gnatcoll-sql-postgres.ads
include/gnatcoll/gnatcoll_python.static/
 gnatcoll-python.adb
 gnatcoll-python.ads
 gnatcoll-scripts-python.adb
 gnatcoll-scripts-python.ads
include/gnatcoll/gnatcoll_readline.static/
 gnatcoll-readline.adb
 gnatcoll-readline.ads
include/gnatcoll/gnatcoll_sqlite.static/
 gnatcoll-sql-sqlite-builder.adb
 gnatcoll-sql-sqlite-builder.ads
 gnatcoll-sql-sqlite.adb
 gnatcoll-sql-sqlite.ads
 gnatcoll-xref-database.adb
 gnatcoll-xref-database.ads
 gnatcoll-xref-database_names.ads
 gnatcoll-xref.adb
 gnatcoll-xref.ads
include/gnatcoll/gpr.static/
 gpr-ali.adb
 gpr-ali.ads
 gpr-attr-pm.adb
 gpr-attr-pm.ads
 gpr-attr.adb
 gpr-attr.ads
 gpr-com.ads
 gpr-conf.adb
 gpr-conf.ads
 gpr-cset.adb
 gpr-cset.ads
 gpr-debug.adb
 gpr-debug.ads
 gpr-dect.adb
 gpr-dect.ads
 gpr-env.adb
 gpr-env.ads
 gpr-err-scanner.adb
 gpr-err.adb
 gpr-err.ads
 gpr-erroutc.adb
 gpr-erroutc.ads
 gpr-ext.adb
 gpr-ext.ads
 gpr-names.adb
 gpr-names.ads
 gpr-nmsc.adb
 gpr-nmsc.ads
 gpr-opt.ads
 gpr-osint.adb
 gpr-osint.ads
 gpr-output.adb
 gpr-output.ads
 gpr-part.adb
 gpr-part.ads
 gpr-pp.adb
 gpr-pp.ads
 gpr-proc.adb
 gpr-proc.ads
 gpr-scans.adb
 gpr-scans.ads
 gpr-sinput.adb
 gpr-sinput.ads
 gpr-snames.adb
 gpr-snames.ads
 gpr-stamps.adb
 gpr-strt.adb
 gpr-strt.ads
 gpr-tempdir.adb
 gpr-tempdir.ads
 gpr-tree.adb
 gpr-tree.ads
 gpr-util.adb
 gpr-util.ads
 gpr.adb
 gpr.ads
lib/gnat/
 gnatcoll.gpr
 gnatcoll_full.gpr
 gnatcoll_gmp.gpr
 gnatcoll_iconv.gpr
 gnatcoll_postgres.gpr
 gnatcoll_python.gpr
 gnatcoll_readline.gpr
 gnatcoll_sqlite.gpr
 gpr.gpr
lib/gnatcoll/gnatcoll.static/
 gnatcoll-any_types.ali
 gnatcoll-arg_lists.ali
 gnatcoll-atomic__intrinsic.ali
 gnatcoll-boyer_moore.ali
 gnatcoll-config.ali
 gnatcoll-email-mailboxes.ali
 gnatcoll-email-parser.ali
 gnatcoll-email-utils.ali
 gnatcoll-email.ali
 gnatcoll-geometry.ali
 gnatcoll-io-native.ali
 gnatcoll-io-remote-unix.ali
 gnatcoll-io-remote-windows.ali
 gnatcoll-io-remote.ali
 gnatcoll-io.ali
 gnatcoll-json-utility.ali
 gnatcoll-json.ali
 gnatcoll-memory.ali
 gnatcoll-mmap-system__unix.ali
 gnatcoll-mmap.ali
 gnatcoll-paragraph_filling-badnesses.ali
 gnatcoll-paragraph_filling-words.ali
 gnatcoll-paragraph_filling.ali
 gnatcoll-path.ali
 gnatcoll-pools.ali
 gnatcoll-projects-aux.ali
 gnatcoll-projects-krunch.ali
 gnatcoll-projects-normalize.ali
 gnatcoll-projects.ali
 gnatcoll-ravenscar-multiple_queue_cyclic_server.ali
 gnatcoll-ravenscar-multiple_queue_sporadic_server.ali
 gnatcoll-ravenscar-simple_cyclic_task.ali
 gnatcoll-ravenscar-simple_sporadic_task.ali
 gnatcoll-ravenscar-sporadic_server.ali
 gnatcoll-ravenscar-sporadic_server_with_callback.ali
 gnatcoll-ravenscar-timed_out_sporadic_server.ali
 gnatcoll-ravenscar-timers-one_shot_timer.ali
 gnatcoll-ravenscar-timers.ali
 gnatcoll-ravenscar-utils.ali
 gnatcoll-ravenscar.ali
 gnatcoll-refcount-weakref.ali
 gnatcoll-refcount.ali
 gnatcoll-remote-db.ali
 gnatcoll-remote.ali
 gnatcoll-scripts-files.ali
 gnatcoll-scripts-impl.ali
 gnatcoll-scripts-projects.ali
 gnatcoll-scripts-shell.ali
 gnatcoll-scripts-utils.ali
 gnatcoll-scripts.ali
 gnatcoll-sql-exec-tasking.ali
 gnatcoll-sql-exec.ali
 gnatcoll-sql-exec_private.ali
 gnatcoll-sql-inspect.ali
 gnatcoll-sql-orm-impl.ali
 gnatcoll-sql-orm.ali
 gnatcoll-sql-sessions.ali
 gnatcoll-sql.ali
 gnatcoll-sql_impl.ali
 gnatcoll-storage_pools-alignment.ali
 gnatcoll-storage_pools-headers.ali
 gnatcoll-storage_pools.ali
 gnatcoll-symbols.ali
 gnatcoll-templates.ali
 gnatcoll-terminal.ali
 gnatcoll-traces-syslog.ali
 gnatcoll-traces.ali
 gnatcoll-tribooleans.ali
 gnatcoll-utils.ali
 gnatcoll-vfs.ali
 gnatcoll-vfs_types.ali
 gnatcoll-vfs_utils.ali
 gnatcoll.ali
 libgnatcoll.a
lib/gnatcoll/gnatcoll_iconv.static/
 gnatcoll-iconv.ali
 libgnatcoll_iconv.a
lib/gnatcoll/gnatcoll_postgres.static/
 gnatcoll-sql-postgres-builder.ali
 gnatcoll-sql-postgres.ali
 libgnatcoll_postgres.a
lib/gnatcoll/gnatcoll_python.static/
 gnatcoll-python.ali
 gnatcoll-scripts-python.ali
 libgnatcoll_python.a
lib/gnatcoll/gnatcoll_readline.static/
 gnatcoll-readline.ali
 libgnatcoll_readline.a
lib/gnatcoll/gnatcoll_sqlite.static/
 gnatcoll-sql-sqlite-builder.ali
 gnatcoll-sql-sqlite.ali
 gnatcoll-xref-database.ali
 gnatcoll-xref-database_names.ali
 gnatcoll-xref.ali
 libgnatcoll_sqlite.a
lib/gnatcoll/gpr.static/
 gpr-ali.ali
 gpr-attr-pm.ali
 gpr-attr.ali
 gpr-com.ali
 gpr-conf.ali
 gpr-cset.ali
 gpr-debug.ali
 gpr-dect.ali
 gpr-env.ali
 gpr-err.ali
 gpr-erroutc.ali
 gpr-ext.ali
 gpr-names.ali
 gpr-nmsc.ali
 gpr-opt.ali
 gpr-osint.ali
 gpr-output.ali
 gpr-part.ali
 gpr-pp.ali
 gpr-proc.ali
 gpr-scans.ali
 gpr-sinput.ali
 gpr-snames.ali
 gpr-strt.ali
 gpr-tempdir.ali
 gpr-tree.ali
 gpr-util.ali
 gpr.ali
 libgpr.a


[FILE:1686:patches/patch-Makefile]
--- Makefile.orig	2016-05-12 07:45:17 UTC
+++ Makefile
@@ -51,7 +51,7 @@ endif
 #######################################################################
 #  install
 
-GPRINST_OPTS=-p -f --prefix=${prefix} --install-name=gnatcoll \
+GPRINST_OPTS=-p -f --prefix=$(DESTDIR)${prefix} --install-name=gnatcoll \
 	--exec-subdir=${bindir} --project-subdir=lib/gnat \
 	--build-var=LIBRARY_TYPE --build-name=$(@F) -XLIBRARY_TYPE=$(@F)
 
@@ -71,9 +71,9 @@ endif
 	${GPRINSTALL} --mode=usage ${GPRINST_OPTS} -Psrc/gnatcoll_tools
 
 install_gps_plugin: force
-	mkdir -p $(prefix)/share/gps/plug-ins
+	mkdir -p $(DESTDIR)$(prefix)/share/gps/plug-ins
 	(cd distrib/ ; tar cf - gnatcoll) | \
-          (cd $(prefix)/share/gps/plug-ins ; tar xf -)
+          (cd $(DESTDIR)$(prefix)/share/gps/plug-ins ; tar xf -)
 
 # Regenerate part of the sources. Unfortunately, this can be run only after
 # we have build GNATCOLL, and then its tools, even though GNATCOLL itself
@@ -108,7 +108,7 @@ ifeq ($(OS),Windows_NT)
 	-cd $(SQLITE_DIR); gcc -O2 -DSQLITE_OMIT_LOAD_EXTENSION -D__EXTENSIONS__ -o sqlite3_for_gps shell.c sqlite3.c
 else
 	# If we fail to compile, never mind. Some tests will simply be disabled
-	-cd $(SQLITE_DIR); gcc -O2 -DSQLITE_OMIT_LOAD_EXTENSION -D__EXTENSIONS__ -o sqlite3_for_gps shell.c sqlite3.c -lpthread -ldl
+	-cd $(SQLITE_DIR); gcc -O2 -DSQLITE_OMIT_LOAD_EXTENSION -D__EXTENSIONS__ -o sqlite3_for_gps shell.c sqlite3.c -lpthread
 endif
 
 ## Only works after installation, so we should install to a local directory
@@ -149,6 +149,6 @@ clean: clean_library/static clean_librar
 	-${MAKE} -C examples $@
 
 docs:
-	${MAKE} -C docs html latexpdf
+	${MAKE} -C docs html
 
 force:


[FILE:395:patches/patch-configure]
--- configure.orig	2016-05-19 14:39:16 UTC
+++ configure
@@ -3910,7 +3910,7 @@ $as_echo_n "checking if we can link with
             ia64-*hp-hpux11* )
                PYTHON_LIBS="-ldld -ldl -lm -Wl,-E ${PYTHON_LIBS}"
                ;;
-            *-freebsd* )
+            *-freebsd* | *-dragonfly* )
                PYTHON_LIBS="-lm -lutil ${PYTHON_LIBS}"
                ;;
          esac


[FILE:506:patches/patch-src_gnatcoll__iconv.gpr]
--- src/gnatcoll_iconv.gpr.orig	2015-04-30 10:51:45 UTC
+++ src/gnatcoll_iconv.gpr
@@ -27,7 +27,8 @@ project GnatColl_Iconv is
    package Compiler is
       for Switches ("Ada") use GnatColl_Shared.Compiler'Switches ("Ada");
       for Switches ("C") use GnatColl_Shared.Compiler'Switches ("C")
-          & GnatColl_Shared.Iconv_Include;
+          & ("-nostdinc") & GnatColl_Shared.Iconv_Include
+          & ("-I/usr/include");
    end Compiler;
 
    package Builder  renames GnatColl_Shared.Builder;


[FILE:878:patches/patch-src_gnatcoll__readline.gpr.in]
--- src/gnatcoll_readline.gpr.in.orig	2015-04-30 10:51:45 UTC
+++ src/gnatcoll_readline.gpr.in
@@ -6,7 +6,7 @@ project GnatColl_Readline is
       when "yes" =>
          for Languages use ("Ada");
          for Source_Dirs use ("readline", "readline/with_readline");
-         for Library_Options use ("-lreadline");
+         for Library_Options use ("-L@PREFIX@/lib", "-lreadline");
       when "no" =>
          for Source_Dirs use ("readline", "readline/no_readline");
    end case;
@@ -26,7 +26,8 @@ project GnatColl_Readline is
    package Linker is
       --  When linking an executable
       case Gnatcoll_Shared.Readline is
-         when "yes" => for Linker_Options use ("-lreadline");
+         when "yes" => for Linker_Options use ("-rpath=@PREFIX@/lib",
+            "-L@PREFIX@/lib", "-lreadline");
          when "no"  => null;
       end case;
    end Linker;


[FILE:640:patches/patch-src_iconv_with__iconv_iconv__support.c]
--- src/iconv/with_iconv/iconv_support.c.orig	2015-04-30 10:51:47 UTC
+++ src/iconv/with_iconv/iconv_support.c
@@ -6,6 +6,7 @@
 #include <iconv.h>
 #include <errno.h>
 #include <locale.h>
+#include <sys/param.h>
 
 const int gnatcoll_errno_einval = EINVAL;
 const int gnatcoll_errno_e2big  = E2BIG;
@@ -25,7 +26,8 @@ int gnatcoll_iconv_close(iconv_t cd) {
    return iconv_close (cd);
 }
 
-#if _LIBICONV_VERSION >= 0x010D
+#if defined (__DragonFly__) || \
+   (defined (__FreeBSD__) && __FreeBSD_version < 1001514)
 size_t gnatcoll_iconv
    (iconv_t cd,  const char** inbuf, size_t *inbytesleft, char** outbuf,
     size_t *outbytesleft)

