# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		python-sphinxcontrib-adadomain
VERSION=		0.2
KEYWORDS=		python devel
VARIANTS=		py27 py35 py36
SDESC[py35]=		Sphinx "adadomain" extension (PY 35)
SDESC[py36]=		Sphinx "adadomain" extension (PY 36)
SDESC[py27]=		Sphinx "adadomain" extension (PY 27)
HOMEPAGE=		https://bitbucket.org/tkoskine/sphinxcontrib-adadomain
CONTACT=		Python_Automaton[python@ironwolf.systems]

DOWNLOAD_GROUPS=	main
SITES[main]=		PYPI/s/sphinxcontrib-adadomain
DISTFILE[1]=		sphinxcontrib-adadomain-0.2.tar.gz:main
DF_INDEX=		1
SPKGS[py35]=		single
SPKGS[py36]=		single
SPKGS[py27]=		single

OPTIONS_AVAILABLE=	PY27 PY35 PY36
OPTIONS_STANDARD=	none
VOPTS[py35]=		PY27=OFF PY35=ON PY36=OFF
VOPTS[py36]=		PY27=OFF PY35=OFF PY36=ON
VOPTS[py27]=		PY27=ON PY35=OFF PY36=OFF

DISTNAME=		sphinxcontrib-adadomain-0.2

GENERATED=		yes

[PY35].BUILDRUN_DEPENDS_ON=		python-Sphinx:single:py35
[PY35].USES_ON=				python:py35

[PY36].BUILDRUN_DEPENDS_ON=		python-Sphinx:single:py36
[PY36].USES_ON=				python:py36

[PY27].BUILDRUN_DEPENDS_ON=		python-Sphinx:single:py27
[PY27].USES_ON=				python:py27

[FILE:146:descriptions/desc.single]
==========
Ada Domain
==========

:author: Tero Koskinen <tero.koskinen@iki.fi>

About
=====

This extension adds Ada domain support to Sphinx.




[FILE:113:distinfo]
42bb33aa4adcd43ff6b43a3fe7b305428abd8dfb7a76b1dc44a5392c5359ed76         7355 sphinxcontrib-adadomain-0.2.tar.gz


[FILE:1658:patches/patch-sphinxcontrib_adadomain.py]
--- sphinxcontrib/adadomain.py.orig	2018-01-19 17:53:22 UTC
+++ sphinxcontrib/adadomain.py
@@ -18,13 +18,13 @@ import string
 
 from docutils import nodes
 from docutils.parsers.rst import directives
+from docutils.parsers.rst import Directive
 
-from sphinx import addnodes
+from sphinx import addnodes, version_info
 from sphinx.roles import XRefRole
 from sphinx.locale import l_, _
 from sphinx.directives import ObjectDescription
 from sphinx.domains import Domain, ObjType, Index
-from sphinx.util.compat import Directive
 from sphinx.util.nodes import make_refnode
 from sphinx.util.docfields import Field, TypedField
 
@@ -269,12 +269,12 @@ class AdaObject(ObjectDescription):
 
         indextext = self._get_index_text(name)
         if indextext:
-            self.indexnode['entries'].append(('single', indextext, name, name))
+            self.indexnode['entries'].append(('single', indextext, name, name, None))
 
         plain_name = pieces[-1]
         indextext = self._get_index_text(plain_name)
         if indextext:
-            self.indexnode['entries'].append(('single', indextext, name, plain_name))
+            self.indexnode['entries'].append(('single', indextext, name, plain_name, None))
 
 
 class AdaModule(Directive):
@@ -316,7 +316,7 @@ class AdaModule(Directive):
         if not noindex:
             indextext = _('%s (module)') % modname
             inode = addnodes.index(entries=[('single', indextext,
-                                             'module-' + modname, modname)])
+                                             'module-' + modname, modname, None)])
             ret.append(inode)
         return ret
 

