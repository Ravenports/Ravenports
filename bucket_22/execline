# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		execline
VERSION=		2.9.6.1
KEYWORDS=		lang
VARIANTS=		std
SDESC[std]=		Light and secure sh(1)-like scripting language
HOMEPAGE=		https://www.skarnet.org/software/execline/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main man
SITES[main]=		https://www.skarnet.org/software/execline/
SITES[man]=		https://git.sr.ht/~flexibeast/execline-man-pages/archive/
DISTFILE[1]=		execline-2.9.6.1.tar.gz:main
DISTFILE[2]=		v2.9.6.0.1.tar.gz:man
DIST_SUBDIR=		skarnet
DF_INDEX=		1 2
SPKGS[std]=		set
			primary
			dev
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		skalibs:dev:std
BUILDRUN_DEPENDS=	skalibs:primary:std

USES=			gmake

LICENSE=		ISCL:primary
LICENSE_FILE=		ISCL:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		lang/execline

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--prefix={{PREFIX}}
			--enable-shared
			--with-sysdeps={{PREFIX}}/lib/skalibs/sysdeps
			--with-lib={{PREFIX}}/lib/skalibs
			--with-dynlib={{PREFIX}}/lib
			--with-include={{PREFIX}}/include

PLIST_SUB=		SOVERSION=2.9.6.1
			SOMAJOR=2.9

post-patch:
	${REINPLACE_CMD} -e "s|usr|${STAGEDIR}${PREFIX}|" ${WRKDIR}/execline-man-pages-v2.9.6.0.1/Makefile

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/*
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libexecline.so.2.9.6.1

post-build:
	(cd ${WRKDIR}/execline-man-pages-v2.9.6.0.1 && \
		make install)

[FILE:522:descriptions/desc.primary]
Execline is a (non-interactive) scripting language, like sh(1) - but its 
syntax is quite different from a traditional shell syntax. The execlineb 
program is meant to be used as an interpreter for a text file; the other 
commands are essentially useful inside an execlineb script.

Execline is as powerful as a shell: it features conditional loops, 
getopt-style option handling, filename globbing, and more. Meanwhile, its 
syntax is far more logic and predictable than the shell's syntax, and has 
no security issues. 


[FILE:214:distinfo]
76919d62f2de4db1ac4b3a59eeb3e0e09b62bcdd9add13ae3f2dad26f8f0e5ca       111566 skarnet/execline-2.9.6.1.tar.gz
71fb5654b1dc973abf85d067596bf485d72de78acf1a665ba7612cb6cfdb30c0        44771 skarnet/v2.9.6.0.1.tar.gz


[FILE:561:manifests/plist.primary]
bin/
 background
 backtick
 case
 cd
 define
 dollarat
 elgetopt
 elgetpositionals
 elglob
 eltest
 emptyenv
 envfile
 exec
 execline-cd
 execline-umask
 execlineb
 exit
 export
 fdblock
 fdclose
 fdmove
 fdreserve
 fdswap
 forbacktickx
 foreground
 forstdin
 forx
 getcwd
 getpid
 heredoc
 homeof
 if
 ifelse
 ifte
 ifthenelse
 importas
 loopwhilex
 multidefine
 multisubstitute
 pipeline
 piperw
 posix-cd
 posix-umask
 redirfd
 runblock
 shift
 trap
 tryexec
 umask
 unexport
 wait
 withstdinas
lib/
 libexecline.so.%%SOMAJOR%%
 libexecline.so.%%SOVERSION%%


[FILE:76:manifests/plist.dev]
include/execline/
 config.h
 execline.h
lib/
 libexecline.a
 libexecline.so


[FILE:828:manifests/plist.man]
share/man/man1/
 background.1
 backtick.1
 case.1
 define.1
 dollarat.1
 elgetopt.1
 elgetpositionals.1
 elglob.1
 eltest.1
 emptyenv.1
 envfile.1
 exec.1
 execline-cd.1
 execline-shell.1
 execline-startup.1
 execline-umask.1
 execline.1
 execlineb.1
 exit.1
 export.1
 fdblock.1
 fdclose.1
 fdmove.1
 fdreserve.1
 fdswap.1
 forbacktickx.1
 foreground.1
 forstdin.1
 forx.1
 getcwd.1
 getpid.1
 heredoc.1
 homeof.1
 if.1
 ifelse.1
 ifte.1
 ifthenelse.1
 importas.1
 loopwhilex.1
 multidefine.1
 multisubstitute.1
 pipeline.1
 piperw.1
 posix-cd.1
 posix-umask.1
 redirfd.1
 runblock.1
 shift.1
 trap.1
 tryexec.1
 unexport.1
 wait.1
 withstdinas.1
share/man/man7/
 execline-block.7
 execline-components.7
 execline-exitcodes.7
 execline-grammar.7
 execline-pushenv.7
 execline-substitute.7
 execline-transform.7
 execline-why.7

