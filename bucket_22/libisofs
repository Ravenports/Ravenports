# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libisofs
VERSION=		1.5.6
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Lib for creating ISO9660 FS, supporting extensions
HOMEPAGE=		https://dev.lovelyhq.com/libburnia/libisofs
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://files.libburnia-project.org/releases/
DISTFILE[1]=		libisofs-1.5.6.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			libtool iconv zlib mbsdfix

LICENSE=		GPLv2+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"Important:"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/libisofs/libisofs.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/libisofs

MUST_CONFIGURE=		gnu

SOVERSION=		6.92.0

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libisofs.so

pre-configure:
	${REINPLACE_CMD} -e '/libdata/d' ${WRKSRC}/configure

[FILE:764:descriptions/desc.single]
Libisofs is a library to create an ISO-9660 filesystem with extensions 
like Rock Ridge or Joliet. It is also a full featured ISO-9660 editor, 
allowing you to modify an ISO image or multisession disc, including file 
addition/removal, change of file names and attributes, etc.

ISO-9660 images can be made bootable from CD, DVD, or BD via an El Torito 
boot record and appropriate boot image files from boot managers/boot 
loaders. It is also possible to install an MBR and a partition table for 
hard-disk-like media, e.g. USB memory sticks. Additional to PC BIOS and 
UEFI, some other more exotic boot sector types are supported.

Libisofs supports the extension AAIP which can store ACLs and xattr in 
ISO-9660 filesystems as well as zlib or gzip compression.


[FILE:100:distinfo]
0152d66a9d340b659fe9c880eb9190f3570fb477ac07cf52e8bcd134a1d30d70       879144 libisofs-1.5.6.tar.gz


[FILE:138:manifests/plist.single]
include/libisofs/libisofs.h
lib/
 libisofs.a
 libisofs.so
 libisofs.so.%%SOMAJOR%%
 libisofs.so.%%SOVERSION%%
lib/pkgconfig/libisofs-1.pc


[FILE:989:patches/patch-configure]
--- configure.orig	2021-02-07 09:34:02 UTC
+++ configure
@@ -2498,7 +2498,7 @@ test -n "$target_alias" &&
 
 
 case $target_os in
-freebsd* | netbsd*)
+xxxxxx*)
         LDFLAGS="$LDFLAGS -L/usr/local/lib"
         CPPFLAGS="$CPPFLAGS -I/usr/local/include"
         ;;
@@ -11503,7 +11503,7 @@ netbsdelf*-gnu)
 
 netbsd*)
   # ts B51007 : changed version_type for lt_main.sh from "sunos" to "netbsd"
-  version_type=netbsd
+  version_type=freebsd-elf
   need_lib_prefix=no
   need_version=no
   if echo __ELF__ | $CC -E - | $GREP __ELF__ >/dev/null; then
@@ -11543,7 +11543,7 @@ openbsd*)
   # ts B60722 : changed version_type for lt_main.sh from "sunos" to "netbsd"
   #             http://www.openbsd.org/faq/ports/specialtopics.html
   #             "Understanding shared libraries number rules"
-  version_type=netbsd
+  version_type=freebsd-elf
   sys_lib_dlsearch_path_spec="/usr/lib"
   need_lib_prefix=no
   # Some older versions of OpenBSD (3.3 at least) *do* need versioned libs.

