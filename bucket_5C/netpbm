# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		netpbm
VERSION=		11.11.0
KEYWORDS=		graphics
VARIANTS=		std
SDESC[std]=		Toolkit for manipulation of graphic images
HOMEPAGE=		https://netpbm.sourceforge.net/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main guide
SITES[main]=		GITHUB/leahneukirchen:netpbm-mirror:2592c19
SITES[guide]=		GITHUB/leahneukirchen:netpbm-mirror:25df08d
DISTFILE[1]=		generated:main
DISTFILE[2]=		generated:guide
DF_INDEX=		1 2
SPKGS[std]=		set
			primary
			dev
			man
			tools

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		jasper:dev:std
BUILDRUN_DEPENDS=	jasper:primary:std
EXRUN[tools]=		primary

USES=			cpe gmake png tiff perl shebangfix iconv
			python:build
GNOME_COMPONENTS=	libxml2
XORG_COMPONENTS=	x11 xcb xau xdmcp

LICENSE=		CUSTOM1:primary
LICENSE_NAME=		CUSTOM1:"Netpbm multi-license (at least 8)"
LICENSE_FILE=		CUSTOM1:{{WRKSRC}}/doc/copyright_summary
LICENSE_SCHEME=		solo

CPE_VENDOR=		netpbm_project
FPC_EQUIVALENT=		graphics/netpbm
SHEBANG_FILES=		buildtools/makeman
			converter/ppm/hpcdtoppm/pcdovtoppm
			editor/pnmflip
			editor/pnmquant
			editor/ppmfade
			editor/ppmquant
			editor/ppmshadow
			generator/ppmrainbow
			converter/pbm/pbmtox10bm
			test/Execute-Tests
			test/*.test
			test/Available-Testprog

MAKEFILE=		GNUmakefile
MAKE_ARGS=		pkgdir={{STAGEDIR}}{{PREFIX}}
			BINMODE={{BINMODE}}
			SHAREMODE={{SHAREMODE}}
			DATAMODE={{_SHAREMODE}}
			DIRMODE=755
			MANMODE={{MANMODE}}
			DATADIR={{DATADIR}}

INSTALL_TARGET=		install.bin install.lib install.data install.hdr
			install.staticlib
SOVERSION=		11.111

CFLAGS=			-Wno-implicit-function-declaration
			-Wno-incompatible-pointer-types
VAR_OPSYS[sunos]=	MAKE_ARGS=NETWORKLD="-lsocket -lnsl"
			MAKE_ARGS=LDSHLIB=-shared

post-install:
.if "${.MAKE.OS.NAME}" == "Darwin"
	(cd ${STAGEDIR}${PREFIX}/lib && ${LN} -sf libnetpbm.11.dylib libnetpbm.dylib)
.else
	(cd ${STAGEDIR}${PREFIX}/lib && ${LN} -sf libnetpbm.so.11 libnetpbm.so)
.endif
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libnetpbm.${LIBEXT}
	${RM} ${STAGEDIR}${PREFIX}/bin/manweb
	${INSTALL_DATA} ${WRKSRC}/lib/util/pm_c_util.h ${WRKSRC}/pm_config.h \
		${STAGEDIR}${PREFIX}/include/netpbm
	${INSTALL_MAN} ${WRKSRC}/*.1 ${STAGEDIR}${MANPREFIX}/man/man1
	${INSTALL_MAN} ${WRKSRC}/*.3 ${STAGEDIR}${MANPREFIX}/man/man3
	${INSTALL_MAN} ${WRKSRC}/*.5 ${STAGEDIR}${MANPREFIX}/man/man5

post-build:
	${MAKE_CMD} \
		MAKEMAN="${WRKSRC}/buildtools/makeman" \
		USERGUIDE="${WRKDIR}/netpbm-mirror-25df08d" \
		-C ${WRKSRC} -f "${WRKSRC}/buildtools/manpage.mk" manpages

do-configure:
	${CAT} ${WRKSRC}/config.mk.in ${FILESDIR}/config.mk > ${WRKSRC}/config.mk

pre-configure:
	${REINPLACE_CMD} -e 's|misc|share/netpbm|g' ${WRKSRC}/common.mk
	${REINPLACE_CMD} \
		-e 's|/sharedlink|/lib|g' \
		-e 's|/staticlink|/lib|g' \
		${WRKSRC}/lib/Makefile
	${REINPLACE_CMD} \
		-e 's|pkg-config|false|g' \
		${WRKSRC}/GNUmakefile

pre-configure-sunos:
	# Ridiculous but they hardcode it in every file so we have no choice.
	${GREP} -rl "^#.*define.*_XOPEN_SOURCE" ${WRKSRC} |\
	${XARGS} ${SED} -i'' -e '/_XOPEN_SOURCE/ s/500/600/' \
		-e '/_XOPEN_SOURCE/ s/1$$/600/' \
		-e '/_XOPEN_SOURCE$$/ s/E$$/E 600/' \
		-e '/_XOPEN_SOURCE[^0-9]*\/\*/ s/SOURCE/SOURCE 600/'
	${GREP} -rl "^#.*define.*_POSIX_SOURCE" ${WRKSRC} |\
	${XARGS} ${SED} -i'' \
		-e '/_POSIX_SOURCE/ s/_POSIX_SOURCE/_XOPEN_SOURCE 600/'

[FILE:429:descriptions/desc.primary]
Netpbm is a toolkit for manipulation of graphic images, including
conversion of images between a variety of different formats.  There are
over 300 separate tools in the package including converters for about
100 graphics formats.

Examples of supported image manipulations: Shrinking an image by 10%;
Cutting the top half off of an image; Making a mirror image; Creating
a sequence of images that fade from one image to another.


[FILE:39:descriptions/desc.tools]
This package contains netbpm programs.


[FILE:244:distinfo]
d6b73809e6ff501d009bb80e87b75d8a42a5914de439d584aad66fbd1c45bbd0      3028377 leahneukirchen-netpbm-mirror-2592c19.tar.gz
265188e592da7853150be1655345b6d88ff5a9352531f49405838df5ed5b825d      1823968 leahneukirchen-netpbm-mirror-25df08d.tar.gz


[FILE:59:manifests/plist.primary]
lib/
 libnetpbm.so.%%SOMAJOR%%
 libnetpbm.so.%%SOVERSION%%


[FILE:270:manifests/plist.dev]
include/netpbm/
 colorname.h
 mallocvar.h
 pam.h
 pamdraw.h
 pammap.h
 pbm.h
 pbmfont.h
 pbmfontdata.h
 pgm.h
 pm.h
 pm_c_util.h
 pm_config.h
 pm_gamma.h
 pm_system.h
 pnm.h
 ppm.h
 ppmcmap.h
 ppmdfont.h
 ppmdraw.h
 runlength.h
 shhopt.h
lib/
 libnetpbm.a
 libnetpbm.so


[FILE:5288:manifests/plist.man]
share/man/man1/
 411toppm.1
 anytopnm.1
 asciitopgm.1
 atktopbm.1
 avstopam.1
 bioradtopgm.1
 bmptopnm.1
 bmptoppm.1
 brushtopbm.1
 cameratopam.1
 cistopbm.1
 cmuwmtopbm.1
 ddbugtopbm.1
 escp2topbm.1
 eyuvtoppm.1
 faxformat.1
 fiascotopnm.1
 fitstopnm.1
 fstopgm.1
 g3topbm.1
 gemtopbm.1
 gemtopnm.1
 giftopnm.1
 gouldtoppm.1
 hdifftopam.1
 hipstopgm.1
 icontopbm.1
 ilbmtoppm.1
 imgtoppm.1
 infotopam.1
 jbigtopnm.1
 jpeg2ktopam.1
 jpegtopnm.1
 leaftoppm.1
 lispmtopgm.1
 macptopbm.1
 manweb.1
 mdatopbm.1
 mgrtopbm.1
 mrf.1
 mrftopbm.1
 mtvtoppm.1
 neotoppm.1
 netpbm.1
 palmtopnm.1
 pamaddnoise.1
 pamaltsat.1
 pamarith.1
 pambackground.1
 pambayer.1
 pambrighten.1
 pamcat.1
 pamchannel.1
 pamcomp.1
 pamcrater.1
 pamcut.1
 pamdeinterlace.1
 pamdepth.1
 pamdice.1
 pamditherbw.1
 pamedge.1
 pamendian.1
 pamenlarge.1
 pamexec.1
 pamfile.1
 pamfind.1
 pamfix.1
 pamfixtrunc.1
 pamflip.1
 pamfunc.1
 pamgauss.1
 pamgetcolor.1
 pamgradient.1
 pamhomography.1
 pamhue.1
 pamlevels.1
 pamlookup.1
 pammasksharpen.1
 pammixinterlace.1
 pammixmulti.1
 pammosaicknit.1
 pamoil.1
 pampaintspill.1
 pamperspective.1
 pampick.1
 pampop9.1
 pamrecolor.1
 pamrestack.1
 pamrgbatopng.1
 pamrubber.1
 pamscale.1
 pamseq.1
 pamshadedrelief.1
 pamsharpmap.1
 pamsharpness.1
 pamshuffle.1
 pamsistoaglyph.1
 pamslice.1
 pamsplit.1
 pamstack.1
 pamstereogram.1
 pamstretch-gen.1
 pamstretch.1
 pamsumm.1
 pamsummcol.1
 pamtable.1
 pamthreshold.1
 pamtilt.1
 pamtoavs.1
 pamtodjvurle.1
 pamtofits.1
 pamtogif.1
 pamtohdiff.1
 pamtohtmltbl.1
 pamtojpeg2k.1
 pamtompfont.1
 pamtooctaveimg.1
 pamtopam.1
 pamtopdbimg.1
 pamtopfm.1
 pamtopng.1
 pamtopnm.1
 pamtoqoi.1
 pamtosrf.1
 pamtosvg.1
 pamtotga.1
 pamtotiff.1
 pamtouil.1
 pamtowinicon.1
 pamtoxvmini.1
 pamtris.1
 pamundice.1
 pamunlookup.1
 pamvalidate.1
 pamwipeout.1
 pamx.1
 pbmclean.1
 pbmlife.1
 pbmmake.1
 pbmmask.1
 pbmminkowski.1
 pbmnoise.1
 pbmpage.1
 pbmpscale.1
 pbmreduce.1
 pbmtext.1
 pbmtextps.1
 pbmto10x.1
 pbmto4425.1
 pbmtoascii.1
 pbmtoatk.1
 pbmtobbnbg.1
 pbmtocis.1
 pbmtocmuwm.1
 pbmtodjvurle.1
 pbmtoepsi.1
 pbmtoepson.1
 pbmtoescp2.1
 pbmtog3.1
 pbmtogem.1
 pbmtogo.1
 pbmtoibm23xx.1
 pbmtoicon.1
 pbmtolj.1
 pbmtoln03.1
 pbmtolps.1
 pbmtomacp.1
 pbmtomatrixorbital.1
 pbmtomda.1
 pbmtomgr.1
 pbmtomrf.1
 pbmtonokia.1
 pbmtopgm.1
 pbmtopi3.1
 pbmtopk.1
 pbmtoplot.1
 pbmtoppa.1
 pbmtopsg3.1
 pbmtoptx.1
 pbmtosunicon.1
 pbmtowbmp.1
 pbmtox10bm.1
 pbmtoxbm.1
 pbmtoybm.1
 pbmtozinc.1
 pbmupc.1
 pc1toppm.1
 pcdindex.1
 pcdovtoppm.1
 pcxtoppm.1
 pdbimgtopam.1
 pfmtopam.1
 pgmabel.1
 pgmbentley.1
 pgmcrater.1
 pgmdeshadow.1
 pgmedge.1
 pgmenhance.1
 pgmhist.1
 pgmkernel.1
 pgmmake.1
 pgmmedian.1
 pgmminkowski.1
 pgmmorphconv.1
 pgmnoise.1
 pgmnorm.1
 pgmoil.1
 pgmramp.1
 pgmslice.1
 pgmtexture.1
 pgmtofs.1
 pgmtolispm.1
 pgmtopbm.1
 pgmtopgm.1
 pgmtoppm.1
 pgmtosbig.1
 pgmtost4.1
 pi1toppm.1
 pi3topbm.1
 picttoppm.1
 pjtoppm.1
 pktopbm.1
 pngtopam.1
 pngtopnm.1
 pnmalias.1
 pnmarith.1
 pnmcat.1
 pnmcolormap.1
 pnmcomp.1
 pnmconvol.1
 pnmcrop.1
 pnmcut.1
 pnmdepth.1
 pnmenlarge.1
 pnmfile.1
 pnmflip.1
 pnmgamma.1
 pnmhisteq.1
 pnmhistmap.1
 pnmindex.1
 pnminterp.1
 pnminvert.1
 pnmmargin.1
 pnmmercator.1
 pnmmontage.1
 pnmnlfilt.1
 pnmnoraw.1
 pnmnorm.1
 pnmpad.1
 pnmpaste.1
 pnmpsnr.1
 pnmquant.1
 pnmquantall.1
 pnmremap.1
 pnmrotate.1
 pnmscale.1
 pnmscalefixed.1
 pnmshear.1
 pnmsmooth.1
 pnmsplit.1
 pnmstitch.1
 pnmtile.1
 pnmtoddif.1
 pnmtofiasco.1
 pnmtofits.1
 pnmtojbig.1
 pnmtojpeg.1
 pnmtopalm.1
 pnmtopclxl.1
 pnmtoplainpnm.1
 pnmtopng.1
 pnmtopnm.1
 pnmtops.1
 pnmtorast.1
 pnmtorle.1
 pnmtosgi.1
 pnmtosir.1
 pnmtotiff.1
 pnmtotiffcmyk.1
 pnmtoxwd.1
 ppm3d.1
 ppmbrighten.1
 ppmchange.1
 ppmcie.1
 ppmcolormask.1
 ppmcolors.1
 ppmdcfont.1
 ppmddumpfont.1
 ppmdim.1
 ppmdist.1
 ppmdither.1
 ppmdmkfont.1
 ppmdraw.1
 ppmfade.1
 ppmflash.1
 ppmforge.1
 ppmglobe.1
 ppmhist.1
 ppmlabel.1
 ppmmake.1
 ppmmix.1
 ppmnorm.1
 ppmntsc.1
 ppmpat.1
 ppmquant.1
 ppmquantall.1
 ppmrainbow.1
 ppmrelief.1
 ppmrough.1
 ppmshadow.1
 ppmshift.1
 ppmspread.1
 ppmtoacad.1
 ppmtoapplevol.1
 ppmtoarbtxt.1
 ppmtoascii.1
 ppmtobmp.1
 ppmtoeyuv.1
 ppmtogif.1
 ppmtoicr.1
 ppmtoilbm.1
 ppmtojpeg.1
 ppmtoleaf.1
 ppmtolj.1
 ppmtomap.1
 ppmtomitsu.1
 ppmtompeg.1
 ppmtoneo.1
 ppmtopcx.1
 ppmtopgm.1
 ppmtopi1.1
 ppmtopict.1
 ppmtopj.1
 ppmtopjxl.1
 ppmtoppm.1
 ppmtopuzz.1
 ppmtorgb3.1
 ppmtosixel.1
 ppmtospu.1
 ppmtoterm.1
 ppmtotga.1
 ppmtouil.1
 ppmtowinicon.1
 ppmtoxpm.1
 ppmtoyuv.1
 ppmtoyuvsplit.1
 ppmtv.1
 ppmwheel.1
 psidtopgm.1
 pstopnm.1
 qoitopam.1
 qrttoppm.1
 rasttopnm.1
 rawtopgm.1
 rawtoppm.1
 rgb3toppm.1
 rlatopam.1
 rletopnm.1
 sbigtopgm.1
 sgitopnm.1
 sirtopnm.1
 sldtoppm.1
 spctoppm.1
 spottopgm.1
 sputoppm.1
 srftopam.1
 st4topgm.1
 sunicontopnm.1
 svgtopam.1
 tgatoppm.1
 thinkjettopbm.1
 tifftopnm.1
 wbmptopbm.1
 winicon.1
 winicontopam.1
 winicontoppm.1
 xbmtopbm.1
 ximtoppm.1
 xpmtoppm.1
 xvminitoppm.1
 xwdtopnm.1
 ybmtopbm.1
 yuvsplittoppm.1
 yuvtoppm.1
 yuy2topam.1
 zeisstopnm.1
share/man/man3/
 libmaketmpfile.3
 libmaketmpfilefd.3
 libnetpbm.3
 libnetpbm_draw.3
 libnetpbm_font.3
 libnetpbm_image.3
 libnetpbm_ug.3
 libpbm.3
 libpgm.3
 libpm.3
 libpnm.3
 libppm.3
 libsystem.3
 libtmpfile.3
 libtmpfilefd.3
share/man/man5/
 extendedopacity.5
 pam.5
 pbm.5
 pfm.5
 pgm.5
 pnm.5
 ppm.5


[FILE:4279:manifests/plist.tools]
bin/
 411toppm
 anytopnm
 asciitopgm
 atktopbm
 avstopam
 bioradtopgm
 bmptopnm
 bmptoppm
 brushtopbm
 cameratopam
 cistopbm
 cmuwmtopbm
 ddbugtopbm
 escp2topbm
 eyuvtoppm
 fiascotopnm
 fitstopnm
 fstopgm
 g3topbm
 gemtopbm
 gemtopnm
 giftopnm
 gouldtoppm
 hdifftopam
 hipstopgm
 hpcdtoppm
 icontopbm
 ilbmtoppm
 imgtoppm
 infotopam
 jbigtopnm
 jpeg2ktopam
 jpegtopnm
 leaftoppm
 lispmtopgm
 macptopbm
 mdatopbm
 mgrtopbm
 mrftopbm
 mtvtoppm
 neotoppm
 palmtopnm
 pamaddnoise
 pamaltsat
 pamarith
 pambackground
 pambayer
 pambrighten
 pamcat
 pamchannel
 pamcomp
 pamcrater
 pamcut
 pamdeinterlace
 pamdepth
 pamdice
 pamditherbw
 pamedge
 pamendian
 pamenlarge
 pamexec
 pamfile
 pamfind
 pamfix
 pamfixtrunc
 pamflip
 pamfunc
 pamgauss
 pamgetcolor
 pamgradient
 pamhomography
 pamhue
 pamlevels
 pamlookup
 pammasksharpen
 pammixinterlace
 pammixmulti
 pammosaicknit
 pamoil
 pampaintspill
 pamperspective
 pampick
 pampop9
 pamrecolor
 pamrestack
 pamrgbatopng
 pamrubber
 pamscale
 pamseq
 pamshadedrelief
 pamsharpmap
 pamsharpness
 pamshuffle
 pamsistoaglyph
 pamslice
 pamsplit
 pamstack
 pamstereogram
 pamstretch
 pamstretch-gen
 pamsumm
 pamsummcol
 pamtable
 pamthreshold
 pamtilt
 pamtoavs
 pamtodjvurle
 pamtofits
 pamtogif
 pamtohdiff
 pamtohtmltbl
 pamtojpeg2k
 pamtompfont
 pamtooctaveimg
 pamtopam
 pamtopdbimg
 pamtopfm
 pamtopng
 pamtopnm
 pamtoqoi
 pamtosrf
 pamtosvg
 pamtotga
 pamtotiff
 pamtouil
 pamtowinicon
 pamtoxvmini
 pamtris
 pamundice
 pamunlookup
 pamvalidate
 pamwipeout
 pamx
 pbmclean
 pbmlife
 pbmmake
 pbmmask
 pbmminkowski
 pbmnoise
 pbmpage
 pbmpscale
 pbmreduce
 pbmtext
 pbmtextps
 pbmto10x
 pbmto4425
 pbmtoascii
 pbmtoatk
 pbmtobbnbg
 pbmtocis
 pbmtocmuwm
 pbmtodjvurle
 pbmtoepsi
 pbmtoepson
 pbmtoescp2
 pbmtog3
 pbmtogem
 pbmtogo
 pbmtoibm23xx
 pbmtoicon
 pbmtolj
 pbmtoln03
 pbmtolps
 pbmtomacp
 pbmtomatrixorbital
 pbmtomda
 pbmtomgr
 pbmtomrf
 pbmtonokia
 pbmtopgm
 pbmtopi3
 pbmtopk
 pbmtoplot
 pbmtoppa
 pbmtopsg3
 pbmtoptx
 pbmtosunicon
 pbmtowbmp
 pbmtox10bm
 pbmtoxbm
 pbmtoybm
 pbmtozinc
 pbmupc
 pc1toppm
 pcdindex
 pcdovtoppm
 pcxtoppm
 pdbimgtopam
 pfmtopam
 pgmabel
 pgmbentley
 pgmcrater
 pgmdeshadow
 pgmedge
 pgmenhance
 pgmhist
 pgmkernel
 pgmmake
 pgmmedian
 pgmminkowski
 pgmmorphconv
 pgmnoise
 pgmnorm
 pgmoil
 pgmramp
 pgmslice
 pgmtexture
 pgmtofs
 pgmtolispm
 pgmtopbm
 pgmtopgm
 pgmtoppm
 pgmtosbig
 pgmtost4
 pi1toppm
 pi3topbm
 picttoppm
 pjtoppm
 pktopbm
 pngtopam
 pngtopnm
 pnmalias
 pnmarith
 pnmcat
 pnmcolormap
 pnmcomp
 pnmconvol
 pnmcrop
 pnmcut
 pnmdepth
 pnmenlarge
 pnmfile
 pnmflip
 pnmgamma
 pnmhisteq
 pnmhistmap
 pnmindex
 pnminterp
 pnminterp-gen
 pnminvert
 pnmmargin
 pnmmercator
 pnmmontage
 pnmnlfilt
 pnmnoraw
 pnmnorm
 pnmpad
 pnmpaste
 pnmpsnr
 pnmquant
 pnmquantall
 pnmremap
 pnmrotate
 pnmscale
 pnmscalefixed
 pnmshear
 pnmsmooth
 pnmsplit
 pnmstitch
 pnmtile
 pnmtoddif
 pnmtofiasco
 pnmtofits
 pnmtojbig
 pnmtojpeg
 pnmtopalm
 pnmtopclxl
 pnmtoplainpnm
 pnmtopng
 pnmtopnm
 pnmtops
 pnmtorast
 pnmtorle
 pnmtosgi
 pnmtosir
 pnmtotiff
 pnmtotiffcmyk
 pnmtoxwd
 ppm3d
 ppmbrighten
 ppmchange
 ppmcie
 ppmcolormask
 ppmcolors
 ppmdcfont
 ppmddumpfont
 ppmdim
 ppmdist
 ppmdither
 ppmdmkfont
 ppmdraw
 ppmfade
 ppmflash
 ppmforge
 ppmglobe
 ppmhist
 ppmlabel
 ppmmake
 ppmmix
 ppmnorm
 ppmntsc
 ppmpat
 ppmquant
 ppmquantall
 ppmrainbow
 ppmrelief
 ppmrough
 ppmshadow
 ppmshift
 ppmspread
 ppmtoacad
 ppmtoapplevol
 ppmtoarbtxt
 ppmtoascii
 ppmtobmp
 ppmtoeyuv
 ppmtogif
 ppmtoicr
 ppmtoilbm
 ppmtojpeg
 ppmtoleaf
 ppmtolj
 ppmtomap
 ppmtomitsu
 ppmtompeg
 ppmtoneo
 ppmtopcx
 ppmtopgm
 ppmtopi1
 ppmtopict
 ppmtopj
 ppmtopjxl
 ppmtoppm
 ppmtopuzz
 ppmtorgb3
 ppmtosixel
 ppmtospu
 ppmtoterm
 ppmtotga
 ppmtouil
 ppmtowinicon
 ppmtoxpm
 ppmtoyuv
 ppmtoyuvsplit
 ppmtv
 ppmwheel
 psidtopgm
 pstopnm
 qoitopam
 qrttoppm
 rasttopnm
 rawtopgm
 rawtoppm
 rgb3toppm
 rlatopam
 rletopnm
 sbigtopgm
 sgitopnm
 sirtopnm
 sldtoppm
 spctoppm
 spottopgm
 sputoppm
 srftopam
 st4topgm
 sunicontopnm
 svgtopam
 tgatoppm
 thinkjettopbm
 tifftopnm
 wbmptopbm
 winicontopam
 winicontoppm
 xbmtopbm
 ximtoppm
 xpmtoppm
 xvminitoppm
 xwdtopnm
 ybmtopbm
 yuvsplittoppm
 yuvtoppm
 yuy2topam
 zeisstopnm
share/netpbm/
 palmcolor8.map
 palmgray1.map
 palmgray2.map
 palmgray4.map
 pcxstd.ppm
 rgb.txt


[FILE:204:patches/patch-converter_ppm_picttoppm.c]
--- converter/ppm/picttoppm.c.orig	2025-06-29 03:49:30 UTC
+++ converter/ppm/picttoppm.c
@@ -23,6 +23,7 @@
  */
 
 #define _XOPEN_SOURCE
+#define _NETBSD_SOURCE
 
 #include <unistd.h>
 #include <stdio.h>


[FILE:284:patches/patch-pm__config.in.h]
Remove bogus SYSV section (fixes build on SunOS)

--- pm_config.in.h.orig	2025-06-29 03:49:30 UTC
+++ pm_config.in.h
@@ -74,7 +74,7 @@
 ** for the format of the color database file.
 */
 
-#if (defined(SYSV) || defined(__amigaos__))
+#if defined(__amigaos__)
 
 #include <string.h>
 


[FILE:1276:files/config.mk]
# $FreeBSD: head/graphics/netpbm/files/config.mk 454404 2017-11-18 00:51:34Z tobik $
CFLAGS_SHLIB += -fPIC
DEFAULT_TARGET = nonmerge
INSTALL_PERM_BIN =  $(BINMODE)
INSTALL_PERM_DATA = $(DATAMODE)
INSTALL_PERM_HDR =  $(DATAMODE)
INSTALL_PERM_LIBD = $(DIRMODE)
INSTALL_PERM_LIBS = $(SHAREMODE)
INSTALL_PERM_MAN =  $(MANMODE)
JASPERHDR_DIR = $(LOCALBASE)/include
JASPERLIB = -L$(LOCALBASE)/lib -ljasper -ljpeg
JBIGHDR_DIR = $(LOCALBASE)/include
JBIGLIB = -L$(LOCALBASE)/lib -ljbig
JPEGHDR_DIR = $(LOCALBASE)/include
JPEGLIB = -L$(LOCALBASE)/lib -ljpeg
LINKER_CAN_DO_EXPLICIT_LIBRARY = Y
LINKERISCOMPILER = Y
NETPBMLIBSUFFIX = so
NETPBMLIBTYPE = unixshared
NETPBM_DOCURL = http://netpbm.sourceforge.net/doc/
PNGHDR_DIR = $(LOCALBASE)/include
PNGLIB = -L$(LOCALBASE)/lib -lpng
RGB_DB_PATH = $(DATADIR)/rgb.txt:$(LOCALBASE)/lib/X11/rgb.txt
STATICLIB_TOO = Y
TIFFHDR_DIR = $(LOCALBASE)/include
TIFFLIB = -L$(LOCALBASE)/lib -ltiff -llzma -ljbig
X11HDR_DIR = $(LOCALBASE)/include
X11LIB = -L$(LOCALBASE)/lib -lX11 -lxcb -lXau -lXdmcp
ZLIB = -lz
# Don't use pkg-config.  It leads to all sorts of "fun" results when
# trying to link netpbm's programs statically.  This is only an issue
# when building the port outside of Poudriere/Synth.
PKG_CONFIG = false
PNGVER = PKGCONFIG_NO_THANKS


[FILE:388:dragonfly/patch-lib_libpm.c]
--- lib/libpm.c.orig	2025-06-29 03:49:30 UTC
+++ lib/libpm.c
@@ -17,6 +17,7 @@
 #include <unistd.h>
 #include <stdio.h>
 #include <stdarg.h>
+#include <stdlib.h>
 #include <string.h>
 #include <errno.h>
 #include <setjmp.h>
@@ -837,7 +838,7 @@ pm_arg0toprogname(const char arg0[]) {
 unsigned int
 pm_randseed(void) {
 
-    return time(NULL) ^ getpid();
+    return arc4random();
 
 }
 


[FILE:388:freebsd/patch-lib_libpm.c]
--- lib/libpm.c.orig	2025-06-29 03:49:30 UTC
+++ lib/libpm.c
@@ -17,6 +17,7 @@
 #include <unistd.h>
 #include <stdio.h>
 #include <stdarg.h>
+#include <stdlib.h>
 #include <string.h>
 #include <errno.h>
 #include <setjmp.h>
@@ -837,7 +838,7 @@ pm_arg0toprogname(const char arg0[]) {
 unsigned int
 pm_randseed(void) {
 
-    return time(NULL) ^ getpid();
+    return arc4random();
 
 }
 

