# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		autoconf
VERSION=		2.72
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Unix platform automatic configuration tool
HOMEPAGE=		http://www.gnu.org/software/autoconf/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/autoconf
DISTFILE[1]=		autoconf-2.72.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		help2man:single:standard
BUILDRUN_DEPENDS=	m4:primary:standard
RUN_DEPENDS=		autoconf-switch:single:standard

USES=			gmake perl

LICENSE=		GPLv3+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYINGv3
LICENSE_AWK=		TERMS:"divert_pop"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/bin/autoconf.in
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/autoconf

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--program-suffix=2.72
			--without-lispdir
CONFIGURE_ENV=		M4={{LOCALBASE}}/bin/gm4
			EMACS=NO
			AWK={{AWK}}

PLIST_SUB=		ACVER=2.72

post-patch:
	# Overide data directory and disable info pages
	${REINPLACE_CMD} \
		-e '/^pkgdatadir =/s/@PACKAGE@/&@VERSION@/' \
		-e '/^INFO_DEPS =/d' \
		${WRKSRC}/Makefile.in
	${REINPLACE_CMD} -E \
		-e 's/[^-/]auto(conf|header|reconf|scan|update)/&${VERSION}/g' \
		-e 's/ifnames/&${VERSION}/g' \
		-e '/config\.(guess|sub)/d' \
		${WRKSRC}/man/*.1

[FILE:412:descriptions/desc.single]
Autoconf is an extensible package of m4 macros that produce shell
scripts to automatically configure software source code packages.
These scripts can adapt the packages to many kinds of UNIX-like
systems without manual user intervention.  Autoconf creates a
configuration script for a package from a template file that lists the
operating system features that the package can use, in the form of m4
macro calls.


[FILE:99:distinfo]
ba885c1319578d6c94d46e9b0dceb4014caafe2490e437a0dbca3f270a223f5a      1389680 autoconf-2.72.tar.xz


[FILE:1128:manifests/plist.single]
bin/
 autoconf%%ACVER%%
 autoheader%%ACVER%%
 autom4te%%ACVER%%
 autoreconf%%ACVER%%
 autoscan%%ACVER%%
 autoupdate%%ACVER%%
 ifnames%%ACVER%%
share/autoconf%%ACVER%%/
 INSTALL
 autom4te.cfg
 version.m4
share/autoconf%%ACVER%%/Autom4te/
 C4che.pm
 ChannelDefs.pm
 Channels.pm
 Config.pm
 Configure_ac.pm
 FileUtils.pm
 General.pm
 Getopt.pm
 Request.pm
 XFile.pm
share/autoconf%%ACVER%%/autoconf/
 autoconf.m4
 autoconf.m4f
 autoheader.m4
 autoscan.m4
 autotest.m4
 autoupdate.m4
 c.m4
 erlang.m4
 fortran.m4
 functions.m4
 general.m4
 go.m4
 headers.m4
 lang.m4
 libs.m4
 oldnames.m4
 programs.m4
 specific.m4
 status.m4
 trailer.m4
 types.m4
share/autoconf%%ACVER%%/autoscan/autoscan.list
share/autoconf%%ACVER%%/autotest/
 autotest.m4
 autotest.m4f
 general.m4
 specific.m4
share/autoconf%%ACVER%%/build-aux/
 config.guess
 config.sub
 install-sh
share/autoconf%%ACVER%%/m4sugar/
 foreach.m4
 m4sh.m4
 m4sh.m4f
 m4sugar.m4
 m4sugar.m4f
share/man/man1/
 autoconf%%ACVER%%.1.gz
 autoheader%%ACVER%%.1.gz
 autom4te%%ACVER%%.1.gz
 autoreconf%%ACVER%%.1.gz
 autoscan%%ACVER%%.1.gz
 autoupdate%%ACVER%%.1.gz
 ifnames%%ACVER%%.1.gz


[FILE:464:patches/patch-Makefile.in]
--- Makefile.in.orig	2021-01-28 21:06:02 UTC
+++ Makefile.in
@@ -311,7 +311,7 @@ am__v_texidevnull_ = $(am__v_texidevnull
 am__v_texidevnull_0 = > /dev/null
 am__v_texidevnull_1 = 
 am__dirstamp = $(am__leading_dot)dirstamp
-INFO_DEPS = $(srcdir)/doc/autoconf.info $(srcdir)/doc/standards.info
+INFO_DEPS = $(srcdir)/doc/autoconf.info
 am__TEXINFO_TEX_DIR = $(srcdir)/build-aux
 DVIS = doc/autoconf.dvi doc/standards.dvi
 PDFS = doc/autoconf.pdf doc/standards.pdf


[FILE:352:patches/patch-bin_autoreconf.in]
--- bin/autoreconf.in.orig	2021-01-28 20:46:48 UTC
+++ bin/autoreconf.in
@@ -911,6 +911,7 @@ parse_args;
 
 # Autoreconf all the given configure.ac.  Unless '--no-recursive' is passed,
 # AC_CONFIG_SUBDIRS will be traversed in &autoreconf_current_directory.
+$ENV{'AUTOCONF'} = $autoconf;
 $ENV{'AUTOM4TE'} = $autom4te;
 for my $directory (@ARGV)
   {

