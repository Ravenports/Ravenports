# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		autoconf
VERSION=		2.69
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Unix platform automatic configuration tool
HOMEPAGE=		http://www.gnu.org/software/autoconf/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/autoconf
DISTFILE[1]=		autoconf-2.69.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		help2man:single:standard
BUILDRUN_DEPENDS=	m4:primary:standard
RUN_DEPENDS=		autotools-wrappers:autoconf:standard

USES=			gmake makeinfo perl

INFO=			single:autoconf
FPC_EQUIVALENT=		devel/autoconf
INFO_SUBDIR=		.

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--program-suffix=-2.69
			--without-lispdir
CONFIGURE_ENV=		M4={{LOCALBASE}}/bin/gm4
			AWK={{AWK}}
			ac_cv_prog_TEST_EMACS=no

PLIST_SUB=		ACVER=2.69

post-patch:
	(cd ${WRKSRC}/man && \
		for file in *.[1x]; do \
			${REINPLACE_CMD} -E 's,([^-]auto)(conf|make|reconf|update|header|scan),\1\2-2.69,g ; \
						s,(config\.guess|config\.sub|ifnames),\1-2.69,g' $$file ; \
		done)
	(cd ${WRKSRC}/doc && ${RM} *.info)
	${FIND} ${WRKSRC} -name Makefile.in | ${XARGS} ${REINPLACE_CMD} -e \
		's|@PACKAGE@$$|@PACKAGE@-@VERSION@|'

post-install:
.for FILE in config.guess config.sub	elisp-comp install-sh mdate-sh missing
	${INSTALL_SCRIPT} ${WRKSRC}/build-aux/${FILE} ${STAGEDIR}${PREFIX}/share/autoconf-2.69
.endfor

[FILE:412:descriptions/desc.single]
Autoconf is an extensible package of m4 macros that produce shell
scripts to automatically configure software source code packages.
These scripts can adapt the packages to many kinds of UNIX-like
systems without manual user intervention.  Autoconf creates a
configuration script for a package from a template file that lists the
operating system features that the package can use, in the form of m4
macro calls.


[FILE:99:distinfo]
64ebcec9f8ac5b2487125a86a7760d2591ac9e1d3dbd59489633f9de62a57684      1214744 autoconf-2.69.tar.xz


[FILE:1255:manifests/plist.single]
bin/
 autoconf-%%ACVER%%
 autoheader-%%ACVER%%
 autom4te-%%ACVER%%
 autoreconf-%%ACVER%%
 autoscan-%%ACVER%%
 autoupdate-%%ACVER%%
 ifnames-%%ACVER%%
share/autoconf-%%ACVER%%/Autom4te/
 C4che.pm
 ChannelDefs.pm
 Channels.pm
 Configure_ac.pm
 FileUtils.pm
 General.pm
 Getopt.pm
 Request.pm
 XFile.pm
share/autoconf-%%ACVER%%/
 INSTALL
share/autoconf-%%ACVER%%/autoconf/
 autoconf.m4
 autoconf.m4f
 autoheader.m4
 autoscan.m4
 autotest.m4
 autoupdate.m4
 c.m4
 erlang.m4
 fortran.m4
 functions.m4
 general.m4
 go.m4
 headers.m4
 lang.m4
 libs.m4
 oldnames.m4
 programs.m4
 specific.m4
 status.m4
 types.m4
share/autoconf-%%ACVER%%/
 autom4te.cfg
share/autoconf-%%ACVER%%/autoscan/autoscan.list
share/autoconf-%%ACVER%%/autotest/
 autotest.m4
 autotest.m4f
 general.m4
 specific.m4
share/autoconf-%%ACVER%%/
 config.guess
 config.sub
 elisp-comp
 install-sh
share/autoconf-%%ACVER%%/m4sugar/
 foreach.m4
 m4sh.m4
 m4sh.m4f
 m4sugar.m4
 m4sugar.m4f
 version.m4
share/autoconf-%%ACVER%%/
 mdate-sh
 missing
share/man/man1/
 autoconf-%%ACVER%%.1.gz
 autoheader-%%ACVER%%.1.gz
 autom4te-%%ACVER%%.1.gz
 autoreconf-%%ACVER%%.1.gz
 autoscan-%%ACVER%%.1.gz
 autoupdate-%%ACVER%%.1.gz
 config.guess-%%ACVER%%.1.gz
 config.sub-%%ACVER%%.1.gz
 ifnames-%%ACVER%%.1.gz


[FILE:2108:patches/patch-autoconf.texi]
--- doc/autoconf.texi.orig	2012-04-25 02:14:19 UTC
+++ doc/autoconf.texi
@@ -15,7 +15,7 @@
 @c The ARG is an optional argument.  To be used for macro arguments in
 @c their documentation (@defmac).
 @macro ovar{varname}
-@r{[}@var{\varname\}@r{]}@c
+@r{[}@var{\varname\}@r{]}
 @end macro
 
 @c @dvar(ARG, DEFAULT)
@@ -23,7 +23,7 @@
 @c The ARG is an optional argument, defaulting to DEFAULT.  To be used
 @c for macro arguments in their documentation (@defmac).
 @macro dvar{varname, default}
-@r{[}@var{\varname\} = @samp{\default\}@r{]}@c
+@r{[}@var{\varname\} = @samp{\default\}@r{]}
 @end macro
 
 @c Handling the indexes with Texinfo yields several different problems.
@@ -217,31 +217,11 @@ entitled ``GNU Free Documentation Licens
 
 
 
-@dircategory Software development
+@dircategory Programming & development tools
 @direntry
 * Autoconf: (autoconf).         Create source code configuration scripts.
 @end direntry
 
-@dircategory Individual utilities
-@direntry
-* autoscan: (autoconf)autoscan Invocation.
-                                Semi-automatic @file{configure.ac} writing
-* ifnames: (autoconf)ifnames Invocation.        Listing conditionals in source.
-* autoconf-invocation: (autoconf)autoconf Invocation.
-                                How to create configuration scripts
-* autoreconf: (autoconf)autoreconf Invocation.
-                                Remaking multiple @command{configure} scripts
-* autoheader: (autoconf)autoheader Invocation.
-                                How to create configuration templates
-* autom4te: (autoconf)autom4te Invocation.
-                                The Autoconf executables backbone
-* configure: (autoconf)configure Invocation.    Configuring a package.
-* autoupdate: (autoconf)autoupdate Invocation.
-                                Automatic update of @file{configure.ac}
-* config.status: (autoconf)config.status Invocation. Recreating configurations.
-* testsuite: (autoconf)testsuite Invocation.    Running an Autotest test suite.
-@end direntry
-
 @titlepage
 @title Autoconf
 @subtitle Creating Automatic Configuration Scripts


[FILE:287:patches/patch-bin-autoscan.in]
--- bin/autoscan.in.orig	2012-04-25 02:37:26 UTC
+++ bin/autoscan.in
@@ -358,7 +358,7 @@ sub scan_sh_file ($)
     {
       # Strip out comments and variable references.
       s/#.*//;
-      s/\${[^\}]*}//g;
+      s/\$\{[^\}]*}//g;
       s/@[^@]*@//g;
 
       # Tokens in the code.


[FILE:611:patches/patch-doc-Makefile.in]
--- doc/Makefile.in.orig	2012-04-25 02:40:26 UTC
+++ doc/Makefile.in
@@ -65,13 +65,13 @@ CONFIG_CLEAN_FILES =
 CONFIG_CLEAN_VPATH_FILES =
 SOURCES =
 DIST_SOURCES =
-INFO_DEPS = $(srcdir)/autoconf.info $(srcdir)/standards.info
+INFO_DEPS = $(srcdir)/autoconf.info
 am__TEXINFO_TEX_DIR = $(srcdir)/../build-aux
 DVIS = autoconf.dvi standards.dvi
 PDFS = autoconf.pdf standards.pdf
 PSS = autoconf.ps standards.ps
 HTMLS = autoconf.html standards.html
-TEXINFOS = autoconf.texi standards.texi
+TEXINFOS = autoconf.texi
 TEXI2DVI = texi2dvi
 TEXI2PDF = $(TEXI2DVI) --pdf --batch
 MAKEINFOHTML = $(MAKEINFO) --html

