# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		alpine
VERSION=		2.21.99999
KEYWORDS=		mail
VARIANTS=		standard
SDESC[standard]=	Powerful and easy to use text email/news client
HOMEPAGE=		https://repo.or.cz/alpine.git
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://repo.or.cz/alpine.git/snapshot/
DISTFILE[1]=		abeb2c25935ef8c75f1e5deef0f81276754dc975.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	openpam:single:standard

USES=			gettext-runtime libtool ncurses ssl

DISTNAME=		alpine-abeb2c2

LICENSE=		APACHE20:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		APACHE20:{{WRKSRC}}/LICENSE
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/alpine/alpine.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		mail/alpine

INVALID_RPATH=		yes
MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--without-krb5
			--without-tcl
			--with-system-pinerc={{PREFIX}}/etc/alpine.conf
			--with-system-fixed-pinerc={{PREFIX}}/etc/alpine.conf.fixed
			--with-password-prog=/usr/bin/passwd
			--with-system-mail-directory=/var/mail
			--with-ssl-certs-dir={{OPENSSLCERT}}/cert
			--with-ssl-dir={{OPENSSLCERT}}
			--with-ssl-include-dir={{OPENSSLINC}}
			--with-ssl-lib-dir={{OPENSSLLIB}}

VAR_OPSYS[sunos]=	CFLAGS=-D_XPG6
			CFLAGS=-D__EXTENSIONS__

[FILE:428:descriptions/desc.single]
ALPINE is a rewrite of the PINE Email and News client with features added 
such as unicode support. It is polular among email power users due to 
being both very configurable and powerful. At the same time Alpine is 
meant to be easy to use, providing detailed context-sensitive help.

There are various popular patches for Alpine, but currently this package
simply provides the MUA as released and without any patches applied.


[FILE:126:distinfo]
983f04e1c5f1beba767877303c682d3c995e0cd93ad6888f2d9933ef4236c25f     15160895 abeb2c25935ef8c75f1e5deef0f81276754dc975.tar.gz


[FILE:120:manifests/plist.single]
bin/
 alpine
 pico
 pilot
 rpdump
 rpload
share/man/man1/
 alpine.1.gz
 pico.1.gz
 pilot.1.gz
 rpdump.1.gz
 rpload.1.gz


[FILE:506:patches/patch-imap_src_osdep_unix_ssl__unix.c]
--- imap/src/osdep/unix/ssl_unix.c.orig	2019-06-22 16:14:55 UTC
+++ imap/src/osdep/unix/ssl_unix.c
@@ -249,9 +249,7 @@ const SSL_METHOD *ssl_connect_mthd(int f
     return NIL;		/* out of range? bail out */
 
 #ifndef OPENSSL_1_1_0
-  if(client_request == SSL3_VERSION)
-     return SSLv3_client_method();
-  else if(client_request == TLS1_VERSION)
+  if(client_request == TLS1_VERSION)
      return TLSv1_client_method();
   else if(client_request == TLS1_1_VERSION)
      return TLSv1_1_client_method();

