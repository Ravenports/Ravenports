# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		librsvg-c
VERSION=		2.40.21
KEYWORDS=		graphics
VARIANTS=		standard
SDESC[standard]=	SVG vector-graphic files rendering library
HOMEPAGE=		http://live.gnome.org/LibRsvg
CONTACT=		nobody

DOWNLOAD_GROUPS=	main norust
SITES[main]=		GNOME/librsvg/2.40
DISTFILE[1]=		librsvg-2.40.21.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs

OPTIONS_AVAILABLE=	INTROSPECTION
OPTIONS_STANDARD=	INTROSPECTION
OPT_ON[all]=		INTROSPECTION

BUILD_DEPENDS=		python-docutils:single:python_default
			harfbuzz:dev:standard
BUILDRUN_DEPENDS=	freetype:primary:standard

USES=			cpe gettext-tools gmake gtk-doc png libtool
			pkgconfig perl:build python:build
GNOME_COMPONENTS=	cairo pango gdkpixbuf libxml2 libcroco

DISTNAME=		librsvg-2.40.21

LICENSE=		LGPL21+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING.LIB
LICENSE_SCHEME=		solo

CPE_PRODUCT=		librsvg
CPE_VENDOR=		gnome
GTKDOC_OUTPUT_BASEDIR=	rsvg-2.0

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-vala
			--disable-Bsymbolic
			--docdir={{STD_DOCDIR}}
			--enable-gtk-doc-html=yes

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		2.40.21
PLIST_SUB=		PORTVERSION=2.40.21
			GTK_VERSION=2.10.0

VAR_OPSYS[freebsd]=	LDFLAGS=-lintl
VAR_OPSYS[netbsd]=	LDFLAGS=-lintl
VAR_OPSYS[dragonfly]=	LDFLAGS=-lintl

[INTROSPECTION].DESCRIPTION=		Build with introspection
[INTROSPECTION].BUILD_DEPENDS_ON=	python-gi-docgen:single:python_default
[INTROSPECTION].CONFIGURE_ARGS_OFF=	--enable-introspection=no
[INTROSPECTION].CONFIGURE_ARGS_ON=	--enable-gtk-doc
[INTROSPECTION].GNOME_COMPONENTS_ON=	introspection

post-patch:
	# extract license terms
	${AWK} '/RSVG_H/ {exit}; {print}' ${WRKSRC}/rsvg.h > ${WRKDIR}/TERMS

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/rsvg-convert

pre-configure:
	# disable gtk3 check
	${REINPLACE_CMD} -e 's|GTK3_REQUIRED=3.[0-9][0-9].[0-9]|GTK3_REQUIRED=9.90.0|g' \
		${WRKSRC}/configure

[FILE:372:descriptions/desc.primary]
The librsvg library is a lightweight library for parsing and rendering
vector-graphic files in SVG format (like the ones made by sodipodi).  It
also includes functions that render anti-aliased fonts using freetype,
including caching of glyphs.  It is used by Nautilus for drawing vector
icons and anti-aliased text.

This is the last release of the legacy C-only version.


[FILE:101:distinfo]
f7628905f1cada84e87e2b14883ed57d8094dca3281d5bcb24ece4279e9a92ba      1655860 librsvg-2.40.21.tar.xz


[FILE:849:manifests/plist.primary]
%%INTROSPECTION-ON%%lib/girepository-1.0/Rsvg-2.0.typelib
%%INTROSPECTION-ON%%share/gir-1.0/Rsvg-2.0.gir
bin/rsvg-convert
include/librsvg-2.0/librsvg/
 librsvg-enum-types.h
 librsvg-features.h
 rsvg-cairo.h
 rsvg.h
lib/
 librsvg-2.a
 librsvg-2.so
 librsvg-2.so.%%SOMAJOR%%
 librsvg-2.so.%%SOVERSION%%
lib/gdk-pixbuf-2.0/%%GTK_VERSION%%/loaders/
 libpixbufloader-svg.a
 libpixbufloader-svg.so
lib/pkgconfig/librsvg-2.0.pc
share/man/man1/rsvg-convert.1.gz
share/thumbnailers/librsvg.thumbnailer
@postexec %D/bin/gdk-pixbuf-query-loaders > /dev/null 2>&1 && %D/bin/gdk-pixbuf-query-loaders > %D/lib/gdk-pixbuf-2.0/%%GTK_VERSION%%/loaders.cache 2>/dev/null || /usr/bin/true
@postunexec %D/bin/gdk-pixbuf-query-loaders > /dev/null 2>&1 && %D/bin/gdk-pixbuf-query-loaders > %D/lib/gdk-pixbuf-2.0/%%GTK_VERSION%%/loaders.cache 2>/dev/null || /usr/bin/true


[FILE:670:manifests/plist.docs]
%%INTROSPECTION-OFF%%share/doc/librsvg-c/rsvg-2.0.devhelp2
%%INTROSPECTION-ON%%share/doc/librsvg-c/
 api-index-2-14.html
 api-index-2-22.html
 api-index-2-32.html
 api-index-2-36.html
 api-index-2-4.html
 api-index-2-8.html
 api-index-2-9.html
 api-index-deprecated.html
share/doc/librsvg-c/
 RsvgHandle.html
 annotation-glossary.html
 api-index-full.html
 home.png
 index.html
 left-insensitive.png
 left.png
 licence.html
 object-tree.html
 right-insensitive.png
 right.png
 rsvg-Using-RSVG-with-GIO.html
 rsvg-Using-RSVG-with-GdkPixbuf.html
 rsvg-Using-RSVG-with-cairo.html
 rsvg-Version-check-and-feature-tests.html
 rsvg.html
 style.css
 up-insensitive.png
 up.png

