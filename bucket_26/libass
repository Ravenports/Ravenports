# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libass
VERSION=		0.13.7
KEYWORDS=		multimedia devel
VARIANTS=		standard
SDESC[standard]=	Library for SSA/ASS subtitles rendering
HOMEPAGE=		https://github.com/libass/libass
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/libass:libass:0.13.7
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		yasm:single:standard
BUILDRUN_DEPENDS=	freetype:primary:standard
			fontconfig:primary:standard
			harfbuzz:primary:standard
			fribidi:single:standard

USES=			autoreconf iconv libtool pkgconfig

LICENSE=		ISCL:single
LICENSE_SCHEME=		solo
LICENSE_FILE=		ISCL:{{WRKSRC}}/COPYING

FPC_EQUIVALENT=		multimedia/libass

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-harfbuzz

INSTALL_TARGET=		install-strip

VAR_ARCH[x86_64]=	CONFIGURE_ARGS=--enable-asm
VAR_ARCH[i386]=		CONFIGURE_ARGS=--enable-asm

[FILE:156:descriptions/desc.single]
libass is a portable subtitle renderer for the ASS/SSA (Advanced
Substation Alpha/Substation Alpha) subtitle format. It is mostly
compatible with VSFilter.


[FILE:106:distinfo]
8fadf294bf701300d4605e6f1d92929304187fca4b8d8a47889315526adbafd7       167963 libass-libass-0.13.7.tar.gz


[FILE:113:manifests/plist.single]
include/ass/
 ass.h
 ass_types.h
lib/
 libass.a
 libass.so
 libass.so.9
 libass.so.9.0.1
lib/pkgconfig/libass.pc


[FILE:674:patches/patch-configure.ac]
--- configure.ac.orig	2017-02-05 22:41:56 UTC
+++ configure.ac
@@ -79,7 +79,12 @@ AS_IF([test x$enable_asm != xno], [
         [*darwin*], [
             ASFLAGS="$ASFLAGS -f macho$BITS -DPREFIX -DHAVE_ALIGNED_STACK=1" ],
         [*linux*|*dragonfly*|*bsd*|*solaris*], [
-            ASFLAGS="$ASFLAGS -f elf -DHAVE_ALIGNED_STACK=1" ],
+            AS_IF([test x$BITS = x64], [
+                ASFLAGS="$ASFLAGS -f elf -DHAVE_ALIGNED_STACK=1"
+            ], [
+                ASFLAGS="$ASFLAGS -f elf -DHAVE_ALIGNED_STACK=0"
+            ])
+        ],
         [*cygwin*|*mingw*], [
             ASFLAGS="$ASFLAGS -f win$BITS"
             AS_IF([test x$BITS = x64], [

