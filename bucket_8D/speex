# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		speex
VERSION=		1.2.1
KEYWORDS=		audio
VARIANTS=		std
SDESC[std]=		Audio compression format designed for speech
HOMEPAGE=		https://www.speex.org
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://ftp.osuosl.org/pub/xiph/releases/speex/
DISTFILE[1]=		speex-1.2.1.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libogg:dev:std
BUILDRUN_DEPENDS=	libogg:primary:std
			speexdsp:primary:std

USES=			cpe libtool pkgconfig mbsdfix

LICENSE=		BSD3CLAUSE:primary
LICENSE_FILE=		BSD3CLAUSE:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

CPE_PRODUCT=		speex
CPE_VENDOR=		xiph
FPC_EQUIVALENT=		audio/speex

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-binaries

INSTALL_TARGET=		install-strip
SOVERSION=		1.5.2

VAR_OPSYS[netbsd]=	MAKE_ENV=LIBOSSAUDIO=-lossaudio

[FILE:384:descriptions/desc.primary]
The Speex is a patent-free, Open Source/Free Software voice codec. Unlike 
other codecs like MP3 and Ogg Vorbis, Speex is designed to compress voice 
at bitrates in the 2-45 kbps range. Possible applications include VoIP, 
internet audio streaming, archiving of speech data (e.g. voice mail), and 
audio books. In some sense, it is meant to be complementary to the Ogg 
Vorbis codec.


[FILE:97:distinfo]
4b44d4f2b38a370a2d98a78329fefc56a0cf93d1c1be70029217baae6628feea      1043278 speex-1.2.1.tar.gz


[FILE:325:manifests/plist.primary]
bin/
 speexdec
 speexenc
include/speex/
 speex.h
 speex_bits.h
 speex_callbacks.h
 speex_config_types.h
 speex_header.h
 speex_stereo.h
 speex_types.h
lib/
 libspeex.a
 libspeex.so
 libspeex.so.%%SOMAJOR%%
 libspeex.so.%%SOVERSION%%
lib/pkgconfig/speex.pc
share/aclocal/speex.m4
share/man/man1/
 speexdec.1.gz
 speexenc.1.gz


[FILE:27:manifests/plist.docs]
share/doc/speex/manual.pdf


[FILE:401:patches/patch-configure]
--- configure.orig	2016-12-07 23:21:04 UTC
+++ configure
@@ -2507,6 +2507,7 @@ case $enable_silent_rules in # (((
    no) AM_DEFAULT_VERBOSITY=1;;
     *) AM_DEFAULT_VERBOSITY=0;;
 esac
+unset enableval
 am_make=${MAKE-make}
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $am_make supports nested variables" >&5
 $as_echo_n "checking whether $am_make supports nested variables... " >&6; }


[FILE:550:patches/patch-src_Makefile.in]
--- src/Makefile.in.orig	2016-12-07 23:21:03 UTC
+++ src/Makefile.in
@@ -366,11 +366,11 @@ include_HEADERS =
 noinst_HEADERS = wav_io.h
 speexenc_SOURCES = speexenc.c wav_io.c skeleton.c
 speexenc_LDADD = $(top_builddir)/libspeex/libspeex.la \
-	$(OGG_LIBS)  @FFT_LIBS@	@SPEEXDSP_LIBS@
+	$(OGG_LIBS)  @FFT_LIBS@	@SPEEXDSP_LIBS@ $(LIBOSSAUDIO)
 
 speexdec_SOURCES = speexdec.c wav_io.c
 speexdec_LDADD = $(top_builddir)/libspeex/libspeex.la \
-	$(OGG_LIBS) @WINMM_LIBS@ @FFT_LIBS@
+	$(OGG_LIBS) @WINMM_LIBS@ @FFT_LIBS@ $(LIBOSSAUDIO)
 
 all: all-am
 

