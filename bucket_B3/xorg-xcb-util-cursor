# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		xorg-xcb-util-cursor
VERSION=		0.1.5
KEYWORDS=		x11
VARIANTS=		std
SDESC[std]=		XCB cursor library
HOMEPAGE=		https://xcb.freedesktop.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		XORG/individual/lib
DISTFILE[1]=		xcb-util-cursor-0.1.5.tar.xz:main
DIST_SUBDIR=		xorg
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		gperf:primary:std
EXRUN[dev]=		xorg-xcb-render-util:dev:std
			xorg-xcb-util-image:dev:std

USES=			libtool gmake solaris-funcs
XORG_COMPONENTS=	xorgproto xcb xcb-render-util xcb-util
			xcb-util-image

DISTNAME=		xcb-util-cursor-0.1.5

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		x11/xcb-util-cursor
SOL_FUNCTIONS=		asprintf:cursor/cursor.c
			asprintf:cursor/load_cursor.c

MUST_CONFIGURE=		gnu

INSTALL_TARGET=		install-strip

[FILE:514:descriptions/desc.primary]
The xcb-util module provides a number of libraries which sit on top of
libxcb, the core X protocol library, and some of the extension
libraries. These experimental libraries provide convenience functions
and interfaces which make the raw X protocol more usable. Some of the
libraries also provide client-side code which is not strictly part of
the X protocol but which have traditionally been provided by Xlib.

The util-cursor module implements the XCB cursor library, which is th XCB
replacement for libXcursor.


[FILE:112:distinfo]
0caf99b0d60970f81ce41c7ba694e5eaaf833227bb2cbcdb2f6dc9666a663c57       266788 xorg/xcb-util-cursor-0.1.5.tar.xz


[FILE:49:manifests/plist.primary]
lib/
 libxcb-cursor.so.0
 libxcb-cursor.so.0.0.0


[FILE:93:manifests/plist.dev]
include/xcb/xcb_cursor.h
lib/
 libxcb-cursor.a
 libxcb-cursor.so
lib/pkgconfig/xcb-cursor.pc


[FILE:544:patches/patch-cursor__shape_to_id.gperf]
--- cursor/shape_to_id.gperf.orig	2022-10-18 17:09:55 UTC
+++ cursor/shape_to_id.gperf
@@ -1,5 +1,5 @@
 struct shape_mapping { const char *name; int number; };
-const int cursor_shape_to_id(const char *name);
+int cursor_shape_to_id(const char *name);
 %%
 X_cursor,0
 arrow,1
@@ -79,7 +79,7 @@ ur_angle,74
 watch,75
 xterm,76
 %%
-const int cursor_shape_to_id(const char *name) {
+int cursor_shape_to_id(const char *name) {
 	struct shape_mapping *mapping = in_word_set(name, strlen(name));
 	return (mapping ? (mapping->number * 2) : -1);
 }


[FILE:404:patches/patch-cursor_cursor.h]
--- cursor/cursor.h.orig	2022-10-18 17:09:55 UTC
+++ cursor/cursor.h
@@ -161,7 +161,7 @@ typedef struct xcint_image_t {
 } __attribute__((packed)) xcint_image_t;
 
 /* shape_to_id.c */
-const int cursor_shape_to_id(const char *name);
+int cursor_shape_to_id(const char *name);
 
 /* parse_cursor_file.c */
 int parse_cursor_file(xcb_cursor_context_t *c, const int fd, xcint_image_t **images, int *nimg);

