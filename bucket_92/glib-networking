# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		glib-networking
VERSION=		2.56.1
KEYWORDS=		net devel
VARIANTS=		standard
SDESC[standard]=	Network-related giomodules for GLib
HOMEPAGE=		https://git.gnome.org/browse/glib-networking
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://ftp.gnome.org/pub/GNOME/sources/glib-networking/2.56/
DISTFILE[1]=		glib-networking-2.56.1.tar.xz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	nss:caroot:standard
			gsettings-desktop-schemas:single:standard
			gnutls:single:standard
			libgcrypt:single:standard
			p11-kit:primary:standard
			dbus:single:standard
			libproxy:single:standard

USES=			gettext-tools libtool meson pkgconfig python
			shebangfix
GNOME_COMPONENTS=	glib intltool

LICENSE=		LGPL21+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/proxy/gnome/gproxyresolvergnome.c
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		net/glib-networking
MESON_ARGS=		-Dca_certificates_path={{PREFIX}}/etc/ssl
			-Dstatic_modules=true
			-Dinstalled_tests=false
MESON_INSERT_RPATH=	tls/gnutls/meson.build
			proxy/libproxy/meson.build
			proxy/gnome/meson.build
SHEBANG_FILES=		meson_post_install.py
			find-ca-certificates

INSTALL_TARGET=		install-strip

post-patch:
	${CHMOD} ${BINMODE} ${WRKSRC}/meson_post_install.py \
		${WRKSRC}/find-ca-certificates

post-install:
	${RM} -r ${STAGEDIR}${PREFIX}/lib/systemd
	${RM} -r ${STAGEDIR}${PREFIX}/share/dbus-1
	${RM} -r ${STAGEDIR}${PREFIX}/share/installed-tests

[FILE:404:descriptions/desc.single]
Glib-networking contains the implementations of various GLib networking 
features that cannot be implemented directly in GLib itself because of 
their dependencies.

Currently it contains a GNUTLS-based implementation of GTlsBackend, a 
libproxy-based implementation of GProxyResolver, and a GNOME 
GProxyResolver that uses the proxy information from the GSettings schemas 
in gsettings-desktop-schemas.


[FILE:108:distinfo]
df47b0e0a037d2dcf6b1846cbdf68dd4b3cc055e026bb40c4a55f19f29f635c8       164852 glib-networking-2.56.1.tar.xz


[FILE:3403:manifests/plist.single]
lib/libgiopkcs11.a
lib/gio/modules/
 libgiognomeproxy.a
 libgiognomeproxy.so
 libgiognutls.a
 libgiognutls.so
 libgiolibproxy.a
 libgiolibproxy.so
libexec/glib-pacrunner
share/locale/an/LC_MESSAGES/glib-networking.mo
share/locale/ar/LC_MESSAGES/glib-networking.mo
share/locale/as/LC_MESSAGES/glib-networking.mo
share/locale/be/LC_MESSAGES/glib-networking.mo
share/locale/bg/LC_MESSAGES/glib-networking.mo
share/locale/bn_IN/LC_MESSAGES/glib-networking.mo
share/locale/bs/LC_MESSAGES/glib-networking.mo
share/locale/ca/LC_MESSAGES/glib-networking.mo
share/locale/ca@valencia/LC_MESSAGES/glib-networking.mo
share/locale/cs/LC_MESSAGES/glib-networking.mo
share/locale/da/LC_MESSAGES/glib-networking.mo
share/locale/de/LC_MESSAGES/glib-networking.mo
share/locale/el/LC_MESSAGES/glib-networking.mo
share/locale/en_CA/LC_MESSAGES/glib-networking.mo
share/locale/en_GB/LC_MESSAGES/glib-networking.mo
share/locale/eo/LC_MESSAGES/glib-networking.mo
share/locale/es/LC_MESSAGES/glib-networking.mo
share/locale/et/LC_MESSAGES/glib-networking.mo
share/locale/eu/LC_MESSAGES/glib-networking.mo
share/locale/fa/LC_MESSAGES/glib-networking.mo
share/locale/fi/LC_MESSAGES/glib-networking.mo
share/locale/fr/LC_MESSAGES/glib-networking.mo
share/locale/fur/LC_MESSAGES/glib-networking.mo
share/locale/gd/LC_MESSAGES/glib-networking.mo
share/locale/gl/LC_MESSAGES/glib-networking.mo
share/locale/gu/LC_MESSAGES/glib-networking.mo
share/locale/he/LC_MESSAGES/glib-networking.mo
share/locale/hi/LC_MESSAGES/glib-networking.mo
share/locale/hr/LC_MESSAGES/glib-networking.mo
share/locale/hu/LC_MESSAGES/glib-networking.mo
share/locale/id/LC_MESSAGES/glib-networking.mo
share/locale/it/LC_MESSAGES/glib-networking.mo
share/locale/ja/LC_MESSAGES/glib-networking.mo
share/locale/kk/LC_MESSAGES/glib-networking.mo
share/locale/km/LC_MESSAGES/glib-networking.mo
share/locale/kn/LC_MESSAGES/glib-networking.mo
share/locale/ko/LC_MESSAGES/glib-networking.mo
share/locale/lt/LC_MESSAGES/glib-networking.mo
share/locale/lv/LC_MESSAGES/glib-networking.mo
share/locale/ml/LC_MESSAGES/glib-networking.mo
share/locale/mr/LC_MESSAGES/glib-networking.mo
share/locale/nb/LC_MESSAGES/glib-networking.mo
share/locale/ne/LC_MESSAGES/glib-networking.mo
share/locale/nl/LC_MESSAGES/glib-networking.mo
share/locale/oc/LC_MESSAGES/glib-networking.mo
share/locale/or/LC_MESSAGES/glib-networking.mo
share/locale/pa/LC_MESSAGES/glib-networking.mo
share/locale/pl/LC_MESSAGES/glib-networking.mo
share/locale/pt/LC_MESSAGES/glib-networking.mo
share/locale/pt_BR/LC_MESSAGES/glib-networking.mo
share/locale/ro/LC_MESSAGES/glib-networking.mo
share/locale/ru/LC_MESSAGES/glib-networking.mo
share/locale/sk/LC_MESSAGES/glib-networking.mo
share/locale/sl/LC_MESSAGES/glib-networking.mo
share/locale/sr/LC_MESSAGES/glib-networking.mo
share/locale/sr@latin/LC_MESSAGES/glib-networking.mo
share/locale/sv/LC_MESSAGES/glib-networking.mo
share/locale/ta/LC_MESSAGES/glib-networking.mo
share/locale/te/LC_MESSAGES/glib-networking.mo
share/locale/tg/LC_MESSAGES/glib-networking.mo
share/locale/th/LC_MESSAGES/glib-networking.mo
share/locale/tr/LC_MESSAGES/glib-networking.mo
share/locale/ug/LC_MESSAGES/glib-networking.mo
share/locale/uk/LC_MESSAGES/glib-networking.mo
share/locale/vi/LC_MESSAGES/glib-networking.mo
share/locale/zh_CN/LC_MESSAGES/glib-networking.mo
share/locale/zh_HK/LC_MESSAGES/glib-networking.mo
share/locale/zh_TW/LC_MESSAGES/glib-networking.mo


[FILE:370:patches/patch-find-ca-certificates]
--- find-ca-certificates.orig	2018-03-16 17:46:48.339367000 +0100
+++ find-ca-certificates	2018-03-16 20:38:56.109580000 +0100
@@ -6,7 +6,8 @@
 
 locations = [ '/etc/pki/tls/certs/ca-bundle.crt',
     '/etc/ssl/certs/ca-certificates.crt',
-    '/etc/ssl/ca-bundle.pem'
+    '/etc/ssl/ca-bundle.pem',
+    '/raven/share/certs/ca-root-nss.crt'
 ]
 
 if len(sys.argv) > 1:

