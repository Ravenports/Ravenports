# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		qt5-qtlocation
VERSION=		5.15.9
KEYWORDS=		devel
VARIANTS=		std
SDESC[std]=		Qt5 - QtLocation component
HOMEPAGE=		https://www.qt.io/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://qt.mirror.constant.com/official_releases/qt/5.15/5.15.9/submodules/
DISTFILE[1]=		qtlocation-everywhere-opensource-src-5.15.9.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		qt5-qtdeclarative:dev:std
			qt5-qtbase:dev:std
BUILDRUN_DEPENDS=	qt5-qtdeclarative:primary:std

USES=			qt5 pkgconfig perl:build python:build cpe

DISTNAME=		qtlocation-everywhere-src-5.15.9

CPE_PRODUCT=		qt
CPE_VENDOR=		qt
FPC_EQUIVALENT=		devel/qt5-location

SOVERSION=		5.15.9
PLIST_SUB=		QTVER=5.15.9
			SOMAJORMIN=5.15

[FILE:271:descriptions/desc.primary]
Qt is a complete cross-platform software framework with ready-made UI
elements, C++ libraries, and a complete integrated development environment
with tools for everything one needs to develop software for any project.

This package contains the Qt5 qtlocation submodule.


[FILE:129:distinfo]
2d08ef5ee952e0bbcdd74c6664e6f6115c35a31f8299b3d5356375433e887586      6552244 qtlocation-everywhere-opensource-src-5.15.9.tar.xz


[FILE:721:manifests/plist.primary]
lib/qt5/
 libQt5Location.so.%%SOMAJOR%%
 libQt5Location.so.%%SOMAJORMIN%%
 libQt5Location.so.%%SOVERSION%%
 libQt5Positioning.so.%%SOMAJOR%%
 libQt5Positioning.so.%%SOMAJORMIN%%
 libQt5Positioning.so.%%SOVERSION%%
 libQt5PositioningQuick.so.%%SOMAJOR%%
 libQt5PositioningQuick.so.%%SOMAJORMIN%%
 libQt5PositioningQuick.so.%%SOVERSION%%
lib/qt5/plugins/geoservices/
 libqtgeoservices_esri.so
 libqtgeoservices_itemsoverlay.so
 libqtgeoservices_mapbox.so
 libqtgeoservices_nokia.so
 libqtgeoservices_osm.so
lib/qt5/plugins/position/
 libqtposition_geoclue.so
 libqtposition_geoclue2.so
 libqtposition_positionpoll.so
lib/qt5/qml/QtLocation/libdeclarative_location.so
lib/qt5/qml/QtPositioning/libdeclarative_positioning.so


[FILE:8389:manifests/plist.dev]
include/qt5/QtLocation/
 QGeoCodeReply
 QGeoCodingManager
 QGeoCodingManagerEngine
 QGeoManeuver
 QGeoRoute
 QGeoRouteLeg
 QGeoRouteReply
 QGeoRouteRequest
 QGeoRouteSegment
 QGeoRoutingManager
 QGeoRoutingManagerEngine
 QGeoServiceProvider
 QGeoServiceProviderFactory
 QLocation
 QPlace
 QPlaceAttribute
 QPlaceCategory
 QPlaceContactDetail
 QPlaceContent
 QPlaceContentReply
 QPlaceContentRequest
 QPlaceDetailsReply
 QPlaceEditorial
 QPlaceIcon
 QPlaceIdReply
 QPlaceImage
 QPlaceManager
 QPlaceManagerEngine
 QPlaceMatchReply
 QPlaceMatchRequest
 QPlaceProposedSearchResult
 QPlaceRatings
 QPlaceReply
 QPlaceResult
 QPlaceReview
 QPlaceSearchReply
 QPlaceSearchRequest
 QPlaceSearchResult
 QPlaceSearchSuggestionReply
 QPlaceSupplier
 QPlaceUser
 QtLocation
 QtLocationDepends
 QtLocationVersion
 placemacro.h
 qgeocodereply.h
 qgeocodingmanager.h
 qgeocodingmanagerengine.h
 qgeomaneuver.h
 qgeoroute.h
 qgeoroutereply.h
 qgeorouterequest.h
 qgeoroutesegment.h
 qgeoroutingmanager.h
 qgeoroutingmanagerengine.h
 qgeoserviceprovider.h
 qgeoserviceproviderfactory.h
 qlocation.h
 qlocationglobal.h
 qplace.h
 qplaceattribute.h
 qplacecategory.h
 qplacecontactdetail.h
 qplacecontent.h
 qplacecontentreply.h
 qplacecontentrequest.h
 qplacedetailsreply.h
 qplaceeditorial.h
 qplaceicon.h
 qplaceidreply.h
 qplaceimage.h
 qplacemanager.h
 qplacemanagerengine.h
 qplacematchreply.h
 qplacematchrequest.h
 qplaceproposedsearchresult.h
 qplaceratings.h
 qplacereply.h
 qplaceresult.h
 qplacereview.h
 qplacesearchreply.h
 qplacesearchrequest.h
 qplacesearchresult.h
 qplacesearchsuggestionreply.h
 qplacesupplier.h
 qplaceuser.h
 qtlocation-config.h
 qtlocationversion.h
include/qt5/QtLocation/%%QTVER%%/QtLocation/private/
 error_messages_p.h
 locationvaluetypehelper_p.h
 qabstractgeotilecache_p.h
 qcache3q_p.h
 qdeclarativecategory_p.h
 qdeclarativecirclemapitem_p.h
 qdeclarativecirclemapitem_p_p.h
 qdeclarativecontactdetail_p.h
 qdeclarativegeocodemodel_p.h
 qdeclarativegeomaneuver_p.h
 qdeclarativegeomap_p.h
 qdeclarativegeomapcopyrightsnotice_p.h
 qdeclarativegeomapitembase_p.h
 qdeclarativegeomapitemgroup_p.h
 qdeclarativegeomapitemtransitionmanager_p.h
 qdeclarativegeomapitemutils_p.h
 qdeclarativegeomapitemview_p.h
 qdeclarativegeomapparameter_p.h
 qdeclarativegeomapquickitem_p.h
 qdeclarativegeomaptype_p.h
 qdeclarativegeoroute_p.h
 qdeclarativegeoroutemodel_p.h
 qdeclarativegeoroutesegment_p.h
 qdeclarativegeoserviceprovider_p.h
 qdeclarativenavigator_p.h
 qdeclarativenavigator_p_p.h
 qdeclarativeperiod_p.h
 qdeclarativeplace_p.h
 qdeclarativeplaceattribute_p.h
 qdeclarativeplacecontentmodel_p.h
 qdeclarativeplaceeditorialmodel_p.h
 qdeclarativeplaceicon_p.h
 qdeclarativeplaceimagemodel_p.h
 qdeclarativeplaceuser_p.h
 qdeclarativepolygonmapitem_p.h
 qdeclarativepolygonmapitem_p_p.h
 qdeclarativepolylinemapitem_p.h
 qdeclarativepolylinemapitem_p_p.h
 qdeclarativeratings_p.h
 qdeclarativerectanglemapitem_p.h
 qdeclarativerectanglemapitem_p_p.h
 qdeclarativereviewmodel_p.h
 qdeclarativeroutemapitem_p.h
 qdeclarativesearchmodelbase_p.h
 qdeclarativesearchresultmodel_p.h
 qdeclarativesearchsuggestionmodel_p.h
 qdeclarativesupplier_p.h
 qdeclarativesupportedcategoriesmodel_p.h
 qgeocameracapabilities_p.h
 qgeocameradata_p.h
 qgeocameratiles_p.h
 qgeocameratiles_p_p.h
 qgeocodereply_p.h
 qgeocodingmanager_p.h
 qgeocodingmanagerengine_p.h
 qgeofiletilecache_p.h
 qgeojson_p.h
 qgeomaneuver_p.h
 qgeomap_p.h
 qgeomap_p_p.h
 qgeomapitemgeometry_p.h
 qgeomapobject_p.h
 qgeomapobject_p_p.h
 qgeomapobjectqsgsupport_p.h
 qgeomapparameter_p.h
 qgeomappingmanager_p.h
 qgeomappingmanager_p_p.h
 qgeomappingmanagerengine_p.h
 qgeomappingmanagerengine_p_p.h
 qgeomaptype_p.h
 qgeomaptype_p_p.h
 qgeoprojection_p.h
 qgeoroute_p.h
 qgeorouteparser_p.h
 qgeorouteparser_p_p.h
 qgeorouteparserosrmv4_p.h
 qgeorouteparserosrmv5_p.h
 qgeoroutereply_p.h
 qgeorouterequest_p.h
 qgeoroutesegment_p.h
 qgeoroutingmanager_p.h
 qgeoroutingmanagerengine_p.h
 qgeoserviceprovider_p.h
 qgeosimplify_p.h
 qgeotiledmap_p.h
 qgeotiledmap_p_p.h
 qgeotiledmaplabs_p.h
 qgeotiledmappingmanagerengine_p.h
 qgeotiledmappingmanagerengine_p_p.h
 qgeotiledmapreply_p.h
 qgeotiledmapreply_p_p.h
 qgeotiledmapscene_p.h
 qgeotiledmapscene_p_p.h
 qgeotilefetcher_p.h
 qgeotilefetcher_p_p.h
 qgeotilerequestmanager_p.h
 qgeotilespec_p.h
 qgeotilespec_p_p.h
 qlocationglobal_p.h
 qmapcircleobject_p.h
 qmapcircleobject_p_p.h
 qmapcircleobjectqsg_p_p.h
 qmapiconobject_p.h
 qmapiconobject_p_p.h
 qmapiconobjectqsg_p_p.h
 qmapobjectview_p.h
 qmapobjectview_p_p.h
 qmappolygonobject_p.h
 qmappolygonobject_p_p.h
 qmappolygonobjectqsg_p_p.h
 qmappolylineobject_p.h
 qmappolylineobject_p_p.h
 qmappolylineobjectqsg_p_p.h
 qmaprouteobject_p.h
 qmaprouteobject_p_p.h
 qmaprouteobjectqsg_p_p.h
 qnavigationmanager_p.h
 qnavigationmanagerengine_p.h
 qparameterizableobject_p.h
 qplace_p.h
 qplaceattribute_p.h
 qplacecategory_p.h
 qplacecontactdetail_p.h
 qplacecontent_p.h
 qplacecontentrequest_p.h
 qplaceeditorial_p.h
 qplaceicon_p.h
 qplaceimage_p.h
 qplacemanagerengine_p.h
 qplaceproposedsearchresult_p.h
 qplaceratings_p.h
 qplacereply_p.h
 qplaceresult_p.h
 qplacereview_p.h
 qplacesearchrequest_p.h
 qplacesearchresult_p.h
 qplacesupplier_p.h
 qplaceuser_p.h
 qqsgmapobject_p.h
 qquickgeomapgesturearea_p.h
 qtlocation-config_p.h
 unsupportedreplies_p.h
include/qt5/QtPositioning/
 QGeoAddress
 QGeoAreaMonitorInfo
 QGeoAreaMonitorSource
 QGeoCircle
 QGeoCoordinate
 QGeoLocation
 QGeoPath
 QGeoPolygon
 QGeoPositionInfo
 QGeoPositionInfoSource
 QGeoPositionInfoSourceFactory
 QGeoRectangle
 QGeoSatelliteInfo
 QGeoSatelliteInfoSource
 QGeoShape
 QNmeaPositionInfoSource
 QtPositioning
 QtPositioningDepends
 QtPositioningVersion
 qgeoaddress.h
 qgeoareamonitorinfo.h
 qgeoareamonitorsource.h
 qgeocircle.h
 qgeocoordinate.h
 qgeolocation.h
 qgeopath.h
 qgeopolygon.h
 qgeopositioninfo.h
 qgeopositioninfosource.h
 qgeopositioninfosourcefactory.h
 qgeorectangle.h
 qgeosatelliteinfo.h
 qgeosatelliteinfosource.h
 qgeoshape.h
 qnmeapositioninfosource.h
 qpositioningglobal.h
 qtpositioning-config.h
 qtpositioningversion.h
include/qt5/QtPositioning/%%QTVER%%/QtPositioning/private/
 qclipperutils_p.h
 qdoublematrix4x4_p.h
 qdoublevector2d_p.h
 qdoublevector3d_p.h
 qgeoaddress_p.h
 qgeocircle_p.h
 qgeocoordinate_p.h
 qgeocoordinateobject_p.h
 qgeolocation_p.h
 qgeopath_p.h
 qgeopolygon_p.h
 qgeopositioninfo_p.h
 qgeopositioninfosource_p.h
 qgeorectangle_p.h
 qgeosatelliteinfo_p.h
 qgeosatelliteinfosource_p.h
 qgeoshape_p.h
 qlocationdata_simulator_p.h
 qlocationutils_p.h
 qnmeapositioninfosource_p.h
 qpositioningglobal_p.h
 qtpositioning-config_p.h
 qwebmercator_p.h
include/qt5/QtPositioningQuick/
 QtPositioningQuick
 QtPositioningQuickDepends
 QtPositioningQuickVersion
 qpositioningquickglobal.h
 qtpositioningquickversion.h
include/qt5/QtPositioningQuick/%%QTVER%%/QtPositioningQuick/private/
 qdeclarativegeoaddress_p.h
 qdeclarativegeolocation_p.h
 qdeclarativepluginparameter_p.h
 qdeclarativeposition_p.h
 qdeclarativepositionsource_p.h
 qpositioningquickglobal_p.h
 qquickgeocoordinateanimation_p.h
 qquickgeocoordinateanimation_p_p.h
lib/qt5/
 libQt5Location.prl
 libQt5Location.so
 libQt5Positioning.prl
 libQt5Positioning.so
 libQt5PositioningQuick.prl
 libQt5PositioningQuick.so
lib/qt5/cmake/Qt5Location/
 Qt5LocationConfig.cmake
 Qt5LocationConfigVersion.cmake
 Qt5Location_GeoServiceProviderFactoryEsri.cmake
 Qt5Location_QGeoServiceProviderFactoryItemsOverlay.cmake
 Qt5Location_QGeoServiceProviderFactoryMapbox.cmake
 Qt5Location_QGeoServiceProviderFactoryNokia.cmake
 Qt5Location_QGeoServiceProviderFactoryOsm.cmake
lib/qt5/cmake/Qt5Positioning/
 Qt5PositioningConfig.cmake
 Qt5PositioningConfigVersion.cmake
 Qt5Positioning_QGeoPositionInfoSourceFactoryGeoclue.cmake
 Qt5Positioning_QGeoPositionInfoSourceFactoryGeoclue2.cmake
 Qt5Positioning_QGeoPositionInfoSourceFactoryPoll.cmake
lib/qt5/cmake/Qt5PositioningQuick/
 Qt5PositioningQuickConfig.cmake
 Qt5PositioningQuickConfigVersion.cmake
lib/qt5/mkspecs/modules/
 qt_lib_location.pri
 qt_lib_location_private.pri
 qt_lib_positioning.pri
 qt_lib_positioning_private.pri
 qt_lib_positioningquick.pri
 qt_lib_positioningquick_private.pri
lib/qt5/pkgconfig/
 Qt5Location.pc
 Qt5Positioning.pc
 Qt5PositioningQuick.pc
lib/qt5/qml/QtLocation/
 plugins.qmltypes
 qmldir
lib/qt5/qml/QtPositioning/
 plugins.qmltypes
 qmldir


[FILE:1487:patches/patch-src_plugins_geoservices_geoservices.pro]
Disable the Mapbox code.

It contains several bundled libraries (including Boost) and the code seems to
contain Linuxisms (as of 5.9.3):

platform/default/thread.cpp:14:5: error: use of undeclared identifier 'pthread_getname_np'
    pthread_getname_np(pthread_self(), name, sizeof(name));
    ^
platform/default/thread.cpp:21:9: error: use of undeclared identifier 'pthread_setname_np'
        pthread_setname_np(pthread_self(), name.substr(0, 15).c_str());
        ^
platform/default/thread.cpp:23:9: error: use of undeclared identifier 'pthread_setname_np'
        pthread_setname_np(pthread_self(), name.c_str());
        ^
platform/default/thread.cpp:31:31: error: use of undeclared identifier 'SCHED_IDLE'
    if (sched_setscheduler(0, SCHED_IDLE, &param) != 0) {
                              ^
--- src/plugins/geoservices/geoservices.pro.orig	2023-03-23 14:00:13 UTC
+++ src/plugins/geoservices/geoservices.pro
@@ -7,12 +7,3 @@ qtConfig(geoservices_mapbox): SUBDIRS +=
 qtConfig(geoservices_esri): SUBDIRS += esri
 qtConfig(geoservices_itemsoverlay): SUBDIRS += itemsoverlay
 qtConfig(geoservices_osm): SUBDIRS += osm
-
-qtConfig(geoservices_mapboxgl) {
-    !exists(../../3rdparty/mapbox-gl-native/mapbox-gl-native.pro) {
-        warning("Submodule mapbox-gl-native does not exist. Run 'git submodule update --init' on qtlocation.")
-    } else {
-        SUBDIRS += mapboxgl ../../3rdparty/mapbox-gl-native
-        mapboxgl.depends = ../../3rdparty/mapbox-gl-native
-    }
-}


[FILE:626:patches/patch-src_plugins_position_position.pro]
--- src/plugins/position/position.pro.orig	2023-03-23 14:00:13 UTC
+++ src/plugins/position/position.pro
@@ -2,8 +2,8 @@ TEMPLATE = subdirs
 
 QT_FOR_CONFIG += positioning-private
 
-linux|freebsd|openbsd|netbsd:qtHaveModule(dbus):SUBDIRS += geoclue
-linux|freebsd|openbsd|netbsd:qtHaveModule(dbus):SUBDIRS += geoclue2
+linux|freebsd|openbsd|netbsd|midnightbsd|dragonfly:qtHaveModule(dbus):SUBDIRS += geoclue
+linux|freebsd|openbsd|netbsd|midnightbsd|dragonfly:qtHaveModule(dbus):SUBDIRS += geoclue2
 qtConfig(gypsy):SUBDIRS += gypsy
 qtConfig(winrt_geolocation):SUBDIRS += winrt
 qtHaveModule(simulator):SUBDIRS += simulator

