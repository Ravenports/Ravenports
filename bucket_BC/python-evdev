# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		python-evdev
VERSION=		1.8.0
KEYWORDS=		python
VARIANTS=		v12 v13
SDESC[v12]=		Linux input handling subsystem bindings (3.12)
SDESC[v13]=		Linux input handling subsystem bindings (3.13)
HOMEPAGE=		https://github.com/gvalkov/python-evdev
CONTACT=		Python_Automaton[python@ironwolf.systems]

DOWNLOAD_GROUPS=	main
SITES[main]=		PYPI/e/evdev
DISTFILE[1]=		evdev-1.8.0.tar.gz:main
DIST_SUBDIR=		python-src
DF_INDEX=		1
SPKGS[v12]=		single
SPKGS[v13]=		single

OPTIONS_AVAILABLE=	PY312 PY313
OPTIONS_STANDARD=	none
VOPTS[v12]=		PY312=ON PY313=OFF
VOPTS[v13]=		PY312=OFF PY313=ON

ONLY_FOR_OPSYS=		dragonfly freebsd linux midnightbsd

BUILD_DEPENDS=		evdev-proto:single:std

USES=			clang cclibs:single

DISTNAME=		evdev-1.8.0

GENERATED=		yes

[PY312].USES_ON=			python:v12,pep517

[PY313].USES_ON=			python:v13,pep517

pre-configure-midnightbsd:
	${REINPLACE_CMD} -e 's#/usr/include#${LOCALBASE}/include#' \
		${WRKSRC}/setup.py ${WRKSRC}/evdev/genecodes_c.py

pre-configure-dragonfly:
	${REINPLACE_CMD} -e 's#/usr/include#${LOCALBASE}/include#' \
		${WRKSRC}/setup.py ${WRKSRC}/evdev/genecodes_c.py

pre-configure-freebsd:
	${REINPLACE_CMD} -e 's#/usr/include#${LOCALBASE}/include#' \
		${WRKSRC}/setup.py ${WRKSRC}/evdev/genecodes_c.py

[FILE:787:descriptions/desc.single]
# evdev

<p>
    [image]
    [image]
    [image]
</p>

This package provides bindings to the generic input event interface in
Linux.
The *evdev* interface serves the purpose of passing events generated in the
kernel directly to userspace through character devices that are typically
located in `/dev/input/`.

This package also comes with bindings to *uinput*, the userspace input
subsystem. *Uinput* allows userspace programs to create and handle input
devices
that can inject events directly into the input subsystem.

***Documentation:***  
https://python-evdev.readthedocs.io/en/latest/

***Development:***  
https://github.com/gvalkov/python-evdev

***Package:***  
https://pypi.python.org/pypi/evdev

***Changelog:***  
https://python-evdev.readthedocs.io/en/latest/changelog.html


[FILE:108:distinfo]
45598eee1ae3876a3122ca1dc0ec8049c01931672d12478b5c610afc24e47d75        32557 python-src/evdev-1.8.0.tar.gz


[FILE:402:patches/patch-evdev_genecodes__c.py]
--- evdev/genecodes_c.py.orig	2025-01-20 22:19:18 UTC
+++ evdev/genecodes_c.py
@@ -33,7 +33,7 @@ uname = " ".join((uname[0], *uname[2:]))
 # -----------------------------------------------------------------------------
 template_ecodes = r"""
 #include <Python.h>
-#ifdef __FreeBSD__
+#if defined(__FreeBSD__) && !defined(__MidnightBSD__)
 #include <dev/evdev/input.h>
 #else
 #include <linux/input.h>


[FILE:264:patches/patch-evdev_input.c]
--- evdev/input.c.orig	2024-01-28 21:31:33 UTC
+++ evdev/input.c
@@ -18,7 +18,7 @@
 #include <fcntl.h>
 #include <unistd.h>
 
-#ifdef __FreeBSD__
+#if defined(__FreeBSD__) && !defined(__MidnightBSD__)
 #include <dev/evdev/input.h>
 #else
 #include <linux/input.h>


[FILE:269:patches/patch-evdev_uinput.c]
--- evdev/uinput.c.orig	2024-05-07 22:20:05 UTC
+++ evdev/uinput.c
@@ -8,7 +8,7 @@
 #include <fcntl.h>
 #include <unistd.h>
 
-#ifdef __FreeBSD__
+#if defined(__FreeBSD__) && !defined(__MidnightBSD__)
 #include <dev/evdev/input.h>
 #include <dev/evdev/uinput.h>
 #else

