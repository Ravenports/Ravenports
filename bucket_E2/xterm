# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		xterm
VERSION=		387
KEYWORDS=		x11
VARIANTS=		standard
SDESC[standard]=	Terminal emulator for the X Window System
HOMEPAGE=		https://invisible-island.net/xterm/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://invisible-mirror.net/archives/xterm/
			ftp://ftp.invisible-island.net/xterm/
DISTFILE[1]=		xterm-387.tgz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			man

OPTIONS_AVAILABLE=	DECTERM DABBREV SIXEL REGIS
OPTIONS_STANDARD=	DECTERM DABBREV SIXEL REGIS

BUILD_DEPENDS=		xorg-luit:primary:standard

USES=			cpe ncurses pcre fontconfig
XORG_COMPONENTS=	xinerama ice xt sm xaw xft xrender

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKDIR}}/LICENSE_MIT
LICENSE_AWK=		MIT:"^$$"
LICENSE_SOURCE=		MIT:{{WRKSRC}}/INSTALL
LICENSE_SCHEME=		solo

CPE_VENDOR=		invisible-island
FPC_EQUIVALENT=		x11/xterm

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-narrowproto
			--enable-256-color
			--enable-luit
			--enable-wide-chars
			--enable-pcre
			--enable-screen-dumps
			--enable-logging
			--without-Xaw3d
			--without-Xaw3dxft
			--without-neXtaw
CONFIGURE_ENV=		cf_cv_lib_tgetent="-lncurses -ltinfo"

CFLAGS=			-I{{NCURSESINC}}
VAR_OPSYS[freebsd]=	CONFIGURE_ARGS=--with-utempter

[SIXEL].DESCRIPTION=			Enable Sixel graphics support
[SIXEL].CONFIGURE_ENABLE_BOTH=		sixel-graphics

[DECTERM].DESCRIPTION=			Enable DECterm Locator support
[DECTERM].CONFIGURE_ENABLE_BOTH=	dec-locator

[DABBREV].DESCRIPTION=			Enable support for dabbrev-expand
[DABBREV].CONFIGURE_ENABLE_BOTH=	dabbrev

[REGIS].DESCRIPTION=			Enable ReGIS graphics support
[REGIS].CONFIGURE_ENABLE_BOTH=		regis-graphics

post-install:
.for f in koi8rxterm resize uxterm xterm
	${CHMOD} ${BINMODE} ${STAGEDIR}${PREFIX}/bin/${f}
.endfor
	@${MKDIR} ${STAGEDIR}${PREFIX}/share/applications/
	${INSTALL_DATA} ${WRKSRC}/xterm.desktop \
		${STAGEDIR}${PREFIX}/share/applications/

[FILE:438:descriptions/desc.primary]
The xterm program is the standard terminal emulator for the X
Window System. It provides DEC VT102/VT220 and Tektronix 4014
compatible terminals for programs that can't use the window
system directly. If the underlying operating system supports
terminal resizing capabilities (for example, the SIGWINCH
signal in systems derived from 4.3bsd), xterm will use the
facilities to notify programs running in the window whenever it
is resized.


[FILE:92:distinfo]
81dd59cc2ecef1e849ed21722e37a24756e02b54ec19d157cb545b273813f4b8      1547627 xterm-387.tgz


[FILE:440:manifests/plist.primary]
bin/
 koi8rxterm
 resize
 uxterm
 xterm
lib/X11/app-defaults/
 KOI8RXTerm
 KOI8RXTerm-color
 UXTerm
 UXTerm-color
 XTerm
 XTerm-color
share/applications/xterm.desktop
share/pixmaps/
 filled-xterm_16x16.xpm
 filled-xterm_32x32.xpm
 filled-xterm_48x48.xpm
 mini.xterm_16x16.xpm
 mini.xterm_32x32.xpm
 mini.xterm_48x48.xpm
 xterm-color_16x16.xpm
 xterm-color_32x32.xpm
 xterm-color_48x48.xpm
 xterm_16x16.xpm
 xterm_32x32.xpm
 xterm_48x48.xpm


[FILE:71:manifests/plist.man]
share/man/man1/
 koi8rxterm.1.gz
 resize.1.gz
 uxterm.1.gz
 xterm.1.gz


[FILE:180:patches/patch-util.c]
--- util.c.orig	2023-09-14 22:55:55 UTC
+++ util.c
@@ -54,6 +54,10 @@
 
 /* util.c */
 
+#ifdef __linux__
+#define _XOPEN_SOURCE
+#endif
+
 #include <xterm.h>
 
 #include <data.h>


[FILE:625:files/pkg-message-single]
================================================================================
You installed xterm with wide chars support. This introduces some limitations
comparing to the plain single chars version: this version of xterm will use
UTF-8 charset for selection buffers, breaking 8-bit copy/paste support unless
you are using UTF-8 or ISO8859-1 locale. If you want 8-bit charset selections to
work as before, use "eightBitSelectTypes" XTerm resource setting.

For further information refer to the SELECT/PASTE section of xterm(1) manual
page.
================================================================================

