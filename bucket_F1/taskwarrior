# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		taskwarrior
VERSION=		2.5.3
KEYWORDS=		deskutils
VARIANTS=		standard
SDESC[standard]=	Feature-rich command-line todo list manager
HOMEPAGE=		https://taskwarrior.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://github.com/GothenburgBitFactory/taskwarrior/releases/download/v2.5.3/
DISTFILE[1]=		task-2.5.3.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	gnutls:primary:standard
			libuuid:single:standard

USES=			cmake shebangfix solaris-funcs

DISTNAME=		task-2.5.3

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		deskutils/taskwarrior
SHEBANG_FILES=		scripts/*/*.pl
			doc/rc/refresh
SOL_FUNCTIONS=		timegm:src/libshared/src/Datetime.cpp

CMAKE_ARGS=		-DTASK_DOCDIR:STRING=share/doc/taskwarrior
VAR_OPSYS[sunos]=	LDFLAGS=-lsocket

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/task

[FILE:178:descriptions/desc.primary]
Taskwarrior is Free and Open Source Software that manages your TODO list
from the command line. It is flexible, fast, and unobtrusive. It does its
job then gets out of your way.


[FILE:96:distinfo]
7243d75e0911d9e2c9119ad94a61a87f041e4053e197f7280c42410aa1ee963b       788760 task-2.5.3.tar.gz


[FILE:1427:manifests/plist.primary]
bin/task
share/man/man1/task.1.gz
share/man/man5/
 task-color.5.gz
 task-sync.5.gz
 taskrc.5.gz
share/taskwarrior/rc/
 dark-16.theme
 dark-256.theme
 dark-blue-256.theme
 dark-gray-256.theme
 dark-gray-blue-256.theme
 dark-green-256.theme
 dark-red-256.theme
 dark-violets-256.theme
 dark-yellow-green.theme
 holidays.cs-CZ.rc
 holidays.da-DK.rc
 holidays.de-AT.rc
 holidays.de-BE.rc
 holidays.de-CH.rc
 holidays.de-DE.rc
 holidays.el-GR.rc
 holidays.en-CA.rc
 holidays.en-GB.rc
 holidays.en-NZ.rc
 holidays.en-US.rc
 holidays.es-CO.rc
 holidays.es-ES.rc
 holidays.es-US.rc
 holidays.fi-FI.rc
 holidays.fr-BE.rc
 holidays.fr-FR.rc
 holidays.hr-HR.rc
 holidays.is-IS.rc
 holidays.it-IT.rc
 holidays.nb-NO.rc
 holidays.nl-BE.rc
 holidays.nl-NL.rc
 holidays.pl-PL.rc
 holidays.por-PRT.rc
 holidays.pt-PT.rc
 holidays.ru-RU.rc
 holidays.sv-SE.rc
 holidays.tr-TR.rc
 light-16.theme
 light-256.theme
 no-color.theme
 refresh
 solarized-dark-256.theme
 solarized-light-256.theme
share/taskwarrior/scripts/add-ons/
 README
 update-holidays.pl
share/taskwarrior/scripts/bash/task.sh
share/taskwarrior/scripts/fish/task.fish
share/taskwarrior/scripts/hooks/
 README
 on-add
 on-add.the
 on-exit
 on-exit.shadow-file
 on-launch
 on-modify
share/taskwarrior/scripts/vim/README
share/taskwarrior/scripts/vim/ftdetect/task.vim
share/taskwarrior/scripts/vim/syntax/
 taskdata.vim
 taskedit.vim
 taskrc.vim
share/taskwarrior/scripts/zsh/_task


[FILE:1979:patches/patch-CMakeLists.txt]
--- CMakeLists.txt.orig	2021-01-04 05:30:22 UTC
+++ CMakeLists.txt
@@ -54,15 +54,15 @@ set (PACKAGE_TARNAME "${PACKAGE}")
 set (PACKAGE_VERSION "${VERSION}")
 set (PACKAGE_STRING "${PACKAGE} ${VERSION}")
 
-if (FREEBSD OR DRAGONFLY)
+if (0)
 SET (TASK_MAN1DIR man/man1 CACHE STRING "Installation directory for man pages, section 1")
 SET (TASK_MAN5DIR man/man5 CACHE STRING "Installation directory for man pages, section 5")
-else (FREEBSD OR DRAGONFLY)
+else ()
 SET (TASK_MAN1DIR share/man/man1 CACHE STRING "Installation directory for man pages, section 1")
 SET (TASK_MAN5DIR share/man/man5 CACHE STRING "Installation directory for man pages, section 5")
-endif (FREEBSD OR DRAGONFLY)
+endif ()
 SET (TASK_DOCDIR  share/doc/task CACHE STRING "Installation directory for doc files")
-SET (TASK_RCDIR "${TASK_DOCDIR}/rc" CACHE STRING "Installation directory for configuration files")
+SET (TASK_RCDIR "share/taskwarrior/rc" CACHE STRING "Installation directory for configuration files")
 SET (TASK_BINDIR  bin            CACHE STRING "Installation directory for the binary")
 
 if (USE_GNUTLS)
@@ -87,10 +87,10 @@ check_struct_has_member ("struct tm" tm_
 check_struct_has_member ("struct stat" st_birthtime "sys/types.h;sys/stat.h" HAVE_ST_BIRTHTIME)
 
 message ("-- Looking for libuuid")
-if (DARWIN OR FREEBSD OR OPENBSD)
+if (0)
   # Apple and FreeBSD include the uuid functions in their libc, rather than libuuid
   check_function_exists (uuid_unparse_lower HAVE_UUID_UNPARSE_LOWER)
-else (DARWIN OR FREEBSD OR OPENBSD)
+else (0)
   find_path    (UUID_INCLUDE_DIR   uuid/uuid.h)
   find_library (UUID_LIBRARY NAMES uuid)
   if (UUID_INCLUDE_DIR AND UUID_LIBRARY)
@@ -103,7 +103,7 @@ else (DARWIN OR FREEBSD OR OPENBSD)
   else (UUID_INCLUDE_DIR AND UUID_LIBRARY)
     message (FATAL_ERROR "-- libuuid not found.")
   endif (UUID_INCLUDE_DIR AND UUID_LIBRARY)
-endif (DARWIN OR FREEBSD OR OPENBSD)
+endif (0)
 
 if (HAVE_UUID_UNPARSE_LOWER)
   message ("-- Found libuuid")


[FILE:590:patches/patch-scripts_CMakeLists.txt]
--- scripts/CMakeLists.txt.orig	2021-01-04 05:30:22 UTC
+++ scripts/CMakeLists.txt
@@ -1,8 +1,8 @@
 cmake_minimum_required (VERSION 3.0)
 install (DIRECTORY bash fish vim zsh hooks
-         DESTINATION ${TASK_DOCDIR}/scripts)
+         DESTINATION share/taskwarrior/scripts)
 install (DIRECTORY add-ons
-         DESTINATION ${TASK_DOCDIR}/scripts
+         DESTINATION share/taskwarrior/scripts
          FILE_PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE
                           GROUP_READ             GROUP_EXECUTE
                           WORLD_READ             WORLD_EXECUTE)

