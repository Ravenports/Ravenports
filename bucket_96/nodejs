# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		nodejs
VERSION=		14.0.0
KEYWORDS=		www lang
VARIANTS=		standard
SDESC[standard]=	Evented I/O for V8 JavaScript
HOMEPAGE=		https://nodejs.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://nodejs.org/dist/v14.0.0/
DISTFILE[1]=		node-v14.0.0.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BROKEN[sunos]=		The ld.sun linker does not support required options

BUILDRUN_DEPENDS=	icu:single:standard
			libuv:single:standard
			c-ares:single:standard
			libnghttp2:single:standard

USES=			execinfo gmake python:build pkgconfig shebangfix
			zlib

DISTNAME=		node-v14.0.0

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		www/node
SHEBANG_FILES=		tools/specialize_node_d.py
			tools/genv8constants.py

MUST_CONFIGURE=		yes
CONFIGURE_ARGS=		--prefix={{PREFIX}}
			--without-snapshot
			--without-npm
			--without-dtrace
			--shared-cares
			--shared-libuv
			--shared-zlib
			--shared-nghttp2
			--with-intl=system-icu

MAKE_ENV=		CC.host={{CC}}
			CXX.host={{CXX}}
			LINK.host={{CXX}}
			LINK.target={{CXX}}

INSTALL_REQ_TOOLCHAIN=	yes

post-patch:
	${GREP} -rl "/usr/local" ${WRKSRC} | \
		${XARGS} ${REINPLACE_CMD} -e 's|/usr/local|${LOCALBASE}|g'
	# So many different ways to run python. Fix them all.
	${REINPLACE_CMD} -e 's|/usr/bin/env python|${PYTHON_CMD}|' \
		${WRKSRC}/configure
	${FIND} ${WRKSRC} -type f -name '*.gyp*' -print0 | \
		${XARGS} -0 ${REINPLACE_CMD} \
			-e "s|'python'|'${PYTHON_CMD}'|" \
			-e 's|<!(python |<!(${PYTHON_CMD} |' \
			-e 's|\&\& python |\&\& ${PYTHON_CMD} |'
	# fix inability for torque to find libz
	${REINPLACE_CMD} -e 's|@RAVRPATH@|-Wl,-rpath,${PREFIX}/lib|' \
		${WRKSRC}/tools/v8_gypfiles/v8.gyp
	${FIND} ${WRKSRC} -name "*.bak" -delete

post-patch-dragonfly:
	# using freebsd's config, but large pages not supported
	${REINPLACE_CMD} -e '/"linux freebsd mac"/ s/ freebsd//' \
		${WRKSRC}/node.gyp

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/node
	${CHOWN} ${MANMODE} ${STAGEDIR}${PREFIX}/share/man/man1/node.1

[FILE:263:descriptions/desc.primary]
Node.js is a JavaScript runtime built on Chrome's V8 JavaScript
engine. Node.js uses an event-driven, non-blocking I/O model that
makes it lightweight and efficient. Node.js' package ecosystem,
npm, is the largest ecosystem of open source libraries in the world.


[FILE:98:distinfo]
5ee2a8d3036a1652ec93bbd8b5812e0ae41e0450af729b14df4a27afc6f17cf8     61453147 node-v14.0.0.tar.gz


[FILE:20653:manifests/plist.primary]
bin/node
include/node/
 common.gypi
 config.gypi
 js_native_api.h
 js_native_api_types.h
 node.h
 node_api.h
 node_api_types.h
 node_buffer.h
 node_object_wrap.h
 node_version.h
 v8-internal.h
 v8-platform.h
 v8-profiler.h
 v8-util.h
 v8-value-serializer-version.h
 v8-version-string.h
 v8-version.h
 v8-wasm-trap-handler-posix.h
 v8-wasm-trap-handler-win.h
 v8.h
 v8config.h
include/node/libplatform/
 libplatform-export.h
 libplatform.h
 v8-tracing.h
include/node/openssl/
 aes.h
 asn1.h
 asn1_mac.h
 asn1err.h
 asn1t.h
 async.h
 asyncerr.h
 bio.h
 bioerr.h
 blowfish.h
 bn.h
 bn_conf.h
 bn_conf_asm.h
 bn_conf_no-asm.h
 bnerr.h
 buffer.h
 buffererr.h
 camellia.h
 cast.h
 cmac.h
 cms.h
 cmserr.h
 comp.h
 comperr.h
 conf.h
 conf_api.h
 conferr.h
 crypto.h
 cryptoerr.h
 ct.h
 cterr.h
 des.h
 dh.h
 dherr.h
 dsa.h
 dsaerr.h
 dso_conf.h
 dso_conf_asm.h
 dso_conf_no-asm.h
 dtls1.h
 e_os2.h
 ebcdic.h
 ec.h
 ecdh.h
 ecdsa.h
 ecerr.h
 engine.h
 engineerr.h
 err.h
 evp.h
 evperr.h
 hmac.h
 idea.h
 kdf.h
 kdferr.h
 lhash.h
 md2.h
 md4.h
 md5.h
 mdc2.h
 modes.h
 obj_mac.h
 objects.h
 objectserr.h
 ocsp.h
 ocsperr.h
 opensslconf.h
 opensslconf_asm.h
 opensslconf_no-asm.h
 opensslv.h
 ossl_typ.h
 pem.h
 pem2.h
 pemerr.h
 pkcs12.h
 pkcs12err.h
 pkcs7.h
 pkcs7err.h
 rand.h
 rand_drbg.h
 randerr.h
 rc2.h
 rc4.h
 rc5.h
 ripemd.h
 rsa.h
 rsaerr.h
 safestack.h
 seed.h
 sha.h
 srp.h
 srtp.h
 ssl.h
 ssl2.h
 ssl3.h
 sslerr.h
 stack.h
 store.h
 storeerr.h
 symhacks.h
 tls1.h
 ts.h
 tserr.h
 txt_db.h
 ui.h
 uierr.h
 whrlpool.h
 x509.h
 x509_vfy.h
 x509err.h
 x509v3.h
 x509v3err.h
include/node/openssl/archs/BSD-x86/asm/crypto/buildinf.h
include/node/openssl/archs/BSD-x86/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/BSD-x86/asm/include/progs.h
include/node/openssl/archs/BSD-x86/asm/include/openssl/opensslconf.h
include/node/openssl/archs/BSD-x86/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/BSD-x86/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/BSD-x86/asm_avx2/include/progs.h
include/node/openssl/archs/BSD-x86/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/BSD-x86/no-asm/crypto/buildinf.h
include/node/openssl/archs/BSD-x86/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/BSD-x86/no-asm/include/progs.h
include/node/openssl/archs/BSD-x86/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/BSD-x86_64/asm/crypto/buildinf.h
include/node/openssl/archs/BSD-x86_64/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/BSD-x86_64/asm/include/progs.h
include/node/openssl/archs/BSD-x86_64/asm/include/openssl/opensslconf.h
include/node/openssl/archs/BSD-x86_64/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/BSD-x86_64/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/BSD-x86_64/asm_avx2/include/progs.h
include/node/openssl/archs/BSD-x86_64/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/BSD-x86_64/no-asm/crypto/buildinf.h
include/node/openssl/archs/BSD-x86_64/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/BSD-x86_64/no-asm/include/progs.h
include/node/openssl/archs/BSD-x86_64/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/VC-WIN32/asm/crypto/buildinf.h
include/node/openssl/archs/VC-WIN32/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/VC-WIN32/asm/include/progs.h
include/node/openssl/archs/VC-WIN32/asm/include/openssl/opensslconf.h
include/node/openssl/archs/VC-WIN32/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/VC-WIN32/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/VC-WIN32/asm_avx2/include/progs.h
include/node/openssl/archs/VC-WIN32/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/VC-WIN32/no-asm/crypto/buildinf.h
include/node/openssl/archs/VC-WIN32/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/VC-WIN32/no-asm/include/progs.h
include/node/openssl/archs/VC-WIN32/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/VC-WIN64-ARM/no-asm/crypto/buildinf.h
include/node/openssl/archs/VC-WIN64-ARM/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/VC-WIN64-ARM/no-asm/include/progs.h
include/node/openssl/archs/VC-WIN64-ARM/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/VC-WIN64A/asm/crypto/buildinf.h
include/node/openssl/archs/VC-WIN64A/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/VC-WIN64A/asm/include/progs.h
include/node/openssl/archs/VC-WIN64A/asm/include/openssl/opensslconf.h
include/node/openssl/archs/VC-WIN64A/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/VC-WIN64A/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/VC-WIN64A/asm_avx2/include/progs.h
include/node/openssl/archs/VC-WIN64A/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/VC-WIN64A/no-asm/crypto/buildinf.h
include/node/openssl/archs/VC-WIN64A/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/VC-WIN64A/no-asm/include/progs.h
include/node/openssl/archs/VC-WIN64A/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/aix-gcc/asm/crypto/buildinf.h
include/node/openssl/archs/aix-gcc/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/aix-gcc/asm/include/progs.h
include/node/openssl/archs/aix-gcc/asm/include/openssl/opensslconf.h
include/node/openssl/archs/aix-gcc/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/aix-gcc/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/aix-gcc/asm_avx2/include/progs.h
include/node/openssl/archs/aix-gcc/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/aix-gcc/no-asm/crypto/buildinf.h
include/node/openssl/archs/aix-gcc/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/aix-gcc/no-asm/include/progs.h
include/node/openssl/archs/aix-gcc/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/aix64-gcc/asm/crypto/buildinf.h
include/node/openssl/archs/aix64-gcc/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/aix64-gcc/asm/include/progs.h
include/node/openssl/archs/aix64-gcc/asm/include/openssl/opensslconf.h
include/node/openssl/archs/aix64-gcc/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/aix64-gcc/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/aix64-gcc/asm_avx2/include/progs.h
include/node/openssl/archs/aix64-gcc/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/aix64-gcc/no-asm/crypto/buildinf.h
include/node/openssl/archs/aix64-gcc/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/aix64-gcc/no-asm/include/progs.h
include/node/openssl/archs/aix64-gcc/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/darwin-i386-cc/asm/crypto/buildinf.h
include/node/openssl/archs/darwin-i386-cc/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/darwin-i386-cc/asm/include/progs.h
include/node/openssl/archs/darwin-i386-cc/asm/include/openssl/opensslconf.h
include/node/openssl/archs/darwin-i386-cc/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/darwin-i386-cc/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/darwin-i386-cc/asm_avx2/include/progs.h
include/node/openssl/archs/darwin-i386-cc/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/darwin-i386-cc/no-asm/crypto/buildinf.h
include/node/openssl/archs/darwin-i386-cc/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/darwin-i386-cc/no-asm/include/progs.h
include/node/openssl/archs/darwin-i386-cc/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/darwin64-x86_64-cc/asm/crypto/buildinf.h
include/node/openssl/archs/darwin64-x86_64-cc/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/darwin64-x86_64-cc/asm/include/progs.h
include/node/openssl/archs/darwin64-x86_64-cc/asm/include/openssl/opensslconf.h
include/node/openssl/archs/darwin64-x86_64-cc/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/darwin64-x86_64-cc/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/darwin64-x86_64-cc/asm_avx2/include/progs.h
include/node/openssl/archs/darwin64-x86_64-cc/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/darwin64-x86_64-cc/no-asm/crypto/buildinf.h
include/node/openssl/archs/darwin64-x86_64-cc/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/darwin64-x86_64-cc/no-asm/include/progs.h
include/node/openssl/archs/darwin64-x86_64-cc/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-aarch64/asm/crypto/buildinf.h
include/node/openssl/archs/linux-aarch64/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-aarch64/asm/include/progs.h
include/node/openssl/archs/linux-aarch64/asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-aarch64/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/linux-aarch64/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-aarch64/asm_avx2/include/progs.h
include/node/openssl/archs/linux-aarch64/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/linux-aarch64/no-asm/crypto/buildinf.h
include/node/openssl/archs/linux-aarch64/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-aarch64/no-asm/include/progs.h
include/node/openssl/archs/linux-aarch64/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-armv4/asm/crypto/buildinf.h
include/node/openssl/archs/linux-armv4/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-armv4/asm/include/progs.h
include/node/openssl/archs/linux-armv4/asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-armv4/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/linux-armv4/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-armv4/asm_avx2/include/progs.h
include/node/openssl/archs/linux-armv4/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/linux-armv4/no-asm/crypto/buildinf.h
include/node/openssl/archs/linux-armv4/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-armv4/no-asm/include/progs.h
include/node/openssl/archs/linux-armv4/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-elf/asm/crypto/buildinf.h
include/node/openssl/archs/linux-elf/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-elf/asm/include/progs.h
include/node/openssl/archs/linux-elf/asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-elf/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/linux-elf/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-elf/asm_avx2/include/progs.h
include/node/openssl/archs/linux-elf/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/linux-elf/no-asm/crypto/buildinf.h
include/node/openssl/archs/linux-elf/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-elf/no-asm/include/progs.h
include/node/openssl/archs/linux-elf/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-ppc/asm/crypto/buildinf.h
include/node/openssl/archs/linux-ppc/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-ppc/asm/include/progs.h
include/node/openssl/archs/linux-ppc/asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-ppc/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/linux-ppc/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-ppc/asm_avx2/include/progs.h
include/node/openssl/archs/linux-ppc/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/linux-ppc/no-asm/crypto/buildinf.h
include/node/openssl/archs/linux-ppc/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-ppc/no-asm/include/progs.h
include/node/openssl/archs/linux-ppc/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-ppc64/asm/crypto/buildinf.h
include/node/openssl/archs/linux-ppc64/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-ppc64/asm/include/progs.h
include/node/openssl/archs/linux-ppc64/asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-ppc64/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/linux-ppc64/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-ppc64/asm_avx2/include/progs.h
include/node/openssl/archs/linux-ppc64/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/linux-ppc64/no-asm/crypto/buildinf.h
include/node/openssl/archs/linux-ppc64/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-ppc64/no-asm/include/progs.h
include/node/openssl/archs/linux-ppc64/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-ppc64le/asm/crypto/buildinf.h
include/node/openssl/archs/linux-ppc64le/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-ppc64le/asm/include/progs.h
include/node/openssl/archs/linux-ppc64le/asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-ppc64le/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/linux-ppc64le/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-ppc64le/asm_avx2/include/progs.h
include/node/openssl/archs/linux-ppc64le/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/linux-ppc64le/no-asm/crypto/buildinf.h
include/node/openssl/archs/linux-ppc64le/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-ppc64le/no-asm/include/progs.h
include/node/openssl/archs/linux-ppc64le/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-x32/asm/crypto/buildinf.h
include/node/openssl/archs/linux-x32/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-x32/asm/include/progs.h
include/node/openssl/archs/linux-x32/asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-x32/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/linux-x32/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-x32/asm_avx2/include/progs.h
include/node/openssl/archs/linux-x32/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/linux-x32/no-asm/crypto/buildinf.h
include/node/openssl/archs/linux-x32/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-x32/no-asm/include/progs.h
include/node/openssl/archs/linux-x32/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-x86_64/asm/crypto/buildinf.h
include/node/openssl/archs/linux-x86_64/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-x86_64/asm/include/progs.h
include/node/openssl/archs/linux-x86_64/asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux-x86_64/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/linux-x86_64/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-x86_64/asm_avx2/include/progs.h
include/node/openssl/archs/linux-x86_64/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/linux-x86_64/no-asm/crypto/buildinf.h
include/node/openssl/archs/linux-x86_64/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux-x86_64/no-asm/include/progs.h
include/node/openssl/archs/linux-x86_64/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux32-s390x/asm/crypto/buildinf.h
include/node/openssl/archs/linux32-s390x/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux32-s390x/asm/include/progs.h
include/node/openssl/archs/linux32-s390x/asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux32-s390x/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/linux32-s390x/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux32-s390x/asm_avx2/include/progs.h
include/node/openssl/archs/linux32-s390x/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/linux32-s390x/no-asm/crypto/buildinf.h
include/node/openssl/archs/linux32-s390x/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux32-s390x/no-asm/include/progs.h
include/node/openssl/archs/linux32-s390x/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux64-mips64/asm/crypto/buildinf.h
include/node/openssl/archs/linux64-mips64/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux64-mips64/asm/include/progs.h
include/node/openssl/archs/linux64-mips64/asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux64-mips64/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/linux64-mips64/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux64-mips64/asm_avx2/include/progs.h
include/node/openssl/archs/linux64-mips64/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/linux64-mips64/no-asm/crypto/buildinf.h
include/node/openssl/archs/linux64-mips64/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux64-mips64/no-asm/include/progs.h
include/node/openssl/archs/linux64-mips64/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux64-s390x/asm/crypto/buildinf.h
include/node/openssl/archs/linux64-s390x/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux64-s390x/asm/include/progs.h
include/node/openssl/archs/linux64-s390x/asm/include/openssl/opensslconf.h
include/node/openssl/archs/linux64-s390x/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/linux64-s390x/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux64-s390x/asm_avx2/include/progs.h
include/node/openssl/archs/linux64-s390x/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/linux64-s390x/no-asm/crypto/buildinf.h
include/node/openssl/archs/linux64-s390x/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/linux64-s390x/no-asm/include/progs.h
include/node/openssl/archs/linux64-s390x/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/solaris-x86-gcc/asm/crypto/buildinf.h
include/node/openssl/archs/solaris-x86-gcc/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/solaris-x86-gcc/asm/include/progs.h
include/node/openssl/archs/solaris-x86-gcc/asm/include/openssl/opensslconf.h
include/node/openssl/archs/solaris-x86-gcc/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/solaris-x86-gcc/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/solaris-x86-gcc/asm_avx2/include/progs.h
include/node/openssl/archs/solaris-x86-gcc/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/solaris-x86-gcc/no-asm/crypto/buildinf.h
include/node/openssl/archs/solaris-x86-gcc/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/solaris-x86-gcc/no-asm/include/progs.h
include/node/openssl/archs/solaris-x86-gcc/no-asm/include/openssl/opensslconf.h
include/node/openssl/archs/solaris64-x86_64-gcc/asm/crypto/buildinf.h
include/node/openssl/archs/solaris64-x86_64-gcc/asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/solaris64-x86_64-gcc/asm/include/progs.h
include/node/openssl/archs/solaris64-x86_64-gcc/asm/include/openssl/opensslconf.h
include/node/openssl/archs/solaris64-x86_64-gcc/asm_avx2/crypto/buildinf.h
include/node/openssl/archs/solaris64-x86_64-gcc/asm_avx2/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/solaris64-x86_64-gcc/asm_avx2/include/progs.h
include/node/openssl/archs/solaris64-x86_64-gcc/asm_avx2/include/openssl/opensslconf.h
include/node/openssl/archs/solaris64-x86_64-gcc/no-asm/crypto/buildinf.h
include/node/openssl/archs/solaris64-x86_64-gcc/no-asm/crypto/include/internal/
 bn_conf.h
 dso_conf.h
include/node/openssl/archs/solaris64-x86_64-gcc/no-asm/include/progs.h
include/node/openssl/archs/solaris64-x86_64-gcc/no-asm/include/openssl/opensslconf.h
share/man/man1/node.1.gz
share/systemtap/tapset/node.stp


[FILE:43:manifests/plist.docs]
share/doc/node/
 gdbinit
 lldb_commands.py


[FILE:702:patches/patch-deps_openssl_config_bn__conf__asm.h]
--- deps/openssl/config/bn_conf_asm.h.orig	2020-04-21 11:38:49 UTC
+++ deps/openssl/config/bn_conf_asm.h
@@ -23,7 +23,7 @@
 # include "./archs/VC-WIN64A/asm/crypto/include/internal/bn_conf.h"
 #elif (defined(__FreeBSD__) || defined(__OpenBSD__)) && defined(__i386__)
 # include "./archs/BSD-x86/asm/crypto/include/internal/bn_conf.h"
-#elif (defined(__FreeBSD__) || defined(__OpenBSD__)) && defined(__x86_64__)
+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__)) && defined(__x86_64__)
 # include "./archs/BSD-x86_64/asm/crypto/include/internal/bn_conf.h"
 #elif defined(__sun) && defined(__i386__)
 # include "./archs/solaris-x86-gcc/asm/crypto/include/internal/bn_conf.h"


[FILE:708:patches/patch-deps_openssl_config_dso__conf__asm.h]
--- deps/openssl/config/dso_conf_asm.h.orig	2020-04-21 11:38:49 UTC
+++ deps/openssl/config/dso_conf_asm.h
@@ -23,7 +23,7 @@
 # include "./archs/VC-WIN64A/asm/crypto/include/internal/dso_conf.h"
 #elif (defined(__FreeBSD__) || defined(__OpenBSD__)) && defined(__i386__)
 # include "./archs/BSD-x86/asm/crypto/include/internal/dso_conf.h"
-#elif (defined(__FreeBSD__) || defined(__OpenBSD__)) && defined(__x86_64__)
+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined(__DragonFly__)) && defined(__x86_64__)
 # include "./archs/BSD-x86_64/asm/crypto/include/internal/dso_conf.h"
 #elif defined(__sun) && defined(__i386__)
 # include "./archs/solaris-x86-gcc/asm/crypto/include/internal/dso_conf.h"


[FILE:697:patches/patch-deps_openssl_config_opensslconf__asm.h]
--- deps/openssl/config/opensslconf_asm.h.orig	2020-04-21 11:38:49 UTC
+++ deps/openssl/config/opensslconf_asm.h
@@ -110,7 +110,7 @@
 # include "./archs/VC-WIN64A/asm/include/openssl/opensslconf.h"
 #elif (defined(__FreeBSD__) || defined(__OpenBSD__)) && defined(__i386__)
 # include "./archs/BSD-x86/asm/include/openssl/opensslconf.h"
-#elif (defined(__FreeBSD__) || defined(__OpenBSD__)) && defined(__x86_64__)
+#elif (defined(__FreeBSD__) || defined(__OpenBSD__) || defined (__DragonFly__)) && defined(__x86_64__)
 # include "./archs/BSD-x86_64/asm/include/openssl/opensslconf.h"
 #elif defined(__sun) && defined(__i386__)
 # include "./archs/solaris-x86-gcc/asm/include/openssl/opensslconf.h"


[FILE:1059:patches/patch-deps_uv_src_unix_udp.c]
--- deps/uv/src/unix/udp.c.orig	2020-04-21 11:38:50 UTC
+++ deps/uv/src/unix/udp.c
@@ -850,7 +850,7 @@ static int uv__udp_set_membership6(uv_ud
 }
 
 
-#if !defined(__OpenBSD__) && !defined(__NetBSD__) && !defined(__ANDROID__)
+#if !defined(__OpenBSD__) && !defined(__NetBSD__) && !defined(__ANDROID__) && !defined(__DragonFly__)
 static int uv__udp_set_source_membership4(uv_udp_t* handle,
                                           const struct sockaddr_in* multicast_addr,
                                           const char* interface_addr,
@@ -1045,7 +1045,7 @@ int uv_udp_set_source_membership(uv_udp_
                                  const char* interface_addr,
                                  const char* source_addr,
                                  uv_membership membership) {
-#if !defined(__OpenBSD__) && !defined(__NetBSD__) && !defined(__ANDROID__)
+#if !defined(__OpenBSD__) && !defined(__NetBSD__) && !defined(__ANDROID__) && !defined(__DragonFly__)
   int err;
   struct sockaddr_storage mcast_addr;
   struct sockaddr_in* mcast_addr4;


[FILE:478:patches/patch-deps_v8_src_base_platform_condition-variable.cc]
--- deps/v8/src/base/platform/condition-variable.cc.orig	2020-04-21 11:38:50 UTC
+++ deps/v8/src/base/platform/condition-variable.cc
@@ -16,6 +16,7 @@ namespace base {
 
 ConditionVariable::ConditionVariable() {
 #if (V8_OS_FREEBSD || V8_OS_NETBSD || V8_OS_OPENBSD || \
+     V8_OS_DRAGONFLYBSD || \
      (V8_OS_LINUX && V8_LIBC_GLIBC))
   // On Free/Net/OpenBSD and Linux with glibc we can change the time
   // source for pthread_cond_timedwait() to use the monotonic clock.


[FILE:638:patches/patch-deps_v8_src_base_platform_platform-freebsd.cc]
--- deps/v8/src/base/platform/platform-freebsd.cc.orig	2020-04-21 11:38:50 UTC
+++ deps/v8/src/base/platform/platform-freebsd.cc
@@ -47,6 +47,9 @@ static unsigned StringToLong(char* buffe
 }
 
 std::vector<OS::SharedLibraryAddress> OS::GetSharedLibraryAddresses() {
+#ifdef __DragonFly__
+  return std::vector<SharedLibraryAddress>();
+#else
   std::vector<SharedLibraryAddress> result;
   int mib[4] = {CTL_KERN, KERN_PROC, KERN_PROC_VMMAP, getpid()};
   size_t miblen = sizeof(mib) / sizeof(mib[0]);
@@ -90,6 +93,7 @@ std::vector<OS::SharedLibraryAddress> OS
     }
   }
   return result;
+#endif
 }
 
 void OS::SignalCodeMovingGC() {}


[FILE:616:patches/patch-deps_v8_src_base_utils_random-number-generator.cc]
--- deps/v8/src/base/utils/random-number-generator.cc.orig	2020-04-21 11:38:50 UTC
+++ deps/v8/src/base/utils/random-number-generator.cc
@@ -51,7 +51,7 @@ RandomNumberGenerator::RandomNumberGener
   result = rand_s(&second_half);
   DCHECK_EQ(0, result);
   SetSeed((static_cast<int64_t>(first_half) << 32) + second_half);
-#elif V8_OS_MACOSX || V8_OS_FREEBSD || V8_OS_OPENBSD
+#elif V8_OS_MACOSX || V8_OS_FREEBSD || V8_OS_OPENBSD || V8_OS_DRAGONFLYBSD
   // Despite its prefix suggests it is not RC4 algorithm anymore.
   // It always succeeds while having decent performance and
   // no file descriptor involved.


[FILE:451:patches/patch-deps_v8_src_d8_d8-posix.cc]
--- deps/v8/src/d8/d8-posix.cc.orig	2020-04-21 11:38:50 UTC
+++ deps/v8/src/d8/d8-posix.cc
@@ -350,7 +350,7 @@ static Local<Value> GetStdout(Isolate* i
 // See http://code.google.com/p/v8/issues/detail?id=401.
 #if defined(WNOWAIT) && !defined(ANDROID) && !defined(__APPLE__) && \
     !defined(__NetBSD__) && !defined(__Fuchsia__)
-#if !defined(__FreeBSD__)
+#if !defined(__FreeBSD__) && !defined(__DragonFly__)
 #define HAS_WAITID 1
 #endif
 #endif


[FILE:521:patches/patch-deps_v8_src_libsampler_sampler.cc]
--- deps/v8/src/libsampler/sampler.cc.orig	2020-04-21 11:38:50 UTC
+++ deps/v8/src/libsampler/sampler.cc
@@ -467,7 +467,7 @@ void SignalHandler::FillRegisterState(vo
   state->sp = reinterpret_cast<void*>(mcontext->__ss.__esp);
   state->fp = reinterpret_cast<void*>(mcontext->__ss.__ebp);
 #endif  // V8_HOST_ARCH_IA32
-#elif V8_OS_FREEBSD
+#elif V8_OS_FREEBSD || V8_OS_DRAGONFLYBSD
 #if V8_HOST_ARCH_IA32
   state->pc = reinterpret_cast<void*>(mcontext.mc_eip);
   state->sp = reinterpret_cast<void*>(mcontext.mc_esp);


[FILE:6282:patches/patch-deps_v8_src_objects_js-number-format.cc]
https://github.com/nodejs/node/issues/32660

--- deps/v8/src/objects/js-number-format.cc.orig	2020-03-26 20:00:01 UTC
+++ deps/v8/src/objects/js-number-format.cc
@@ -1187,42 +1187,31 @@ MaybeHandle<JSNumberFormat> JSNumberFormat::New(Isolat
 }
 
 namespace {
-Maybe<icu::UnicodeString> IcuFormatNumber(
+Maybe<bool> IcuFormatNumber(
     Isolate* isolate,
     const icu::number::LocalizedNumberFormatter& number_format,
-    Handle<Object> numeric_obj, icu::FieldPositionIterator* fp_iter) {
+    Handle<Object> numeric_obj, icu::number::FormattedNumber* formatted) {
   // If it is BigInt, handle it differently.
   UErrorCode status = U_ZERO_ERROR;
-  icu::number::FormattedNumber formatted;
   if (numeric_obj->IsBigInt()) {
     Handle<BigInt> big_int = Handle<BigInt>::cast(numeric_obj);
     Handle<String> big_int_string;
     ASSIGN_RETURN_ON_EXCEPTION_VALUE(isolate, big_int_string,
                                      BigInt::ToString(isolate, big_int),
-                                     Nothing<icu::UnicodeString>());
-    formatted = number_format.formatDecimal(
+                                     Nothing<bool>());
+    *formatted = number_format.formatDecimal(
         {big_int_string->ToCString().get(), big_int_string->length()}, status);
   } else {
     double number = numeric_obj->Number();
-    formatted = number_format.formatDouble(number, status);
+    *formatted = number_format.formatDouble(number, status);
   }
   if (U_FAILURE(status)) {
     // This happen because of icu data trimming trim out "unit".
     // See https://bugs.chromium.org/p/v8/issues/detail?id=8641
-    THROW_NEW_ERROR_RETURN_VALUE(isolate,
-                                 NewTypeError(MessageTemplate::kIcuError),
-                                 Nothing<icu::UnicodeString>());
+    THROW_NEW_ERROR_RETURN_VALUE(
+        isolate, NewTypeError(MessageTemplate::kIcuError), Nothing<bool>());
   }
-  if (fp_iter) {
-    formatted.getAllFieldPositions(*fp_iter, status);
-  }
-  icu::UnicodeString result = formatted.toString(status);
-  if (U_FAILURE(status)) {
-    THROW_NEW_ERROR_RETURN_VALUE(isolate,
-                                 NewTypeError(MessageTemplate::kIcuError),
-                                 Nothing<icu::UnicodeString>());
-  }
-  return Just(result);
+  return Just(true);
 }
 
 }  // namespace
@@ -1233,10 +1222,16 @@ MaybeHandle<String> JSNumberFormat::FormatNumeric(
     Handle<Object> numeric_obj) {
   DCHECK(numeric_obj->IsNumeric());
 
-  Maybe<icu::UnicodeString> maybe_format =
-      IcuFormatNumber(isolate, number_format, numeric_obj, nullptr);
+  icu::number::FormattedNumber formatted;
+  Maybe<bool> maybe_format =
+      IcuFormatNumber(isolate, number_format, numeric_obj, &formatted);
   MAYBE_RETURN(maybe_format, Handle<String>());
-  return Intl::ToString(isolate, maybe_format.FromJust());
+  UErrorCode status = U_ZERO_ERROR;
+  icu::UnicodeString result = formatted.toString(status);
+  if (U_FAILURE(status)) {
+    THROW_NEW_ERROR(isolate, NewTypeError(MessageTemplate::kIcuError), String);
+  }
+  return Intl::ToString(isolate, result);
 }
 
 namespace {
@@ -1349,12 +1344,18 @@ std::vector<NumberFormatSpan> FlattenRegionsToParts(
 }
 
 namespace {
-Maybe<int> ConstructParts(Isolate* isolate, const icu::UnicodeString& formatted,
-                          icu::FieldPositionIterator* fp_iter,
+Maybe<int> ConstructParts(Isolate* isolate,
+                          icu::number::FormattedNumber* formatted,
                           Handle<JSArray> result, int start_index,
                           Handle<Object> numeric_obj, bool style_is_unit) {
+  UErrorCode status = U_ZERO_ERROR;
+  icu::UnicodeString formatted_text = formatted->toString(status);
+  if (U_FAILURE(status)) {
+    THROW_NEW_ERROR_RETURN_VALUE(
+        isolate, NewTypeError(MessageTemplate::kIcuError), Nothing<int>());
+  }
   DCHECK(numeric_obj->IsNumeric());
-  int32_t length = formatted.length();
+  int32_t length = formatted_text.length();
   int index = start_index;
   if (length == 0) return Just(index);
 
@@ -1363,13 +1364,14 @@ Maybe<int> ConstructParts(Isolate* isolate, const icu:
   // other region covers some part of the formatted string. It's possible
   // there's another field with exactly the same begin and end as this backdrop,
   // in which case the backdrop's field_id of -1 will give it lower priority.
-  regions.push_back(NumberFormatSpan(-1, 0, formatted.length()));
+  regions.push_back(NumberFormatSpan(-1, 0, formatted_text.length()));
 
   {
-    icu::FieldPosition fp;
-    while (fp_iter->next(fp)) {
-      regions.push_back(NumberFormatSpan(fp.getField(), fp.getBeginIndex(),
-                                         fp.getEndIndex()));
+    icu::ConstrainedFieldPosition cfp;
+    cfp.constrainCategory(UFIELD_CATEGORY_NUMBER);
+    while (formatted->nextPosition(cfp, status)) {
+      regions.push_back(
+          NumberFormatSpan(cfp.getField(), cfp.getStart(), cfp.getLimit()));
     }
   }
 
@@ -1391,7 +1393,7 @@ Maybe<int> ConstructParts(Isolate* isolate, const icu:
     Handle<String> substring;
     ASSIGN_RETURN_ON_EXCEPTION_VALUE(
         isolate, substring,
-        Intl::ToString(isolate, formatted, part.begin_pos, part.end_pos),
+        Intl::ToString(isolate, formatted_text, part.begin_pos, part.end_pos),
         Nothing<int>());
     Intl::AddElement(isolate, result, index, field_type_string, substring);
     ++index;
@@ -1411,14 +1413,14 @@ MaybeHandle<JSArray> JSNumberFormat::FormatToParts(
       number_format->icu_number_formatter().raw();
   CHECK_NOT_NULL(fmt);
 
-  icu::FieldPositionIterator fp_iter;
-  Maybe<icu::UnicodeString> maybe_format =
-      IcuFormatNumber(isolate, *fmt, numeric_obj, &fp_iter);
+  icu::number::FormattedNumber formatted;
+  Maybe<bool> maybe_format =
+      IcuFormatNumber(isolate, *fmt, numeric_obj, &formatted);
   MAYBE_RETURN(maybe_format, Handle<JSArray>());
 
   Handle<JSArray> result = factory->NewJSArray(0);
   Maybe<int> maybe_format_to_parts = ConstructParts(
-      isolate, maybe_format.FromJust(), &fp_iter, result, 0, numeric_obj,
+      isolate, &formatted, result, 0, numeric_obj,
       number_format->style() == JSNumberFormat::Style::UNIT);
   MAYBE_RETURN(maybe_format_to_parts, Handle<JSArray>());
 


[FILE:700:patches/patch-deps_v8_src_trap-handler_handler-inside-posix.cc]
--- deps/v8/src/trap-handler/handler-inside-posix.cc.orig	2020-04-21 11:38:50 UTC
+++ deps/v8/src/trap-handler/handler-inside-posix.cc
@@ -27,7 +27,7 @@
 
 #include <signal.h>
 
-#if defined(V8_OS_LINUX) || defined(V8_OS_FREEBSD)
+#if V8_OS_LINUX || V8_OS_FREEBSD || V8_OS_DRAGONFLYBSD
 #include <ucontext.h>
 #elif V8_OS_MACOSX
 #include <sys/ucontext.h>
@@ -112,7 +112,7 @@ bool TryHandleSignal(int signum, siginfo
     auto* context_rip = &uc->uc_mcontext.gregs[REG_RIP];
 #elif V8_OS_MACOSX
     auto* context_rip = &uc->uc_mcontext->__ss.__rip;
-#elif V8_OS_FREEBSD
+#elif V8_OS_FREEBSD || V8_OS_DRAGONFLYBSD
     auto* context_rip = &uc->uc_mcontext.mc_rip;
 #else
 #error Unsupported platform


[FILE:426:patches/patch-deps_v8_src_trap-handler_handler-inside-posix.h]
--- deps/v8/src/trap-handler/handler-inside-posix.h.orig	2020-04-21 11:38:50 UTC
+++ deps/v8/src/trap-handler/handler-inside-posix.h
@@ -12,7 +12,7 @@ namespace v8 {
 namespace internal {
 namespace trap_handler {
 
-#if V8_OS_LINUX || V8_OS_FREEBSD
+#if defined(V8_OS_LINUX) || defined(V8_OS_FREEBSD) || defined(V8_OS_DRAGONFLYBSD)
 constexpr int kOobSignal = SIGSEGV;
 #elif V8_OS_MACOSX
 constexpr int kOobSignal = SIGBUS;


[FILE:427:patches/patch-deps_v8_src_trap-handler_trap-handler.h]
--- deps/v8/src/trap-handler/trap-handler.h.orig	2020-04-21 11:38:50 UTC
+++ deps/v8/src/trap-handler/trap-handler.h
@@ -25,6 +25,8 @@ namespace trap_handler {
 #define V8_TRAP_HANDLER_SUPPORTED true
 #elif V8_TARGET_ARCH_X64 && V8_OS_FREEBSD
 #define V8_TRAP_HANDLER_SUPPORTED true
+#elif V8_TARGET_ARCH_X64 && V8_OS_DRAGONFLYBSD
+#define V8_TRAP_HANDLER_SUPPORTED true
 #else
 #define V8_TRAP_HANDLER_SUPPORTED false
 #endif


[FILE:409:patches/patch-tools_gyp_pylib_gyp_common.py]
--- tools/gyp/pylib/gyp/common.py.orig	2020-04-21 11:38:52 UTC
+++ tools/gyp/pylib/gyp/common.py
@@ -436,6 +436,8 @@ def GetFlavor(params):
     return 'solaris'
   if sys.platform.startswith(('dragonfly', 'freebsd')):
     return 'freebsd'
+  if sys.platform.startswith('dragon'):
+    return 'freebsd'
   if sys.platform.startswith('openbsd'):
     return 'openbsd'
   if sys.platform.startswith('netbsd'):


[FILE:424:patches/patch-tools_install.py]
--- tools/install.py.orig	2020-04-21 11:38:52 UTC
+++ tools/install.py
@@ -151,7 +151,7 @@ def files(action):
   action(['deps/v8/tools/gdbinit'], 'share/doc/node/')
   action(['deps/v8/tools/lldb_commands.py'], 'share/doc/node/')
 
-  if 'freebsd' in sys.platform or 'openbsd' in sys.platform:
+  if 'skipme' in sys.platform:
     action(['doc/node.1'], 'man/man1/')
   else:
     action(['doc/node.1'], 'share/man/man1/')

