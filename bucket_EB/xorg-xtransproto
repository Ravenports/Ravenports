# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		xorg-xtransproto
VERSION=		1.5.1
REVISION=		1
KEYWORDS=		x11
VARIANTS=		std
SDESC[std]=		Abstract network code for X
HOMEPAGE=		https://www.x.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		XORG/individual/lib
DISTFILE[1]=		xtrans-1.5.1.tar.xz:main
DIST_SUBDIR=		xorg
DF_INDEX=		1
SPKGS[std]=		single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

DISTNAME=		xtrans-1.5.1

FPC_EQUIVALENT=		x11/xtrans

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--disable-docs
			--without-xmlto

MAKE_ARGS=		pkgconfigdir="{{PREFIX}}/lib/pkgconfig"

[FILE:191:descriptions/desc.single]
This package contains xtrans, a library of code that is shared among X
packages to handle network protocol transport in a modular fashion,
allowing a single place to add new transport types.


[FILE:103:distinfo]
dea80fbd8c3c941495b4b1d2785cb652815d016849a0d2ef90d1140de916993e       175624 xorg/xtrans-1.5.1.tar.xz


[FILE:155:manifests/plist.single]
include/X11/Xtrans/
 Xtrans.c
 Xtrans.h
 Xtransint.h
 Xtranslcl.c
 Xtranssock.c
 Xtransutil.c
 transport.c
lib/pkgconfig/xtrans.pc
share/aclocal/xtrans.m4


[FILE:458:patches/patch-Xtrans.c]
--- Xtrans.c.orig	2024-10-12 20:45:16 UTC
+++ Xtrans.c
@@ -162,7 +162,7 @@ TRANS(SelectTransport) (const char *prot
     strncpy (protobuf, protocol, PROTOBUFSIZE - 1);
     protobuf[PROTOBUFSIZE-1] = '\0';
 
-    for (i = 0; i < PROTOBUFSIZE && protobuf[i] != '\0'; i++)
+    for (unsigned int i = 0; i < PROTOBUFSIZE && protobuf[i] != '\0'; i++)
 	if (isupper ((unsigned char)protobuf[i]))
 	    protobuf[i] = tolower ((unsigned char)protobuf[i]);
 #endif

