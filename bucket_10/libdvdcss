# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libdvdcss
VERSION=		1.5.0
KEYWORDS=		multimedia
VARIANTS=		std
SDESC[std]=		Portable abstraction library for DVD decryption
HOMEPAGE=		https://www.videolan.org/developers/libdvdcss.html
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://download.videolan.org/pub/videolan/libdvdcss/1.5.0/
DISTFILE[1]=		libdvdcss-1.5.0.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			meson

LICENSE=		GPLv2+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERM
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/libdvdcss.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		multimedia/libdvdcss
MESON_ARGS=		-Denable_docs=false
			-Denable_examples=false

INSTALL_TARGET=		install-strip
SOVERSION=		2.3.0

[FILE:650:descriptions/desc.primary]
libdvdcss is a simple library designed for accessing DVDs like a block
device without having to bother about the decryption. The important
features:

 * Portability. Currently supported platforms are GNU/Linux, FreeBSD,
   NetBSD, OpenBSD, Mac OSX, Solaris, QNX, OS/2 and Windows NET 4.0
 * Simplicity. A DVD player can be built around the libdvdcss API
   using no more than 4 or 5 library calls.
 * Freedom. libdvdcss is released under the General Public License,
   ensuring it will stay free, and used only for free software products.
 * Just better. Unlike most similar projects, libdvdcss doesn't require
   the region of your drive to be set.


[FILE:101:distinfo]
529463e4d1befef82e5c6e470db7661a2db0343e092a2fb0d6c037cab8a5c399        81192 libdvdcss-1.5.0.tar.xz


[FILE:59:manifests/plist.primary]
lib/
 libdvdcss.so.%%SOMAJOR%%
 libdvdcss.so.%%SOVERSION%%


[FILE:107:manifests/plist.dev]
include/dvdcss/
 dvdcpxm.h
 dvdcss.h
 version.h
lib/
 libdvdcss.a
 libdvdcss.so
lib/pkgconfig/libdvdcss.pc


[FILE:56:manifests/plist.docs]
share/doc/libdvdcss/
 AUTHORS
 COPYING
 NEWS
 README.md


[FILE:690:patches/patch-src_ioctl.c]
--- src/ioctl.c.orig	2025-09-23 08:43:53 UTC
+++ src/ioctl.c
@@ -1076,6 +1076,14 @@ int ioctl_ReadCPRMMediaId(int i_fd,int *
     if (i_ret == 0)
         memcpy(p_buffer, dvd.buffer, sizeof(dvd.bufferLength));
 
+#elif defined(HAVE_BSD_DVD_STRUCT)
+
+    i_ret = -1;
+
+#elif defined( HAVE_LINUX_DVD_STRUCT )  // NetBSD
+
+    i_ret = -1;
+
 #else
 #   error "DVD ioctls are unavailable on this system"
 
@@ -1178,6 +1186,14 @@ int ioctl_ReadCPRMMKBPack(int i_fd, int
     }
     return i_ret;
 
+#elif defined(HAVE_BSD_DVD_STRUCT)
+
+    i_ret = -1;
+
+#elif defined( HAVE_LINUX_DVD_STRUCT )  // NetBSD
+
+    i_ret = -1;
+
 #else
 #   error "DVD ioctls are unavailable on this system"
 

