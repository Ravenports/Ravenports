# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libxslt
VERSION=		1.1.45
KEYWORDS=		textproc
VARIANTS=		std
SDESC[std]=		XSLT C library for GNOME
HOMEPAGE=		http://xmlsoft.org/XSLT/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNOME/libxslt/1.1
DISTFILE[1]=		libxslt-1.1.45.tar.xz:main
DIST_SUBDIR=		gnome2
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			man
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libgcrypt:dev:std
BUILDRUN_DEPENDS=	libgcrypt:primary:std

USES=			cpe cmake pkgconfig
GNOME_COMPONENTS=	libxml2

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/Copyright
LICENSE_SCHEME=		solo

CPE_VENDOR=		xmlsoft
FPC_EQUIVALENT=		textproc/libxslt

SOVERSION=		1.1.45
PLIST_SUB=		EXSLTSOVERSION=0.8.25
			EXSLTSOMAJOR=0
			EXSLTVER=1.1.45

CMAKE_ARGS=		-DLIBXSLT_WITH_CRYPTO:BOOL=ON
			-DBUILD_SHARED_LIBS:BOOL=ON
			-DLIBXSLT_WITH_PROGRAMS:BOOL=ON
			-DLIBXSLT_WITH_THREADS:BOOL=ON
			-DLIBXSLT_WITH_PYTHON:BOOL=OFF
			-DLIBXSLT_WITH_PROFILER:BOOL=ON
			-DLIBXSLT_WITH_TESTS:BOOL=OFF
			-DLIBXSLT_WITH_XSLT_DEBUG=OFF

[FILE:462:descriptions/desc.primary]
Libxslt is the XSLT C library developed for the GNOME project.  XSLT
itself is a an XML language to define transformation for XML.  Libxslt is
based on libxml2, the XML C library developed for the GNOME project.  It
also implements most of the EXSLT set of processor-portable extensions
functions and some of Saxon's evaluate and expressions extensions.

People can either embed the library in their application or use xsltproc
the command line processing tool.


[FILE:107:distinfo]
9acfe68419c4d06a45c550321b3212762d92f41465062ca4ea19e632ee5d216e      1519992 gnome2/libxslt-1.1.45.tar.xz


[FILE:158:manifests/plist.primary]
bin/
 xslt-config
 xsltproc
lib/
 libexslt.so.%%EXSLTSOMAJOR%%
 libexslt.so.%%EXSLTSOVERSION%%
 libxslt.so.%%SOMAJOR%%
 libxslt.so.%%SOVERSION%%
 xsltConf.sh


[FILE:591:manifests/plist.dev]
include/libexslt/
 exslt.h
 exsltconfig.h
 exsltexports.h
include/libxslt/
 attributes.h
 documents.h
 extensions.h
 extra.h
 functions.h
 imports.h
 keys.h
 namespaces.h
 numbersInternals.h
 pattern.h
 preproc.h
 security.h
 templates.h
 transform.h
 transformInternals.h
 variables.h
 xslt.h
 xsltInternals.h
 xsltconfig.h
 xsltexports.h
 xsltlocale.h
 xsltutils.h
lib/
 libexslt.so
 libxslt.so
lib/cmake/libxslt-%%EXSLTVER%%/
 FindGcrypt.cmake
 libxslt-config-version.cmake
 libxslt-config.cmake
 libxslt-export-release.cmake
 libxslt-export.cmake
lib/pkgconfig/
 libexslt.pc
 libxslt.pc


[FILE:65:manifests/plist.man]
share/man/man1/xsltproc.1
share/man/man3/
 libexslt.3
 libxslt.3


[FILE:1244:manifests/plist.docs]
share/doc/libxslt/
 apibuild.py
 libxslt-api.xml
 xsltproc.1
 xsltproc.html
 xsltproc.xml
share/doc/libxslt/EXSLT/libexslt-api.xml
share/doc/libxslt/EXSLT/devhelp/
 devhelp2.xsl
 general.html
 home.png
 html.xsl
 index.html
 left.png
 libexslt-exslt.html
 libexslt-exsltexports.html
 libexslt.devhelp2
 right.png
 style.css
 up.png
share/doc/libxslt/devhelp/
 devhelp2.xsl
 general.html
 home.png
 html.xsl
 index.html
 left.png
 libxslt-attributes.html
 libxslt-documents.html
 libxslt-extensions.html
 libxslt-extra.html
 libxslt-functions.html
 libxslt-imports.html
 libxslt-keys.html
 libxslt-namespaces.html
 libxslt-numbersInternals.html
 libxslt-pattern.html
 libxslt-preproc.html
 libxslt-security.html
 libxslt-templates.html
 libxslt-transform.html
 libxslt-variables.html
 libxslt-xslt.html
 libxslt-xsltInternals.html
 libxslt-xsltexports.html
 libxslt-xsltlocale.html
 libxslt-xsltutils.html
 libxslt.devhelp2
 right.png
 style.css
 up.png
share/doc/libxslt/tutorial/
 libxslt_tutorial.c
 libxslttutorial.html
 libxslttutorial.xml
share/doc/libxslt/tutorial/images/callouts/
 1.png
 10.png
 2.png
 3.png
 4.png
 5.png
 6.png
 7.png
 8.png
 9.png
share/doc/libxslt/tutorial2/
 libxslt_pipes.c
 libxslt_pipes.html
 libxslt_pipes.xml


[FILE:474:sunos/patch-CMakeLists.txt]
--- CMakeLists.txt.orig	2025-03-12 17:57:19 UTC
+++ CMakeLists.txt
@@ -219,7 +219,7 @@ if(CMAKE_C_COMPILER_ID MATCHES "Clang" O
 		if (FLAG_UNDEFINED_VERSION)
 			target_link_options(LibXslt PRIVATE "LINKER:--undefined-version")
 		endif()
-		target_link_options(LibXslt PRIVATE "LINKER:--version-script=${CMAKE_CURRENT_SOURCE_DIR}/libxslt/libxslt.syms")
+		target_link_options(LibXslt PRIVATE LINKER:-M${CMAKE_CURRENT_SOURCE_DIR}/libxslt/libxslt.syms)
 	endif()
 endif()
 


[FILE:1335:sunos/patch-libxslt_libxslt.syms]
--- libxslt/libxslt.syms.orig	2025-03-12 17:57:52 UTC
+++ libxslt/libxslt.syms
@@ -117,7 +117,7 @@ LIBXML2_1.0.11 {
   xsltTemplateProcess;
 
 # transform
-  xslHandleDebugger;
+  # xslHandleDebugger;
   xsltApplyImports;
   xsltApplyOneTemplate;
   xsltApplyStripSpaces;
@@ -179,24 +179,24 @@ LIBXML2_1.0.11 {
   xsltParseTemplateContent;
 
 # xsltutils
-  xslAddCall;
-  xslDropCall;
-  xsltCalibrateAdjust;
+  # xslAddCall;
+  # xslDropCall;
+  # xsltCalibrateAdjust;
   xsltDocumentSortFunction;
   xsltDoSortFunction;
   xsltGetNsProp;
   xsltGetQNameURI;
   xsltMessage;
   xsltPrintErrorContext;
-  xsltSaveProfiling;
+  # xsltSaveProfiling;
   xsltSaveResultToFd;
   xsltSaveResultToFilename;
   xsltSaveResultToFile;
   xsltSaveResultTo;
-  xsltSetDebuggerCallbacks;
+  # xsltSetDebuggerCallbacks;
   xsltSetGenericDebugFunc;
   xsltSetGenericErrorFunc;
-  xsltTimestamp;
+  # xsltTimestamp;
 
 # xslt
   xsltCleanupGlobals;
@@ -293,7 +293,7 @@ LIBXML2_1.0.24 {
   xsltGenericDebug; # variable
   xsltGenericErrorContext; # variable
   xsltGenericError; # variable
-  xsltGetProfileInformation;
+  # xsltGetProfileInformation;
   xsltGetUTF8Char;
 
 # xslt
@@ -342,7 +342,7 @@ LIBXML2_1.1.0 {
 
 # xsltutils
   xsltGetDebuggerStatus;
-  xsltSetDebuggerStatus;
+  # xsltSetDebuggerStatus;
 } LIBXML2_1.0.33;
 
 LIBXML2_1.1.1 {

