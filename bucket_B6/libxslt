# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libxslt
VERSION=		1.1.35
KEYWORDS=		textproc
VARIANTS=		standard
SDESC[standard]=	XSLT C library for GNOME
HOMEPAGE=		http://xmlsoft.org/XSLT/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNOME/libxslt/1.1
DISTFILE[1]=		libxslt-1.1.35.tar.xz:main
DIST_SUBDIR=		gnome2
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	libgcrypt:single:standard

USES=			cpe gmake libtool pkgconfig
GNOME_COMPONENTS=	libxml2

LICENSE=		MIT:single
LICENSE_FILE=		MIT:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

CPE_VENDOR=		xmlsoft
FPC_EQUIVALENT=		textproc/libxslt

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-html-dir={{PREFIX}}/share/doc
			--with-crypto
			--without-python

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
PLIST_SUB=		XSLTVERSION=1.1.35
			EXSLTVERSION=0.8.20

post-install:
	# docs are disabled via patch
	${INSTALL_MAN} ${WRKSRC}/doc/xsltproc.1 \
		${STAGEDIR}${MANPREFIX}/man/man1/

[FILE:462:descriptions/desc.single]
Libxslt is the XSLT C library developed for the GNOME project.  XSLT
itself is a an XML language to define transformation for XML.  Libxslt is
based on libxml2, the XML C library developed for the GNOME project.  It
also implements most of the EXSLT set of processor-portable extensions
functions and some of Saxon's evaluate and expressions extensions.

People can either embed the library in their application or use xsltproc
the command line processing tool.


[FILE:107:distinfo]
8247f33e9a872c6ac859aa45018bc4c4d00b97e2feac9eebc10c93ce1f34dd79      1827548 gnome2/libxslt-1.1.35.tar.xz


[FILE:749:manifests/plist.single]
bin/
 xslt-config
 xsltproc
include/libexslt/
 exslt.h
 exsltconfig.h
 exsltexports.h
include/libxslt/
 attributes.h
 documents.h
 extensions.h
 extra.h
 functions.h
 imports.h
 keys.h
 namespaces.h
 numbersInternals.h
 pattern.h
 preproc.h
 security.h
 templates.h
 transform.h
 variables.h
 xslt.h
 xsltInternals.h
 xsltconfig.h
 xsltexports.h
 xsltlocale.h
 xsltutils.h
lib/
 libexslt.a
 libexslt.so
 libexslt.so.%%EXSLTVERSION%%
 libexslt.so.0
 libxslt.a
 libxslt.so
 libxslt.so.%%XSLTVERSION%%
 libxslt.so.1
 xsltConf.sh
lib/cmake/libxslt/
 FindGcrypt.cmake
 libxslt-config.cmake
lib/pkgconfig/
 libexslt.pc
 libxslt.pc
share/aclocal/libxslt.m4
share/man/man1/xsltproc.1.gz
share/man/man3/
 libexslt.3.gz
 libxslt.3.gz
@dir lib/libxslt-plugins


[FILE:379:patches/patch-Makefile.in]
--- Makefile.in.orig	2022-02-16 16:28:23 UTC
+++ Makefile.in
@@ -421,11 +421,9 @@ SUBDIRS = \
 	libxslt \
 	libexslt \
 	xsltproc \
-	doc \
-	$(PYTHON_SUBDIR) \
-	tests
+	$(PYTHON_SUBDIR)
 
-DIST_SUBDIRS = libxslt libexslt xsltproc python doc tests
+DIST_SUBDIRS = libxslt libexslt xsltproc python
 confexecdir = $(libdir)
 confexec_DATA = xsltConf.sh
 bin_SCRIPTS = xslt-config


[FILE:747:patches/patch-python__Makefile.in]
--- python/Makefile.in.orig	2022-02-16 16:28:24 UTC
+++ python/Makefile.in
@@ -435,7 +435,7 @@ top_srcdir = @top_srcdir@
 AUTOMAKE_OPTIONS = 1.4 foreign
 SUBDIRS = . tests
 AM_CFLAGS = $(LIBXML_CFLAGS)
-DOCS_DIR = $(datadir)/doc/libxslt-python-$(LIBXSLT_VERSION)
+DOCS_DIR = $(datadir)/doc/py-libxslt
 # libxsltclass.txt is generated
 DOCS = 
 EXTRA_DIST = \
@@ -450,8 +450,8 @@ EXTRA_DIST = \
 
 libxsltmod_la_LDFLAGS = -module -avoid-version
 @WITH_PYTHON_TRUE@mylibs = \
-@WITH_PYTHON_TRUE@	$(top_builddir)/libxslt/libxslt.la \
-@WITH_PYTHON_TRUE@	$(top_builddir)/libexslt/libexslt.la
+@WITH_PYTHON_TRUE@	-lxslt \
+@WITH_PYTHON_TRUE@	-lexslt
 
 @WITH_PYTHON_TRUE@python_LTLIBRARIES = libxsltmod.la
 @WITH_PYTHON_TRUE@libxsltmod_la_CPPFLAGS = \


[FILE:398:patches/patch-python__tests__Makefile.in]
--- python/tests/Makefile.in.orig	2022-02-16 16:28:24 UTC
+++ python/tests/Makefile.in
@@ -297,7 +297,7 @@ target_alias = @target_alias@
 top_build_prefix = @top_build_prefix@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
-EXAMPLE_DIR = $(datadir)/doc/libxslt-python-$(LIBXSLT_VERSION)/examples
+EXAMPLE_DIR = $(datadir)/examples/py-libxslt
 TESTSPY = \
     basic.py	\
     exslt.py	\

