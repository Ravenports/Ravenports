# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libxslt
VERSION=		1.1.29
KEYWORDS=		textproc
VARIANTS=		standard
SDESC[standard]=	XSLT C library for GNOME
HOMEPAGE=		http://xmlsoft.org/XSLT/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		ftp://xmlsoft.org/libxml2/
			http://xmlsoft.org/sources/
			ftp://gd.tuwien.ac.at/pub/libxml/
DISTFILE[1]=		libxslt-1.1.29.tar.gz:main
DIST_SUBDIR=		gnome2
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	libgcrypt:single:standard
USES=			cpe gmake libtool
GNOME_COMPONENTS=	libxml2

LICENSE=		MIT:single
LICENSE_SCHEME=		solo
LICENSE_FILE=		MIT:{{WRKSRC}}/COPYING
CPE_VENDOR=		xmlsoft

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-html-dir={{PREFIX}}/share/doc
			--with-crypto
			--without-python

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes

post-patch:
	@${REINPLACE_CMD} -e '/^install-data-am:/ s|install-data-local||' \
		${WRKSRC}/doc/Makefile.in
	@${REINPLACE_CMD} -e 's|[$$](bindir)/xsltproc|../xsltproc/xsltproc|g ; \
		s|[$$](bindir)/xmllint|../xmllint/xmllint|g' \
		${WRKSRC}/doc/Makefile.in

[FILE:462:descriptions/desc.single]
Libxslt is the XSLT C library developed for the GNOME project.  XSLT
itself is a an XML language to define transformation for XML.  Libxslt is
based on libxml2, the XML C library developed for the GNOME project.  It
also implements most of the EXSLT set of processor-portable extensions
functions and some of Saxon's evaluate and expressions extensions.

People can either embed the library in their application or use xsltproc
the command line processing tool.


[FILE:107:distinfo]
b5976e3857837e7617b29f2249ebb5eeac34e249208d31f1fbf7a6ba7a4090ce      3428524 gnome2/libxslt-1.1.29.tar.gz


[FILE:671:manifests/plist.single]
bin/
 xslt-config
 xsltproc
include/libexslt/
 exslt.h
 exsltconfig.h
 exsltexports.h
include/libxslt/
 attributes.h
 documents.h
 extensions.h
 extra.h
 functions.h
 imports.h
 keys.h
 namespaces.h
 numbersInternals.h
 pattern.h
 preproc.h
 security.h
 templates.h
 transform.h
 variables.h
 xslt.h
 xsltInternals.h
 xsltconfig.h
 xsltexports.h
 xsltlocale.h
 xsltutils.h
lib/
 libexslt.a
 libexslt.so
 libexslt.so.0
 libexslt.so.0.8.17
 libxslt.a
 libxslt.so
 libxslt.so.1
 libxslt.so.1.1.29
 xsltConf.sh
lib/pkgconfig/
 libexslt.pc
 libxslt.pc
share/aclocal/libxslt.m4
share/man/man1/xsltproc.1.gz
share/man/man3/
 libexslt.3.gz
 libxslt.3.gz
@dir lib/libxslt-plugins


[FILE:297:patches/patch-Makefile.in]
--- Makefile.in.orig	2012-10-22 16:13:46.000000000 +0000
+++ Makefile.in	2012-10-22 16:14:29.000000000 +0000
@@ -327,8 +327,7 @@
 	libexslt \
 	xsltproc \
 	doc \
-	$(PYTHON_SUBDIR) \
-	tests
+	$(PYTHON_SUBDIR)
 
 DIST_SUBDIRS = libxslt libexslt xsltproc python doc tests
 confexecdir = $(libdir)


[FILE:971:patches/patch-configure]
--- configure.orig	2009-09-18 15:31:26.000000000 -0400
+++ configure	2009-09-18 15:35:31.000000000 -0400
@@ -4770,7 +4770,7 @@ fi
 if test "${with_html_subdir+set}" = set; then
   withval=$with_html_subdir; test "x$withval" != "x" && HTML_DIR="$HTML_DIR/$withval"
 else
-  HTML_DIR="$HTML_DIR/\$(PACKAGE)-\$(VERSION)/html"
+  HTML_DIR="$HTML_DIR/\$(PACKAGE)"
 fi
 
 
@@ -15572,11 +15572,12 @@ except: print 0"`
     fi
     if test "$PYTHON_VERSION" != ""
     then
+	with_python=`$PYTHON -c "import sys; print sys.exec_prefix"`
 	if test -r $with_python/include/python$PYTHON_VERSION/Python.h -a \
 	   -d $with_python/lib/python$PYTHON_VERSION/site-packages
 	then
 	    PYTHON_INCLUDES=$with_python/include/python$PYTHON_VERSION
-	    PYTHON_SITE_PACKAGES='$(libdir)/python$(PYTHON_VERSION)/site-packages'
+	    PYTHON_SITE_PACKAGES=$with_python/lib/python$PYTHON_VERSION/site-packages
 	else
 	    if test -r $prefix/include/python$PYTHON_VERSION/Python.h
 	    then


[FILE:224:patches/patch-libxslt__xsltconfig.h.in]
--- libxslt/xsltconfig.h.in.orig	Mon Mar 26 20:55:08 2001
+++ libxslt/xsltconfig.h.in	Thu Apr 19 22:20:46 2001
@@ -23,3 +23,5 @@
 #ifdef __GNUC__
+#ifndef __FreeBSD__
 #include <ansidecl.h>
+#endif
 #ifndef ATTRIBUTE_UNUSED


[FILE:763:patches/patch-python__Makefile.in]
--- python/Makefile.in.orig	2012-10-22 16:16:50.000000000 +0000
+++ python/Makefile.in	2012-10-22 16:17:40.000000000 +0000
@@ -344,7 +344,7 @@
 	-I../libexslt
 
 AM_CFLAGS = $(LIBXML_CFLAGS)
-DOCS_DIR = $(datadir)/doc/libxslt-python-$(LIBXSLT_VERSION)
+DOCS_DIR = $(datadir)/doc/py-libxslt
 # libxsltclass.txt is generated
 DOCS = TODO
 EXTRA_DIST = \
@@ -359,8 +359,8 @@
 
 libxsltmod_la_LDFLAGS = $(WIN32_EXTRA_LDFLAGS) -module -avoid-version
 @WITH_PYTHON_TRUE@mylibs = \
-@WITH_PYTHON_TRUE@	$(top_builddir)/libxslt/libxslt.la \
-@WITH_PYTHON_TRUE@	$(top_builddir)/libexslt/libexslt.la
+@WITH_PYTHON_TRUE@	-lxslt \
+@WITH_PYTHON_TRUE@	-lexslt
 
 @WITH_PYTHON_TRUE@python_LTLIBRARIES = libxsltmod.la
 @WITH_PYTHON_TRUE@libxsltmod_la_SOURCES = libxslt.c types.c


[FILE:408:patches/patch-python__tests__Makefile.in]
--- python/tests/Makefile.in.orig	2008-05-23 23:11:10.000000000 -0500
+++ python/tests/Makefile.in	2008-05-23 23:11:33.000000000 -0500
@@ -204,7 +204,7 @@
 target_alias = @target_alias@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
-EXAMPLE_DIR = $(datadir)/doc/libxslt-python-$(LIBXSLT_VERSION)/examples
+EXAMPLE_DIR = $(datadir)/examples/py-libxslt
 TESTSPY = \
     basic.py	\
     exslt.py	\

