# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		xorg-driver-video-amdgpu
VERSION=		25.0.0
KEYWORDS=		x11_drivers
VARIANTS=		std
SDESC[std]=		X.org amdgpu video driver
HOMEPAGE=		https://www.x.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		XORG/individual/driver
DISTFILE[1]=		xf86-video-amdgpu-25.0.0.tar.xz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			man

OPTIONS_AVAILABLE=	UDEV
OPTIONS_STANDARD=	UDEV
OPT_ON[freebsd]=	UDEV
OPT_ON[linux]=		UDEV
OPT_ON[dragonfly]=	UDEV
OPT_ON[midnightbsd]=	UDEV

NOT_FOR_ARCH=		aarch64

BUILD_DEPENDS=		libdrm:dev:std
			xorg-server:dev:std
BUILDRUN_DEPENDS=	libdrm:primary:std
			xorg-server:primary:std

USES=			mesa pkgconfig meson
XORG_COMPONENTS=	xorgproto

DISTNAME=		xf86-video-amdgpu-25.0.0

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		x11-drivers/xf86-video-amdgpu
MESON_ARGS=		-Dglamor=disabled

[UDEV].DESCRIPTION=			Use udev for autoconfiguration of input devices
[UDEV].BUILDRUN_DEPENDS_ON=		libudev-devd:primary:std
[UDEV].BUILD_DEPENDS_ON=		libudev-devd:dev:std
[UDEV].CONFIGURE_ARGS_OFF=		-Dudev=disabled
[UDEV].CONFIGURE_ARGS_ON=		-Dudev=enabled

[FILE:247:descriptions/desc.primary]
This package contains the X.Org xf86-video-amdgpu driver.

The amdgpu driver supports AMD Radeon chipsets: OLAND, HAINAN, TAHITI,
PITCAIRN, VERDE, BONAIRE, KABINI, MULLINS, KAVERI, HAWAII, TOPAZ, TONGA,
CARRIZO, FIJI, STONEY, POLARIS11, POLARIS10


[FILE:110:distinfo]
7653cead024a6820ed1139958503278d78b4b3f80befcacf54ce87a5199b0ce2        75000 xf86-video-amdgpu-25.0.0.tar.xz


[FILE:76:manifests/plist.primary]
lib/xorg/modules/drivers/amdgpu_drv.so
share/X11/xorg.conf.d/10-amdgpu.conf


[FILE:24:manifests/plist.man]
share/man/man4/amdgpu.4


[FILE:563:patches/patch-meson.build]
--- meson.build.orig	2025-07-24 10:10:47 UTC
+++ meson.build
@@ -60,7 +60,6 @@ config_h.set('HAVE_GBM_BO_USE_LINEAR', h
 config_h.set('HAVE_BYTESWAP_H', have_byteswap ? 1 : 0)
 config_h.set('HAVE_GLAMOR_H', have_glamor ? 1 : 0)
 config_h.set('HAVE_GLAMOR_FINISH', have_glamor ? 1 : 0)
-config_h.set('USE_GLAMOR', get_option('glamor').allowed() ? 1 : 0)
 config_h.set('HAVE_LIBUDEV', libudev_dep.found() ? 1 : 0)
 config_h.set('HAVE_REGIONDUPLICATE', have_regionduplicate ? 1 : 0)
 config_h.set('HAVE_XF86_CURSOR_RESET_CURSOR', have_xf86CursorResetCursor ? 1 : 0)

