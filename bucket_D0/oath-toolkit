# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		oath-toolkit
VERSION=		2.6.13
KEYWORDS=		security
VARIANTS=		std
SDESC[std]=		Library and tools for OATH authentication
HOMEPAGE=		https://www.nongnu.org/oath-toolkit/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://download.savannah.nongnu.org/releases/oath-toolkit/
DISTFILE[1]=		oath-toolkit-2.6.13.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			tools
			pam
			dev
			man
			docs

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libxml2:dev:std
			xmlsec:dev:std
			openpam:dev:std
BUILDRUN_DEPENDS=	libxml2:primary:std
			xmlsec:primary:std
			xmlsec:tools:std
			openpam:primary:std
EXRUN[tools]=		primary

USES=			autoreconf gtk-doc libtool mbsdfix pkgconfig
			perl:build
GNOME_COMPONENTS=	libxslt

LICENSE=		LGPL21+:primary GPLv3+:tools
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS_LIB
			tools:{{WRKDIR}}/TERMS_TOOLS
LICENSE_FILE=		LGPL21+:stock
			GPLv3+:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		multi

FPC_EQUIVALENT=		security/oath-toolkit

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-gtk-doc

INSTALL_TARGET=		install-strip
INSTALL_REQ_TOOLCHAIN=	yes
PLIST_SUB=		OATH=0.1.3
			OATH_MAJ=0
			PSKC=0.0.1
			PSKC_MAJ=0

pre-configure:
	# fix shebang
.for f in liboath/man/gdoc libpskc/man/gdoc
	${SED} -i'' '1s|^|#!/${LOCALBASE}/bin/perl\n\n|' ${WRKSRC}/${f}
.endfor

post-extract:
	${SED} -n '/SECTION:/!p;//q' ${WRKSRC}/liboath/oath.h >> ${WRKDIR}/TERMS_LIB
	${SED} -n '/config.h/!p;//q' ${WRKSRC}/oathtool/oathtool.c >> ${WRKDIR}/TERMS_TOOLS

[FILE:67:descriptions/desc.primary]
This is the oath-toolkit subpackage containing just the libraries.


[FILE:810:descriptions/desc.tools]
OATH Toolkit provide components to build one-time password authentication 
systems. It contains shared C libraries, command line tools and a PAM 
module. Supported technologies include the event-based HOTP algorithm (RFC 
4226), the time-based TOTP algorithm (RFC 6238), and Portable Symmetric 
Key Container (PSKC, RFC 6030) to manage secret key data. OATH stands for 
Open AuTHentication, which is the organization that specify the algorithms.

The following components are included:

 * liboath: A shared and static C library for OATH handling.
 * oathtool: A command line tool for generating and validating OTPs.
 * pam_oath: A PAM module for pluggable login authentication for OATH.
 * libpskc: A shared and static C library for PSKC handling.
 * pskctool: A command line tool for manipulating PSKC data.


[FILE:46:descriptions/desc.pam]
This subpackage contains the OATH PAM module.


[FILE:105:distinfo]
5b5d82e9a4455206d24fcbd7ee58bf4c79398a2e67997d80bd45ae927586b18b      3847530 oath-toolkit-2.6.13.tar.gz


[FILE:97:manifests/plist.primary]
lib/
 liboath.so.%%OATH%%
 liboath.so.%%OATH_MAJ%%
 libpskc.so.%%PSKC%%
 libpskc.so.%%PSKC_MAJ%%


[FILE:118:manifests/plist.tools]
bin/
 oathtool
 pskctool
share/xml/pskc/
 catalog-pskc.xml
 pskc-schema.xsd
 xenc-schema.xsd
 xmldsig-core-schema.xsd


[FILE:25:manifests/plist.pam]
lib/security/pam_oath.so


[FILE:213:manifests/plist.dev]
include/liboath/oath.h
include/pskc/
 container.h
 enums.h
 errors.h
 exports.h
 global.h
 keypackage.h
 pskc.h
 version.h
lib/
 liboath.a
 liboath.so
 libpskc.a
 libpskc.so
lib/pkgconfig/
 liboath.pc
 libpskc.pc


[FILE:3673:manifests/plist.man]
share/man/man1/
 oathtool.1
 pskctool.1
share/man/man3/
 oath_authenticate_usersfile.3
 oath_base32_decode.3
 oath_base32_encode.3
 oath_bin2hex.3
 oath_check_version.3
 oath_done.3
 oath_hex2bin.3
 oath_hotp_generate.3
 oath_hotp_validate.3
 oath_hotp_validate_callback.3
 oath_init.3
 oath_strerror.3
 oath_strerror_name.3
 oath_totp_generate.3
 oath_totp_generate2.3
 oath_totp_validate.3
 oath_totp_validate2.3
 oath_totp_validate2_callback.3
 oath_totp_validate3.3
 oath_totp_validate3_callback.3
 oath_totp_validate4.3
 oath_totp_validate4_callback.3
 oath_totp_validate_callback.3
 pskc_add_keypackage.3
 pskc_build_xml.3
 pskc_check_version.3
 pskc_done.3
 pskc_free.3
 pskc_get_cryptomodule_id.3
 pskc_get_device_devicebinding.3
 pskc_get_device_expirydate.3
 pskc_get_device_issueno.3
 pskc_get_device_manufacturer.3
 pskc_get_device_model.3
 pskc_get_device_serialno.3
 pskc_get_device_startdate.3
 pskc_get_device_userid.3
 pskc_get_id.3
 pskc_get_key_algorithm.3
 pskc_get_key_algparm_chall_checkdigits.3
 pskc_get_key_algparm_chall_encoding.3
 pskc_get_key_algparm_chall_max.3
 pskc_get_key_algparm_chall_min.3
 pskc_get_key_algparm_resp_checkdigits.3
 pskc_get_key_algparm_resp_encoding.3
 pskc_get_key_algparm_resp_length.3
 pskc_get_key_algparm_suite.3
 pskc_get_key_data_b64secret.3
 pskc_get_key_data_counter.3
 pskc_get_key_data_secret.3
 pskc_get_key_data_time.3
 pskc_get_key_data_timedrift.3
 pskc_get_key_data_timeinterval.3
 pskc_get_key_friendlyname.3
 pskc_get_key_id.3
 pskc_get_key_issuer.3
 pskc_get_key_policy_expirydate.3
 pskc_get_key_policy_keyusages.3
 pskc_get_key_policy_numberoftransactions.3
 pskc_get_key_policy_pinencoding.3
 pskc_get_key_policy_pinkeyid.3
 pskc_get_key_policy_pinmaxfailedattempts.3
 pskc_get_key_policy_pinmaxlength.3
 pskc_get_key_policy_pinminlength.3
 pskc_get_key_policy_pinusagemode.3
 pskc_get_key_policy_startdate.3
 pskc_get_key_profileid.3
 pskc_get_key_reference.3
 pskc_get_key_userid.3
 pskc_get_keypackage.3
 pskc_get_signed_p.3
 pskc_get_version.3
 pskc_global_done.3
 pskc_global_init.3
 pskc_global_log.3
 pskc_init.3
 pskc_keyusage2str.3
 pskc_output.3
 pskc_parse_from_memory.3
 pskc_pinusagemode2str.3
 pskc_set_cryptomodule_id.3
 pskc_set_device_devicebinding.3
 pskc_set_device_expirydate.3
 pskc_set_device_issueno.3
 pskc_set_device_manufacturer.3
 pskc_set_device_model.3
 pskc_set_device_serialno.3
 pskc_set_device_startdate.3
 pskc_set_device_userid.3
 pskc_set_id.3
 pskc_set_key_algorithm.3
 pskc_set_key_algparm_chall_checkdigits.3
 pskc_set_key_algparm_chall_encoding.3
 pskc_set_key_algparm_chall_max.3
 pskc_set_key_algparm_chall_min.3
 pskc_set_key_algparm_resp_checkdigits.3
 pskc_set_key_algparm_resp_encoding.3
 pskc_set_key_algparm_resp_length.3
 pskc_set_key_algparm_suite.3
 pskc_set_key_data_b64secret.3
 pskc_set_key_data_counter.3
 pskc_set_key_data_secret.3
 pskc_set_key_data_time.3
 pskc_set_key_data_timedrift.3
 pskc_set_key_data_timeinterval.3
 pskc_set_key_friendlyname.3
 pskc_set_key_id.3
 pskc_set_key_issuer.3
 pskc_set_key_policy_expirydate.3
 pskc_set_key_policy_keyusages.3
 pskc_set_key_policy_numberoftransactions.3
 pskc_set_key_policy_pinencoding.3
 pskc_set_key_policy_pinkeyid.3
 pskc_set_key_policy_pinmaxfailedattempts.3
 pskc_set_key_policy_pinmaxlength.3
 pskc_set_key_policy_pinminlength.3
 pskc_set_key_policy_pinusagemode.3
 pskc_set_key_policy_startdate.3
 pskc_set_key_profileid.3
 pskc_set_key_reference.3
 pskc_set_key_userid.3
 pskc_set_version.3
 pskc_sign_x509.3
 pskc_str2keyusage.3
 pskc_str2pinusagemode.3
 pskc_str2valueformat.3
 pskc_strerror.3
 pskc_strerror_name.3
 pskc_validate.3
 pskc_valueformat2str.3
 pskc_verify_x509crt.3


[FILE:1109:manifests/plist.docs]
share/gtk-doc/html/liboath/
 api-index-1-10-0.html
 api-index-1-12-0.html
 api-index-1-4-0.html
 api-index-1-6-0.html
 api-index-1-8-0.html
 api-index-2-4-0.html
 api-index-2-6-0.html
 api-index-full.html
 deprecated-api-index.html
 home.png
 index.html
 intro.html
 left-insensitive.png
 left.png
 liboath-oath.h.html
 right-insensitive.png
 right.png
 style.css
 up-insensitive.png
 up.png
share/gtk-doc/html/libpskc/
 api-index-2-2-0.html
 api-index-full.html
 deprecated-api-index.html
 home.png
 index.html
 left-insensitive.png
 left.png
 libpskc-container.html
 libpskc-enums.html
 libpskc-errors.html
 libpskc-global.html
 libpskc-keypackage.html
 libpskc-pskc.html
 libpskc-version.html
 pskc-reference.html
 pskc-tutorial-libpskc-create.html
 pskc-tutorial-libpskc-sign.html
 pskc-tutorial-libpskc-verify.html
 pskc-tutorial-library.html
 pskc-tutorial-pskctool-sign.html
 pskc-tutorial-pskctool-validate.html
 pskc-tutorial-pskctool-verify.html
 pskc-tutorial-pskctool.html
 pskc-tutorial-quickstart.html
 pskc-tutorial.html
 right-insensitive.png
 right.png
 style.css
 up-insensitive.png
 up.png

