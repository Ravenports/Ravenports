# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		tmux
VERSION=		3.6
KEYWORDS=		sysutils
VARIANTS=		std
SDESC[std]=		Terminal multiplexer
HOMEPAGE=		https://tmux.github.io/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main bash
SITES[main]=		https://github.com/tmux/tmux/releases/download/3.6/
SITES[bash]=		GITHUB/imomaliev:tmux-bash-completion:8da7f79
DISTFILE[1]=		tmux-3.6.tar.gz:main
DISTFILE[2]=		generated:bash
DF_INDEX=		1 2
SPKGS[std]=		set
			primary
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libevent:dev:std
BUILDRUN_DEPENDS=	libevent:primary:std

USES=			cpe pkgconfig ncurses

LICENSE=		ISCL:primary
LICENSE_FILE=		ISCL:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

CPE_VENDOR=		nicholas_marriott
FPC_EQUIVALENT=		sysutils/tmux

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--sysconfdir={{PREFIX}}/etc

CPPFLAGS=		-I{{NCURSESINC}}

pre-configure:
	${REINPLACE_CMD} -e 's|/etc/tmux.conf|${PREFIX}/etc/tmux.conf|g' \
		${WRKSRC}/CHANGES ${WRKSRC}/tmux.h

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/tmux ${STAGEDIR}${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/tmux.1 ${STAGEDIR}${MANPREFIX}/man/man1
	${MKDIR} ${STAGEDIR}${PREFIX}/etc/bash_completion.d
	${INSTALL_DATA} ${WRKDIR}/tmux-bash-completion-8da7f79/completions/tmux \
		${STAGEDIR}${PREFIX}/etc/bash_completion.d/tmux

[FILE:232:descriptions/desc.primary]
tmux is a "terminal multiplexer", it enables a number of terminals (or
windows) to be accessed and controlled from a single terminal. tmux is
intended to be a simple, modern, BSD-licensed alternative to programs
such as GNU screen.


[FILE:218:distinfo]
136db80cfbfba617a103401f52874e7c64927986b65b1b700350b6058ad69607       750145 tmux-3.6.tar.gz
2ba28d9a0f0b419184229f234fcb20ed6d6f456b4ef592e4cd2eec79142e7502         9438 imomaliev-tmux-bash-completion-8da7f79.tar.gz


[FILE:36:manifests/plist.primary]
bin/tmux
etc/bash_completion.d/tmux


[FILE:22:manifests/plist.man]
share/man/man1/tmux.1


[FILE:298:patches/patch-osdep-dragonfly.c]
--- osdep-dragonfly.c.orig	2023-05-22 08:53:49 UTC
+++ osdep-dragonfly.c
@@ -28,6 +28,8 @@
 #include <string.h>
 #include <unistd.h>
 
+#include "compat.h"
+
 struct kinfo_proc	*cmp_procs(struct kinfo_proc *, struct kinfo_proc *);
 char			*osdep_get_name(int, char *);
 char			*osdep_get_cwd(int);

