# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		innoextract
VERSION=		1.9
REVISION=		1
KEYWORDS=		archivers
VARIANTS=		std
SDESC[std]=		Program to extract Inno Setup files
HOMEPAGE=		https://constexpr.org/innoextract/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/dscharrer:innoextract:1.9
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		boost-libraries:set:std
			bzip2:dev:std
			doxygen:primary:std
BUILDRUN_DEPENDS=	bzip2:primary:std

USES=			c++:primary cmake python:build xz zlib

LICENSE=		ZLIB:primary
LICENSE_FILE=		ZLIB:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		archivers/innoextract

INSTALL_REQ_TOOLCHAIN=	yes

CMAKE_ARGS=		-DBoost_USE_STATIC_LIBS=on
			-DBoost_NO_BOOST_CMAKE=ON

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/innoextract

[FILE:333:descriptions/desc.primary]
Inno Setup is a tool to create installers for Microsoft Windows 
applications. innoextract allows to extract such installers without 
running the actual setup executable under Windows or using Wine.

In addition to standard Inno Setup installers, innoextract also supports 
some modified Inno Setup variants like GOG.com installers.


[FILE:111:distinfo]
576657932e92835343a829c3be1baefc34593d1f84309df93eb1d39a8bb51510       204799 dscharrer-innoextract-1.9.tar.gz


[FILE:16:manifests/plist.primary]
bin/innoextract


[FILE:29:manifests/plist.man]
share/man/man1/innoextract.1


[FILE:236:patches/patch-CMakeLists.txt]
--- CMakeLists.txt.orig	2020-08-09 18:42:53 UTC
+++ CMakeLists.txt
@@ -155,7 +155,6 @@ find_package(Boost REQUIRED COMPONENTS
 	iostreams
 	filesystem
 	date_time
-	system
 	program_options
 )
 list(APPEND LIBRARIES ${Boost_LIBRARIES})


[FILE:475:patches/patch-cmake_VersionScript.cmake]
--- cmake/VersionScript.cmake.orig	2020-08-09 18:42:53 UTC
+++ cmake/VersionScript.cmake
@@ -17,7 +17,7 @@
 #    misrepresented as being the original software.
 # 3. This notice may not be removed or altered from any source distribution.
 
-cmake_minimum_required(VERSION 2.8)
+cmake_minimum_required(VERSION 3.5)
 
 # CMake script that reads a VERSION file and the current git history and the calls configure_file().
 # This is used by version_file() in VersionString.cmake


[FILE:375:patches/patch-src_stream_slice.cpp]
--- src/stream/slice.cpp.orig	2025-03-01 20:25:52.622238000 +0100
+++ src/stream/slice.cpp	2025-03-01 20:26:16.811804000 +0100
@@ -27,6 +27,7 @@
 #include <boost/cstdint.hpp>
 #include <boost/algorithm/string/predicate.hpp>
 #include <boost/filesystem/operations.hpp>
+#include <boost/filesystem/directory.hpp>
 #include <boost/range/size.hpp>
 
 #include "util/console.hpp"

