# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		AdaSAT
VERSION=		26.0.0
REVISION=		1
KEYWORDS=		math ada
VARIANTS=		std
SDESC[std]=		Implementation of a DPLL-based SAT solver in Ada
HOMEPAGE=		https://github.com/AdaCore/AdaSAT
CONTACT=		John_Marino[draco@marino.st]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/AdaCore:AdaSAT:v26.0.0
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			gprbuild gmake ada:primary

LICENSE=		APACHE20:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		APACHE20:{{WRKSRC}}/LICENSE
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/adasat.ads
LICENSE_SCHEME=		solo

BUILD_TARGET=		all-libs
MAKE_ARGS=		BUILD_MODE=dev
			PROCESSORS={{MAKE_JOBS_NUMBER}}
			INSTALL_DIR={{STAGEDIR}}{{PREFIX}}

INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		26.0.0

post-install:
	# Fix non-standard placement of shared libraries
	${RM} ${STAGEDIR}${PREFIX}/lib/libadasat.so*
	${RM} ${STAGEDIR}${PREFIX}/lib/adasat.relocatable/libadasat.so
	${MV} ${STAGEDIR}${PREFIX}/lib/adasat.relocatable/libadasat.so.26.0.0 \
		${STAGEDIR}${PREFIX}/lib/
	${LN} -s libadasat.so.26.0.0 ${STAGEDIR}${PREFIX}/lib/libadasat.so
	${LN} -s ../libadasat.so.26.0.0 ${STAGEDIR}${PREFIX}/lib/adasat.relocatable/libadasat.so
	${LN} -s ../libadasat.so.26.0.0 ${STAGEDIR}${PREFIX}/lib/adasat.relocatable/libadasat.so.26.0.0
	# strip library
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libadasat.so

pre-configure:
	${REINPLACE_CMD} -e 's|%%SOVERSION%%|26.0.0|' ${WRKSRC}/adasat.gpr

[FILE:197:descriptions/desc.primary]
Implementation of a DPLL-based SAT solver in Ada. Main features:

- Conflict analysis and backjumping
- Two-watched literals scheme
- Built-in support for At-Most-One constraints
- Custom theories


[FILE:107:distinfo]
de4fa5a74fd4b27cf3fead6e8c9491f22b0ab4b7b591b076073c6ba2a870162c        30714 AdaCore-AdaSAT-26.0.0.tar.gz


[FILE:81:manifests/plist.primary]
lib/libadasat.so.%%SOVERSION%%
lib/adasat.relocatable/libadasat.so.%%SOVERSION%%


[FILE:1665:manifests/plist.dev]
include/adasat.relocatable/
 adasat-builders.adb
 adasat-builders.ads
 adasat-decisions.adb
 adasat-decisions.ads
 adasat-dpll.adb
 adasat-dpll.ads
 adasat-formulas.adb
 adasat-formulas.ads
 adasat-helpers.adb
 adasat-helpers.ads
 adasat-internals.ads
 adasat-theory.ads
 adasat-vectors.adb
 adasat-vectors.ads
 adasat.adb
 adasat.ads
include/adasat.static/
 adasat-builders.adb
 adasat-builders.ads
 adasat-decisions.adb
 adasat-decisions.ads
 adasat-dpll.adb
 adasat-dpll.ads
 adasat-formulas.adb
 adasat-formulas.ads
 adasat-helpers.adb
 adasat-helpers.ads
 adasat-internals.ads
 adasat-theory.ads
 adasat-vectors.adb
 adasat-vectors.ads
 adasat.adb
 adasat.ads
include/adasat.static-pic/
 adasat-builders.adb
 adasat-builders.ads
 adasat-decisions.adb
 adasat-decisions.ads
 adasat-dpll.adb
 adasat-dpll.ads
 adasat-formulas.adb
 adasat-formulas.ads
 adasat-helpers.adb
 adasat-helpers.ads
 adasat-internals.ads
 adasat-theory.ads
 adasat-vectors.adb
 adasat-vectors.ads
 adasat.adb
 adasat.ads
lib/libadasat.so
lib/adasat.relocatable/
 adasat-builders.ali
 adasat-decisions.ali
 adasat-dpll.ali
 adasat-formulas.ali
 adasat-helpers.ali
 adasat-internals.ali
 adasat-theory.ali
 adasat-vectors.ali
 adasat.ali
 libadasat.so
lib/adasat.static/
 adasat-builders.ali
 adasat-decisions.ali
 adasat-dpll.ali
 adasat-formulas.ali
 adasat-helpers.ali
 adasat-internals.ali
 adasat-theory.ali
 adasat-vectors.ali
 adasat.ali
 libadasat.a
lib/adasat.static-pic/
 adasat-builders.ali
 adasat-decisions.ali
 adasat-dpll.ali
 adasat-formulas.ali
 adasat-helpers.ali
 adasat-internals.ali
 adasat-theory.ali
 adasat-vectors.ali
 adasat.ali
 libadasat.a
share/gpr/adasat.gpr


[FILE:301:patches/patch-Makefile]
--- Makefile.orig	2024-01-03 17:00:52 UTC
+++ Makefile
@@ -28,6 +28,7 @@ install:
 		gprinstall -P adasat.gpr -p -f \
 			-XLIBRARY_TYPE=$$kind \
 			-XBUILD_MODE=$(BUILD_MODE) \
+			--no-manifests \
 			--relocate-build-tree="$(BUILD_DIR)" \
 			--prefix="$(INSTALL_DIR)" \
 			--build-name=$$kind \


[FILE:443:patches/patch-adasat.gpr]
--- adasat.gpr.orig	2024-01-03 17:00:52 UTC
+++ adasat.gpr
@@ -12,6 +12,7 @@ library project AdaSAT is
    for Library_Dir use "lib/" & Library_Kind_Param & "/" & Build_Mode;
    for Object_Dir use "obj/" & Library_Kind_Param & "/" & Build_Mode;
    for Library_Name use "adasat";
+   for Library_Version use "libadasat.so.%%SOVERSION%%";
    for Library_Kind use Library_Kind_Param;
 
    Common_Ada_Cargs := ("-gnatwa", "-gnatyg", "-fPIC");

