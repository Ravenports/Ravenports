# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		autoconf213
VERSION=		2.13
REVISION=		2
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Automatic config tool for *nix (legacy version)
HOMEPAGE=		http://www.gnu.org/software/autoconf/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GNU/autoconf
DISTFILE[1]=		autoconf-2.13.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	m4:primary:standard
RUN_DEPENDS=		autoconf-switch:single:standard

USES=			gmake perl

DISTNAME=		autoconf-2.13

LICENSE=		GPLv2+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/acgeneral.m4
LICENSE_SCHEME=		solo

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--program-suffix=2.13
CONFIGURE_ENV=		M4={{LOCALBASE}}/bin/gm4
			AWK={{AWK}}

PLIST_SUB=		ACVER=2.13

SET_DEBUGGING_ON=	yes
OPTIMIZER_LEVEL=	0

pre-configure:
	${REINPLACE_CMD} \
		-e '/^acdatadir =/s/autoconf/&${VERSION}/' \
		-e '/^all:/s/ info//' \
		-e '/^install:/s/ install-info//' \
		${WRKSRC}/Makefile.in
	${RM} ${WRKSRC}/standards.texi

[FILE:166:descriptions/desc.single]
This is a legacy version of the autoconf package. This package exists only 
because various software still requires it to build. Do not use it if you 
don't have to.


[FILE:99:distinfo]
f0611136bee505811e9ca11ca7ac188ef5323a8e2ef19cffd3edb3cf08fd791e       443844 autoconf-2.13.tar.gz


[FILE:326:manifests/plist.single]
bin/
 autoconf%%ACVER%%
 autoheader%%ACVER%%
 autoreconf%%ACVER%%
 autoscan%%ACVER%%
 autoupdate%%ACVER%%
 ifnames%%ACVER%%
share/autoconf%%ACVER%%/
 acconfig.h
 acfunctions
 acgeneral.m4
 acheaders
 acidentifiers
 acmakevars
 acoldnames.m4
 acprograms
 acspecific.m4
 autoconf.m4
 autoconf.m4f
 autoheader.m4
 autoheader.m4f


[FILE:325:patches/patch-acspecific.m4]
--- acspecific.m4.orig	1999-01-05 13:27:52 UTC
+++ acspecific.m4
@@ -2659,7 +2659,7 @@ else
   if AC_TRY_EVAL(ac_link); then
     for file in conftest.*; do
       case $file in
-      *.c | *.o | *.obj) ;;
+      *.c | *.C | *.o | *.obj) ;;
       *) ac_cv_exeext=`echo $file | sed -e s/conftest//` ;;
       esac
     done


[FILE:1171:patches/patch-autoconf.sh]
--- autoconf.sh.orig	1999-01-05 13:27:53 UTC
+++ autoconf.sh
@@ -45,7 +45,6 @@ case "${M4}" in
 esac
 
 : ${TMPDIR=/tmp}
-tmpout=${TMPDIR}/acout.$$
 localdir=
 show_version=no
 
@@ -95,9 +94,12 @@ case $# in
   *) echo "$usage" >&2; exit 1 ;;
 esac
 
+tmpout=`mktemp ${TMPDIR}/acout.XXXXXXXXXX` || exit 1
+tmpin=`mktemp ${TMPDIR}/acin.XXXXXXXXXX` || { rm -f $tmpout; exit 1; }
+
 trap 'rm -f $tmpin $tmpout; exit 1' 1 2 15
 
-tmpin=${TMPDIR}/acin.$$ # Always set this, to avoid bogus errors from some rm's.
+# Always set this, to avoid bogus errors from some rm's.
 if test z$infile = z-; then
   infile=$tmpin
   cat > $infile
@@ -118,7 +120,7 @@ r= f=
 case `$M4 --help < /dev/null 2>&1` in
 *reload-state*) test -r $AC_MACRODIR/autoconf.m4f && { r=--reload f=f; } ;;
 *traditional*) ;;
-*) echo Autoconf requires GNU m4 1.1 or later >&2; rm -f $tmpin; exit 1 ;;
+*) echo Autoconf requires GNU m4 1.1 or later >&2; rm -f $tmpin $tmpout; exit 1 ;;
 esac
 
 $M4 -I$AC_MACRODIR $use_localdir $r autoconf.m4$f $infile > $tmpout ||
@@ -154,6 +156,6 @@ $AWK '
 /__oline__/s/^\([0-9][0-9]*\):\(.*\)__oline__/\2\1/
 ' >&4
 
-rm -f $tmpout
+rm -f $tmpin $tmpout
 
 exit $status


[FILE:385:patches/patch-autoconf.texi]
--- autoconf.texi.orig	1999-01-05 13:28:37 UTC
+++ autoconf.texi
@@ -15,11 +15,10 @@
 @end iftex
 
 @ifinfo
-@format
-START-INFO-DIR-ENTRY
+@dircategory Software development
+@direntry
 * Autoconf: (autoconf).         Create source code configuration scripts.
-END-INFO-DIR-ENTRY
-@end format
+@end direntry
 
 Autoconf: Creating Automatic Configuration Scripts, by David MacKenzie.
 


[FILE:448:patches/patch-autoheader.sh]
--- autoheader.sh.orig	1999-01-05 13:28:39 UTC
+++ autoheader.sh
@@ -194,7 +194,7 @@ if test -n "$syms"; then
   # Some fgrep's have limits on the number of lines that can be in the
   # pattern on the command line, so use a temporary file containing the
   # pattern.
-  (fgrep_tmp=${TMPDIR-/tmp}/autoh$$
+  (fgrep_tmp=`mktemp ${TMPDIR-/tmp}/autoh.XXXXXXXXXX` || exit 1
    trap "rm -f $fgrep_tmp; exit 1" 1 2 15
    cat > $fgrep_tmp <<EOF
 $syms


[FILE:565:patches/patch-autoupdate.sh]
--- autoupdate.sh.orig	1999-01-05 13:28:42 UTC
+++ autoupdate.sh
@@ -26,7 +26,7 @@ usage="\
 Usage: autoupdate [-h] [--help] [-m dir] [--macrodir=dir] 
        [--version] [template-file]" 
 
-sedtmp=/tmp/acups.$$
+sedtmp=`mktemp ${TMPDIR-/tmp}/acups.XXXXXXXXXX` || exit 1
 # For debugging.
 #sedtmp=/tmp/acups
 show_version=no
@@ -66,7 +66,7 @@ fi
 
 : ${SIMPLE_BACKUP_SUFFIX='~'}
 
-tmpout=acupo.$$
+tmpout=`mktemp acupo.XXXXXXXXXX` || { rm -f $sedtmp; exit 1; }
 trap 'rm -f $sedtmp $tmpout; exit 1' 1 2 15
 case $# in
   0) infile=configure.in; out="> $tmpout"


[FILE:150:files/special.mk]
# equivalent of FreeBSD's USES=desthack

GNU_CONFIGURE_PREFIX=		\$${${DESTDIRNAME}}${PREFIX}
GNU_CONFIGURE_MANPREFIX=	\$${${DESTDIRNAME}}${MANPREFIX}

