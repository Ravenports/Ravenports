# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libnsfb
VERSION=		0.2.2
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	NetSurf framebuffer library
HOMEPAGE=		https://www.netsurf-browser.org/projects/libnsfb/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://download.netsurf-browser.org/libs/releases/
DISTFILE[1]=		libnsfb-0.2.2-src.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		netsurf-buildsystem:single:standard

USES=			gmake pkgconfig

LICENSE=		MIT:single
LICENSE_FILE=		MIT:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

MAKE_ENV=		COMPONENT_TYPE="lib-shared"

INSTALL_REQ_TOOLCHAIN=	yes
SOVERSION=		0.2.2

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libnsfb.so.0.2.2

[FILE:628:descriptions/desc.single]
LibNSFB is a framebuffer abstraction library, written in C. It is 
currently in development for use with NetSurf and is intended to be 
suitable for use in other projects too.

The overall idea of the library is to provide a generic abstraction to a 
linear section of memory which corresponds to a visible array of pixel 
elements on a display device. Different colour depths are supported and 
the library provides routines for tasks such as drawing onto the 
framebuffer and rectangle copy operations.

LibNSFB currently supports the following as framebuffer providers:
- Linux framebuffer
- X
- SDL
- VNC
- ABLE framebuffer


[FILE:103:distinfo]
be446ca3eb54df903f2da98311d107d7574cd11f5ac0713e619156d4d19ea39a        82594 libnsfb-0.2.2-src.tar.gz


[FILE:184:manifests/plist.single]
include/
 libnsfb.h
 libnsfb_cursor.h
 libnsfb_event.h
 libnsfb_plot.h
 libnsfb_plot_util.h
lib/
 libnsfb.so
 libnsfb.so.%%SOMAJOR%%
 libnsfb.so.%%SOVERSION%%
lib/pkgconfig/libnsfb.pc


[FILE:390:patches/patch-src_plot.h]
--- src/plot.h.orig	2019-06-26 20:56:00 UTC
+++ src/plot.h
@@ -46,7 +46,11 @@
         #error "Endian determination failed"
     #endif
 #else
+# if defined(__DragonFly__) || defined(__FreeBSD__)
+    #include <sys/endian.h>
+#else
     #include <endian.h>
+#endif
     #if defined(__BYTE_ORDER__)
         #if __BYTE_ORDER__ == __ORDER_BIG_ENDIAN__
             #define NSFB_BE_BYTE_ORDER

