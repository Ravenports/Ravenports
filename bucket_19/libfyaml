# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libfyaml
VERSION=		0.9.1
KEYWORDS=		textproc
VARIANTS=		std
SDESC[std]=		Fully feature complete YAML parser and emitter
HOMEPAGE=		https://pantoniou.github.io/libfyaml/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		https://github.com/pantoniou/libfyaml/releases/download/v0.9.1/
DISTFILE[1]=		libfyaml-0.9.1.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			man
			tools

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

EXRUN[tools]=		primary

USES=			gmake libtool mbsdfix

LICENSE=		MIT:primary
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		textproc/libfyaml

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--mandir="{{MANPREFIX}}/man"

INSTALL_TARGET=		install-strip
SOVERSION=		0.0.0

CFLAGS=			-Wno-incompatible-pointer-types

pre-configure-netbsd:
	${REINPLACE_CMD} 's|getopt_long_only|getopt_long|g' \
		${WRKSRC}/src/internal/fy-b3sum.c \
		${WRKSRC}/src/internal/fy-thread.c \
		${WRKSRC}/src/tool/fy-tool.c

pre-configure:
	${GREP} -rl "#include <alloca\\.h>" ${WRKSRC} |\
	${XARGS} ${REINPLACE_CMD} -E "s|#include <alloca\\.h>|#include <stdlib.h>|"

[FILE:416:descriptions/desc.primary]
A fully-featured YAML 1.2 and JSON parser/writer with zero-copy operation
and no artificial limits.

libfyaml is designed for high performance with zero content duplication,
supporting arbitrarily large documents without the 1024-character limit on
implicit keys found in other parsers. It passes the complete YAML test
suite and provides both event-based (streaming) and document tree APIs for
maximum flexibility.


[FILE:55:descriptions/desc.tools]
This subpackage contains tools based on fyaml library.


[FILE:100:distinfo]
f3c9233f386bc31e25b6101bbda9f6c18e867a029cd29d6768ec804d1cc24b3b       954632 libfyaml-0.9.1.tar.gz


[FILE:57:manifests/plist.primary]
lib/
 libfyaml.so.%%SOMAJOR%%
 libfyaml.so.%%SOVERSION%%


[FILE:75:manifests/plist.dev]
lib/pkgconfig/libfyaml.pc
include/libfyaml.h
lib/
 libfyaml.a
 libfyaml.so


[FILE:104:manifests/plist.man]
share/man/man1/
 fy-compose.1
 fy-dump.1
 fy-filter.1
 fy-join.1
 fy-testsuite.1
 fy-tool.1
 fy-ypath.1


[FILE:79:manifests/plist.tools]
bin/
 fy-compose
 fy-dump
 fy-filter
 fy-join
 fy-testsuite
 fy-tool
 fy-ypath

