# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		vorbis-tools
VERSION=		1.4.3
KEYWORDS=		audio
VARIANTS=		std
SDESC[std]=		Play, encode, and manage Ogg Vorbis files
HOMEPAGE=		https://xiph.org/vorbis/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://ftp.osuosl.org/pub/xiph/releases/vorbis/
DISTFILE[1]=		vorbis-tools-1.4.3.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			nls
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libvorbis:dev:std
			flac:dev:std
			libao:dev:std
BUILDRUN_DEPENDS=	flac:primary:std
			libao:primary:std
			libkate:primary:std
			libvorbis:primary:std
			speex:primary:std

USES=			cpe curl gettext iconv pkgconfig

LICENSE=		GPLv2:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/oggdec/oggdec.c
LICENSE_SCHEME=		solo

CPE_VENDOR=		xiph
FPC_EQUIVALENT=		audio/vorbis-tools

MUST_CONFIGURE=		gnu
CONFIGURE_ENV=		PTHREAD_LIBS="-lpthread"

VAR_OPSYS[sunos]=	LDFLAGS=-lrt

post-install:
	${MKDIR} ${STAGEDIR}${PREFIX}/share/examples/vorbis-tools
	${INSTALL_DATA} ${WRKSRC}/ogg123/ogg123rc-example \
		${STAGEDIR}${PREFIX}/share/examples/vorbis-tools/ogg123rc

[FILE:555:descriptions/desc.primary]
Vorbis is a general-purpose audio and music encoding format contemporary 
to MPEG-4's AAC and TwinVQ, the next generation beyond MPEG audio layer 3. 
 Unlike the MPEG sponsored formats and other proprietary formats such as 
RealAudio G2, the Vorbis CODEC specification belongs to the public domain. 
All the technical details are published and documented, and any software 
entity may make full use of the format without royalty or patent concerns.

This package contains utilities to encode, decode, and cut vorbis streams, 
and to add comments to them.


[FILE:104:distinfo]
a1fe3ddc6777bdcebf6b797e7edfe0437954b24756ffcc8c6b816b63e0460dde      1804238 vorbis-tools-1.4.3.tar.gz


[FILE:96:manifests/plist.primary]
bin/
 ogg123
 oggdec
 oggenc
 ogginfo
 vcut
 vorbiscomment
share/examples/vorbis-tools/ogg123rc


[FILE:1015:manifests/plist.nls]
share/locale/be/LC_MESSAGES/vorbis-tools.mo
share/locale/cs/LC_MESSAGES/vorbis-tools.mo
share/locale/da/LC_MESSAGES/vorbis-tools.mo
share/locale/de/LC_MESSAGES/vorbis-tools.mo
share/locale/en_GB/LC_MESSAGES/vorbis-tools.mo
share/locale/eo/LC_MESSAGES/vorbis-tools.mo
share/locale/es/LC_MESSAGES/vorbis-tools.mo
share/locale/fr/LC_MESSAGES/vorbis-tools.mo
share/locale/hr/LC_MESSAGES/vorbis-tools.mo
share/locale/hu/LC_MESSAGES/vorbis-tools.mo
share/locale/id/LC_MESSAGES/vorbis-tools.mo
share/locale/ka/LC_MESSAGES/vorbis-tools.mo
share/locale/nb/LC_MESSAGES/vorbis-tools.mo
share/locale/nl/LC_MESSAGES/vorbis-tools.mo
share/locale/pl/LC_MESSAGES/vorbis-tools.mo
share/locale/ro/LC_MESSAGES/vorbis-tools.mo
share/locale/ru/LC_MESSAGES/vorbis-tools.mo
share/locale/sk/LC_MESSAGES/vorbis-tools.mo
share/locale/sl/LC_MESSAGES/vorbis-tools.mo
share/locale/sr/LC_MESSAGES/vorbis-tools.mo
share/locale/sv/LC_MESSAGES/vorbis-tools.mo
share/locale/uk/LC_MESSAGES/vorbis-tools.mo
share/locale/vi/LC_MESSAGES/vorbis-tools.mo


[FILE:82:manifests/plist.man]
share/man/man1/
 ogg123.1
 oggdec.1
 oggenc.1
 ogginfo.1
 vcut.1
 vorbiscomment.1


[FILE:232:patches/patch-ogg123_Makefile.in]
--- ogg123/Makefile.in.orig	2025-04-13 06:11:28 UTC
+++ ogg123/Makefile.in
@@ -856,7 +856,7 @@ info: info-am
 
 info-am:
 
-install-data-am: install-docDATA install-man
+install-data-am: install-man
 
 install-dvi: install-dvi-am
 


[FILE:238:patches/patch-ogg123_status.c]
--- ogg123/status.c.orig	2025-04-13 06:11:17 UTC
+++ ogg123/status.c
@@ -26,6 +26,9 @@
 #ifdef HAVE_UNISTD_H
 #include <sys/ioctl.h>
 #include <unistd.h>
+# ifdef __sun__
+# include <sys/termios.h>
+# endif
 #endif
 
 #ifdef HAVE_FCNTL_H


[FILE:320:patches/patch-ogg123_vorbis__comments.c]
--- ogg123/vorbis_comments.c.orig	2025-04-13 06:11:17 UTC
+++ ogg123/vorbis_comments.c
@@ -74,7 +74,7 @@ char *lookup_comment_prettyprint (const
 
   /* Use default formatting */
   j = strcspn(comment, "=");
-  if (j) {
+  if (j != strlen(comment)) {
     *offset = j + 1;
     s = malloc(j + 2);
     if (s == NULL) {


[FILE:202:patches/patch-oggenc_lyrics.c]
--- oggenc/lyrics.c.orig	2025-04-13 06:11:17 UTC
+++ oggenc/lyrics.c
@@ -16,7 +16,7 @@
 #endif
 
 #include <stdio.h>
-#include <malloc.h>
+#include <stdlib.h>
 #include <string.h>
 #include <errno.h>
 


[FILE:190:patches/patch-ogginfo_codec__skeleton.c]
--- ogginfo/codec_skeleton.c.orig	2025-04-13 06:11:18 UTC
+++ ogginfo/codec_skeleton.c
@@ -24,6 +24,7 @@
 
 #include <ogg/ogg.h>
 
+#include "utf8.h"
 #include "i18n.h"
 #include "utf8.h"
 

