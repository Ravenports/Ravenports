# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		npth
VERSION=		1.6
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	New Portable Threads Library (nPth)
HOMEPAGE=		https://www.gnupg.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GNUPG/npth
DISTFILE[1]=		npth-1.6.tar.bz2:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			libtool

LICENSE=		LGPL21+:single
LICENSE_TERMS=		single:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21+:{{WRKSRC}}/COPYING.LIB
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/npth.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		devel/npth

MUST_CONFIGURE=		gnu

INSTALL_TARGET=		install-strip
SOVERSION=		0.1.2

[FILE:411:descriptions/desc.single]
nPth - The New GNU Portable Threads Library

This is a library to provide the GNU Pth API and thus a non-preemptive
threads implementation.

In contrast to GNU Pth, it is based on the system's standard threads
implementation.  This allows the use of libraries which are not compatible
to GNU Pth.  Experience with a Windows Pth emulation showed that this is a
solid way to provide a co-routine based framework.


[FILE:95:distinfo]
1393abd9adcf0762d34798dc34fdcf4d0d22a8410721e76f1e3afcd1daa4e2d1       300486 npth-1.6.tar.bz2


[FILE:120:manifests/plist.single]
bin/npth-config
include/npth.h
lib/
 libnpth.so
 libnpth.so.%%SOMAJOR%%
 libnpth.so.%%SOVERSION%%
share/aclocal/npth.m4


[FILE:1321:patches/patch-configure]
--- configure.orig	2018-07-16 07:33:37 UTC
+++ configure
@@ -6387,7 +6387,7 @@ darwin* | rhapsody*)
   lt_cv_deplibs_check_method=pass_all
   ;;
 
-freebsd* | dragonfly*)
+freebsd* | dragonfly* | midnight*)
   if echo __ELF__ | $CC -E - | $GREP __ELF__ > /dev/null; then
     case $host_cpu in
     i*86 )
@@ -10556,7 +10556,7 @@ fi
       ;;
 
     # FreeBSD 3 and greater uses gcc -shared to do shared libraries.
-    freebsd* | dragonfly*)
+    freebsd* | dragonfly* | midnight*)
       archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
       hardcode_libdir_flag_spec='-R$libdir'
       hardcode_direct=yes
@@ -11520,7 +11520,7 @@ dgux*)
   shlibpath_var=LD_LIBRARY_PATH
   ;;
 
-freebsd* | dragonfly*)
+freebsd* | dragonfly* | midnight*)
   # DragonFly does not have aout.  When/if they implement a new
   # versioning mechanism, adjust this.
   if test -x /usr/bin/objformat; then
@@ -12998,7 +12998,7 @@ fi
     *-*-aix*)
         have_fork_unsafe_semaphore=yes
         ;;
-    *-*-dragonfly*|*-*-freebsd*|*-*-netbsd*|*-*-hpux*)
+    *-*-dragonfly*|*-*-freebsd*|*-*-netbsd*|*-*-midnight*)
         LIBS="-lpthread $LIBS"
         { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing sem_init" >&5
 $as_echo_n "checking for library containing sem_init... " >&6; }

