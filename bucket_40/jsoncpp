# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		jsoncpp
VERSION=		1.8.4
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	JSON reader and writer library for C++
HOMEPAGE=		https://github.com/open-source-parsers/jsoncpp
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/open-source-parsers:jsoncpp:1.8.4
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			dos2unix c++:single meson

LICENSE=		MIT:single
LICENSE_SCHEME=		solo
LICENSE_FILE=		MIT:{{WRKSRC}}/LICENSE

FPC_EQUIVALENT=		devel/jsoncpp

PLIST_SUB=		SOVER=20

post-patch:
	${REINPLACE_CMD} -e "s|install : true|install : true, install_rpath : '${PREFIX}/toolchain/gcc7/${ASLIB}'|" \
		${WRKSRC}/meson.build

post-install:
	${MKDIR} ${STAGEDIR}${PREFIX}/include/jsoncpp
	${MV} ${STAGEDIR}${PREFIX}/include/json \
		${STAGEDIR}${PREFIX}/include/jsoncpp

[FILE:412:descriptions/desc.single]
JSON is a lightweight data-interchange format. It can represent numbers,
strings, ordered sequences of values, and collections of name/value pairs.

JsonCpp is a C++ library that allows manipulating JSON values, including
serialization and deserialization to and from strings. It can also
preserve existing comment in unserialization/serialization steps, making
it a convenient format to store user input files.


[FILE:119:distinfo]
c49deac9e0933bcb7044f08516861a2d560988540b23de2ac1ad443b219afdb6       200226 open-source-parsers-jsoncpp-1.8.4.tar.gz


[FILE:213:manifests/plist.single]
include/jsoncpp/json/
 allocator.h
 assertions.h
 autolink.h
 config.h
 features.h
 forwards.h
 json.h
 reader.h
 value.h
 version.h
 writer.h
lib/
 libjsoncpp.so
 libjsoncpp.so.%%SOVER%%
lib/pkgconfig/jsoncpp.pc


[FILE:396:patches/patch-src_lib__json_json__reader.cpp]
--- src/lib_json/json_reader.cpp.orig	2017-12-20 21:07:10 UTC
+++ src/lib_json/json_reader.cpp
@@ -4,6 +4,11 @@
 // recognized in your jurisdiction.
 // See file LICENSE for detail or copy at http://jsoncpp.sourceforge.net/LICENSE
 
+// fix for lang/gcc5+
+#if __GNUC__ == 5
+#include <cstdio>
+#endif
+
 #if !defined(JSON_IS_AMALGAMATION)
 #include <json/assertions.h>
 #include <json/reader.h>


[FILE:390:patches/patch-src_lib__json_json__writer.cpp]
--- src/lib_json/json_writer.cpp.orig	2017-12-20 21:07:10 UTC
+++ src/lib_json/json_writer.cpp
@@ -3,6 +3,11 @@
 // recognized in your jurisdiction.
 // See file LICENSE for detail or copy at http://jsoncpp.sourceforge.net/LICENSE
 
+// fix for lang/gcc5+
+#if __GNUC__ == 5
+#include <cstdio>
+#endif
+
 #if !defined(JSON_IS_AMALGAMATION)
 #include <json/writer.h>
 #include "json_tool.h"

