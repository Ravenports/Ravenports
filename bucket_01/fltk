# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		fltk
VERSION=		1.4.2
KEYWORDS=		x11_toolkits
VARIANTS=		std
SDESC[std]=		Light-weight cross-platform C++ GUI toolkit
HOMEPAGE=		https://www.fltk.org/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://github.com/fltk/fltk/releases/download/release-1.4.2/
DISTFILE[1]=		fltk-1.4.2-source.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			examples
			man
			tools

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		libGLU:dev:std
			libglvnd:dev:std
BUILDRUN_DEPENDS=	libGLU:primary:std
EXRUN[tools]=		primary

USES=			gmake jpeg libtool pkgconfig png zlib
			autoreconf:build
XORG_COMPONENTS=	x11 xcursor xext xfixes xft xinerama

LICENSE=		LGPL20:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL20:stock
LICENSE_AWK=		TERMS:"^--------------"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		x11-toolkits/fltk

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-shared
			--docdir={{STD_EXAMPLESDIR}}

SOVERSION=		1.4

post-install:
	${MKDIR} ${STAGEDIR}${STD_EXAMPLESDIR}
	${MV} ${STAGEDIR}${STD_DOCDIR}/examples/* ${STAGEDIR}${STD_EXAMPLESDIR}
	${RM} -r ${STAGEDIR}${STD_DOCDIR}
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/fluid
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/*.so

pre-configure:
	${CP} ${MK_TEMPLATES}/config.guess ${WRKSRC}
	${CP} ${MK_TEMPLATES}/config.sub ${WRKSRC}
	(cd ${WRKSRC} && ${SH} ./autogen.sh)

[FILE:536:descriptions/desc.primary]
FLTK (short for "Fast Light ToolKit") is a cross-platform graphical user 
interface toolkit for X11. It's written in C++ and provides OpenGL 
functionality.

The toolkit provides widgets commonly needed to build graphical 
applications. In contrast to GTK+ or Qt it tries to avoid bloat and stay 
small enough for static linking to make sense. It can of course also be 
used as a shared library.

It also comes with FLUID, the "Fast Light User Interface Designer", a 
simple yet powerful UI builder. 1.3.x is the current stable branch.


[FILE:37:descriptions/desc.tools]
This package contains FLTK programs.


[FILE:103:distinfo]
abf51c65c73e08d470488b3fc834c943dc8cec16f7919165827f3403318a15ef      9277276 fltk-1.4.2-source.tar.gz


[FILE:125:manifests/plist.primary]
lib/
 libfltk.so.%%SOVERSION%%
 libfltk_forms.so.%%SOVERSION%%
 libfltk_gl.so.%%SOVERSION%%
 libfltk_images.so.%%SOVERSION%%


[FILE:2772:manifests/plist.dev]
bin/fltk-config
include/FL/
 Enumerations.H
 Fl.H
 Fl_Adjuster.H
 Fl_Anim_GIF_Image.H
 Fl_BMP_Image.H
 Fl_Bitmap.H
 Fl_Box.H
 Fl_Browser.H
 Fl_Browser_.H
 Fl_Button.H
 Fl_Cairo.H
 Fl_Cairo_Window.H
 Fl_Chart.H
 Fl_Check_Browser.H
 Fl_Check_Button.H
 Fl_Choice.H
 Fl_Clock.H
 Fl_Color_Chooser.H
 Fl_Copy_Surface.H
 Fl_Counter.H
 Fl_Device.H
 Fl_Dial.H
 Fl_Double_Window.H
 Fl_Export.H
 Fl_File_Browser.H
 Fl_File_Chooser.H
 Fl_File_Icon.H
 Fl_File_Input.H
 Fl_Fill_Dial.H
 Fl_Fill_Slider.H
 Fl_Flex.H
 Fl_Float_Input.H
 Fl_FormsBitmap.H
 Fl_FormsPixmap.H
 Fl_Free.H
 Fl_GIF_Image.H
 Fl_Gl_Window.H
 Fl_Graphics_Driver.H
 Fl_Grid.H
 Fl_Group.H
 Fl_Help_Dialog.H
 Fl_Help_View.H
 Fl_Hold_Browser.H
 Fl_Hor_Fill_Slider.H
 Fl_Hor_Nice_Slider.H
 Fl_Hor_Slider.H
 Fl_Hor_Value_Slider.H
 Fl_ICO_Image.H
 Fl_Image.H
 Fl_Image_Surface.H
 Fl_Input.H
 Fl_Input_.H
 Fl_Input_Choice.H
 Fl_Int_Input.H
 Fl_JPEG_Image.H
 Fl_Light_Button.H
 Fl_Line_Dial.H
 Fl_Menu.H
 Fl_Menu_.H
 Fl_Menu_Bar.H
 Fl_Menu_Button.H
 Fl_Menu_Item.H
 Fl_Menu_Window.H
 Fl_Multi_Browser.H
 Fl_Multi_Label.H
 Fl_Multiline_Input.H
 Fl_Multiline_Output.H
 Fl_Native_File_Chooser.H
 Fl_Nice_Slider.H
 Fl_Object.H
 Fl_Output.H
 Fl_Overlay_Window.H
 Fl_PDF_File_Surface.H
 Fl_PNG_Image.H
 Fl_PNM_Image.H
 Fl_Pack.H
 Fl_Paged_Device.H
 Fl_Pixmap.H
 Fl_Plugin.H
 Fl_Positioner.H
 Fl_PostScript.H
 Fl_Preferences.H
 Fl_Printer.H
 Fl_Progress.H
 Fl_RGB_Image.H
 Fl_Radio_Button.H
 Fl_Radio_Light_Button.H
 Fl_Radio_Round_Button.H
 Fl_Rect.H
 Fl_Repeat_Button.H
 Fl_Return_Button.H
 Fl_Roller.H
 Fl_Round_Button.H
 Fl_Round_Clock.H
 Fl_SVG_File_Surface.H
 Fl_SVG_Image.H
 Fl_Scheme.H
 Fl_Scheme_Choice.H
 Fl_Scroll.H
 Fl_Scrollbar.H
 Fl_Secret_Input.H
 Fl_Select_Browser.H
 Fl_Shared_Image.H
 Fl_Shortcut_Button.H
 Fl_Simple_Counter.H
 Fl_Single_Window.H
 Fl_Slider.H
 Fl_Spinner.H
 Fl_Sys_Menu_Bar.H
 Fl_Table.H
 Fl_Table_Row.H
 Fl_Tabs.H
 Fl_Terminal.H
 Fl_Text_Buffer.H
 Fl_Text_Display.H
 Fl_Text_Editor.H
 Fl_Tile.H
 Fl_Tiled_Image.H
 Fl_Timer.H
 Fl_Toggle_Button.H
 Fl_Toggle_Light_Button.H
 Fl_Toggle_Round_Button.H
 Fl_Tooltip.H
 Fl_Tree.H
 Fl_Tree_Item.H
 Fl_Tree_Item_Array.H
 Fl_Tree_Prefs.H
 Fl_Valuator.H
 Fl_Value_Input.H
 Fl_Value_Output.H
 Fl_Value_Slider.H
 Fl_Widget.H
 Fl_Widget_Surface.H
 Fl_Window.H
 Fl_Wizard.H
 Fl_XBM_Image.H
 Fl_XPM_Image.H
 filename.H
 fl_ask.H
 fl_attr.h
 fl_callback_macros.H
 fl_casts.H
 fl_config.h
 fl_draw.H
 fl_message.H
 fl_show_colormap.H
 fl_show_input.H
 fl_string_functions.h
 fl_types.h
 fl_utf8.h
 forms.H
 gl.h
 gl2opengl.h
 gl_draw.H
 glu.h
 glut.H
 mac.H
 math.h
 names.h
 platform.H
 platform_types.h
 wayland.H
 win32.H
 x.H
 x11.H
lib/
 libfltk.a
 libfltk.so
 libfltk_forms.a
 libfltk_forms.so
 libfltk_gl.a
 libfltk_gl.so
 libfltk_images.a
 libfltk_images.so


[FILE:2741:manifests/plist.examples]
share/examples/fltk/
 CubeMain.cxx
 CubeView.cxx
 CubeView.h
 CubeViewUI.cxx
 CubeViewUI.fl
 CubeViewUI.h
 adjuster.cxx
 animated.cxx
 arc.cxx
 ask.cxx
 bitmap.cxx
 blocks.cxx
 boxtype.cxx
 browser.cxx
 button.cxx
 buttons.cxx
 cairo_test.cxx
 checkers.cxx
 checkers_pieces.cxx
 checkers_pieces.fl
 checkers_pieces.h
 clipboard.cxx
 clock.cxx
 colbrowser.cxx
 color_chooser.cxx
 contrast.cxx
 coordinates.cxx
 cube.cxx
 cursor.cxx
 curve.cxx
 demo.cxx
 demo.menu
 device.cxx
 doublebuffer.cxx
 editor.cxx
 fast_slow.cxx
 fast_slow.fl
 fast_slow.h
 file_chooser.cxx
 flex_demo.cxx
 flex_login.cxx
 fltk-versions.cxx
 fonts.cxx
 forms.cxx
 fractals.cxx
 fracviewer.cxx
 fracviewer.h
 fullscreen.cxx
 gl_overlay.cxx
 glpuzzle.cxx
 glut_test.cxx
 grid_alignment.cxx
 grid_buttons.cxx
 grid_dialog.cxx
 grid_login.cxx
 handle_events.cxx
 handle_keys.cxx
 hello.cxx
 help_dialog.cxx
 icon.cxx
 iconize.cxx
 image.cxx
 inactive.cxx
 inactive.fl
 inactive.h
 input.cxx
 input_choice.cxx
 keyboard.cxx
 keyboard.h
 keyboard_ui.cxx
 keyboard_ui.fl
 keyboard_ui.h
 label.cxx
 line_style.cxx
 line_style_docs.cxx
 list_visuals.cxx
 mandelbrot.cxx
 mandelbrot.h
 mandelbrot_ui.cxx
 mandelbrot_ui.fl
 mandelbrot_ui.h
 menubar.cxx
 message.cxx
 minimum.cxx
 native-filechooser.cxx
 navigation.cxx
 offscreen.cxx
 output.cxx
 overlay.cxx
 pack.cxx
 pixmap.cxx
 pixmap_browser.cxx
 preferences.cxx
 preferences.fl
 preferences.h
 radio.cxx
 radio.fl
 radio.h
 resize-arrows.cxx
 resize-arrows.h
 resize-example1.cxx
 resize-example2.cxx
 resize-example3a.cxx
 resize-example3b.cxx
 resize-example3c.cxx
 resize-example4a.cxx
 resize-example4b.cxx
 resize-example5a.cxx
 resize-example5b.cxx
 resize-example5c.cxx
 resize.cxx
 resize.fl
 resize.h
 resizebox.cxx
 rotated_text.cxx
 scroll.cxx
 shadow_variables.cxx
 shape.cxx
 subwindow.cxx
 sudoku.cxx
 symbols.cxx
 table.cxx
 tabs.cxx
 tabs.fl
 tabs.h
 terminal.cxx
 terminal.fl
 terminal.h
 threads.cxx
 threads.h
 tile.cxx
 tiled_image.cxx
 trackball.h
 tree.cxx
 tree.fl
 tree.h
 twowin.cxx
 unittest_about.cxx
 unittest_circles.cxx
 unittest_complex_shapes.cxx
 unittest_core.cxx
 unittest_fast_shapes.cxx
 unittest_images.cxx
 unittest_points.cxx
 unittest_schemes.cxx
 unittest_scrollbarsize.cxx
 unittest_symbol.cxx
 unittest_terminal.cxx
 unittest_text.cxx
 unittest_unicode.cxx
 unittest_viewport.cxx
 unittests.cxx
 unittests.h
 utf8.cxx
 valuators.cxx
 valuators.fl
 valuators.h
 windowfocus.cxx
 wizard.cxx
share/examples/fltk/pixmaps/
 blast.xpm
 blue.xpm
 blue_bomb.xpm
 cyan.xpm
 cyan_bomb.xpm
 gray.xpm
 gray_bomb.xpm
 green.xpm
 green_bomb.xpm
 magenta.xpm
 magenta_bomb.xpm
 porsche.xpm
 porsche1.xpm
 red.xpm
 red_bomb.xpm
 sorceress.xbm
 sudoku.xbm
 tile.xpm
 yellow.xpm
 yellow_bomb.xpm


[FILE:78:manifests/plist.man]
share/man/man1/
 fltk-config.1
 fltk-options.1
 fluid.1
share/man/man3/fltk.3


[FILE:26:manifests/plist.tools]
bin/
 fltk-options
 fluid


[FILE:1712:patches/patch-configure.ac]
--- configure.ac.orig	2024-12-12 17:45:50 UTC
+++ configure.ac
@@ -362,7 +362,7 @@ AS_IF([test "x$enable_shared" = xyes], [
         AS_IF([test "x$libdir" != "x/usr/lib" -a "x$libdir" != "x/usr/lib32"], [
             DSOLINK="-Wl,-rpath,$libdir"
         ])
-    ], [linux*|*bsd*], [
+    ], [linux*|*bsd*|dragonfly*], [
         DSONAME="libfltk.so.$FL_DSO_VERSION"
         FLDSONAME="libfltk_forms.so.$FL_DSO_VERSION"
         GLDSONAME="libfltk_gl.so.$FL_DSO_VERSION"
@@ -1513,7 +1513,7 @@ AC_SUBST([UNINSTALL_DESKTOP])
 AC_SUBST([BUILD])
 
 dnl Figure out the appropriate formatted man page extension...
-AS_CASE(["$host_os"], [*bsd* | darwin*], [
+AS_CASE(["$host_os"], [*bsd* | darwin* | dragonfly*], [
     # *BSD
     CAT1EXT=0
     CAT3EXT=0
@@ -1536,7 +1536,7 @@ AC_SUBST([CAT6EXT])
 
 dnl Fix "mandir" variable...
 AS_IF([test "$mandir" = "\${prefix}/man" -a "$prefix" = "/usr"], [
-    AS_CASE(["$host_os"], [*bsd* | darwin* | linux*], [
+    AS_CASE(["$host_os"], [*bsd* | darwin* | linux* | dragonfly*], [
         # *BSD, Darwin, and Linux
         mandir="\${prefix}/share/man"
     ], [irix*], [
@@ -1594,16 +1594,9 @@ AS_IF([test -n "$GCC"], [
         #       They all seem to make either no difference or enlarge
         #       the code by a few hundred bytes.
         #
-        #       "-Os" seems to be the best compromise between speed and
-        #       code size.  "-O3" and higher seem to make no effective
-        #       difference in the speed of the code, but does bloat the
-        #       library 10+%.
-        #
 
         AS_IF([test "x$with_optim" != x], [
             OPTIM="$with_optim $OPTIM"
-        ], [
-            OPTIM="-Os $OPTIM"
         ])
     ])
 


[FILE:1754:patches/patch-documentation_Makefile]
--- documentation/Makefile.orig	2024-12-12 17:45:50 UTC
+++ documentation/Makefile
@@ -95,7 +95,6 @@ depend:
 
 install: $(MANPAGES)
 	echo "Installing documentation files in $(DESTDIR)$(docdir) ..."
-	-$(INSTALL_DIR) "$(DESTDIR)$(docdir)"
 	if test -f html/index.html ; then \
 	  for file in html/* ; do \
 		$(INSTALL_DATA) $$file "$(DESTDIR)$(docdir)"; \
@@ -106,12 +105,6 @@ install: $(MANPAGES)
 	  $(INSTALL_DATA) fltk.pdf "$(DESTDIR)$(docdir)"; \
 	fi
 	echo "Installing man pages in $(DESTDIR)$(mandir) ..."
-	-$(INSTALL_DIR) "$(DESTDIR)$(mandir)/cat1"
-	$(INSTALL_MAN) $(SRC_DOCDIR)/fluid.$(CAT1EXT) "$(DESTDIR)$(mandir)/cat1"
-	$(INSTALL_MAN) $(SRC_DOCDIR)/fltk-config.$(CAT1EXT) "$(DESTDIR)$(mandir)/cat1"
-	$(INSTALL_MAN) $(SRC_DOCDIR)/fltk-options.$(CAT1EXT) "$(DESTDIR)$(mandir)/cat1"
-	-$(INSTALL_DIR) "$(DESTDIR)$(mandir)/cat3"
-	$(INSTALL_MAN) $(SRC_DOCDIR)/fltk.$(CAT3EXT) "$(DESTDIR)$(mandir)/cat3"
 	-$(INSTALL_DIR) "$(DESTDIR)$(mandir)/man1"
 	$(INSTALL_MAN) $(SRC_DOCDIR)/fluid.man "$(DESTDIR)$(mandir)/man1/fluid.1"
 	$(INSTALL_MAN) $(SRC_DOCDIR)/fltk-config.man "$(DESTDIR)$(mandir)/man1/fltk-config.1"
@@ -120,10 +113,6 @@ install: $(MANPAGES)
 	$(INSTALL_MAN) $(SRC_DOCDIR)/fltk.man "$(DESTDIR)$(mandir)/man3/fltk.3"
 
 install-linux install-osx:
-	-$(INSTALL_DIR) "$(DESTDIR)$(mandir)/cat6"
-	$(INSTALL_MAN) $(SRC_DOCDIR)/blocks.$(CAT6EXT) "$(DESTDIR)$(mandir)/cat6"
-	$(INSTALL_MAN) $(SRC_DOCDIR)/checkers.$(CAT6EXT) "$(DESTDIR)$(mandir)/cat6"
-	$(INSTALL_MAN) $(SRC_DOCDIR)/sudoku.$(CAT6EXT) "$(DESTDIR)$(mandir)/cat6"
 	-$(INSTALL_DIR) "$(DESTDIR)$(mandir)/man6"
 	$(INSTALL_MAN) $(SRC_DOCDIR)/blocks.man "$(DESTDIR)$(mandir)/man6/blocks.6"
 	$(INSTALL_MAN) $(SRC_DOCDIR)/checkers.man "$(DESTDIR)$(mandir)/man6/checkers.6"

