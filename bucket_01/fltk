# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		fltk
VERSION=		1.3.8
KEYWORDS=		x11_toolkits
VARIANTS=		standard
SDESC[standard]=	Light-weight cross-platform C++ GUI toolkit
HOMEPAGE=		https://www.fltk.org/
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://fltk.org/pub/fltk/1.3.8/
DISTFILE[1]=		fltk-1.3.8-source.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			examples

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILDRUN_DEPENDS=	libGLU:single:standard

USES=			gmake jpeg libtool pkgconfig png zlib
XORG_COMPONENTS=	x11 xcursor xext xfixes xft xinerama

LICENSE=		LGPL20:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL20:stock
LICENSE_AWK=		TERMS:"^--------------"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		x11-toolkits/fltk

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--enable-shared
			--docdir={{STD_EXAMPLESDIR}}

post-install:
	${MKDIR} ${STAGEDIR}${STD_EXAMPLESDIR}
	${MV} ${STAGEDIR}${STD_DOCDIR}/examples/* ${STAGEDIR}${STD_EXAMPLESDIR}
	${RM} -r ${STAGEDIR}${STD_DOCDIR}
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/fluid
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/*.so

[FILE:536:descriptions/desc.primary]
FLTK (short for "Fast Light ToolKit") is a cross-platform graphical user 
interface toolkit for X11. It's written in C++ and provides OpenGL 
functionality.

The toolkit provides widgets commonly needed to build graphical 
applications. In contrast to GTK+ or Qt it tries to avoid bloat and stay 
small enough for static linking to make sense. It can of course also be 
used as a shared library.

It also comes with FLUID, the "Fast Light User Interface Designer", a 
simple yet powerful UI builder. 1.3.x is the current stable branch.


[FILE:103:distinfo]
f3c1102b07eb0e7a50538f9fc9037c18387165bc70d4b626e94ab725b9d4d1bf      5335306 fltk-1.3.8-source.tar.gz


[FILE:2595:manifests/plist.primary]
bin/
 fltk-config
 fluid
include/FL/
 Enumerations.H
 Fl.H
 Fl_Adjuster.H
 Fl_BMP_Image.H
 Fl_Bitmap.H
 Fl_Box.H
 Fl_Browser.H
 Fl_Browser_.H
 Fl_Button.H
 Fl_Cairo.H
 Fl_Cairo_Window.H
 Fl_Chart.H
 Fl_Check_Browser.H
 Fl_Check_Button.H
 Fl_Choice.H
 Fl_Clock.H
 Fl_Color_Chooser.H
 Fl_Copy_Surface.H
 Fl_Counter.H
 Fl_Device.H
 Fl_Dial.H
 Fl_Double_Window.H
 Fl_Export.H
 Fl_File_Browser.H
 Fl_File_Chooser.H
 Fl_File_Icon.H
 Fl_File_Input.H
 Fl_Fill_Dial.H
 Fl_Fill_Slider.H
 Fl_Float_Input.H
 Fl_FormsBitmap.H
 Fl_FormsPixmap.H
 Fl_Free.H
 Fl_GIF_Image.H
 Fl_Gl_Window.H
 Fl_Group.H
 Fl_Help_Dialog.H
 Fl_Help_View.H
 Fl_Hold_Browser.H
 Fl_Hor_Fill_Slider.H
 Fl_Hor_Nice_Slider.H
 Fl_Hor_Slider.H
 Fl_Hor_Value_Slider.H
 Fl_Image.H
 Fl_Image_Surface.H
 Fl_Input.H
 Fl_Input_.H
 Fl_Input_Choice.H
 Fl_Int_Input.H
 Fl_JPEG_Image.H
 Fl_Light_Button.H
 Fl_Line_Dial.H
 Fl_Menu.H
 Fl_Menu_.H
 Fl_Menu_Bar.H
 Fl_Menu_Button.H
 Fl_Menu_Item.H
 Fl_Menu_Window.H
 Fl_Multi_Browser.H
 Fl_Multi_Label.H
 Fl_Multiline_Input.H
 Fl_Multiline_Output.H
 Fl_Native_File_Chooser.H
 Fl_Nice_Slider.H
 Fl_Object.H
 Fl_Output.H
 Fl_Overlay_Window.H
 Fl_PNG_Image.H
 Fl_PNM_Image.H
 Fl_Pack.H
 Fl_Paged_Device.H
 Fl_Pixmap.H
 Fl_Plugin.H
 Fl_Positioner.H
 Fl_PostScript.H
 Fl_Preferences.H
 Fl_Printer.H
 Fl_Progress.H
 Fl_RGB_Image.H
 Fl_Radio_Button.H
 Fl_Radio_Light_Button.H
 Fl_Radio_Round_Button.H
 Fl_Repeat_Button.H
 Fl_Return_Button.H
 Fl_Roller.H
 Fl_Round_Button.H
 Fl_Round_Clock.H
 Fl_Scroll.H
 Fl_Scrollbar.H
 Fl_Secret_Input.H
 Fl_Select_Browser.H
 Fl_Shared_Image.H
 Fl_Simple_Counter.H
 Fl_Single_Window.H
 Fl_Slider.H
 Fl_Spinner.H
 Fl_Sys_Menu_Bar.H
 Fl_Table.H
 Fl_Table_Row.H
 Fl_Tabs.H
 Fl_Text_Buffer.H
 Fl_Text_Display.H
 Fl_Text_Editor.H
 Fl_Tile.H
 Fl_Tiled_Image.H
 Fl_Timer.H
 Fl_Toggle_Button.H
 Fl_Toggle_Light_Button.H
 Fl_Toggle_Round_Button.H
 Fl_Tooltip.H
 Fl_Tree.H
 Fl_Tree_Item.H
 Fl_Tree_Item_Array.H
 Fl_Tree_Prefs.H
 Fl_Valuator.H
 Fl_Value_Input.H
 Fl_Value_Output.H
 Fl_Value_Slider.H
 Fl_Widget.H
 Fl_Window.H
 Fl_Wizard.H
 Fl_XBM_Image.H
 Fl_XPM_Image.H
 abi-version.h
 dirent.h
 filename.H
 fl_ask.H
 fl_draw.H
 fl_message.H
 fl_show_colormap.H
 fl_show_input.H
 fl_types.h
 fl_utf8.h
 forms.H
 gl.h
 gl2opengl.h
 gl_draw.H
 glu.h
 glut.H
 mac.H
 math.h
 names.h
 platform.H
 win32.H
 x.H
lib/
 libfltk.a
 libfltk.so
 libfltk.so.1.3
 libfltk_forms.a
 libfltk_forms.so
 libfltk_forms.so.1.3
 libfltk_gl.a
 libfltk_gl.so
 libfltk_gl.so.1.3
 libfltk_images.a
 libfltk_images.so
 libfltk_images.so.1.3
share/man/man1/
 fltk-config.1.gz
 fluid.1.gz
share/man/man3/fltk.3.gz


[FILE:2294:manifests/plist.examples]
share/examples/fltk/
 CubeMain.cxx
 CubeView.cxx
 CubeView.h
 CubeViewUI.cxx
 CubeViewUI.fl
 CubeViewUI.h
 adjuster.cxx
 animated.cxx
 arc.cxx
 ask.cxx
 bitmap.cxx
 blocks.cxx
 boxtype.cxx
 browser.cxx
 button.cxx
 buttons.cxx
 cairo_test.cxx
 checkers.cxx
 clock.cxx
 colbrowser.cxx
 color_chooser.cxx
 connect.cxx
 cube.cxx
 cursor.cxx
 curve.cxx
 demo.cxx
 demo.menu
 device.cxx
 doublebuffer.cxx
 editor.cxx
 fast_slow.cxx
 fast_slow.fl
 fast_slow.h
 file_chooser.cxx
 fltk-versions.cxx
 fonts.cxx
 forms.cxx
 fractals.cxx
 fracviewer.cxx
 fracviewer.h
 fullscreen.cxx
 gl_overlay.cxx
 glpuzzle.cxx
 hello.cxx
 help.cxx
 icon.cxx
 iconize.cxx
 image.cxx
 inactive.cxx
 inactive.fl
 inactive.h
 input.cxx
 input_choice.cxx
 keyboard.cxx
 keyboard.h
 keyboard_ui.cxx
 keyboard_ui.fl
 keyboard_ui.h
 label.cxx
 line_style.cxx
 list_visuals.cxx
 mandelbrot.cxx
 mandelbrot.h
 mandelbrot_ui.cxx
 mandelbrot_ui.fl
 mandelbrot_ui.h
 menubar.cxx
 message.cxx
 minimum.cxx
 native-filechooser.cxx
 navigation.cxx
 offscreen.cxx
 output.cxx
 overlay.cxx
 pack.cxx
 pixmap.cxx
 pixmap_browser.cxx
 preferences.cxx
 preferences.fl
 preferences.h
 radio.cxx
 radio.fl
 radio.h
 resize.cxx
 resize.fl
 resize.h
 resizebox.cxx
 rotated_text.cxx
 scroll.cxx
 shape.cxx
 subwindow.cxx
 sudoku.cxx
 sudokurc.h
 symbols.cxx
 table.cxx
 tabs.cxx
 tabs.fl
 tabs.h
 threads.cxx
 threads.h
 tile.cxx
 tiled_image.cxx
 trackball.h
 tree.cxx
 tree.fl
 tree.h
 twowin.cxx
 unittest_about.cxx
 unittest_circles.cxx
 unittest_images.cxx
 unittest_lines.cxx
 unittest_points.cxx
 unittest_rects.cxx
 unittest_schemes.cxx
 unittest_scrollbarsize.cxx
 unittest_symbol.cxx
 unittest_text.cxx
 unittest_viewport.cxx
 unittests.cxx
 utf8.cxx
 valuators.cxx
 valuators.fl
 valuators.h
 windowfocus.cxx
share/examples/fltk/pixmaps/
 black_1.xbm
 black_2.xbm
 black_3.xbm
 black_4.xbm
 blackking_1.xbm
 blackking_2.xbm
 blackking_3.xbm
 blackking_4.xbm
 blast.xpm
 blue.xpm
 blue_bomb.xpm
 cyan.xpm
 cyan_bomb.xpm
 gray.xpm
 gray_bomb.xpm
 green.xpm
 green_bomb.xpm
 magenta.xpm
 magenta_bomb.xpm
 porsche.xpm
 porsche1.xpm
 red.xpm
 red_bomb.xpm
 srs.xbm
 sudoku.xbm
 tile.xpm
 white_1.xbm
 white_2.xbm
 white_3.xbm
 white_4.xbm
 whiteking_1.xbm
 whiteking_2.xbm
 whiteking_3.xbm
 whiteking_4.xbm
 yellow.xpm
 yellow_bomb.xpm


[FILE:1268:patches/patch-configure]
--- configure.orig	2021-11-20 18:12:26 UTC
+++ configure
@@ -3889,7 +3889,7 @@ if test x$enable_shared = xyes; then
 		    DSOLINK="-Wl,-rpath,$libdir"
 	    fi
 	    ;;
-	linux* | *bsd*)
+	linux* | *bsd* | dragonfly*)
 	    DSONAME="libfltk.so.$FL_DSO_VERSION"
 	    FLDSONAME="libfltk_forms.so.$FL_DSO_VERSION"
 	    GLDSONAME="libfltk_gl.so.$FL_DSO_VERSION"
@@ -8266,7 +8266,7 @@ esac
 
 
 case "$host_os" in
-    *bsd* | darwin*)
+    *bsd* | darwin* | dragonfly*)
 	# *BSD
 	CAT1EXT=0
 	CAT3EXT=0
@@ -8292,7 +8292,7 @@ esac
 
 if test "$mandir" = "\${prefix}/man" -a "$prefix" = "/usr"; then
     case "$host_os" in
-	*bsd* | darwin* | linux*)
+	*bsd* | darwin* | linux* | dragonfly*)
 	    # *BSD, Darwin, and Linux
 	    mandir="\${prefix}/share/man"
 	    ;;
@@ -8353,16 +8353,9 @@ if test -n "$GCC"; then
 	#       They all seem to make either no difference or enlarge
 	#       the code by a few hundred bytes.
 	#
-	#       "-Os" seems to be the best compromise between speed and
-	#       code size.  "-O3" and higher seem to make no effective
-	#       difference in the speed of the code, but does bloat the
-	#       library 10+%.
-	#
 
 	if test "x$with_optim" != x; then
 	    OPTIM="$with_optim $OPTIM"
-	else
-	    OPTIM="-Os $OPTIM"
 	fi
     fi
 


[FILE:1630:patches/patch-documentation_Makefile]
--- documentation/Makefile.orig	2021-11-20 18:10:34 UTC
+++ documentation/Makefile
@@ -75,7 +75,6 @@ depend:
 
 install: $(MANPAGES)
 	echo "Installing documentation files in $(DESTDIR)$(docdir) ..."
-	-$(INSTALL_DIR) $(DESTDIR)$(docdir)
 	if test -f html/index.html ; then \
 	  for file in html/* ; do \
 		$(INSTALL_DATA) $$file $(DESTDIR)$(docdir); \
@@ -86,11 +85,6 @@ install: $(MANPAGES)
 	  $(INSTALL_DATA) fltk.pdf $(DESTDIR)$(docdir); \
 	fi
 	echo "Installing man pages in $(DESTDIR)$(mandir) ..."
-	-$(INSTALL_DIR) $(DESTDIR)$(mandir)/cat1
-	$(INSTALL_MAN) $(SRC_DOCDIR)/fluid.$(CAT1EXT) $(DESTDIR)$(mandir)/cat1
-	$(INSTALL_MAN) $(SRC_DOCDIR)/fltk-config.$(CAT1EXT) $(DESTDIR)$(mandir)/cat1
-	-$(INSTALL_DIR) $(DESTDIR)$(mandir)/cat3
-	$(INSTALL_MAN) $(SRC_DOCDIR)/fltk.$(CAT3EXT) $(DESTDIR)$(mandir)/cat3
 	-$(INSTALL_DIR) $(DESTDIR)$(mandir)/man1
 	$(INSTALL_MAN) $(SRC_DOCDIR)/fluid.man $(DESTDIR)$(mandir)/man1/fluid.1
 	$(INSTALL_MAN) $(SRC_DOCDIR)/fltk-config.man $(DESTDIR)$(mandir)/man1/fltk-config.1
@@ -98,10 +92,6 @@ install: $(MANPAGES)
 	$(INSTALL_MAN) $(SRC_DOCDIR)/fltk.man $(DESTDIR)$(mandir)/man3/fltk.3
 
 install-linux install-osx:
-	-$(INSTALL_DIR) $(DESTDIR)$(mandir)/cat6
-	$(INSTALL_MAN) $(SRC_DOCDIR)/blocks.$(CAT6EXT) $(DESTDIR)$(mandir)/cat6
-	$(INSTALL_MAN) $(SRC_DOCDIR)/checkers.$(CAT6EXT) $(DESTDIR)$(mandir)/cat6
-	$(INSTALL_MAN) $(SRC_DOCDIR)/sudoku.$(CAT6EXT) $(DESTDIR)$(mandir)/cat6
 	-$(INSTALL_DIR) $(DESTDIR)$(mandir)/man6
 	$(INSTALL_MAN) $(SRC_DOCDIR)/blocks.man $(DESTDIR)$(mandir)/man6/blocks.6
 	$(INSTALL_MAN) $(SRC_DOCDIR)/checkers.man $(DESTDIR)$(mandir)/man6/checkers.6


[FILE:1463:patches/patch-src_Makefile]
--- src/Makefile.orig	2021-11-20 18:10:34 UTC
+++ src/Makefile
@@ -237,7 +237,7 @@ $(LIBNAME): $(OBJECTS)
 
 libfltk.so.$(FL_DSO_VERSION): $(OBJECTS)
 	echo $(DSOCOMMAND) $@ ...
-	$(DSOCOMMAND) $@ $(OBJECTS) $(LDLIBS)
+	$(DSOCOMMAND) $@ $(OBJECTS) $(LDFLAGS) $(LDLIBS)
 	$(RM) libfltk.so
 	$(LN) libfltk.so.$(FL_DSO_VERSION) libfltk.so
 
@@ -273,7 +273,7 @@ $(FLLIBNAME): $(FLOBJECTS)
 
 libfltk_forms.so.$(FL_DSO_VERSION): $(FLOBJECTS) libfltk.so.$(FL_DSO_VERSION)
 	echo $(DSOCOMMAND) $@ ...
-	$(DSOCOMMAND) $@ $(FLOBJECTS) -L. -lfltk $(LDLIBS)
+	$(DSOCOMMAND) $@ $(FLOBJECTS) -L. -lfltk $(LDFLAGS) $(LDLIBS)
 	$(RM) libfltk_forms.so
 	$(LN) libfltk_forms.so.$(FL_DSO_VERSION) libfltk_forms.so
 
@@ -309,7 +309,7 @@ $(GLLIBNAME): $(GLOBJECTS)
 
 libfltk_gl.so.$(FL_DSO_VERSION): $(GLOBJECTS) libfltk.so.$(FL_DSO_VERSION)
 	echo $(DSOCOMMAND) $@ ...
-	$(DSOCOMMAND) $@ $(GLOBJECTS) -L. -lfltk $(LDLIBS) $(GLDLIBS)
+	$(DSOCOMMAND) $@ $(GLOBJECTS) -L. -lfltk $(LDFLAGS) $(LDLIBS) $(GLDLIBS)
 	$(RM) libfltk_gl.so
 	$(LN) libfltk_gl.so.$(FL_DSO_VERSION) libfltk_gl.so
 
@@ -345,7 +345,7 @@ $(IMGLIBNAME): $(IMGOBJECTS)
 
 libfltk_images.so.$(FL_DSO_VERSION): $(IMGOBJECTS) libfltk.so.$(FL_DSO_VERSION)
 	echo $(DSOCOMMAND) $@ ...
-	$(DSOCOMMAND) $@ $(IMGOBJECTS) -L. $(IMAGELIBS) -lfltk $(LDLIBS)
+	$(DSOCOMMAND) $@ $(IMGOBJECTS) -L. $(IMAGELIBS) -lfltk $(LDFLAGS) $(LDLIBS)
 	$(RM) libfltk_images.so
 	$(LN) libfltk_images.so.$(FL_DSO_VERSION) libfltk_images.so
 

