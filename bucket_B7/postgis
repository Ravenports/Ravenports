# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		postgis
VERSION=		3.5.1
KEYWORDS=		databases geography
VARIANTS=		std
SDESC[std]=		Spatial and Geographic objects for PostgreSQL
HOMEPAGE=		http://www.postgis.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://download.osgeo.org/postgis/source/
DISTFILE[1]=		postgis-3.5.1.tar.gz:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			man

OPTIONS_AVAILABLE=	SFCGAL
OPTIONS_STANDARD=	SFCGAL
OPT_ON[all]=		SFCGAL

BUILD_DEPENDS=		geos:dev:std
			harfbuzz:dev:std
			proj:dev:std
			gdal:dev:std
			json-c:dev:std
BUILDRUN_DEPENDS=	gdal:primary:std
			geos:primary:std
			json-c:primary:std
			proj:primary:std
			protobuf-c:single:std

USES=			autoreconf:build gmake iconv libtool:build pkgconfig
			pcre perl:build shebangfix cpe pgsql:server,contrib
GNOME_COMPONENTS=	libxml2 gtk2

LICENSE=		GPLv2:primary
LICENSE_TERMS=		primary:{{WRKSRC}}/LICENSE.TXT
LICENSE_FILE=		GPLv2:{{WRKSRC}}/COPYING
LICENSE_SCHEME=		solo

CPE_PRODUCT=		postgis
CPE_TARGET_SW=		postgresql
CPE_VENDOR=		postgis
FPC_EQUIVALENT=		databases/postgis32
SHEBANG_GLOB=		*.pl

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		{{ICONV_CONFIGURE_BASE}}
			--with-topology
			--with-raster
			--with-address-standardizer
			--with-gui
			--with-json
			--with-protobuf

INSTALL_REQ_TOOLCHAIN=	yes
PLIST_SUB=		VERSION=3.5.1
			XDOTY=3.5
			X=3

[SFCGAL].DESCRIPTION=			Build with sfcgal support
[SFCGAL].BUILDRUN_DEPENDS_ON=		sfcgal:primary:std
[SFCGAL].BUILD_DEPENDS_ON=		sfcgal:dev:std
[SFCGAL].CONFIGURE_ARGS_ON=		--with-sfcgal={{LOCALBASE}}/bin/sfcgal-config

post-patch:
	${FIND} ${WRKSRC}/extras/tiger_geocoder ${WRKSRC}/utils \
		\( -name "*.orig" -o -name "*.bak" \) -delete

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/[rs]*
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/postgresql/*.so
	(cd ${WRKSRC}/extras/tiger_geocoder && \
		${COPYTREE_SHARE} . ${STAGEDIR}${PREFIX}/share/postgis/tiger_geocoder )
	(cd ${WRKSRC}/utils/ && \
		${COPYTREE_SHARE} . ${STAGEDIR}${PREFIX}/share/postgis/utils )
	# remove single readme that's not even in STD_DOCDIR
	${RM} -r ${STAGEDIR}${PREFIX}/share/doc/postgresql
	# automatic plist for share/postgresql/extension.  It changes every release
	${FIND} ${STAGEDIR}${PREFIX}/share/postgresql/extension ! -type d |\
		${SED} -e 's,^${STAGEDIR}${PREFIX}/,,' \
		>> ${WRKDIR}/.manifest.primary.mktmp

pre-configure:
	(cd ${WRKSRC} && ${SH} ./autogen.sh)

[FILE:751:descriptions/desc.primary]
PostGIS adds support for geographic objects to the PostgreSQL
object-relational database. In effect, PostGIS "spatially enables"
the PostgreSQL server, allowing it to be used as a backend spatial
database for geographic information systems (GIS), much like ESRI's
SDE or Oracle's Spatial extension. PostGIS follows the OpenGIS
"Simple Features Specification for SQL" and has been certified as
compliant with the "Types and Functions" profile.

PostGIS development was started by Refractions Research as a project
in open source spatial database technology. PostGIS is released
under the GNU General Public License. PostGIS continues to be
developed by a group of contributors led by a Project Steering
Committee and new features continue to be added.


[FILE:99:distinfo]
23706abc117fb1bab45a27a263b589f52fc08ebaff318c0bc0bdc940905306b5     15044755 postgis-3.5.1.tar.gz


[FILE:4108:manifests/plist.primary]
@comment share/postgresql/extension files automatically added
%%SFCGAL-ON%%lib/postgresql/postgis_sfcgal-%%X%%.so
%%SFCGAL-ON%%share/postgresql/contrib/postgis-%%XDOTY%%/
 sfcgal.sql
 sfcgal_upgrade.sql
 uninstall_sfcgal.sql
bin/
 pgsql2shp
 pgtopo_export
 pgtopo_import
 postgis
 postgis_restore
 raster2pgsql
 shp2pgsql
 shp2pgsql-gui
lib/postgresql/
 address_standardizer-%%X%%.so
 postgis-%%X%%.so
 postgis_raster-%%X%%.so
 postgis_topology-%%X%%.so
share/applications/shp2pgsql-gui.desktop
share/icons/hicolor/16x16/apps/shp2pgsql-gui.png
share/icons/hicolor/22x22/apps/shp2pgsql-gui.png
share/icons/hicolor/24x24/apps/shp2pgsql-gui.png
share/icons/hicolor/32x32/apps/shp2pgsql-gui.png
share/icons/hicolor/36x36/apps/shp2pgsql-gui.png
share/icons/hicolor/40x40/apps/shp2pgsql-gui.png
share/icons/hicolor/42x42/apps/shp2pgsql-gui.png
share/icons/hicolor/48x48/apps/shp2pgsql-gui.png
share/icons/hicolor/64x64/apps/shp2pgsql-gui.png
share/icons/hicolor/8x8/apps/shp2pgsql-gui.png
share/postgis/tiger_geocoder/
 COPYING
 README
 create_geocode.bat
 create_geocode.sh
 create_geocode.sql
 geocode_settings.sql
 tiger_loader_2011.sql
 tiger_loader_2012.sql
 tiger_loader_2013.sql
 tiger_loader_2014.sql
 tiger_loader_2015.sql
 tiger_loader_2016.sql
 tiger_loader_2017.sql
 tiger_loader_2018.sql
 tiger_loader_2019.sql
 tiger_loader_2020.sql
 tiger_loader_2021.sql
 tiger_loader_2022.sql
 tiger_loader_2023.sql
 tiger_loader_2024.sql
 upgrade_geocode.sql
 upgrade_geocoder.bat
 upgrade_geocoder.sh
share/postgis/tiger_geocoder/geocode/
 census_tracts_functions.sql
 geocode.sql
 geocode_address.sql
 geocode_intersection.sql
 geocode_location.sql
 includes_address.sql
 interpolate_from_address.sql
 other_helper_functions.sql
 rate_attributes.sql
 reverse_geocode.sql
share/postgis/tiger_geocoder/legacy_import/tiger2008/import_tiger_shps.sh
share/postgis/tiger_geocoder/normalize/
 count_words.sql
 end_soundex.sql
 get_last_words.sql
 location_extract.sql
 location_extract_countysub_exact.sql
 location_extract_countysub_fuzzy.sql
 location_extract_place_exact.sql
 location_extract_place_fuzzy.sql
 normalize_address.sql
 pprint_addy.sql
 state_extract.sql
share/postgis/tiger_geocoder/pagc_normalize/
 pagc_normalize_address.sql
 pagc_tables.sql
share/postgis/tiger_geocoder/regress/
 geocode_regress
 geocode_regress.sql
 normalize_address_desired_regress
 normalize_address_regress
 normalize_address_regress.sql
 pagc_normalize_address_desired_regress
 pagc_normalize_address_regress
 pagc_normalize_address_regress.sql
 regress.sql
 reverse_geocode_regress
 reverse_geocode_regress.sql
share/postgis/tiger_geocoder/tables/lookup_tables_2011.sql
share/postgis/tiger_geocoder/topology/
 README
 tiger_topology_loader.sql
share/postgis/tiger_geocoder/utility/
 cull_null.sql
 levenshtein_ignore_case.sql
 nullable_levenshtein.sql
 set_search_path.sql
 standardize_tiger_data.sql
 utmzone.sql
share/postgis/utils/
 Makefile
 Makefile.in
 README
 check_all_upgrades.sh
 check_cluster_upgrade.sh
 check_distclean.sh
 check_extension_downgrades.sql
 check_lang_enabled.sh
 check_localized_cheatsheets.sh
 check_news.sh
 check_tests_enabled.sh
 create_extension_unpackage.pl
 create_or_replace_to_create.pl
 create_skip_signatures.pl
 create_spatial_ref_sys_config_dump.pl
 create_uninstall.pl
 create_unpackaged.pl
 create_upgrade.pl
 extract_majmin_version.sh
 fix_xml_entities.sh
 postgis_restore.pl
 postgis_restore.pl.in
 postgis_restore_data.generated
 postgis_restore_data.hardcoded
 profile_intersects.pl
 read_scripts_version.pl
 repo_revision.pl
 test_estimation.pl
 test_geography_estimation.pl
 test_geography_joinestimation.pl
 test_joinestimation.pl
 uninstall_script
share/postgresql/contrib/postgis-%%XDOTY%%/
 legacy.sql
 legacy_gist.sql
 legacy_minimal.sql
 postgis.sql
 postgis_comments.sql
 postgis_upgrade.sql
 raster_comments.sql
 rtpostgis.sql
 rtpostgis_legacy.sql
 rtpostgis_upgrade.sql
 sfcgal_comments.sql
 spatial_ref_sys.sql
 topology.sql
 topology_comments.sql
 topology_upgrade.sql
 uninstall_legacy.sql
 uninstall_postgis.sql
 uninstall_rtpostgis.sql
 uninstall_topology.sql


[FILE:106:manifests/plist.man]
share/man/man1/
 pgsql2shp.1
 pgtopo_export.1
 pgtopo_import.1
 postgis.1
 postgis_restore.1
 shp2pgsql.1

