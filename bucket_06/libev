# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		libev
VERSION=		4.24
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	High-performance event loop/event model
HOMEPAGE=		http://software.schmorp.de/pkg/libev.html
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		http://dist.schmorp.de/libev/Attic/
DISTFILE[1]=		libev-4.24.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

USES=			libtool pkgconfig

FPC_EQUIVALENT=		devel/libev

MUST_CONFIGURE=		gnu

INSTALL_TARGET=		install-strip

post-patch:
	@${SED} -e 's|%PREFIX%|${PREFIX}|g ; s|%VERSION%|4.24|g' \
		${FILESDIR}/libev.pc.in > ${WRKDIR}/libev.pc

post-install:
	${INSTALL_DATA} ${WRKDIR}/libev.pc ${STAGEDIR}${PREFIX}/lib/pkgconfig/

[FILE:769:descriptions/desc.single]
A full-featured and high-performance event loop that is loosely modelled
after libevent, but without its limitations and bugs. It is used in GNU
Virtual Private Ethernet, rxvt-unicode, auditd, the Deliantra MORPG Server
and Client, and many other programs.

Features include child/pid watchers, periodic timers based on wallclock
(absolute) time (in addition to timers using relative timeouts), as well
as epoll/kqueue/event ports/inotify/eventfd/signalfd support, fast timer
management, time jump detection and correction, and ease-of-use.

It can be used as a libevent replacement using its emulation API or
directly embedded into your programs without the need for complex
configuration support. A full-featured and well-documented perl interface
is also available.


[FILE:96:distinfo]
973593d3479abdf657674a55afe5f78624b0e440614e2b8cb3a07f16d4d7f821       524264 libev-4.24.tar.gz


[FILE:121:manifests/plist.single]
lib/
 libev.a
 libev.so
 libev.so.4
 libev.so.4.0.0
lib/pkgconfig/libev.pc
include/
 ev.h
 ev++.h
share/man/man3/ev.3.gz


[FILE:366:patches/patch-Makefile.in]
--- Makefile.in.orig	2016-12-28 04:22:55 UTC
+++ Makefile.in
@@ -354,7 +354,7 @@ EXTRA_DIST = LICENSE Changes libev.m4 au
 	     ev.3 ev.pod Symbols.ev Symbols.event
 
 man_MANS = ev.3
-include_HEADERS = ev.h ev++.h event.h
+include_HEADERS = ev.h ev++.h
 lib_LTLIBRARIES = libev.la
 libev_la_SOURCES = ev.c event.c
 libev_la_LDFLAGS = -version-info $(VERSION_INFO)


[FILE:338:patches/patch-configure]
--- configure.orig	2016-12-28 04:22:55 UTC
+++ configure
@@ -3891,14 +3891,6 @@ else
 fi
 
 
-
-if test -z "$orig_CFLAGS"; then
-  if test x$GCC = xyes; then
-    CFLAGS="-g -O3"
-  fi
-fi
-
-
 case `pwd` in
   *\ * | *\	*)
     { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Libtool does not cope well with whitespace in \`pwd\`" >&5


[FILE:430:patches/patch-ev.c]
--- ev.c.orig	2016-12-28 04:23:00 UTC
+++ ev.c
@@ -2753,7 +2753,7 @@ ev_recommended_backends (void) EV_THROW
 {
   unsigned int flags = ev_supported_backends ();
 
-#ifndef __NetBSD__
+#if ! (defined __NetBSD__ || defined __FreeBSD__ || defined __DragonFly__)
   /* kqueue is borked on everything but netbsd apparently */
   /* it usually doesn't work correctly on anything but sockets and pipes */
   flags &= ~EVBACKEND_KQUEUE;


[FILE:199:files/libev.pc.in]
prefix=%PREFIX%
libdir=${prefix}/lib
includedir=${prefix}/include

Name: libev
Description: High-performance event loop/event model
Version: %VERSION%
Libs: -L${libdir} -lev
Cflags: -I${includedir}


