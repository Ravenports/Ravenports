# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gamin
VERSION=		0.1.10
KEYWORDS=		devel
VARIANTS=		standard
SDESC[standard]=	Monitor files and directories for changes
HOMEPAGE=		http://www.gnome.org/~veillard/gamin/index.html
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		http://people.gnome.org/~veillard/gamin/sources/
DISTFILE[1]=		gamin-0.1.10.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	single

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BROKEN[dragonfly]=	Most likely needs patches to run (untested)

USES=			gettext-runtime gmake libtool pkgconfig
GNOME_COMPONENTS=	glib

FPC_EQUIVALENT=		devel/gamin

MUST_CONFIGURE=		gnu

CPPFLAGS=		-DHAVE_LINUX

[FILE:284:descriptions/desc.single]
Gamin is a file and directory monitoring system defined to be a subset of 
the FAM (File Alteration Monitor) system. This is a service provided by a 
library which allows to detect when a file or a directory has been 
modified.

It uses kqueue/kevent on FreeBSD and inotify on Linux.


[FILE:98:distinfo]
28085f0ae8be10eab582ff186af4fb0be92cc6c62b5cc19cd09b295c7c2899a1       653392 gamin-0.1.10.tar.gz


[FILE:104:manifests/plist.single]
include/fam.h
lib/
 libgamin-1.a
 libgamin_shared.a
lib/pkgconfig/gamin.pc
 libfam.a
libexec/gam_server


[FILE:572:freebsd/patch-server_gam__node.c]
--- server/gam_node.c.orig      2007-07-04 15:36:49.000000000 +0200
+++ server/gam_node.c   2011-09-17 11:19:10.000000000 +0200
@@ -23,6 +23,7 @@
 #include "gam_event.h"
 #include "gam_node.h"
 #include "gam_error.h"
+#include "gam_server.h"
 
 /**
  * Create a new node
@@ -122,7 +123,7 @@ gam_node_set_is_dir(GamNode * node, gboo
  * it has finished with the string.  If it must keep it longer, it
  * should makes its own copy.  The returned string must not be freed.
  */
-G_CONST_RETURN char *
+const char *
 gam_node_get_path(GamNode * node)
 {
     g_assert(node);


[FILE:533:freebsd/patch-server_gam__node.h]
--- server/gam_node.h.orig      2011-09-17 11:19:43.000000000 +0200
+++ server/gam_node.h   2011-09-17 11:20:13.000000000 +0200
@@ -58,7 +58,7 @@ gboolean              gam_node_is_dir
 void                  gam_node_set_is_dir          (GamNode         *node,
 						   gboolean        is_dir);
 	
-G_CONST_RETURN char  *gam_node_get_path            (GamNode         *node);
+const char           *gam_node_get_path            (GamNode         *node);
 
 GList                *gam_node_get_subscriptions   (GamNode         *node);
 


[FILE:421:freebsd/patch-server_gam__subscription.c]
--- server/gam_subscription.c.orig      2011-09-17 11:17:22.000000000 +0200
+++ server/gam_subscription.c   2011-09-17 11:17:44.000000000 +0200
@@ -141,7 +141,7 @@ gam_subscription_pathlen(GamSubscription
  * @param sub the GamSubscription
  * @returns The path being monitored.  It should not be freed.
  */
-G_CONST_RETURN char *
+const char *
 gam_subscription_get_path(GamSubscription * sub)
 {
     if (sub == NULL)


[FILE:513:freebsd/patch-server_gam__subscription.h]
--- server/gam_subscription.h.orig      2011-09-17 11:15:00.000000000 +0200
+++ server/gam_subscription.h   2011-09-17 11:15:18.000000000 +0200
@@ -21,7 +21,7 @@ int                  gam_subscription_pa
 
 int                  gam_subscription_get_reqno    (GamSubscription *sub);
 
-G_CONST_RETURN char *gam_subscription_get_path     (GamSubscription *sub);
+const char          *gam_subscription_get_path     (GamSubscription *sub);
 
 GamListener         *gam_subscription_get_listener (GamSubscription *sub);

