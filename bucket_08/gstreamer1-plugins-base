# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		gstreamer1-plugins-base
VERSION=		1.26.0
KEYWORDS=		multimedia
VARIANTS=		std
SDESC[std]=		GStreamer Multimedia Framework Base Plugins
HOMEPAGE=		https://gstreamer.freedesktop.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main glhead
SITES[main]=		https://gstreamer.freedesktop.org/src/gst-plugins-base/
SITES[glhead]=		https://gitlab.freedesktop.org/gstreamer/meson-ports/gl-headers/-/archive/5c8c7c0d3ca1f0b783272dac0b95e09414e49bc8/
DISTFILE[1]=		gst-plugins-base-1.26.0.tar.xz:main
DISTFILE[2]=		gl-headers-5c8c7c0d3ca1f0b783272dac0b95e09414e49bc8.tar.gz:glhead
DF_INDEX=		1 2
SPKGS[std]=		set
			primary
			plugin_gl
			nls
			dev
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		git:primary:std
			gstreamer1:dev:std
			orc:dev:std
			orc:tools:std
			libglvnd:dev:std
			harfbuzz:dev:std
			libdrm:dev:std
			evdev-proto:single:std
			graphene:set:std
			xorg-x11:set:std
			xorg-xcb:set:std
			xorg-xext:set:std
BUILDRUN_DEPENDS=	gstreamer1:primary:std
			libdrm:primary:std
			iso-codes:primary:std
			orc:primary:std
EXRUN[plugin_gl]=	primary
			graphene:primary:std
			xorg-x11:primary:std
			xorg-xcb:primary:std
			xorg-xext:primary:std
			libglvnd:primary:std
EXRUN[dev]=		orc:dev:std
			libdrm:dev:std

USES=			gmake pkgconfig meson freetype
GNOME_COMPONENTS=	glib

DISTNAME=		gst-plugins-base-1.26.0

LICENSE=		LGPL20+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL20+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/gst-libs/gst/video/gstvideosink.h
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		multimedia/gstreamer1-plugins
MESON_ARGS=		-Dalsa=disabled
			-Dcdparanoia=disabled
			-Dlibvisual=disabled
			-Dogg=disabled
			-Dopus=disabled
			-Dpango=disabled
			-Dtheora=disabled
			-Dtremor=disabled
			-Dvorbis=disabled
			-Dx11=disabled
			-Dxshm=disabled
			-Dxvideo=disabled
			-Ddsd=disabled
			-Ddoc=disabled
			-Dnls=enabled
			-Dgl=enabled
			-Dgl_winsys=x11,egl
			-Dgl_api=opengl,gles2
			-Dgl_platform=glx,egl
			-Dintrospection=disabled

SOVERSION=		0.2600.0
PLIST_SUB=		GSTVER=1.0

VAR_OPSYS[sunos]=	CFLAGS=-DHAVE_FIONREAD_IN_SYS_FILIO=1
			LDFLAGS=-lintl
			LDFLAGS=-lsocket

post-install:
	# x11=disabled seems to be ignored, remove duplicate plugin
	${RM} ${STAGEDIR}${PREFIX}/lib/gstreamer-1.0/libgstximagesink.so
	# relocate gstglconfig.h
	${MV} ${STAGEDIR}${PREFIX}/lib/gstreamer-1.0/include/gst/gl/gstglconfig.h\
		${STAGEDIR}${PREFIX}/include/gstreamer-1.0/gst/gl/gstglconfig.h
	${RM} -r ${STAGEDIR}${PREFIX}/lib/gstreamer-1.0/include

post-extract:
	# install gl-headers
	${RM} ${WRKSRC}/subprojects/gl-headers.wrap
	${LN} -s ${WRKDIR}/gl-headers-5c8c7c0d3ca1f0b783272dac0b95e09414e49bc8 ${WRKSRC}/subprojects/gl-headers

[FILE:91:descriptions/desc.primary]
This package contains self-contained plugins from the "base" plugin set
for GStreamer (1).


[FILE:57:descriptions/desc.plugin_gl]
This package contains the GStreamer1 GL graphics plugin.


[FILE:246:distinfo]
e23189fbed2ec486690382d1055c19eeaf5aae3e95e2576fc4c884d96a90e69e      2461680 gst-plugins-base-1.26.0.tar.xz
fc5a08f862f9c80641b57a0e67e8b7cfc2b4f5a18bb106e55fd1e6c30a542d50       121860 gl-headers-5c8c7c0d3ca1f0b783272dac0b95e09414e49bc8.tar.gz


[FILE:1474:manifests/plist.primary]
bin/
 gst-device-monitor-%%GSTVER%%
 gst-discoverer-%%GSTVER%%
 gst-play-%%GSTVER%%
lib/
 libgstallocators-%%GSTVER%%.so.%%SOMAJOR%%
 libgstallocators-%%GSTVER%%.so.%%SOVERSION%%
 libgstapp-%%GSTVER%%.so.%%SOMAJOR%%
 libgstapp-%%GSTVER%%.so.%%SOVERSION%%
 libgstaudio-%%GSTVER%%.so.%%SOMAJOR%%
 libgstaudio-%%GSTVER%%.so.%%SOVERSION%%
 libgstfft-%%GSTVER%%.so.%%SOMAJOR%%
 libgstfft-%%GSTVER%%.so.%%SOVERSION%%
 libgstpbutils-%%GSTVER%%.so.%%SOMAJOR%%
 libgstpbutils-%%GSTVER%%.so.%%SOVERSION%%
 libgstriff-%%GSTVER%%.so.%%SOMAJOR%%
 libgstriff-%%GSTVER%%.so.%%SOVERSION%%
 libgstrtp-%%GSTVER%%.so.%%SOMAJOR%%
 libgstrtp-%%GSTVER%%.so.%%SOVERSION%%
 libgstrtsp-%%GSTVER%%.so.%%SOMAJOR%%
 libgstrtsp-%%GSTVER%%.so.%%SOVERSION%%
 libgstsdp-%%GSTVER%%.so.%%SOMAJOR%%
 libgstsdp-%%GSTVER%%.so.%%SOVERSION%%
 libgsttag-%%GSTVER%%.so.%%SOMAJOR%%
 libgsttag-%%GSTVER%%.so.%%SOVERSION%%
 libgstvideo-%%GSTVER%%.so.%%SOMAJOR%%
 libgstvideo-%%GSTVER%%.so.%%SOVERSION%%
lib/gstreamer-%%GSTVER%%/
 libgstadder.so
 libgstapp.so
 libgstaudioconvert.so
 libgstaudiomixer.so
 libgstaudiorate.so
 libgstaudioresample.so
 libgstaudiotestsrc.so
 libgstcompositor.so
 libgstencoding.so
 libgstgio.so
 libgstoverlaycomposition.so
 libgstpbtypes.so
 libgstplayback.so
 libgstrawparse.so
 libgstsubparse.so
 libgsttcp.so
 libgsttypefindfunctions.so
 libgstvideoconvertscale.so
 libgstvideorate.so
 libgstvideotestsrc.so
 libgstvolume.so
share/gst-plugins-base/%%GSTVER%%/license-translations.dict


[FILE:166:manifests/plist.plugin_gl]
lib/
 libgstgl-%%GSTVER%%.so
 libgstgl-%%GSTVER%%.so.%%SOMAJOR%%
 libgstgl-%%GSTVER%%.so.%%SOVERSION%%
lib/gstreamer-%%GSTVER%%/
 libgstbasedebug.so
 libgstopengl.so


[FILE:2370:manifests/plist.nls]
share/locale/af/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/az/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/bg/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/ca/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/cs/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/da/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/de/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/el/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/en_GB/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/eo/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/es/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/eu/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/fi/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/fr/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/fur/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/gl/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/hr/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/hu/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/id/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/it/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/ja/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/ka/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/lt/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/lv/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/nb/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/nl/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/or/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/pl/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/pt_BR/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/ro/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/ru/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/sk/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/sl/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/sq/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/sr/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/sv/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/tr/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/uk/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/vi/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo
share/locale/zh_CN/LC_MESSAGES/gst-plugins-base-%%GSTVER%%.mo


[FILE:4650:manifests/plist.dev]
include/GL/wglext.h
include/gstreamer-%%GSTVER%%/gst/allocators/
 allocators-prelude.h
 allocators.h
 gstdmabuf.h
 gstdrmdumb.h
 gstfdmemory.h
 gstphysmemory.h
 gstshmallocator.h
include/gstreamer-%%GSTVER%%/gst/app/
 app-enumtypes.h
 app-prelude.h
 app.h
 gstappsink.h
 gstappsrc.h
include/gstreamer-%%GSTVER%%/gst/audio/
 audio-buffer.h
 audio-channel-mixer.h
 audio-channels.h
 audio-converter.h
 audio-enumtypes.h
 audio-format.h
 audio-info.h
 audio-prelude.h
 audio-quantize.h
 audio-resampler.h
 audio.h
 gstaudioaggregator.h
 gstaudiobasesink.h
 gstaudiobasesrc.h
 gstaudiocdsrc.h
 gstaudioclock.h
 gstaudiodecoder.h
 gstaudioencoder.h
 gstaudiofilter.h
 gstaudioiec61937.h
 gstaudiometa.h
 gstaudioringbuffer.h
 gstaudiosink.h
 gstaudiosrc.h
 gstaudiostreamalign.h
 gstdsd.h
 gstdsdformat.h
 streamvolume.h
include/gstreamer-%%GSTVER%%/gst/fft/
 fft-prelude.h
 fft.h
 gstfft.h
 gstfftf32.h
 gstfftf64.h
 gstffts16.h
 gstffts32.h
include/gstreamer-%%GSTVER%%/gst/gl/
 gl-enumtypes.h
 gl-prelude.h
 gl.h
 gstgl_enums.h
 gstgl_fwd.h
 gstglapi.h
 gstglbasefilter.h
 gstglbasememory.h
 gstglbasemixer.h
 gstglbasesrc.h
 gstglbuffer.h
 gstglbufferpool.h
 gstglcolorconvert.h
 gstglconfig.h
 gstglcontext.h
 gstglcontextconfig.h
 gstgldebug.h
 gstgldisplay.h
 gstglfeature.h
 gstglfilter.h
 gstglformat.h
 gstglframebuffer.h
 gstglfuncs.h
 gstglmemory.h
 gstglmemorypbo.h
 gstglmixer.h
 gstgloverlaycompositor.h
 gstglquery.h
 gstglrenderbuffer.h
 gstglshader.h
 gstglshaderstrings.h
 gstglsl.h
 gstglslstage.h
 gstglsyncmeta.h
 gstglupload.h
 gstglutils.h
 gstglviewconvert.h
 gstglwindow.h
include/gstreamer-%%GSTVER%%/gst/gl/egl/
 egl.h
 gstegl.h
 gsteglimage.h
 gstgldisplay_egl.h
 gstgldisplay_egl_device.h
 gstglmemoryegl.h
include/gstreamer-%%GSTVER%%/gst/gl/glprototypes/
 all_functions.h
 base.h
 blending.h
 buffer_storage.h
 buffers.h
 debug.h
 eglimage.h
 fbo.h
 fixedfunction.h
 gles.h
 gstgl_compat.h
 gstgl_gles2compat.h
 invalidate_subdata.h
 opengl.h
 query.h
 shaders.h
 sync.h
 vao.h
include/gstreamer-%%GSTVER%%/gst/gl/x11/
 gstgldisplay_x11.h
 x11.h
include/gstreamer-%%GSTVER%%/gst/pbutils/
 codec-utils.h
 descriptions.h
 encoding-profile.h
 encoding-target.h
 gstaudiovisualizer.h
 gstdiscoverer.h
 gstpluginsbaseversion.h
 install-plugins.h
 missing-plugins.h
 pbutils-enumtypes.h
 pbutils-prelude.h
 pbutils.h
include/gstreamer-%%GSTVER%%/gst/riff/
 riff-ids.h
 riff-media.h
 riff-prelude.h
 riff-read.h
 riff.h
include/gstreamer-%%GSTVER%%/gst/rtp/
 gstrtcpbuffer.h
 gstrtp-enumtypes.h
 gstrtpbaseaudiopayload.h
 gstrtpbasedepayload.h
 gstrtpbasepayload.h
 gstrtpbuffer.h
 gstrtpdefs.h
 gstrtphdrext.h
 gstrtpmeta.h
 gstrtppayloads.h
 rtp-prelude.h
 rtp.h
include/gstreamer-%%GSTVER%%/gst/rtsp/
 gstrtsp-enumtypes.h
 gstrtsp.h
 gstrtspconnection.h
 gstrtspdefs.h
 gstrtspextension.h
 gstrtspmessage.h
 gstrtsprange.h
 gstrtsptransport.h
 gstrtspurl.h
 rtsp-prelude.h
 rtsp.h
include/gstreamer-%%GSTVER%%/gst/sdp/
 gstmikey.h
 gstsdp.h
 gstsdpmessage.h
 sdp-prelude.h
 sdp.h
include/gstreamer-%%GSTVER%%/gst/tag/
 gsttagdemux.h
 gsttagmux.h
 tag-enumtypes.h
 tag-prelude.h
 tag.h
 xmpwriter.h
include/gstreamer-%%GSTVER%%/gst/video/
 colorbalance.h
 colorbalancechannel.h
 gstvideoaffinetransformationmeta.h
 gstvideoaggregator.h
 gstvideocodecalphameta.h
 gstvideodecoder.h
 gstvideoencoder.h
 gstvideofilter.h
 gstvideometa.h
 gstvideopool.h
 gstvideosink.h
 gstvideotimecode.h
 gstvideoutils.h
 navigation.h
 video-anc.h
 video-blend.h
 video-chroma.h
 video-color.h
 video-converter.h
 video-dither.h
 video-enumtypes.h
 video-event.h
 video-format.h
 video-frame.h
 video-hdr.h
 video-info-dma.h
 video-info.h
 video-multiview.h
 video-overlay-composition.h
 video-prelude.h
 video-resampler.h
 video-scaler.h
 video-sei.h
 video-tile.h
 video.h
 videodirection.h
 videoorientation.h
 videooverlay.h
lib/
 libgstallocators-%%GSTVER%%.so
 libgstapp-%%GSTVER%%.so
 libgstaudio-%%GSTVER%%.so
 libgstfft-%%GSTVER%%.so
 libgstpbutils-%%GSTVER%%.so
 libgstriff-%%GSTVER%%.so
 libgstrtp-%%GSTVER%%.so
 libgstrtsp-%%GSTVER%%.so
 libgstsdp-%%GSTVER%%.so
 libgsttag-%%GSTVER%%.so
 libgstvideo-%%GSTVER%%.so
lib/pkgconfig/
 gstreamer-allocators-%%GSTVER%%.pc
 gstreamer-app-%%GSTVER%%.pc
 gstreamer-audio-%%GSTVER%%.pc
 gstreamer-fft-%%GSTVER%%.pc
 gstreamer-gl-%%GSTVER%%.pc
 gstreamer-gl-egl-%%GSTVER%%.pc
 gstreamer-gl-prototypes-%%GSTVER%%.pc
 gstreamer-gl-x11-%%GSTVER%%.pc
 gstreamer-pbutils-%%GSTVER%%.pc
 gstreamer-plugins-base-%%GSTVER%%.pc
 gstreamer-riff-%%GSTVER%%.pc
 gstreamer-rtp-%%GSTVER%%.pc
 gstreamer-rtsp-%%GSTVER%%.pc
 gstreamer-sdp-%%GSTVER%%.pc
 gstreamer-tag-%%GSTVER%%.pc
 gstreamer-video-%%GSTVER%%.pc


[FILE:101:manifests/plist.man]
share/man/man1/
 gst-device-monitor-%%GSTVER%%.1
 gst-discoverer-%%GSTVER%%.1
 gst-play-%%GSTVER%%.1


[FILE:345:patches/patch-gst-libs_gst_gl_meson.build]
--- gst-libs/gst/gl/meson.build.orig	2024-03-21 20:47:53 UTC
+++ gst-libs/gst/gl/meson.build
@@ -692,6 +692,7 @@ endif
 
 xcb_dep = unneeded_dep
 if need_win_x11 != 'no'
+  x11_dep = dependency('x11', required : false)
   xcb_dep = dependency('x11-xcb', required : false)
   if x11_dep.found() and xcb_dep.found()
     gl_x11_sources += files([


[FILE:253:patches/patch-gst_tcp_gstmultifdsink.c]
--- gst/tcp/gstmultifdsink.c.orig	2024-03-21 20:47:53 UTC
+++ gst/tcp/gstmultifdsink.c
@@ -107,6 +107,9 @@
 #include <glib/gi18n-lib.h>
 
 #include <sys/ioctl.h>
+#ifdef __sun
+#include <sys/filio.h>
+#endif
 
 #ifdef HAVE_UNISTD_H
 #include <unistd.h>

