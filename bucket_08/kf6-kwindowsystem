# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		kf6-kwindowsystem
VERSION=		6.7.0
KEYWORDS=		x11
VARIANTS=		std
SDESC[std]=		KF6 library for accessing the windowing system
HOMEPAGE=		https://api.kde.org/frameworks/kwindowsystem/html/index.html
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		https://download.kde.org/stable/frameworks/6.7/
DISTFILE[1]=		kwindowsystem-6.7.0.tar.xz:main
DIST_SUBDIR=		kde6
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			nls

OPTIONS_AVAILABLE=	EPOLLSHIM
OPTIONS_STANDARD=	EPOLLSHIM
OPT_ON[freebsd]=	EPOLLSHIM

BUILD_DEPENDS=		kf6-extra-cmake-modules:primary:std
			libffi:dev:std
			plasma-wayland-protocols:set:std
			qt6-qtbase:dev:std
			qt6-qtdeclarative:dev:std
			qt6-qttools:dev:std
			qt6-qtwayland:dev:std
			wayland:dev:std
			wayland:tools:std
			wayland-protocols:single:std
BUILDRUN_DEPENDS=	libffi:primary:std
			qt6-qtbase:primary:std
			qt6-qtdeclarative:primary:std
			qt6-qttools:primary:std
			qt6-qtwayland:primary:std
			wayland:primary:std

USES=			cmake
XORG_COMPONENTS=	x11 xcb xcb-util-keysyms xcb-util-wm xfixes

DISTNAME=		kwindowsystem-6.7.0

LICENSE=		LGPL21:primary LGPL21+:primary LGPL3:primary
			MIT:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		LGPL21:{{WRKSRC}}/LICENSES/LGPL-2.1-only.txt
			LGPL21+:{{WRKSRC}}/LICENSES/LGPL-2.1-or-later.txt
			LGPL3:{{WRKSRC}}/LICENSES/LGPL-3.0-only.txt
			MIT:{{WRKSRC}}/LICENSES/MIT.txt
LICENSE_SCHEME=		multi

FPC_EQUIVALENT=		x11/kf6-kwindowsystem

SOVERSION=		6.7.0

CMAKE_ARGS=		-DCMAKE_PREFIX_PATH:PATH={{PREFIX}}/lib/qt6/cmake

[EPOLLSHIM].DESCRIPTION=		Platform depends on libepoll-shim
[EPOLLSHIM].BUILDRUN_DEPENDS_ON=	libepoll-shim:primary:std
[EPOLLSHIM].BUILD_DEPENDS_ON=		libepoll-shim:dev:std

post-stage:
	(cd ${STAGEDIR}${PREFIX}/lib && ${STRIP_CMD} libKF6WindowSystem.so \
		qt6/plugins/kf6/kwindowsystem/KF6WindowSystemX11Plugin.so \
		qt6/plugins/kf6/kwindowsystem/KF6WindowSystemKWaylandPlugin.so \
		qt6/qml/org/kde/kwindowsystem/libKWindowSystem.so)

post-extract:
	${ECHO} "Terms extracted from 'src/kwindowinfo.cpp':" > ${WRKDIR}/TERMS
	${SED} -n '/include/!p;//q' ${WRKSRC}/src/kwindowinfo.cpp >> ${WRKDIR}/TERMS
	${ECHO} "Terms extracted from 'src/kkeyserver.h':" >> ${WRKDIR}/TERMS
	${SED} -n '/ifndef/!p;//q' ${WRKSRC}/src/kkeyserver.h >> ${WRKDIR}/TERMS
	${ECHO} "Terms extracted from 'src/platforms/xcb/netwm_p.h':" >> ${WRKDIR}/TERMS
	${SED} -n '/ifndef/!p;//q' ${WRKSRC}/src/platforms/xcb/netwm_p.h >> \
		${WRKDIR}/TERMS

[FILE:211:descriptions/desc.primary]
KWindowSystem provides information about the windowing system and allows 
interaction with it. A high-level API which is windowing system 
independent and has platform-specific implementations is also provided.


[FILE:110:distinfo]
62c0f0b4a9507939d84aeeda55bbd4300b88c04e37953e5189b139003310a8f4      2385728 kde6/kwindowsystem-6.7.0.tar.xz


[FILE:372:manifests/plist.primary]
lib/
 libKF6WindowSystem.so.%%SOMAJOR%%
 libKF6WindowSystem.so.%%SOVERSION%%
lib/qt6/plugins/kf6/kwindowsystem/
 KF6WindowSystemKWaylandPlugin.so
 KF6WindowSystemX11Plugin.so
lib/qt6/qml/org/kde/kwindowsystem/
 KWindowSystem.qmltypes
 kde-qmlmodule.version
 libKWindowSystem.so
 qmldir
share/qlogging-categories6/
 kwindowsystem.categories
 kwindowsystem.renamecategories


[FILE:883:manifests/plist.dev]
include/KF6/KWindowSystem/
 KKeyServer
 KSelectionOwner
 KSelectionWatcher
 KStartupInfo
 KUserTimestamp
 KWaylandExtras
 KWindowEffects
 KWindowInfo
 KWindowShadow
 KWindowShadowTile
 KWindowSystem
 KX11Extras
 KXMessages
 NETWM
 config-kwindowsystem.h
 fixx11h.h
 kkeyserver.h
 kselectionowner.h
 kselectionwatcher.h
 kstartupinfo.h
 kusertimestamp.h
 kwaylandextras.h
 kwindoweffects.h
 kwindowinfo.h
 kwindowshadow.h
 kwindowsystem.h
 kwindowsystem_export.h
 kwindowsystem_version.h
 kx11extras.h
 kxmessages.h
 netwm.h
 netwm_def.h
include/KF6/KWindowSystem/private/
 kwindoweffects_p.h
 kwindowshadow_p.h
 kwindowsystem_p.h
 kwindowsystemplugininterface_p.h
lib/libKF6WindowSystem.so
lib/cmake/KF6WindowSystem/
 KF6WindowSystemConfig.cmake
 KF6WindowSystemConfigVersion.cmake
 KF6WindowSystemTargets-release.cmake
 KF6WindowSystemTargets.cmake
lib/pkgconfig/KF6WindowSystem.pc


[FILE:5078:manifests/plist.nls]
share/locale/af/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ar/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/as/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ast/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/az/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/be/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/be@latin/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/bg/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/bn/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/bn_IN/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/br/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/bs/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ca/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ca@valencia/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/crh/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/cs/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/csb/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/cy/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/da/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/de/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/el/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/en_GB/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/eo/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/es/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/et/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/eu/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/fa/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/fi/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/fr/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/fy/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ga/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/gd/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/gl/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/gu/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ha/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/he/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/hi/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/hne/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/hr/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/hsb/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/hu/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/hy/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ia/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/id/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/is/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/it/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ja/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ka/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/kk/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/km/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/kn/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ko/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ku/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/lb/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/lt/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/lv/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/mai/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/mk/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ml/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/mr/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ms/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/nb/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/nds/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ne/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/nl/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/nn/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/oc/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/or/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/pa/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/pl/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ps/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/pt/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/pt_BR/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ro/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ru/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/sa/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/se/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/si/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/sk/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/sl/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/sq/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/sr/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/sr@ijekavian/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/sr@ijekavianlatin/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/sr@latin/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/sv/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ta/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/te/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/tg/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/th/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/tr/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/tt/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/ug/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/uk/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/uz/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/uz@cyrillic/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/vi/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/wa/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/xh/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/zh_CN/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/zh_HK/LC_MESSAGES/kwindowsystem6_qt.qm
share/locale/zh_TW/LC_MESSAGES/kwindowsystem6_qt.qm


[FILE:349:patches/patch-metainfo.yaml]
--- metainfo.yaml.orig	2024-02-21 11:27:59 UTC
+++ metainfo.yaml
@@ -7,6 +7,9 @@ platforms:
       note: Only platform X11 is supported
     - name: FreeBSD
       note: Only platform X11 is supported
+    - name: DragonFly
+    - name: NetBSD
+    - name: MidnightBSD
     - name: macOS
       note: Not all features supported
     - name: Windows

