# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		python-numpy
VERSION=		2.3.5
KEYWORDS=		python
VARIANTS=		v13 v14
SDESC[v13]=		Array computing for Python (3.13)
SDESC[v14]=		Array computing for Python (3.14)
HOMEPAGE=		https://numpy.org
CONTACT=		Python_Automaton[python@ironwolf.systems]

DOWNLOAD_GROUPS=	main
SITES[main]=		PYPI/n/numpy
DISTFILE[1]=		numpy-2.3.5.tar.gz:main
DIST_SUBDIR=		python-src
DF_INDEX=		1
SPKGS[v13]=		single
SPKGS[v14]=		single

OPTIONS_AVAILABLE=	PY313 PY314
OPTIONS_STANDARD=	none
VOPTS[v13]=		PY313=ON PY314=OFF
VOPTS[v14]=		PY313=OFF PY314=ON

BUILD_DEPENDS=		openblas:dev:std
BUILDRUN_DEPENDS=	openblas:primary:std

USES=			cpe pkgconfig c++:single

DISTNAME=		numpy-2.3.5

LICENSE=		BSD3CLAUSE:single
LICENSE_FILE=		BSD3CLAUSE:{{WRKSRC}}/LICENSE.txt
LICENSE_SCHEME=		solo

CPE_PRODUCT=		numpy
CPE_VENDOR=		numpy
GENERATED=		yes

[PY313].BUILD_DEPENDS_ON=		python-meson-python:single:v13
					python-Cython:single:v13
[PY313].USES_ON=			python:v13,pep517

[PY314].BUILD_DEPENDS_ON=		python-meson-python:single:v14
					python-Cython:single:v14
[PY314].USES_ON=			python:v14,pep517

[FILE:454:descriptions/desc.single]
NumPy is the fundamental package for scientific computing in Python. It is
a Python library that provides a multidimensional array object, various
derived objects (such as masked arrays and matrices), and an assortment of
routines for fast operations on arrays, including mathematical, logical,
shape manipulation, sorting, selecting, I/O, discrete Fourier transforms,
basic linear algebra, basic statistical operations, random simulation and
much more.


[FILE:108:distinfo]
784db1dcdab56bf0517743e746dfb0f885fc68d948aba86eeec2cba234bdf1c0     20584950 python-src/numpy-2.3.5.tar.gz


[FILE:1277:patches/patch-numpy_core_include_numpy_npy__math.h]
--- numpy/_core/include/numpy/npy_math.h.orig	2024-12-21 18:26:32 UTC
+++ numpy/_core/include/numpy/npy_math.h
@@ -288,7 +288,11 @@ NPY_INPLACE npy_longdouble npy_tanl(npy_
 NPY_INPLACE npy_longdouble npy_expl(npy_longdouble x);
 NPY_INPLACE npy_longdouble npy_sqrtl(npy_longdouble x);
 NPY_INPLACE npy_longdouble npy_hypotl(npy_longdouble x, npy_longdouble y);
+#if defined(__NetBSD__)
+#define npy_log2l __builtin_log2l
+#else
 NPY_INPLACE npy_longdouble npy_log2l(npy_longdouble x);
+#endif
 NPY_INPLACE npy_longdouble npy_atan2l(npy_longdouble x, npy_longdouble y);
 NPY_INPLACE npy_longdouble npy_powl(npy_longdouble x, npy_longdouble y);
 NPY_INPLACE npy_longdouble npy_modfl(npy_longdouble x, npy_longdouble* y);
@@ -306,14 +310,22 @@ NPY_INPLACE npy_longdouble npy_modfl(npy
 #define npy_cbrtl cbrtl
 #define npy_log10l log10l
 #define npy_logl logl
+#if defined(__NetBSD__)
+#define npy_expm1l expm1
+#else
 #define npy_expm1l expm1l
+#endif
 #define npy_asinl asinl
 #define npy_acosl acosl
 #define npy_atanl atanl
 #define npy_asinhl asinhl
 #define npy_acoshl acoshl
 #define npy_atanhl atanhl
+#if defined(__NetBSD__)
+#define npy_log1pl log1p
+#else
 #define npy_log1pl log1pl
+#endif
 #define npy_exp2l exp2l
 #define npy_fmodl fmodl
 #define npy_frexpl frexpl

