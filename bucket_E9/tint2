# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		tint2
VERSION=		17.1.3
REVISION=		2
KEYWORDS=		x11 deskutils
VARIANTS=		std
SDESC[std]=		Lightweight panel/taskbar/systray/clock
HOMEPAGE=		https://gitlab.com/o9000/tint2
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITLAB/nick87720z:tint2:v17.1.3
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			examples
			docs
			nls
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		imlib2:dev:std
			startup-notification:dev:std
BUILDRUN_DEPENDS=	imlib2:primary:std
			harfbuzz:dev:std
			startup-notification:primary:std

USES=			cmake pkgconfig gnome-icons:primary
			desktop-utils:primary mime-info:primary
GNOME_COMPONENTS=	gtk3 librsvg
XORG_COMPONENTS=	x11 xcomposite xdamage xfixes xinerama xrandr
			xrender

DISTNAME=		tint2-v17.1.3

LICENSE=		GPLv2:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv2:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/main.c
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		x11/tint

INSTALL_REQ_TOOLCHAIN=	yes

LDFLAGS=		-lm
CMAKE_ARGS=		-DCMAKE_POLICY_VERSION_MINIMUM=3.5
VAR_OPSYS[netbsd]=	CMAKE_ARGS=-DENABLE_BATTERY:BOOL=OFF

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/tint2*

[FILE:556:descriptions/desc.primary]
Tint is a simple panel/taskbar/systray intentionally made for openbox3, but
should also work with other window managers.

The goal is to keep a clean and unintrusive look with lightweight code and
compliance with freedesktop specifications.

Tint taskbar features
    * color/transparency on font, icon, border and background
    * customize mouse event
    * drag and drop task between desktop and switch desktop

Tint panel features
    * clock with font, color and transparency
    * multi-monitor : panel position adjust to monitor, taskbar by monitor


[FILE:110:distinfo]
0a48a36a20498499d6369678e1fb7fb99fb4786e1604108d3abd327973276f81       574023 nick87720z-tint2-v17.1.3.tar.gz


[FILE:601:manifests/plist.primary]
bin/
 tint2
 tint2-send
 tint2conf
etc/xdg/tint2/tint2rc
share/applications/
 tint2.desktop
 tint2conf.desktop
share/icons/hicolor/scalable/apps/
 tint2.svg
 tint2conf.svg
share/mime/packages/tint2conf.xml
share/tint2/
 default_icon.png
 horizontal-dark-opaque.tint2rc
 horizontal-dark-transparent.tint2rc
 horizontal-icon-only.tint2rc
 horizontal-light-opaque.tint2rc
 horizontal-light-transparent.tint2rc
 horizontal-text-only.tint2rc
 vertical-dark-opaque.tint2rc
 vertical-dark-transparent.tint2rc
 vertical-light-opaque.tint2rc
 vertical-light-transparent.tint2rc
 vertical-neutral-icons.tint2rc


[FILE:216:manifests/plist.docs]
share/doc/tint2/
 AUTHORS
 ChangeLog
 README.md
 tint2.md
share/doc/tint2/html/
 manual.html
 readme.html
share/doc/tint2/html/images/
 panel_padding.jpg
 panel_size_margin.jpg
 task_padding.jpg
 taskbar_padding.jpg


[FILE:287:manifests/plist.nls]
share/locale/bs/LC_MESSAGES/tint2conf.mo
share/locale/es/LC_MESSAGES/tint2conf.mo
share/locale/fr/LC_MESSAGES/tint2conf.mo
share/locale/hr/LC_MESSAGES/tint2conf.mo
share/locale/pl/LC_MESSAGES/tint2conf.mo
share/locale/ru/LC_MESSAGES/tint2conf.mo
share/locale/sr/LC_MESSAGES/tint2conf.mo


[FILE:23:manifests/plist.man]
share/man/man1/tint2.1


[FILE:511:patches/patch-CMakeLists.txt]
--- CMakeLists.txt.orig	2022-03-24 09:49:12 UTC
+++ CMakeLists.txt
@@ -176,6 +176,8 @@ if( ENABLE_BATTERY )
     set( SOURCES ${SOURCES} src/battery/freebsd.c)
   elseif(CMAKE_SYSTEM_NAME STREQUAL "FreeBSD")
     set( SOURCES ${SOURCES} src/battery/freebsd.c)
+  elseif(CMAKE_SYSTEM_NAME STREQUAL "MidnightBSD")
+    set( SOURCES ${SOURCES} src/battery/freebsd.c)
   elseif(CMAKE_SYSTEM_NAME STREQUAL "OpenBSD")
     set( SOURCES ${SOURCES} src/battery/openbsd.c)
   elseif(CMAKE_SYSTEM_NAME STREQUAL "NetBSD")


[FILE:320:patches/patch-src_tint2conf_po_CMakeLists.txt]
Make it possible to toggle NLS.

--- src/tint2conf/po/CMakeLists.txt.orig	2022-03-24 09:49:12 UTC
+++ src/tint2conf/po/CMakeLists.txt
@@ -1,4 +1,4 @@
-include(FindGettext)
+find_package(Gettext)
 if (GETTEXT_FOUND)
     set(GETTEXT_PACKAGE tint2conf)
     file(GLOB POTFILES RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} "*.po")

