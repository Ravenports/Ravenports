# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		python-pytest-runner
VERSION=		5.2
KEYWORDS=		python
VARIANTS=		py27 py38 py37
SDESC[py37]=		Scripts to add setup.py test support (PY 37)
SDESC[py38]=		Scripts to add setup.py test support (PY 38)
SDESC[py27]=		Scripts to add setup.py test support (PY 27)
HOMEPAGE=		https://github.com/pytest-dev/pytest-runner/
CONTACT=		Python_Automaton[python@ironwolf.systems]

DOWNLOAD_GROUPS=	main
SITES[main]=		PYPI/p/pytest-runner
DISTFILE[1]=		pytest-runner-5.2.tar.gz:main
DF_INDEX=		1
SPKGS[py37]=		single
SPKGS[py38]=		single
SPKGS[py27]=		single

OPTIONS_AVAILABLE=	PY27 PY38 PY37
OPTIONS_STANDARD=	none
VOPTS[py37]=		PY27=OFF PY38=OFF PY37=ON
VOPTS[py38]=		PY27=OFF PY38=ON PY37=OFF
VOPTS[py27]=		PY27=ON PY38=OFF PY37=OFF

BUILDRUN_DEPENDS=	python-setuptools_scm:single:python_used

DISTNAME=		pytest-runner-5.2

GENERATED=		yes

INVALID_RPATH=		yes

[PY37].USES_ON=				python:py37

[PY38].USES_ON=				python:py38

[PY27].USES_ON=				python:py27

[FILE:4116:descriptions/desc.single]
.. image:: https://img.shields.io/pypi/v/pytest-runner.svg
   :target: https://pypi.org/project/pytest-runner

.. image:: https://img.shields.io/pypi/pyversions/pytest-runner.svg

.. image::
https://img.shields.io/travis/pytest-dev/pytest-runner/master.svg
   :target: https://travis-ci.org/pytest-dev/pytest-runner

.. image:: https://img.shields.io/badge/code%20style-black-000000.svg
   :target: https://github.com/ambv/black
   :alt: Code style: Black

.. .. image::
https://img.shields.io/appveyor/ci/pytest-dev/pytest-runner/master.svg
..    :target:
https://ci.appveyor.com/project/pytest-dev/pytest-runner/branch/master

.. .. image::
https://readthedocs.org/projects/pytest-runner/badge/?version=latest
..    :target: https://pytest-runner.readthedocs.io/en/latest/?badge=latest

Setup scripts can use pytest-runner to add setup.py test support for pytest
runner.

Deprecation Notice
==================

pytest-runner depends on deprecated features of setuptools and relies on
features that break security
mechanisms in pip. For example 'setup_requires' and 'tests_require' bypass
``pip --require-hashes``.
See also https://github.com/pypa/setuptools/issues/1684.

It is recommended that you:

- Remove 'pytest-runner' from your 'setup_requires', preferably removing
the `setup_requires` option.
- Remove 'pytest' and any other testing requirements from 'tests_require',
preferably removing the `setup_requires` option.
- Select a tool to bootstrap and then run tests such as tox

Usage
=====

- Add 'pytest-runner' to your 'setup_requires'. Pin to '>=2.0,<3dev' (or
  similar) to avoid pulling in incompatible versions.
- Include 'pytest' and any other testing requirements to 'tests_require'.
- Invoke tests with ``setup.py pytest``.
- Pass ``--index-url`` to have test requirements downloaded from an
alternate
  index URL (unnecessary if specified for easy_install in setup.cfg).
- Pass additional py.test command-line options using ``--addopts``.
- Set permanent options for the ``python setup.py pytest`` command (like
``index-url``)
  in the ``[pytest]`` section of ``setup.cfg``.
- Set permanent options for the ``py.test`` run (like ``addopts`` or
``pep8ignore``) in the ``[pytest]``
  section of ``pytest.ini`` or ``tox.ini`` or put them in the
``[tool:pytest]``
  section of ``setup.cfg``. See `pytest issue 567
  <https://github.com/pytest-dev/pytest/issues/567>`_.
- Optionally, set ``test=pytest`` in the ``[aliases]`` section of
``setup.cfg``
  to cause ``python setup.py test`` to invoke pytest.

Example
=======

The most simple usage looks like this in setup.py::

    setup(
        setup_requires=[
            'pytest-runner',
        ],
        tests_require=[
            'pytest',
        ],
    )

Additional dependencies require to run the tests (e.g. mock or pytest
plugins) may be added to tests_require and will be downloaded and
required by the session before invoking pytest.

Follow `this search on github
<https://github.com/search?utf8=%E2%9C%93&q=filename%3Asetup.py+pytest-runn
er&type=Code&ref=searchresults>`_
for examples of real-world usage.

Standalone Example
==================

This technique is deprecated - if you have standalone scripts
you wish to invoke with dependencies, `use rwt
<https://pypi.org/project/rwt>`_.

Although ``pytest-runner`` is typically used to add pytest test
runner support to maintained packages, ``pytest-runner`` may
also be used to create standalone tests. Consider `this example
failure <https://gist.github.com/jaraco/d979a558bc0bf2194c23>`_,
reported in `jsonpickle #117
<https://github.com/jsonpickle/jsonpickle/issues/117>`_
or `this MongoDB test
<https://gist.github.com/jaraco/0b9e482f5c0a1300dc9a>`_
demonstrating a technique that works even when dependencies
are required in the test.

Either example file may be cloned or downloaded and simply run on
any system with Python and Setuptools. It will download the
specified dependencies and run the tests. Afterward, the the
cloned directory can be removed and with it all trace of
invoking the test. No other dependencies are needed and no
system configuration is altered.



[FILE:103:distinfo]
96c7e73ead7b93e388c5d614770d2bae6526efd997757d3543fe17b557a0942b        15534 pytest-runner-5.2.tar.gz

