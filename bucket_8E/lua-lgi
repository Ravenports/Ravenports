# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		lua-lgi
VERSION=		0.9.2
KEYWORDS=		devel
VARIANTS=		lua52 lua53
SDESC[lua52]=		Bindings using gobject-introspection for Lua 5.2
SDESC[lua53]=		Bindings using gobject-introspection for Lua 5.3
HOMEPAGE=		https://github.com/pavouk/lgi
CONTACT=		Michael_Reim[kraileth@elderlinux.org]

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/pavouk:lgi:0.9.2
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[lua52]=		single
SPKGS[lua53]=		single

OPTIONS_AVAILABLE=	LUA52 LUA53
OPTIONS_STANDARD=	none
VOPTS[lua52]=		LUA52=ON LUA53=OFF
VOPTS[lua53]=		LUA52=OFF LUA53=ON

BUILDRUN_DEPENDS=	gobject-introspection:single:standard

USES=			gmake pkgconfig

FPC_EQUIVALENT=		devel/lua-lgi

MAKE_ARGS=		PREFIX="{{PREFIX}}"
			LUA_LIBDIR="{{LUA_MODLIBDIR}}"
			LUA_INCDIR="{{LUA_INCDIR}}"
			LUA_VERSION="{{LUA_VER}}"
			CORE="corelgilua{{LUA_VER_STR}}.so"
			LUA="{{LUA_CMD}}"
MAKE_ENV=		LUA_CFLAGS="-I{{LUA_INCDIR}}"

[LUA52].DESCRIPTION=			Build with Lua 5.2
[LUA52].USES_ON=			lua:5.2

[LUA53].DESCRIPTION=			Build with Lua 5.3
[LUA53].USES_ON=			lua:5.3

post-patch:
	${REINPLACE_CMD} -e 's/51/${LUA_VER_STR}/g' \
		${WRKSRC}/lgi/core.c ${WRKSRC}/lgi/core.lua

post-install:
	${STRIP_CMD} ${STAGEDIR}${LUA_MODLIBDIR}/lgi/*.so

[FILE:291:descriptions/desc.single]
LGI is gobject-introspection based dynamic Lua binding to GObject based 
libraries. It allows using GObject-based libraries directly from Lua.

LGI is tested and compatible with standard Lua 5.1, Lua 5.2, Lua 5.3 and 
LuaJIT2. Compatibility with other Lua implementations is not tested yet.


[FILE:102:distinfo]
cfc4105482b4730b3a40097c9d9e7e35c46df2fb255370bdeb2f45a886548c4f       291463 pavouk-lgi-0.9.2.tar.gz


[FILE:569:manifests/plist.single]
%%LUA_MODLIBDIR%%/lgi/corelgilua%%LUA_VER_STR%%.so
%%LUA_MODSHAREDIR%%/lgi.lua
%%LUA_MODSHAREDIR%%/lgi/
 class.lua
 component.lua
 core.lua
 enum.lua
 ffi.lua
 init.lua
 log.lua
 namespace.lua
 package.lua
 record.lua
 version.lua
%%LUA_MODSHAREDIR%%/lgi/override/
 Clutter.lua
 GLib-Bytes.lua
 GLib-Error.lua
 GLib-Markup.lua
 GLib-Source.lua
 GLib-Timer.lua
 GLib-Variant.lua
 GLib.lua
 GObject-Closure.lua
 GObject-Object.lua
 GObject-Type.lua
 GObject-Value.lua
 Gdk.lua
 Gio-DBus.lua
 Gio.lua
 GooCanvas.lua
 Gst.lua
 Gtk.lua
 Pango.lua
 PangoCairo.lua
 cairo.lua

