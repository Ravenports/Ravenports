# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		jpeg-turbo
VERSION=		3.0.1
KEYWORDS=		graphics
VARIANTS=		standard
SDESC[standard]=	SIMD-accelerated JPEG codec which replaces libjpeg
HOMEPAGE=		https://libjpeg-turbo.virtualgl.org/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		SF/libjpeg-turbo/3.0.1
DISTFILE[1]=		libjpeg-turbo-3.0.1.tar.gz:main
DF_INDEX=		1
SPKGS[standard]=	complete
			primary
			tools
			dev
			man
			docs

OPTIONS_AVAILABLE=	NASM
OPTIONS_STANDARD=	NASM
OPT_ON[x86_64]=		NASM
OPT_ON[i386]=		NASM

EXRUN[tools]=		jpeg-turbo:primary:standard

USES=			cpe cmake

DISTNAME=		libjpeg-turbo-3.0.1

LICENSE=		BSD3CLAUSE:primary CUSTOM1:primary ZLIB:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_NAME=		CUSTOM1:"Independent JPEG Group License"
LICENSE_FILE=		CUSTOM1:{{WRKDIR}}/IJGL
			BSD3CLAUSE:{{WRKDIR}}/BSD
			ZLIB:{{WRKDIR}}/ZLIB
LICENSE_AWK=		TERMS:"^The Modified"
			ZLIB:"^; ==========="
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/LICENSE.md
			ZLIB:{{WRKSRC}}/simd/nasm/jsimdext.inc
LICENSE_SCHEME=		multi

CPE_PRODUCT=		libjpeg-turbo
CPE_VENDOR=		libjpeg-turbo
FPC_EQUIVALENT=		graphics/jpeg-turbo

SOVERSION=		8.3.2
PLIST_SUB=		TURBOVERSION=0.3.0
			TURBOMAJOR=0

CMAKE_ARGS=		-DWITH_JPEG8=ON

[NASM].DESCRIPTION=			Use nasm to construct optimized assembly
[NASM].BUILD_DEPENDS_ON=		nasm:primary:standard

post-install:
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/bin/*
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/lib*.so

post-extract:
	${AWK} '/^The Modified /,/^Why Three Licenses/' \
		${WRKSRC}/LICENSE.md > ${WRKDIR}/BSD
	${AWK} '/^LEGAL ISSUES/,/^REFERENCES/' \
		${WRKSRC}/README.ijg > ${WRKDIR}/IJGL

[FILE:902:descriptions/desc.primary]
libjpeg-turbo is a high-speed version of libjpeg for x86 and x86-64
processors which uses SIMD instructions (MMX, SSE2, etc.) to accelerate
baseline JPEG compression and decompression.  libjpeg-turbo is generally
2-4x as fast as the unmodified version of libjpeg, all else being equal.

libjpeg-turbo was originally based on libjpeg/SIMD by Miyasaka Masaru,
but the TigerVNC and VirtualGL projects made numerous enhancements to
the codec, including improved support for Mac OS X, 64-bit support,
support for 32-bit and big endian pixel formats (RGBA, ABGR, etc.),
accelerated Huffman encoding/decoding, and various bug fixes.
The goal was to produce a fully open source codec that could replace
the partially closed source TurboJPEG/IPP codec used by VirtualGL and
TurboVNC. libjpeg-turbo generally achieves 80-120% of the performance
of TurboJPEG/IPP. It is faster in some areas but slower in others.


[FILE:350:descriptions/desc.tools]
libjpeg-turbo is a high-speed version of libjpeg for x86 and x86-64
processors which uses SIMD instructions (MMX, SSE2, etc.) to accelerate
baseline JPEG compression and decompression.  libjpeg-turbo is generally
2-4x as fast as the unmodified version of libjpeg, all else being equal.

This package contains command line tools that use the library.


[FILE:105:distinfo]
22429507714ae147b3acacd299e82099fce5d9f456882fc28e252e4579ba2a75      2800900 libjpeg-turbo-3.0.1.tar.gz


[FILE:121:manifests/plist.primary]
lib/
 libjpeg.so.%%SOMAJOR%%
 libjpeg.so.%%SOVERSION%%
 libturbojpeg.so.%%TURBOMAJOR%%
 libturbojpeg.so.%%TURBOVERSION%%


[FILE:58:manifests/plist.tools]
bin/
 cjpeg
 djpeg
 jpegtran
 rdjpgcom
 tjbench
 wrjpgcom


[FILE:321:manifests/plist.dev]
include/
 jconfig.h
 jerror.h
 jmorecfg.h
 jpeglib.h
 turbojpeg.h
lib/
 libjpeg.a
 libjpeg.so
 libturbojpeg.a
 libturbojpeg.so
lib/cmake/libjpeg-turbo/
 libjpeg-turboConfig.cmake
 libjpeg-turboConfigVersion.cmake
 libjpeg-turboTargets-release.cmake
 libjpeg-turboTargets.cmake
lib/pkgconfig/
 libjpeg.pc
 libturbojpeg.pc


[FILE:85:manifests/plist.man]
share/man/man1/
 cjpeg.1.gz
 djpeg.1.gz
 jpegtran.1.gz
 rdjpgcom.1.gz
 wrjpgcom.1.gz


[FILE:132:manifests/plist.docs]
share/doc/jpeg-turbo/
 LICENSE.md
 README.ijg
 README.md
 example.c
 libjpeg.txt
 structure.txt
 tjexample.c
 usage.txt
 wizard.txt

