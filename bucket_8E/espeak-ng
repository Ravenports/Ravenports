# Buildsheet autogenerated by ravenadm tool -- Do not edit.

NAMEBASE=		espeak-ng
VERSION=		1.51.1
KEYWORDS=		audio
VARIANTS=		std
SDESC[std]=		Open source speech synthesizer
HOMEPAGE=		https://github.com/espeak-ng/espeak-ng/
CONTACT=		nobody

DOWNLOAD_GROUPS=	main
SITES[main]=		GITHUB/espeak-ng:espeak-ng:1.51.1
DISTFILE[1]=		generated:main
DF_INDEX=		1
SPKGS[std]=		set
			primary
			dev
			tools
			docs
			man

OPTIONS_AVAILABLE=	none
OPTIONS_STANDARD=	none

BUILD_DEPENDS=		ruby-ronn-ng:single:ruby_default
			pcaudiolib:dev:std
BUILDRUN_DEPENDS=	pcaudiolib:primary:std
EXRUN[tools]=		primary

USES=			autoreconf gmake libtool:build c++:primary

LICENSE=		GPLv3+:primary
LICENSE_TERMS=		primary:{{WRKDIR}}/TERMS
LICENSE_FILE=		GPLv3+:{{WRKSRC}}/COPYING
LICENSE_AWK=		TERMS:"^$$"
LICENSE_SOURCE=		TERMS:{{WRKSRC}}/src/speak-ng.c
LICENSE_SCHEME=		solo

FPC_EQUIVALENT=		audio/espeak-ng

MUST_CONFIGURE=		gnu
CONFIGURE_ARGS=		--with-pcaudiolib

SOVERSION=		1.1.51

post-install:
	${MKDIR} ${STAGEDIR}${STD_DOCDIR}
	cd ${WRKSRC}/docs && ${COPYTREE_SHARE} . ${STAGEDIR}${STD_DOCDIR}
	${LN} -sf libespeak-ng.so ${STAGEDIR}${PREFIX}/lib/libespeak.so
	${LN} -sf espeak-ng.1 ${STAGEDIR}${PREFIX}/share/man/man1/espeak.1
	${STRIP_CMD} ${STAGEDIR}${PREFIX}/lib/libespeak-ng.so*

pre-configure:
	${REINPLACE_CMD} -e 's|%%DATADIR%%|${PREFIX}/share/${NAMEBASE}|' \
		${WRKSRC}/Makefile.am ${WRKSRC}/src/libespeak-ng/speech.h

[FILE:437:descriptions/desc.primary]
eSpeak is a compact open source software speech synthesizer for English
and other languages.

eSpeak produces good quality English speech. It uses a different
synthesis method from other open source TTS engines, and sounds quite
different. It's perhaps not as natural or "smooth", but I find the
articulation clearer and easier to listen to for long periods.
It can run as a command line program to speak text from a file or
from stdin.


[FILE:53:descriptions/desc.tools]
This package contains the speak and espeak programs.


[FILE:112:distinfo]
0823df5648659dcb67915baaf99118dcc8853639f47cadaa029c174bdd768d20     14260107 espeak-ng-espeak-ng-1.51.1.tar.gz


[FILE:5502:manifests/plist.primary]
lib/
 libespeak-ng.so.%%SOMAJOR%%
 libespeak-ng.so.%%SOVERSION%%
share/espeak-ng/espeak-ng-data/
 af_dict
 am_dict
 an_dict
 ar_dict
 as_dict
 az_dict
 ba_dict
 be_dict
 bg_dict
 bn_dict
 bpy_dict
 bs_dict
 ca_dict
 chr_dict
 cmn_dict
 cs_dict
 cv_dict
 cy_dict
 da_dict
 de_dict
 el_dict
 en_dict
 eo_dict
 es_dict
 et_dict
 eu_dict
 fa_dict
 fi_dict
 fr_dict
 ga_dict
 gd_dict
 gn_dict
 grc_dict
 gu_dict
 hak_dict
 haw_dict
 he_dict
 hi_dict
 hr_dict
 ht_dict
 hu_dict
 hy_dict
 ia_dict
 id_dict
 intonations
 io_dict
 is_dict
 it_dict
 ja_dict
 jbo_dict
 ka_dict
 kk_dict
 kl_dict
 kn_dict
 ko_dict
 kok_dict
 ku_dict
 ky_dict
 la_dict
 lb_dict
 lfn_dict
 lt_dict
 lv_dict
 mi_dict
 mk_dict
 ml_dict
 mr_dict
 ms_dict
 mt_dict
 my_dict
 nci_dict
 ne_dict
 nl_dict
 no_dict
 nog_dict
 om_dict
 or_dict
 pa_dict
 pap_dict
 phondata
 phondata-manifest
 phonindex
 phontab
 piqd_dict
 pl_dict
 pt_dict
 py_dict
 qdb_dict
 qu_dict
 quc_dict
 qya_dict
 ro_dict
 ru_dict
 sd_dict
 shn_dict
 si_dict
 sjn_dict
 sk_dict
 sl_dict
 smj_dict
 sq_dict
 sr_dict
 sv_dict
 sw_dict
 ta_dict
 te_dict
 th_dict
 tk_dict
 tn_dict
 tr_dict
 tt_dict
 ug_dict
 uk_dict
 ur_dict
 uz_dict
 vi_dict
 yue_dict
share/espeak-ng/espeak-ng-data/lang/
 eu
 ko
 qu
share/espeak-ng/espeak-ng-data/lang/aav/
 vi
 vi-VN-x-central
 vi-VN-x-south
share/espeak-ng/espeak-ng-data/lang/art/
 eo
 ia
 io
 jbo
 lfn
 piqd
 py
 qdb
 qya
 sjn
share/espeak-ng/espeak-ng-data/lang/azc/nci
share/espeak-ng/espeak-ng-data/lang/bat/
 lt
 ltg
 lv
share/espeak-ng/espeak-ng-data/lang/bnt/
 sw
 tn
share/espeak-ng/espeak-ng-data/lang/ccs/ka
share/espeak-ng/espeak-ng-data/lang/cel/
 cy
 ga
 gd
share/espeak-ng/espeak-ng-data/lang/cus/om
share/espeak-ng/espeak-ng-data/lang/dra/
 kn
 ml
 ta
 te
share/espeak-ng/espeak-ng-data/lang/esx/kl
share/espeak-ng/espeak-ng-data/lang/gmq/
 da
 is
 nb
 sv
share/espeak-ng/espeak-ng-data/lang/gmw/
 af
 de
 en
 en-029
 en-GB-scotland
 en-GB-x-gbclan
 en-GB-x-gbcwmd
 en-GB-x-rp
 en-US
 en-US-nyc
 lb
 nl
share/espeak-ng/espeak-ng-data/lang/grk/
 el
 grc
share/espeak-ng/espeak-ng-data/lang/inc/
 as
 bn
 bpy
 gu
 hi
 kok
 mr
 ne
 or
 pa
 sd
 si
 ur
share/espeak-ng/espeak-ng-data/lang/ine/
 hy
 hyw
 sq
share/espeak-ng/espeak-ng-data/lang/ira/
 fa
 fa-Latn
 ku
share/espeak-ng/espeak-ng-data/lang/iro/chr
share/espeak-ng/espeak-ng-data/lang/itc/la
share/espeak-ng/espeak-ng-data/lang/jpx/ja
share/espeak-ng/espeak-ng-data/lang/map/haw
share/espeak-ng/espeak-ng-data/lang/myn/quc
share/espeak-ng/espeak-ng-data/lang/poz/
 id
 mi
 ms
share/espeak-ng/espeak-ng-data/lang/roa/
 an
 ca
 es
 es-419
 fr
 fr-BE
 fr-CH
 ht
 it
 pap
 pt
 pt-BR
 ro
share/espeak-ng/espeak-ng-data/lang/sai/gn
share/espeak-ng/espeak-ng-data/lang/sem/
 am
 ar
 he
 mt
share/espeak-ng/espeak-ng-data/lang/sit/
 cmn
 cmn-Latn-pinyin
 hak
 my
 yue
 yue-Latn-jyutping
share/espeak-ng/espeak-ng-data/lang/tai/
 shn
 th
share/espeak-ng/espeak-ng-data/lang/trk/
 az
 ba
 cv
 kk
 ky
 nog
 tk
 tr
 tt
 ug
 uz
share/espeak-ng/espeak-ng-data/lang/urj/
 et
 fi
 hu
 smj
share/espeak-ng/espeak-ng-data/lang/zle/
 be
 ru
 ru-LV
 uk
share/espeak-ng/espeak-ng-data/lang/zls/
 bg
 bs
 hr
 mk
 sl
 sr
share/espeak-ng/espeak-ng-data/lang/zlw/
 cs
 pl
 sk
share/espeak-ng/espeak-ng-data/mbrola_ph/
 af1_phtrans
 ar1_phtrans
 ar2_phtrans
 ca_phtrans
 cmn_phtrans
 cr1_phtrans
 cs_phtrans
 de2_phtrans
 de4_phtrans
 de6_phtrans
 de8_phtrans
 ee1_phtrans
 en1_phtrans
 es3_phtrans
 es4_phtrans
 es_phtrans
 fr_phtrans
 gr1_phtrans
 gr2_phtrans
 grc-de6_phtrans
 he_phtrans
 hn1_phtrans
 hu1_phtrans
 ic1_phtrans
 id1_phtrans
 in_phtrans
 ir1_phtrans
 it1_phtrans
 it3_phtrans
 jp_phtrans
 la1_phtrans
 lt_phtrans
 ma1_phtrans
 mx1_phtrans
 mx2_phtrans
 nl_phtrans
 nz1_phtrans
 pl1_phtrans
 pt1_phtrans
 ptbr4_phtrans
 ptbr_phtrans
 ro1_phtrans
 sv2_phtrans
 sv_phtrans
 tl1_phtrans
 tr1_phtrans
 us3_phtrans
 us_phtrans
 vz_phtrans
share/espeak-ng/espeak-ng-data/voices/!v/
 Alex
 Alicia
 Andrea
 Andy
 Annie
 AnxiousAndy
 Demonic
 Denis
 Diogo
 Gene
 Gene2
 Henrique
 Hugo
 Jacky
 Lee
 Marco
 Mario
 Michael
 Mike
 Mr serious
 Nguyen
 RicishayMax
 RicishayMax2
 RicishayMax3
 Storm
 Tweaky
 UniRobot
 adam
 anika
 anikaRobot
 announcer
 antonio
 aunty
 belinda
 benjamin
 boris
 caleb
 croak
 david
 ed
 edward
 edward2
 f1
 f2
 f3
 f4
 f5
 fast
 grandma
 grandpa
 gustave
 iven
 iven2
 iven3
 iven4
 john
 kaukovalta
 klatt
 klatt2
 klatt3
 klatt4
 klatt5
 klatt6
 linda
 m1
 m2
 m3
 m4
 m5
 m6
 m7
 m8
 marcelo
 max
 michel
 miguel
 norbert
 pablo
 paul
 pedro
 quincy
 rob
 robert
 robosoft
 robosoft2
 robosoft3
 robosoft4
 robosoft5
 robosoft6
 robosoft7
 robosoft8
 sandro
 shelby
 steph
 steph2
 steph3
 travis
 victor
 whisper
 whisperf
 zac
share/espeak-ng/espeak-ng-data/voices/mb/
 mb-af1
 mb-af1-en
 mb-ar1
 mb-ar2
 mb-br1
 mb-br2
 mb-br3
 mb-br4
 mb-ca1
 mb-ca2
 mb-cn1
 mb-cr1
 mb-cz1
 mb-cz2
 mb-de1
 mb-de1-en
 mb-de2
 mb-de2-en
 mb-de3
 mb-de3-en
 mb-de4
 mb-de4-en
 mb-de5
 mb-de5-en
 mb-de6
 mb-de6-en
 mb-de6-grc
 mb-de7
 mb-de8
 mb-ee1
 mb-en1
 mb-es1
 mb-es2
 mb-es3
 mb-es4
 mb-fr1
 mb-fr1-en
 mb-fr2
 mb-fr3
 mb-fr4
 mb-fr4-en
 mb-fr5
 mb-fr6
 mb-fr7
 mb-gr1
 mb-gr2
 mb-gr2-en
 mb-hb1
 mb-hb2
 mb-hu1
 mb-hu1-en
 mb-ic1
 mb-id1
 mb-in1
 mb-in2
 mb-ir1
 mb-it1
 mb-it2
 mb-it3
 mb-it4
 mb-jp1
 mb-jp2
 mb-jp3
 mb-la1
 mb-lt1
 mb-lt2
 mb-ma1
 mb-mx1
 mb-mx2
 mb-nl1
 mb-nl2
 mb-nl2-en
 mb-nl3
 mb-nz1
 mb-pl1
 mb-pl1-en
 mb-pt1
 mb-ro1
 mb-ro1-en
 mb-sw1
 mb-sw1-en
 mb-sw2
 mb-sw2-en
 mb-tl1
 mb-tr1
 mb-tr2
 mb-us1
 mb-us2
 mb-us3
 mb-vz1


[FILE:163:manifests/plist.dev]
include/espeak/speak_lib.h
include/espeak-ng/
 encoding.h
 espeak_ng.h
 speak_lib.h
lib/
 libespeak-ng.a
 libespeak-ng.so
 libespeak.so
lib/pkgconfig/espeak-ng.pc


[FILE:175:manifests/plist.tools]
bin/
 espeak
 espeak-ng
 speak
 speak-ng
share/vim/addons/ftdetect/espeakfiletype.vim
share/vim/addons/syntax/
 espeaklist.vim
 espeakrules.vim
share/vim/registry/espeak.yaml


[FILE:445:manifests/plist.docs]
share/doc/espeak-ng/
 add_language.md
 building.md
 contributing.md
 dictionary.md
 guide.md
 index.md
 integration.md
 intonation.md
 languages.md
 markup.md
 mbrola.md
 numbers.md
 phoneme_model.md
 phonemes.md
 phontab.md
 voices.md
share/doc/espeak-ng/images/
 lips.png
 sand-light.jpg
share/doc/espeak-ng/languages/gmw/
 en.md
 lb.md
share/doc/espeak-ng/languages/iro/chr.md
share/doc/espeak-ng/phonemes/
 cxs.md
 kirshenbaum.md
 xsampa.md


[FILE:51:manifests/plist.man]
share/man/man1/
 espeak-ng.1
 espeak.1
 speak-ng.1


[FILE:297:patches/patch-Makefile.am]
--- Makefile.am.orig	2022-06-21 14:53:53 UTC
+++ Makefile.am
@@ -5,7 +5,7 @@ PREFIX=@prefix@
 BINDIR=@bindir@
 INCDIR=@includedir@/espeak
 LIBDIR=@libdir@
-DATADIR=$(PREFIX)/share/espeak-ng-data
+DATADIR=%%DATADIR%%/espeak-ng-data
 VIMDIR=$(PREFIX)/share/vim
 
 pkgconfigdir = $(libdir)/pkgconfig


[FILE:793:patches/patch-configure.ac]
--- configure.ac.orig	2022-06-21 14:53:53 UTC
+++ configure.ac
@@ -134,6 +134,25 @@ else
 fi
 
 dnl ================================================================
+dnl DragonFly check.
+dnl ================================================================
+
+AC_COMPILE_IFELSE([AC_LANG_SOURCE([[
+		   #if ! defined(__DragonFly__)
+		   #error macro not defined
+		   #endif
+		   ]])], [DRAGONFLY_FOUND="yes"], [DRAGONFLY_FOUND="no"])
+
+AC_MSG_CHECKING([if targeting DragonFly])
+if test "$DRAGONFLY_FOUND" = "yes" ; then
+	AC_MSG_RESULT([-D__BSD_VISIBLE])
+	CFLAGS="$CFLAGS -D__BSD_VISIBLE"
+else
+	AC_MSG_RESULT([no])
+fi
+
+
+dnl ================================================================
 dnl FreeBSD check.
 dnl ================================================================
 


[FILE:326:patches/patch-src_include_compat_math.h]
--- src/include/compat/math.h.orig	2022-06-21 14:53:53 UTC
+++ src/include/compat/math.h
@@ -19,6 +19,8 @@
 #ifndef MATH_H_COMPAT_SHIM
 #define MATH_H_COMPAT_SHIM
 
+#define _NETBSD_SOURCE
+
 #ifdef _MSC_VER
 #define _USE_MATH_DEFINES // For M_PI, etc.
 #if _MSC_VER >= 1900 // Visual C++ 14 (Visual Studio 2015) and above...


[FILE:438:patches/patch-src_libespeak-ng_spect.c]
$NetBSD: patch-src_libespeak-ng_spect.c,v 1.1 2024/03/11 08:03:45 wiz Exp $

Fix endian.h inclusion on NetBSD

--- src/libespeak-ng/spect.c.orig	2022-06-21 14:53:53 UTC
+++ src/libespeak-ng/spect.c
@@ -25,7 +25,12 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
+
+#ifdef HAVE_SYS_ENDIAN_H
+#include <sys/endian.h>
+#else
 #include <endian.h>
+#endif
 
 #include <espeak-ng/espeak_ng.h>
 #include <espeak-ng/speak_lib.h>


[FILE:379:patches/patch-src_libespeak-ng_speech.h]
--- src/libespeak-ng/speech.h.orig	2022-06-21 14:53:53 UTC
+++ src/libespeak-ng/speech.h
@@ -56,7 +56,7 @@ extern "C"
 
 // will look for espeak_data directory here, and also in user's home directory
 #ifndef PATH_ESPEAK_DATA
-   #define PATH_ESPEAK_DATA  "/usr/share/espeak-ng-data"
+   #define PATH_ESPEAK_DATA  "%%DATADIR%%/espeak-ng-data"
 #endif
 
 void cancel_audio(void);


[FILE:580:patches/patch-src_speechPlayer_src_speechWaveGenerator.cpp]
--- src/speechPlayer/src/speechWaveGenerator.cpp.orig	2022-06-21 14:53:53 UTC
+++ src/speechPlayer/src/speechWaveGenerator.cpp
@@ -194,7 +194,7 @@ class SpeechWaveGeneratorImpl: public Sp
 	SpeechWaveGeneratorImpl(int sr): sampleRate(sr), voiceGenerator(sr), fricGenerator(), cascade(sr), parallel(sr), frameManager(NULL) {
 	}
 
-	unsigned int generate(const unsigned int sampleCount, sample* sampleBuf) {
+	unsigned int generate(const unsigned int sampleCount, ::sample* sampleBuf) {
 		if(!frameManager) return 0; 
 		double val=0;
 		for(unsigned int i=0;i<sampleCount;++i) {

